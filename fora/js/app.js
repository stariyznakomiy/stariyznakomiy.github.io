(() => {
    var __webpack_modules__ = {
        2711: function(module) {
            !function(e, t) {
                true ? module.exports = t() : 0;
            }(0, (function() {
                return function(e) {
                    function t(o) {
                        if (n[o]) return n[o].exports;
                        var i = n[o] = {
                            exports: {},
                            id: o,
                            loaded: !1
                        };
                        return e[o].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports;
                    }
                    var n = {};
                    return t.m = e, t.c = n, t.p = "dist/", t(0);
                }([ function(e, t, n) {
                    "use strict";
                    function o(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        };
                    }
                    var i = Object.assign || function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = arguments[t];
                            for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);
                        }
                        return e;
                    }, r = n(1), a = (o(r), n(6)), u = o(a), c = n(7), s = o(c), f = n(8), d = o(f), l = n(9), p = o(l), m = n(10), b = o(m), v = n(11), y = o(v), g = n(14), h = o(g), w = [], k = !1, x = {
                        offset: 120,
                        delay: 0,
                        easing: "ease",
                        duration: 400,
                        disable: !1,
                        once: !1,
                        startEvent: "DOMContentLoaded",
                        throttleDelay: 99,
                        debounceDelay: 50,
                        disableMutationObserver: !1
                    }, j = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        if (e && (k = !0), k) return w = (0, y.default)(w, x), (0, b.default)(w, x.once), 
                        w;
                    }, O = function() {
                        w = (0, h.default)(), j();
                    }, M = function() {
                        w.forEach((function(e, t) {
                            e.node.removeAttribute("data-aos"), e.node.removeAttribute("data-aos-easing"), e.node.removeAttribute("data-aos-duration"), 
                            e.node.removeAttribute("data-aos-delay");
                        }));
                    }, S = function(e) {
                        return !0 === e || "mobile" === e && p.default.mobile() || "phone" === e && p.default.phone() || "tablet" === e && p.default.tablet() || "function" == typeof e && !0 === e();
                    }, _ = function(e) {
                        x = i(x, e), w = (0, h.default)();
                        var t = document.all && !window.atob;
                        return S(x.disable) || t ? M() : (x.disableMutationObserver || d.default.isSupported() || (console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '), 
                        x.disableMutationObserver = !0), document.querySelector("body").setAttribute("data-aos-easing", x.easing), 
                        document.querySelector("body").setAttribute("data-aos-duration", x.duration), document.querySelector("body").setAttribute("data-aos-delay", x.delay), 
                        "DOMContentLoaded" === x.startEvent && [ "complete", "interactive" ].indexOf(document.readyState) > -1 ? j(!0) : "load" === x.startEvent ? window.addEventListener(x.startEvent, (function() {
                            j(!0);
                        })) : document.addEventListener(x.startEvent, (function() {
                            j(!0);
                        })), window.addEventListener("resize", (0, s.default)(j, x.debounceDelay, !0)), 
                        window.addEventListener("orientationchange", (0, s.default)(j, x.debounceDelay, !0)), 
                        window.addEventListener("scroll", (0, u.default)((function() {
                            (0, b.default)(w, x.once);
                        }), x.throttleDelay)), x.disableMutationObserver || d.default.ready("[data-aos]", O), 
                        w);
                    };
                    e.exports = {
                        init: _,
                        refresh: j,
                        refreshHard: O
                    };
                }, function(e, t) {}, , , , , function(e, t) {
                    (function(t) {
                        "use strict";
                        function n(e, t, n) {
                            function o(t) {
                                var n = b, o = v;
                                return b = v = void 0, k = t, g = e.apply(o, n);
                            }
                            function r(e) {
                                return k = e, h = setTimeout(f, t), M ? o(e) : g;
                            }
                            function a(e) {
                                var n = e - w, o = e - k, i = t - n;
                                return S ? j(i, y - o) : i;
                            }
                            function c(e) {
                                var n = e - w, o = e - k;
                                return void 0 === w || n >= t || n < 0 || S && o >= y;
                            }
                            function f() {
                                var e = O();
                                return c(e) ? d(e) : void (h = setTimeout(f, a(e)));
                            }
                            function d(e) {
                                return h = void 0, _ && b ? o(e) : (b = v = void 0, g);
                            }
                            function l() {
                                void 0 !== h && clearTimeout(h), k = 0, b = w = v = h = void 0;
                            }
                            function p() {
                                return void 0 === h ? g : d(O());
                            }
                            function m() {
                                var e = O(), n = c(e);
                                if (b = arguments, v = this, w = e, n) {
                                    if (void 0 === h) return r(w);
                                    if (S) return h = setTimeout(f, t), o(w);
                                }
                                return void 0 === h && (h = setTimeout(f, t)), g;
                            }
                            var b, v, y, g, h, w, k = 0, M = !1, S = !1, _ = !0;
                            if ("function" != typeof e) throw new TypeError(s);
                            return t = u(t) || 0, i(n) && (M = !!n.leading, S = "maxWait" in n, y = S ? x(u(n.maxWait) || 0, t) : y, 
                            _ = "trailing" in n ? !!n.trailing : _), m.cancel = l, m.flush = p, m;
                        }
                        function o(e, t, o) {
                            var r = !0, a = !0;
                            if ("function" != typeof e) throw new TypeError(s);
                            return i(o) && (r = "leading" in o ? !!o.leading : r, a = "trailing" in o ? !!o.trailing : a), 
                            n(e, t, {
                                leading: r,
                                maxWait: t,
                                trailing: a
                            });
                        }
                        function i(e) {
                            var t = "undefined" == typeof e ? "undefined" : c(e);
                            return !!e && ("object" == t || "function" == t);
                        }
                        function r(e) {
                            return !!e && "object" == ("undefined" == typeof e ? "undefined" : c(e));
                        }
                        function a(e) {
                            return "symbol" == ("undefined" == typeof e ? "undefined" : c(e)) || r(e) && k.call(e) == d;
                        }
                        function u(e) {
                            if ("number" == typeof e) return e;
                            if (a(e)) return f;
                            if (i(e)) {
                                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                                e = i(t) ? t + "" : t;
                            }
                            if ("string" != typeof e) return 0 === e ? e : +e;
                            e = e.replace(l, "");
                            var n = m.test(e);
                            return n || b.test(e) ? v(e.slice(2), n ? 2 : 8) : p.test(e) ? f : +e;
                        }
                        var c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e;
                        } : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                        }, s = "Expected a function", f = NaN, d = "[object Symbol]", l = /^\s+|\s+$/g, p = /^[-+]0x[0-9a-f]+$/i, m = /^0b[01]+$/i, b = /^0o[0-7]+$/i, v = parseInt, y = "object" == ("undefined" == typeof t ? "undefined" : c(t)) && t && t.Object === Object && t, g = "object" == ("undefined" == typeof self ? "undefined" : c(self)) && self && self.Object === Object && self, h = y || g || Function("return this")(), w = Object.prototype, k = w.toString, x = Math.max, j = Math.min, O = function() {
                            return h.Date.now();
                        };
                        e.exports = o;
                    }).call(t, function() {
                        return this;
                    }());
                }, function(e, t) {
                    (function(t) {
                        "use strict";
                        function n(e, t, n) {
                            function i(t) {
                                var n = b, o = v;
                                return b = v = void 0, O = t, g = e.apply(o, n);
                            }
                            function r(e) {
                                return O = e, h = setTimeout(f, t), M ? i(e) : g;
                            }
                            function u(e) {
                                var n = e - w, o = e - O, i = t - n;
                                return S ? x(i, y - o) : i;
                            }
                            function s(e) {
                                var n = e - w, o = e - O;
                                return void 0 === w || n >= t || n < 0 || S && o >= y;
                            }
                            function f() {
                                var e = j();
                                return s(e) ? d(e) : void (h = setTimeout(f, u(e)));
                            }
                            function d(e) {
                                return h = void 0, _ && b ? i(e) : (b = v = void 0, g);
                            }
                            function l() {
                                void 0 !== h && clearTimeout(h), O = 0, b = w = v = h = void 0;
                            }
                            function p() {
                                return void 0 === h ? g : d(j());
                            }
                            function m() {
                                var e = j(), n = s(e);
                                if (b = arguments, v = this, w = e, n) {
                                    if (void 0 === h) return r(w);
                                    if (S) return h = setTimeout(f, t), i(w);
                                }
                                return void 0 === h && (h = setTimeout(f, t)), g;
                            }
                            var b, v, y, g, h, w, O = 0, M = !1, S = !1, _ = !0;
                            if ("function" != typeof e) throw new TypeError(c);
                            return t = a(t) || 0, o(n) && (M = !!n.leading, S = "maxWait" in n, y = S ? k(a(n.maxWait) || 0, t) : y, 
                            _ = "trailing" in n ? !!n.trailing : _), m.cancel = l, m.flush = p, m;
                        }
                        function o(e) {
                            var t = "undefined" == typeof e ? "undefined" : u(e);
                            return !!e && ("object" == t || "function" == t);
                        }
                        function i(e) {
                            return !!e && "object" == ("undefined" == typeof e ? "undefined" : u(e));
                        }
                        function r(e) {
                            return "symbol" == ("undefined" == typeof e ? "undefined" : u(e)) || i(e) && w.call(e) == f;
                        }
                        function a(e) {
                            if ("number" == typeof e) return e;
                            if (r(e)) return s;
                            if (o(e)) {
                                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                                e = o(t) ? t + "" : t;
                            }
                            if ("string" != typeof e) return 0 === e ? e : +e;
                            e = e.replace(d, "");
                            var n = p.test(e);
                            return n || m.test(e) ? b(e.slice(2), n ? 2 : 8) : l.test(e) ? s : +e;
                        }
                        var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e;
                        } : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                        }, c = "Expected a function", s = NaN, f = "[object Symbol]", d = /^\s+|\s+$/g, l = /^[-+]0x[0-9a-f]+$/i, p = /^0b[01]+$/i, m = /^0o[0-7]+$/i, b = parseInt, v = "object" == ("undefined" == typeof t ? "undefined" : u(t)) && t && t.Object === Object && t, y = "object" == ("undefined" == typeof self ? "undefined" : u(self)) && self && self.Object === Object && self, g = v || y || Function("return this")(), h = Object.prototype, w = h.toString, k = Math.max, x = Math.min, j = function() {
                            return g.Date.now();
                        };
                        e.exports = n;
                    }).call(t, function() {
                        return this;
                    }());
                }, function(e, t) {
                    "use strict";
                    function n(e) {
                        var t = void 0, o = void 0;
                        for (t = 0; t < e.length; t += 1) {
                            if (o = e[t], o.dataset && o.dataset.aos) return !0;
                            if (o.children && n(o.children)) return !0;
                        }
                        return !1;
                    }
                    function o() {
                        return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
                    }
                    function i() {
                        return !!o();
                    }
                    function r(e, t) {
                        var n = window.document, i = o(), r = new i(a);
                        u = t, r.observe(n.documentElement, {
                            childList: !0,
                            subtree: !0,
                            removedNodes: !0
                        });
                    }
                    function a(e) {
                        e && e.forEach((function(e) {
                            var t = Array.prototype.slice.call(e.addedNodes), o = Array.prototype.slice.call(e.removedNodes), i = t.concat(o);
                            if (n(i)) return u();
                        }));
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var u = function() {};
                    t.default = {
                        isSupported: i,
                        ready: r
                    };
                }, function(e, t) {
                    "use strict";
                    function n(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                    }
                    function o() {
                        return navigator.userAgent || navigator.vendor || window.opera || "";
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var o = t[n];
                                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                                Object.defineProperty(e, o.key, o);
                            }
                        }
                        return function(t, n, o) {
                            return n && e(t.prototype, n), o && e(t, o), t;
                        };
                    }(), r = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i, a = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, u = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i, c = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i, s = function() {
                        function e() {
                            n(this, e);
                        }
                        return i(e, [ {
                            key: "phone",
                            value: function() {
                                var e = o();
                                return !(!r.test(e) && !a.test(e.substr(0, 4)));
                            }
                        }, {
                            key: "mobile",
                            value: function() {
                                var e = o();
                                return !(!u.test(e) && !c.test(e.substr(0, 4)));
                            }
                        }, {
                            key: "tablet",
                            value: function() {
                                return this.mobile() && !this.phone();
                            }
                        } ]), e;
                    }();
                    t.default = new s;
                }, function(e, t) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function(e, t, n) {
                        var o = e.node.getAttribute("data-aos-once");
                        t > e.position ? e.node.classList.add("aos-animate") : "undefined" != typeof o && ("false" === o || !n && "true" !== o) && e.node.classList.remove("aos-animate");
                    }, o = function(e, t) {
                        var o = window.pageYOffset, i = window.innerHeight;
                        e.forEach((function(e, r) {
                            n(e, i + o, t);
                        }));
                    };
                    t.default = o;
                }, function(e, t, n) {
                    "use strict";
                    function o(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        };
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(12), r = o(i), a = function(e, t) {
                        return e.forEach((function(e, n) {
                            e.node.classList.add("aos-init"), e.position = (0, r.default)(e.node, t.offset);
                        })), e;
                    };
                    t.default = a;
                }, function(e, t, n) {
                    "use strict";
                    function o(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        };
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(13), r = o(i), a = function(e, t) {
                        var n = 0, o = 0, i = window.innerHeight, a = {
                            offset: e.getAttribute("data-aos-offset"),
                            anchor: e.getAttribute("data-aos-anchor"),
                            anchorPlacement: e.getAttribute("data-aos-anchor-placement")
                        };
                        switch (a.offset && !isNaN(a.offset) && (o = parseInt(a.offset)), a.anchor && document.querySelectorAll(a.anchor) && (e = document.querySelectorAll(a.anchor)[0]), 
                        n = (0, r.default)(e).top, a.anchorPlacement) {
                          case "top-bottom":
                            break;

                          case "center-bottom":
                            n += e.offsetHeight / 2;
                            break;

                          case "bottom-bottom":
                            n += e.offsetHeight;
                            break;

                          case "top-center":
                            n += i / 2;
                            break;

                          case "bottom-center":
                            n += i / 2 + e.offsetHeight;
                            break;

                          case "center-center":
                            n += i / 2 + e.offsetHeight / 2;
                            break;

                          case "top-top":
                            n += i;
                            break;

                          case "bottom-top":
                            n += e.offsetHeight + i;
                            break;

                          case "center-top":
                            n += e.offsetHeight / 2 + i;
                        }
                        return a.anchorPlacement || a.offset || isNaN(t) || (o = t), n + o;
                    };
                    t.default = a;
                }, function(e, t) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function(e) {
                        for (var t = 0, n = 0; e && !isNaN(e.offsetLeft) && !isNaN(e.offsetTop); ) t += e.offsetLeft - ("BODY" != e.tagName ? e.scrollLeft : 0), 
                        n += e.offsetTop - ("BODY" != e.tagName ? e.scrollTop : 0), e = e.offsetParent;
                        return {
                            top: n,
                            left: t
                        };
                    };
                    t.default = n;
                }, function(e, t) {
                    "use strict";
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function(e) {
                        return e = e || document.querySelectorAll("[data-aos]"), Array.prototype.map.call(e, (function(e) {
                            return {
                                node: e
                            };
                        }));
                    };
                    t.default = n;
                } ]);
            }));
        },
        1807: module => {
            var canUseDOM = !!("undefined" !== typeof window && window.document && window.document.createElement);
            module.exports = canUseDOM;
        },
        125: module => {
            /*!
 * dist/inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2021 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.7
 */
            !function(e, t) {
                if (true) module.exports = t(); else ;
            }(self, (function() {
                return function() {
                    "use strict";
                    var e = {
                        8741: function(e, t) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0;
                            var i = !("undefined" == typeof window || !window.document || !window.document.createElement);
                            t.default = i;
                        },
                        3976: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0;
                            var a, n = (a = i(5581)) && a.__esModule ? a : {
                                default: a
                            };
                            var r = {
                                _maxTestPos: 500,
                                placeholder: "_",
                                optionalmarker: [ "[", "]" ],
                                quantifiermarker: [ "{", "}" ],
                                groupmarker: [ "(", ")" ],
                                alternatormarker: "|",
                                escapeChar: "\\",
                                mask: null,
                                regex: null,
                                oncomplete: function() {},
                                onincomplete: function() {},
                                oncleared: function() {},
                                repeat: 0,
                                greedy: !1,
                                autoUnmask: !1,
                                removeMaskOnSubmit: !1,
                                clearMaskOnLostFocus: !0,
                                insertMode: !0,
                                insertModeVisual: !0,
                                clearIncomplete: !1,
                                alias: null,
                                onKeyDown: function() {},
                                onBeforeMask: null,
                                onBeforePaste: function(e, t) {
                                    return "function" == typeof t.onBeforeMask ? t.onBeforeMask.call(this, e, t) : e;
                                },
                                onBeforeWrite: null,
                                onUnMask: null,
                                showMaskOnFocus: !0,
                                showMaskOnHover: !0,
                                onKeyValidation: function() {},
                                skipOptionalPartCharacter: " ",
                                numericInput: !1,
                                rightAlign: !1,
                                undoOnEscape: !0,
                                radixPoint: "",
                                _radixDance: !1,
                                groupSeparator: "",
                                keepStatic: null,
                                positionCaretOnTab: !0,
                                tabThrough: !1,
                                supportsInputType: [ "text", "tel", "url", "password", "search" ],
                                ignorables: [ n.default.BACKSPACE, n.default.TAB, n.default["PAUSE/BREAK"], n.default.ESCAPE, n.default.PAGE_UP, n.default.PAGE_DOWN, n.default.END, n.default.HOME, n.default.LEFT, n.default.UP, n.default.RIGHT, n.default.DOWN, n.default.INSERT, n.default.DELETE, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229 ],
                                isComplete: null,
                                preValidation: null,
                                postValidation: null,
                                staticDefinitionSymbol: void 0,
                                jitMasking: !1,
                                nullable: !0,
                                inputEventOnly: !1,
                                noValuePatching: !1,
                                positionCaretOnClick: "lvp",
                                casing: null,
                                inputmode: "text",
                                importDataAttributes: !0,
                                shiftPositions: !0,
                                usePrototypeDefinitions: !0,
                                validationEventTimeOut: 3e3,
                                substitutes: {}
                            };
                            t.default = r;
                        },
                        7392: function(e, t) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0;
                            t.default = {
                                9: {
                                    validator: "[0-9０-９]",
                                    definitionSymbol: "*"
                                },
                                a: {
                                    validator: "[A-Za-zА-яЁёÀ-ÿµ]",
                                    definitionSymbol: "*"
                                },
                                "*": {
                                    validator: "[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"
                                }
                            };
                        },
                        253: function(e, t) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = function(e, t, i) {
                                if (void 0 === i) return e.__data ? e.__data[t] : null;
                                e.__data = e.__data || {}, e.__data[t] = i;
                            };
                        },
                        3776: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.Event = void 0, t.off = function(e, t) {
                                var i, a;
                                function n(e, t, n) {
                                    if (e in i == !0) if (a.removeEventListener ? a.removeEventListener(e, n, !1) : a.detachEvent && a.detachEvent("on" + e, n), 
                                    "global" === t) for (var r in i[e]) i[e][r].splice(i[e][r].indexOf(n), 1); else i[e][t].splice(i[e][t].indexOf(n), 1);
                                }
                                function r(e, a) {
                                    var n, r, o = [];
                                    if (e.length > 0) if (void 0 === t) for (n = 0, r = i[e][a].length; n < r; n++) o.push({
                                        ev: e,
                                        namespace: a && a.length > 0 ? a : "global",
                                        handler: i[e][a][n]
                                    }); else o.push({
                                        ev: e,
                                        namespace: a && a.length > 0 ? a : "global",
                                        handler: t
                                    }); else if (a.length > 0) for (var l in i) for (var s in i[l]) if (s === a) if (void 0 === t) for (n = 0, 
                                    r = i[l][s].length; n < r; n++) o.push({
                                        ev: l,
                                        namespace: s,
                                        handler: i[l][s][n]
                                    }); else o.push({
                                        ev: l,
                                        namespace: s,
                                        handler: t
                                    });
                                    return o;
                                }
                                if (u(this[0]) && e) {
                                    i = this[0].eventRegistry, a = this[0];
                                    for (var o = e.split(" "), l = 0; l < o.length; l++) for (var s = o[l].split("."), c = r(s[0], s[1]), f = 0, d = c.length; f < d; f++) n(c[f].ev, c[f].namespace, c[f].handler);
                                }
                                return this;
                            }, t.on = function(e, t) {
                                function i(e, i) {
                                    n.addEventListener ? n.addEventListener(e, t, !1) : n.attachEvent && n.attachEvent("on" + e, t), 
                                    a[e] = a[e] || {}, a[e][i] = a[e][i] || [], a[e][i].push(t);
                                }
                                if (u(this[0])) for (var a = this[0].eventRegistry, n = this[0], r = e.split(" "), o = 0; o < r.length; o++) {
                                    var l = r[o].split("."), s = l[0], c = l[1] || "global";
                                    i(s, c);
                                }
                                return this;
                            }, t.trigger = function(e) {
                                if (u(this[0])) for (var t = this[0].eventRegistry, i = this[0], a = "string" == typeof e ? e.split(" ") : [ e.type ], r = 0; r < a.length; r++) {
                                    var l = a[r].split("."), s = l[0], c = l[1] || "global";
                                    if (void 0 !== document && "global" === c) {
                                        var f, d, p = {
                                            bubbles: !0,
                                            cancelable: !0,
                                            detail: arguments[1]
                                        };
                                        if (document.createEvent) {
                                            try {
                                                if ("input" === s) p.inputType = "insertText", f = new InputEvent(s, p); else f = new CustomEvent(s, p);
                                            } catch (e) {
                                                (f = document.createEvent("CustomEvent")).initCustomEvent(s, p.bubbles, p.cancelable, p.detail);
                                            }
                                            e.type && (0, n.default)(f, e), i.dispatchEvent(f);
                                        } else (f = document.createEventObject()).eventType = s, f.detail = arguments[1], 
                                        e.type && (0, n.default)(f, e), i.fireEvent("on" + f.eventType, f);
                                    } else if (void 0 !== t[s]) if (arguments[0] = arguments[0].type ? arguments[0] : o.default.Event(arguments[0]), 
                                    arguments[0].detail = arguments.slice(1), "global" === c) for (var h in t[s]) for (d = 0; d < t[s][h].length; d++) t[s][h][d].apply(i, arguments); else for (d = 0; d < t[s][c].length; d++) t[s][c][d].apply(i, arguments);
                                }
                                return this;
                            };
                            var a, n = s(i(600)), r = s(i(9380)), o = s(i(4963)), l = s(i(8741));
                            function s(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            function u(e) {
                                return e instanceof Element;
                            }
                            t.Event = a, "function" == typeof r.default.CustomEvent ? t.Event = a = r.default.CustomEvent : l.default && (t.Event = a = function(e, t) {
                                t = t || {
                                    bubbles: !1,
                                    cancelable: !1,
                                    detail: void 0
                                };
                                var i = document.createEvent("CustomEvent");
                                return i.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), i;
                            }, a.prototype = r.default.Event.prototype);
                        },
                        600: function(e, t) {
                            function i(e) {
                                return i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e;
                                } : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                                }, i(e);
                            }
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = function e() {
                                var t, a, n, r, o, l, s = arguments[0] || {}, u = 1, c = arguments.length, f = !1;
                                "boolean" == typeof s && (f = s, s = arguments[u] || {}, u++);
                                "object" !== i(s) && "function" != typeof s && (s = {});
                                for (;u < c; u++) if (null != (t = arguments[u])) for (a in t) n = s[a], r = t[a], 
                                s !== r && (f && r && ("[object Object]" === Object.prototype.toString.call(r) || (o = Array.isArray(r))) ? (o ? (o = !1, 
                                l = n && Array.isArray(n) ? n : []) : l = n && "[object Object]" === Object.prototype.toString.call(n) ? n : {}, 
                                s[a] = e(f, l, r)) : void 0 !== r && (s[a] = r));
                                return s;
                            };
                        },
                        4963: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0;
                            var a = l(i(600)), n = l(i(9380)), r = l(i(253)), o = i(3776);
                            function l(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var s = n.default.document;
                            function u(e) {
                                return e instanceof u ? e : this instanceof u ? void (null != e && e !== n.default && (this[0] = e.nodeName ? e : void 0 !== e[0] && e[0].nodeName ? e[0] : s.querySelector(e), 
                                void 0 !== this[0] && null !== this[0] && (this[0].eventRegistry = this[0].eventRegistry || {}))) : new u(e);
                            }
                            u.prototype = {
                                on: o.on,
                                off: o.off,
                                trigger: o.trigger
                            }, u.extend = a.default, u.data = r.default, u.Event = o.Event;
                            var c = u;
                            t.default = c;
                        },
                        9845: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.ua = t.mobile = t.iphone = t.iemobile = t.ie = void 0;
                            var a, n = (a = i(9380)) && a.__esModule ? a : {
                                default: a
                            };
                            var r = n.default.navigator && n.default.navigator.userAgent || "", o = r.indexOf("MSIE ") > 0 || r.indexOf("Trident/") > 0, l = "ontouchstart" in n.default, s = /iemobile/i.test(r), u = /iphone/i.test(r) && !s;
                            t.iphone = u, t.iemobile = s, t.mobile = l, t.ie = o, t.ua = r;
                        },
                        7184: function(e, t) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = function(e) {
                                return e.replace(i, "\\$1");
                            };
                            var i = new RegExp("(\\" + [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^" ].join("|\\") + ")", "gim");
                        },
                        6030: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.EventHandlers = void 0;
                            var a, n = i(8711), r = (a = i(5581)) && a.__esModule ? a : {
                                default: a
                            }, o = i(9845), l = i(7215), s = i(7760), u = i(4713);
                            function c(e, t) {
                                var i = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                                if (!i) {
                                    if (Array.isArray(e) || (i = function(e, t) {
                                        if (!e) return;
                                        if ("string" == typeof e) return f(e, t);
                                        var i = Object.prototype.toString.call(e).slice(8, -1);
                                        "Object" === i && e.constructor && (i = e.constructor.name);
                                        if ("Map" === i || "Set" === i) return Array.from(e);
                                        if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return f(e, t);
                                    }(e)) || t && e && "number" == typeof e.length) {
                                        i && (e = i);
                                        var a = 0, n = function() {};
                                        return {
                                            s: n,
                                            n: function() {
                                                return a >= e.length ? {
                                                    done: !0
                                                } : {
                                                    done: !1,
                                                    value: e[a++]
                                                };
                                            },
                                            e: function(e) {
                                                throw e;
                                            },
                                            f: n
                                        };
                                    }
                                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                                }
                                var r, o = !0, l = !1;
                                return {
                                    s: function() {
                                        i = i.call(e);
                                    },
                                    n: function() {
                                        var e = i.next();
                                        return o = e.done, e;
                                    },
                                    e: function(e) {
                                        l = !0, r = e;
                                    },
                                    f: function() {
                                        try {
                                            o || null == i.return || i.return();
                                        } finally {
                                            if (l) throw r;
                                        }
                                    }
                                };
                            }
                            function f(e, t) {
                                (null == t || t > e.length) && (t = e.length);
                                for (var i = 0, a = new Array(t); i < t; i++) a[i] = e[i];
                                return a;
                            }
                            var d = {
                                keydownEvent: function(e) {
                                    var t = this.inputmask, i = t.opts, a = t.dependencyLib, c = t.maskset, f = this, d = a(f), p = e.keyCode, h = n.caret.call(t, f), v = i.onKeyDown.call(this, e, n.getBuffer.call(t), h, i);
                                    if (void 0 !== v) return v;
                                    if (p === r.default.BACKSPACE || p === r.default.DELETE || o.iphone && p === r.default.BACKSPACE_SAFARI || e.ctrlKey && p === r.default.X && !("oncut" in f)) e.preventDefault(), 
                                    l.handleRemove.call(t, f, p, h), (0, s.writeBuffer)(f, n.getBuffer.call(t, !0), c.p, e, f.inputmask._valueGet() !== n.getBuffer.call(t).join("")); else if (p === r.default.END || p === r.default.PAGE_DOWN) {
                                        e.preventDefault();
                                        var m = n.seekNext.call(t, n.getLastValidPosition.call(t));
                                        n.caret.call(t, f, e.shiftKey ? h.begin : m, m, !0);
                                    } else p === r.default.HOME && !e.shiftKey || p === r.default.PAGE_UP ? (e.preventDefault(), 
                                    n.caret.call(t, f, 0, e.shiftKey ? h.begin : 0, !0)) : i.undoOnEscape && p === r.default.ESCAPE && !0 !== e.altKey ? ((0, 
                                    s.checkVal)(f, !0, !1, t.undoValue.split("")), d.trigger("click")) : p !== r.default.INSERT || e.shiftKey || e.ctrlKey || void 0 !== t.userOptions.insertMode ? !0 === i.tabThrough && p === r.default.TAB ? !0 === e.shiftKey ? (h.end = n.seekPrevious.call(t, h.end, !0), 
                                    !0 === u.getTest.call(t, h.end - 1).match.static && h.end--, h.begin = n.seekPrevious.call(t, h.end, !0), 
                                    h.begin >= 0 && h.end > 0 && (e.preventDefault(), n.caret.call(t, f, h.begin, h.end))) : (h.begin = n.seekNext.call(t, h.begin, !0), 
                                    h.end = n.seekNext.call(t, h.begin, !0), h.end < c.maskLength && h.end--, h.begin <= c.maskLength && (e.preventDefault(), 
                                    n.caret.call(t, f, h.begin, h.end))) : e.shiftKey || i.insertModeVisual && !1 === i.insertMode && (p === r.default.RIGHT ? setTimeout((function() {
                                        var e = n.caret.call(t, f);
                                        n.caret.call(t, f, e.begin);
                                    }), 0) : p === r.default.LEFT && setTimeout((function() {
                                        var e = n.translatePosition.call(t, f.inputmask.caretPos.begin);
                                        n.translatePosition.call(t, f.inputmask.caretPos.end);
                                        t.isRTL ? n.caret.call(t, f, e + (e === c.maskLength ? 0 : 1)) : n.caret.call(t, f, e - (0 === e ? 0 : 1));
                                    }), 0)) : l.isSelection.call(t, h) ? i.insertMode = !i.insertMode : (i.insertMode = !i.insertMode, 
                                    n.caret.call(t, f, h.begin, h.begin));
                                    t.ignorable = i.ignorables.includes(p);
                                },
                                keypressEvent: function(e, t, i, a, o) {
                                    var u = this.inputmask || this, c = u.opts, f = u.dependencyLib, d = u.maskset, p = u.el, h = f(p), v = e.keyCode;
                                    if (!(!0 === t || e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || u.ignorable)) return v === r.default.ENTER && u.undoValue !== u._valueGet(!0) && (u.undoValue = u._valueGet(!0), 
                                    setTimeout((function() {
                                        h.trigger("change");
                                    }), 0)), u.skipInputEvent = !0, !0;
                                    if (v) {
                                        44 !== v && 46 !== v || 3 !== e.location || "" === c.radixPoint || (v = c.radixPoint.charCodeAt(0));
                                        var m, g = t ? {
                                            begin: o,
                                            end: o
                                        } : n.caret.call(u, p), k = String.fromCharCode(v);
                                        k = c.substitutes[k] || k, d.writeOutBuffer = !0;
                                        var y = l.isValid.call(u, g, k, a, void 0, void 0, void 0, t);
                                        if (!1 !== y && (n.resetMaskSet.call(u, !0), m = void 0 !== y.caret ? y.caret : n.seekNext.call(u, y.pos.begin ? y.pos.begin : y.pos), 
                                        d.p = m), m = c.numericInput && void 0 === y.caret ? n.seekPrevious.call(u, m) : m, 
                                        !1 !== i && (setTimeout((function() {
                                            c.onKeyValidation.call(p, v, y);
                                        }), 0), d.writeOutBuffer && !1 !== y)) {
                                            var b = n.getBuffer.call(u);
                                            (0, s.writeBuffer)(p, b, m, e, !0 !== t);
                                        }
                                        if (e.preventDefault(), t) return !1 !== y && (y.forwardPosition = m), y;
                                    }
                                },
                                keyupEvent: function(e) {
                                    var t = this.inputmask;
                                    !t.isComposing || e.keyCode !== r.default.KEY_229 && e.keyCode !== r.default.ENTER || t.$el.trigger("input");
                                },
                                pasteEvent: function(e) {
                                    var t, i = this.inputmask, a = i.opts, r = i._valueGet(!0), o = n.caret.call(i, this);
                                    i.isRTL && (t = o.end, o.end = n.translatePosition.call(i, o.begin), o.begin = n.translatePosition.call(i, t));
                                    var l = r.substr(0, o.begin), u = r.substr(o.end, r.length);
                                    if (l == (i.isRTL ? n.getBufferTemplate.call(i).slice().reverse() : n.getBufferTemplate.call(i)).slice(0, o.begin).join("") && (l = ""), 
                                    u == (i.isRTL ? n.getBufferTemplate.call(i).slice().reverse() : n.getBufferTemplate.call(i)).slice(o.end).join("") && (u = ""), 
                                    window.clipboardData && window.clipboardData.getData) r = l + window.clipboardData.getData("Text") + u; else {
                                        if (!e.clipboardData || !e.clipboardData.getData) return !0;
                                        r = l + e.clipboardData.getData("text/plain") + u;
                                    }
                                    var f = r;
                                    if (i.isRTL) {
                                        f = f.split("");
                                        var d, p = c(n.getBufferTemplate.call(i));
                                        try {
                                            for (p.s(); !(d = p.n()).done; ) {
                                                var h = d.value;
                                                f[0] === h && f.shift();
                                            }
                                        } catch (e) {
                                            p.e(e);
                                        } finally {
                                            p.f();
                                        }
                                        f = f.join("");
                                    }
                                    if ("function" == typeof a.onBeforePaste) {
                                        if (!1 === (f = a.onBeforePaste.call(i, f, a))) return !1;
                                        f || (f = r);
                                    }
                                    (0, s.checkVal)(this, !0, !1, f.toString().split(""), e), e.preventDefault();
                                },
                                inputFallBackEvent: function(e) {
                                    var t = this.inputmask, i = t.opts, a = t.dependencyLib;
                                    var l = this, c = l.inputmask._valueGet(!0), f = (t.isRTL ? n.getBuffer.call(t).slice().reverse() : n.getBuffer.call(t)).join(""), p = n.caret.call(t, l, void 0, void 0, !0);
                                    if (f !== c) {
                                        c = function(e, i, a) {
                                            if (o.iemobile) {
                                                var r = i.replace(n.getBuffer.call(t).join(""), "");
                                                if (1 === r.length) {
                                                    var l = i.split("");
                                                    l.splice(a.begin, 0, r), i = l.join("");
                                                }
                                            }
                                            return i;
                                        }(0, c, p);
                                        var h = function(e, a, r) {
                                            for (var o, l, s, c = e.substr(0, r.begin).split(""), f = e.substr(r.begin).split(""), d = a.substr(0, r.begin).split(""), p = a.substr(r.begin).split(""), h = c.length >= d.length ? c.length : d.length, v = f.length >= p.length ? f.length : p.length, m = "", g = [], k = "~"; c.length < h; ) c.push(k);
                                            for (;d.length < h; ) d.push(k);
                                            for (;f.length < v; ) f.unshift(k);
                                            for (;p.length < v; ) p.unshift(k);
                                            var y = c.concat(f), b = d.concat(p);
                                            for (l = 0, o = y.length; l < o; l++) switch (s = u.getPlaceholder.call(t, n.translatePosition.call(t, l)), 
                                            m) {
                                              case "insertText":
                                                b[l - 1] === y[l] && r.begin == y.length - 1 && g.push(y[l]), l = o;
                                                break;

                                              case "insertReplacementText":
                                              case "deleteContentBackward":
                                                y[l] === k ? r.end++ : l = o;
                                                break;

                                              default:
                                                y[l] !== b[l] && (y[l + 1] !== k && y[l + 1] !== s && void 0 !== y[l + 1] || (b[l] !== s || b[l + 1] !== k) && b[l] !== k ? b[l + 1] === k && b[l] === y[l + 1] ? (m = "insertText", 
                                                g.push(y[l]), r.begin--, r.end--) : y[l] !== s && y[l] !== k && (y[l + 1] === k || b[l] !== y[l] && b[l + 1] === y[l + 1]) ? (m = "insertReplacementText", 
                                                g.push(y[l]), r.begin--) : y[l] === k ? (m = "deleteContentBackward", (n.isMask.call(t, n.translatePosition.call(t, l), !0) || b[l] === i.radixPoint) && r.end++) : l = o : (m = "insertText", 
                                                g.push(y[l]), r.begin--, r.end--));
                                            }
                                            return {
                                                action: m,
                                                data: g,
                                                caret: r
                                            };
                                        }(c, f, p);
                                        switch ((l.inputmask.shadowRoot || l.ownerDocument).activeElement !== l && l.focus(), 
                                        (0, s.writeBuffer)(l, n.getBuffer.call(t)), n.caret.call(t, l, p.begin, p.end, !0), 
                                        h.action) {
                                          case "insertText":
                                          case "insertReplacementText":
                                            h.data.forEach((function(e, i) {
                                                var n = new a.Event("keypress");
                                                n.keyCode = e.charCodeAt(0), t.ignorable = !1, d.keypressEvent.call(l, n);
                                            })), setTimeout((function() {
                                                t.$el.trigger("keyup");
                                            }), 0);
                                            break;

                                          case "deleteContentBackward":
                                            var v = new a.Event("keydown");
                                            v.keyCode = r.default.BACKSPACE, d.keydownEvent.call(l, v);
                                            break;

                                          default:
                                            (0, s.applyInputValue)(l, c);
                                        }
                                        e.preventDefault();
                                    }
                                },
                                compositionendEvent: function(e) {
                                    var t = this.inputmask;
                                    t.isComposing = !1, t.$el.trigger("input");
                                },
                                setValueEvent: function(e) {
                                    var t = this.inputmask, i = this, a = e && e.detail ? e.detail[0] : arguments[1];
                                    void 0 === a && (a = i.inputmask._valueGet(!0)), (0, s.applyInputValue)(i, a), (e.detail && void 0 !== e.detail[1] || void 0 !== arguments[2]) && n.caret.call(t, i, e.detail ? e.detail[1] : arguments[2]);
                                },
                                focusEvent: function(e) {
                                    var t = this.inputmask, i = t.opts, a = this, r = a.inputmask._valueGet();
                                    i.showMaskOnFocus && r !== n.getBuffer.call(t).join("") && (0, s.writeBuffer)(a, n.getBuffer.call(t), n.seekNext.call(t, n.getLastValidPosition.call(t))), 
                                    !0 !== i.positionCaretOnTab || !1 !== t.mouseEnter || l.isComplete.call(t, n.getBuffer.call(t)) && -1 !== n.getLastValidPosition.call(t) || d.clickEvent.apply(a, [ e, !0 ]), 
                                    t.undoValue = t._valueGet(!0);
                                },
                                invalidEvent: function(e) {
                                    this.inputmask.validationEvent = !0;
                                },
                                mouseleaveEvent: function() {
                                    var e = this.inputmask, t = e.opts, i = this;
                                    e.mouseEnter = !1, t.clearMaskOnLostFocus && (i.inputmask.shadowRoot || i.ownerDocument).activeElement !== i && (0, 
                                    s.HandleNativePlaceholder)(i, e.originalPlaceholder);
                                },
                                clickEvent: function(e, t) {
                                    var i = this.inputmask, a = this;
                                    if ((a.inputmask.shadowRoot || a.ownerDocument).activeElement === a) {
                                        var r = n.determineNewCaretPosition.call(i, n.caret.call(i, a), t);
                                        void 0 !== r && n.caret.call(i, a, r);
                                    }
                                },
                                cutEvent: function(e) {
                                    var t = this.inputmask, i = t.maskset, a = this, o = n.caret.call(t, a), u = t.isRTL ? n.getBuffer.call(t).slice(o.end, o.begin) : n.getBuffer.call(t).slice(o.begin, o.end), c = t.isRTL ? u.reverse().join("") : u.join("");
                                    window.navigator.clipboard ? window.navigator.clipboard.writeText(c) : window.clipboardData && window.clipboardData.getData && window.clipboardData.setData("Text", c), 
                                    l.handleRemove.call(t, a, r.default.DELETE, o), (0, s.writeBuffer)(a, n.getBuffer.call(t), i.p, e, t.undoValue !== t._valueGet(!0));
                                },
                                blurEvent: function(e) {
                                    var t = this.inputmask, i = t.opts, a = (0, t.dependencyLib)(this), r = this;
                                    if (r.inputmask) {
                                        (0, s.HandleNativePlaceholder)(r, t.originalPlaceholder);
                                        var o = r.inputmask._valueGet(), u = n.getBuffer.call(t).slice();
                                        "" !== o && (i.clearMaskOnLostFocus && (-1 === n.getLastValidPosition.call(t) && o === n.getBufferTemplate.call(t).join("") ? u = [] : s.clearOptionalTail.call(t, u)), 
                                        !1 === l.isComplete.call(t, u) && (setTimeout((function() {
                                            a.trigger("incomplete");
                                        }), 0), i.clearIncomplete && (n.resetMaskSet.call(t), u = i.clearMaskOnLostFocus ? [] : n.getBufferTemplate.call(t).slice())), 
                                        (0, s.writeBuffer)(r, u, void 0, e)), t.undoValue !== t._valueGet(!0) && (t.undoValue = t._valueGet(!0), 
                                        a.trigger("change"));
                                    }
                                },
                                mouseenterEvent: function() {
                                    var e = this.inputmask, t = e.opts, i = this;
                                    if (e.mouseEnter = !0, (i.inputmask.shadowRoot || i.ownerDocument).activeElement !== i) {
                                        var a = (e.isRTL ? n.getBufferTemplate.call(e).slice().reverse() : n.getBufferTemplate.call(e)).join("");
                                        e.placeholder !== a && i.placeholder !== e.originalPlaceholder && (e.originalPlaceholder = i.placeholder), 
                                        t.showMaskOnHover && (0, s.HandleNativePlaceholder)(i, a);
                                    }
                                },
                                submitEvent: function() {
                                    var e = this.inputmask, t = e.opts;
                                    e.undoValue !== e._valueGet(!0) && e.$el.trigger("change"), -1 === n.getLastValidPosition.call(e) && e._valueGet && e._valueGet() === n.getBufferTemplate.call(e).join("") && e._valueSet(""), 
                                    t.clearIncomplete && !1 === l.isComplete.call(e, n.getBuffer.call(e)) && e._valueSet(""), 
                                    t.removeMaskOnSubmit && (e._valueSet(e.unmaskedvalue(), !0), setTimeout((function() {
                                        (0, s.writeBuffer)(e.el, n.getBuffer.call(e));
                                    }), 0));
                                },
                                resetEvent: function() {
                                    var e = this.inputmask;
                                    e.refreshValue = !0, setTimeout((function() {
                                        (0, s.applyInputValue)(e.el, e._valueGet(!0));
                                    }), 0);
                                }
                            };
                            t.EventHandlers = d;
                        },
                        9716: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.EventRuler = void 0;
                            var a = l(i(2394)), n = l(i(5581)), r = i(8711), o = i(7760);
                            function l(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var s = {
                                on: function(e, t, i) {
                                    var l = e.inputmask.dependencyLib, s = function(t) {
                                        t.originalEvent && (t = t.originalEvent || t, arguments[0] = t);
                                        var s, u = this, c = u.inputmask, f = c ? c.opts : void 0;
                                        if (void 0 === c && "FORM" !== this.nodeName) {
                                            var d = l.data(u, "_inputmask_opts");
                                            l(u).off(), d && new a.default(d).mask(u);
                                        } else {
                                            if ([ "submit", "reset", "setvalue" ].includes(t.type) || "FORM" === this.nodeName || !(u.disabled || u.readOnly && !("keydown" === t.type && t.ctrlKey && 67 === t.keyCode || !1 === f.tabThrough && t.keyCode === n.default.TAB))) {
                                                switch (t.type) {
                                                  case "input":
                                                    if (!0 === c.skipInputEvent || t.inputType && "insertCompositionText" === t.inputType) return c.skipInputEvent = !1, 
                                                    t.preventDefault();
                                                    break;

                                                  case "keydown":
                                                    c.skipKeyPressEvent = !1, c.skipInputEvent = c.isComposing = t.keyCode === n.default.KEY_229;
                                                    break;

                                                  case "keyup":
                                                  case "compositionend":
                                                    c.isComposing && (c.skipInputEvent = !1);
                                                    break;

                                                  case "keypress":
                                                    if (!0 === c.skipKeyPressEvent) return t.preventDefault();
                                                    c.skipKeyPressEvent = !0;
                                                    break;

                                                  case "click":
                                                  case "focus":
                                                    return c.validationEvent ? (c.validationEvent = !1, e.blur(), (0, o.HandleNativePlaceholder)(e, (c.isRTL ? r.getBufferTemplate.call(c).slice().reverse() : r.getBufferTemplate.call(c)).join("")), 
                                                    setTimeout((function() {
                                                        e.focus();
                                                    }), f.validationEventTimeOut), !1) : (s = arguments, setTimeout((function() {
                                                        e.inputmask && i.apply(u, s);
                                                    }), 0), !1);
                                                }
                                                var p = i.apply(u, arguments);
                                                return !1 === p && (t.preventDefault(), t.stopPropagation()), p;
                                            }
                                            t.preventDefault();
                                        }
                                    };
                                    [ "submit", "reset" ].includes(t) ? (s = s.bind(e), null !== e.form && l(e.form).on(t, s)) : l(e).on(t, s), 
                                    e.inputmask.events[t] = e.inputmask.events[t] || [], e.inputmask.events[t].push(s);
                                },
                                off: function(e, t) {
                                    if (e.inputmask && e.inputmask.events) {
                                        var i = e.inputmask.dependencyLib, a = e.inputmask.events;
                                        for (var n in t && ((a = [])[t] = e.inputmask.events[t]), a) {
                                            for (var r = a[n]; r.length > 0; ) {
                                                var o = r.pop();
                                                [ "submit", "reset" ].includes(n) ? null !== e.form && i(e.form).off(n, o) : i(e).off(n, o);
                                            }
                                            delete e.inputmask.events[n];
                                        }
                                    }
                                }
                            };
                            t.EventRuler = s;
                        },
                        219: function(e, t, i) {
                            var a = d(i(2394)), n = d(i(5581)), r = d(i(7184)), o = i(8711), l = i(4713);
                            function s(e) {
                                return s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e;
                                } : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                                }, s(e);
                            }
                            function u(e, t) {
                                return function(e) {
                                    if (Array.isArray(e)) return e;
                                }(e) || function(e, t) {
                                    var i = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                                    if (null == i) return;
                                    var a, n, r = [], o = !0, l = !1;
                                    try {
                                        for (i = i.call(e); !(o = (a = i.next()).done) && (r.push(a.value), !t || r.length !== t); o = !0) ;
                                    } catch (e) {
                                        l = !0, n = e;
                                    } finally {
                                        try {
                                            o || null == i.return || i.return();
                                        } finally {
                                            if (l) throw n;
                                        }
                                    }
                                    return r;
                                }(e, t) || function(e, t) {
                                    if (!e) return;
                                    if ("string" == typeof e) return c(e, t);
                                    var i = Object.prototype.toString.call(e).slice(8, -1);
                                    "Object" === i && e.constructor && (i = e.constructor.name);
                                    if ("Map" === i || "Set" === i) return Array.from(e);
                                    if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return c(e, t);
                                }(e, t) || function() {
                                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                                }();
                            }
                            function c(e, t) {
                                (null == t || t > e.length) && (t = e.length);
                                for (var i = 0, a = new Array(t); i < t; i++) a[i] = e[i];
                                return a;
                            }
                            function f(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var a = t[i];
                                    a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                                    Object.defineProperty(e, a.key, a);
                                }
                            }
                            function d(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var p = a.default.dependencyLib, h = function() {
                                function e(t, i, a) {
                                    !function(e, t) {
                                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                                    }(this, e), this.mask = t, this.format = i, this.opts = a, this._date = new Date(1, 0, 1), 
                                    this.initDateObject(t, this.opts);
                                }
                                var t, i, a;
                                return t = e, (i = [ {
                                    key: "date",
                                    get: function() {
                                        return void 0 === this._date && (this._date = new Date(1, 0, 1), this.initDateObject(void 0, this.opts)), 
                                        this._date;
                                    }
                                }, {
                                    key: "initDateObject",
                                    value: function(e, t) {
                                        var i;
                                        for (P(t).lastIndex = 0; i = P(t).exec(this.format); ) {
                                            var a = new RegExp("\\d+$").exec(i[0]), n = a ? i[0][0] + "x" : i[0], r = void 0;
                                            if (void 0 !== e) {
                                                if (a) {
                                                    var o = P(t).lastIndex, l = O(i.index, t);
                                                    P(t).lastIndex = o, r = e.slice(0, e.indexOf(l.nextMatch[0]));
                                                } else r = e.slice(0, n.length);
                                                e = e.slice(r.length);
                                            }
                                            Object.prototype.hasOwnProperty.call(g, n) && this.setValue(this, r, n, g[n][2], g[n][1]);
                                        }
                                    }
                                }, {
                                    key: "setValue",
                                    value: function(e, t, i, a, n) {
                                        if (void 0 !== t && (e[a] = "ampm" === a ? t : t.replace(/[^0-9]/g, "0"), e["raw" + a] = t.replace(/\s/g, "_")), 
                                        void 0 !== n) {
                                            var r = e[a];
                                            ("day" === a && 29 === parseInt(r) || "month" === a && 2 === parseInt(r)) && (29 !== parseInt(e.day) || 2 !== parseInt(e.month) || "" !== e.year && void 0 !== e.year || e._date.setFullYear(2012, 1, 29)), 
                                            "day" === a && (m = !0, 0 === parseInt(r) && (r = 1)), "month" === a && (m = !0), 
                                            "year" === a && (m = !0, r.length < 4 && (r = _(r, 4, !0))), "" === r || isNaN(r) || n.call(e._date, r), 
                                            "ampm" === a && n.call(e._date, r);
                                        }
                                    }
                                }, {
                                    key: "reset",
                                    value: function() {
                                        this._date = new Date(1, 0, 1);
                                    }
                                }, {
                                    key: "reInit",
                                    value: function() {
                                        this._date = void 0, this.date;
                                    }
                                } ]) && f(t.prototype, i), a && f(t, a), Object.defineProperty(t, "prototype", {
                                    writable: !1
                                }), e;
                            }(), v = (new Date).getFullYear(), m = !1, g = {
                                d: [ "[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate ],
                                dd: [ "0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function() {
                                    return _(Date.prototype.getDate.call(this), 2);
                                } ],
                                ddd: [ "" ],
                                dddd: [ "" ],
                                m: [ "[1-9]|1[012]", function(e) {
                                    var t = e ? parseInt(e) : 0;
                                    return t > 0 && t--, Date.prototype.setMonth.call(this, t);
                                }, "month", function() {
                                    return Date.prototype.getMonth.call(this) + 1;
                                } ],
                                mm: [ "0[1-9]|1[012]", function(e) {
                                    var t = e ? parseInt(e) : 0;
                                    return t > 0 && t--, Date.prototype.setMonth.call(this, t);
                                }, "month", function() {
                                    return _(Date.prototype.getMonth.call(this) + 1, 2);
                                } ],
                                mmm: [ "" ],
                                mmmm: [ "" ],
                                yy: [ "[0-9]{2}", Date.prototype.setFullYear, "year", function() {
                                    return _(Date.prototype.getFullYear.call(this), 2);
                                } ],
                                yyyy: [ "[0-9]{4}", Date.prototype.setFullYear, "year", function() {
                                    return _(Date.prototype.getFullYear.call(this), 4);
                                } ],
                                h: [ "[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours ],
                                hh: [ "0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function() {
                                    return _(Date.prototype.getHours.call(this), 2);
                                } ],
                                hx: [ function(e) {
                                    return "[0-9]{".concat(e, "}");
                                }, Date.prototype.setHours, "hours", function(e) {
                                    return Date.prototype.getHours;
                                } ],
                                H: [ "1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours ],
                                HH: [ "0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function() {
                                    return _(Date.prototype.getHours.call(this), 2);
                                } ],
                                Hx: [ function(e) {
                                    return "[0-9]{".concat(e, "}");
                                }, Date.prototype.setHours, "hours", function(e) {
                                    return function() {
                                        return _(Date.prototype.getHours.call(this), e);
                                    };
                                } ],
                                M: [ "[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes ],
                                MM: [ "0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function() {
                                    return _(Date.prototype.getMinutes.call(this), 2);
                                } ],
                                s: [ "[1-5]?[0-9]", Date.prototype.setSeconds, "seconds", Date.prototype.getSeconds ],
                                ss: [ "0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setSeconds, "seconds", function() {
                                    return _(Date.prototype.getSeconds.call(this), 2);
                                } ],
                                l: [ "[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function() {
                                    return _(Date.prototype.getMilliseconds.call(this), 3);
                                } ],
                                L: [ "[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function() {
                                    return _(Date.prototype.getMilliseconds.call(this), 2);
                                } ],
                                t: [ "[ap]", y, "ampm", b, 1 ],
                                tt: [ "[ap]m", y, "ampm", b, 2 ],
                                T: [ "[AP]", y, "ampm", b, 1 ],
                                TT: [ "[AP]M", y, "ampm", b, 2 ],
                                Z: [ ".*", void 0, "Z", function() {
                                    var e = this.toString().match(/\((.+)\)/)[1];
                                    e.includes(" ") && (e = (e = e.replace("-", " ").toUpperCase()).split(" ").map((function(e) {
                                        return u(e, 1)[0];
                                    })).join(""));
                                    return e;
                                } ],
                                o: [ "" ],
                                S: [ "" ]
                            }, k = {
                                isoDate: "yyyy-mm-dd",
                                isoTime: "HH:MM:ss",
                                isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
                                isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
                            };
                            function y(e) {
                                var t = this.getHours();
                                e.toLowerCase().includes("p") ? this.setHours(t + 12) : e.toLowerCase().includes("a") && t >= 12 && this.setHours(t - 12);
                            }
                            function b() {
                                var e = this.getHours();
                                return (e = e || 12) >= 12 ? "PM" : "AM";
                            }
                            function x(e) {
                                var t = new RegExp("\\d+$").exec(e[0]);
                                if (t && void 0 !== t[0]) {
                                    var i = g[e[0][0] + "x"].slice("");
                                    return i[0] = i[0](t[0]), i[3] = i[3](t[0]), i;
                                }
                                if (g[e[0]]) return g[e[0]];
                            }
                            function P(e) {
                                if (!e.tokenizer) {
                                    var t = [], i = [];
                                    for (var a in g) if (/\.*x$/.test(a)) {
                                        var n = a[0] + "\\d+";
                                        -1 === i.indexOf(n) && i.push(n);
                                    } else -1 === t.indexOf(a[0]) && t.push(a[0]);
                                    e.tokenizer = "(" + (i.length > 0 ? i.join("|") + "|" : "") + t.join("+|") + ")+?|.", 
                                    e.tokenizer = new RegExp(e.tokenizer, "g");
                                }
                                return e.tokenizer;
                            }
                            function E(e, t, i) {
                                if (!m) return !0;
                                if (void 0 === e.rawday || !isFinite(e.rawday) && new Date(e.date.getFullYear(), isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1, 0).getDate() >= e.day || "29" == e.day && (!isFinite(e.rawyear) || void 0 === e.rawyear || "" === e.rawyear) || new Date(e.date.getFullYear(), isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1, 0).getDate() >= e.day) return t;
                                if ("29" == e.day) {
                                    var a = O(t.pos, i);
                                    if ("yyyy" === a.targetMatch[0] && t.pos - a.targetMatchIndex == 2) return t.remove = t.pos + 1, 
                                    t;
                                } else if ("02" == e.month && "30" == e.day && void 0 !== t.c) return e.day = "03", 
                                e.date.setDate(3), e.date.setMonth(1), t.insert = [ {
                                    pos: t.pos,
                                    c: "0"
                                }, {
                                    pos: t.pos + 1,
                                    c: t.c
                                } ], t.caret = o.seekNext.call(this, t.pos + 1), t;
                                return !1;
                            }
                            function S(e, t, i, a) {
                                var n, o, l = "";
                                for (P(i).lastIndex = 0; n = P(i).exec(e); ) if (void 0 === t) if (o = x(n)) l += "(" + o[0] + ")"; else switch (n[0]) {
                                  case "[":
                                    l += "(";
                                    break;

                                  case "]":
                                    l += ")?";
                                    break;

                                  default:
                                    l += (0, r.default)(n[0]);
                                } else if (o = x(n)) if (!0 !== a && o[3]) l += o[3].call(t.date); else o[2] ? l += t["raw" + o[2]] : l += n[0]; else l += n[0];
                                return l;
                            }
                            function _(e, t, i) {
                                for (e = String(e), t = t || 2; e.length < t; ) e = i ? e + "0" : "0" + e;
                                return e;
                            }
                            function w(e, t, i) {
                                return "string" == typeof e ? new h(e, t, i) : e && "object" === s(e) && Object.prototype.hasOwnProperty.call(e, "date") ? e : void 0;
                            }
                            function M(e, t) {
                                return S(t.inputFormat, {
                                    date: e
                                }, t);
                            }
                            function O(e, t) {
                                var i, a, n = 0, r = 0;
                                for (P(t).lastIndex = 0; a = P(t).exec(t.inputFormat); ) {
                                    var o = new RegExp("\\d+$").exec(a[0]);
                                    if ((n += r = o ? parseInt(o[0]) : a[0].length) >= e + 1) {
                                        i = a, a = P(t).exec(t.inputFormat);
                                        break;
                                    }
                                }
                                return {
                                    targetMatchIndex: n - r,
                                    nextMatch: a,
                                    targetMatch: i
                                };
                            }
                            a.default.extendAliases({
                                datetime: {
                                    mask: function(e) {
                                        return e.numericInput = !1, g.S = e.i18n.ordinalSuffix.join("|"), e.inputFormat = k[e.inputFormat] || e.inputFormat, 
                                        e.displayFormat = k[e.displayFormat] || e.displayFormat || e.inputFormat, e.outputFormat = k[e.outputFormat] || e.outputFormat || e.inputFormat, 
                                        e.placeholder = "" !== e.placeholder ? e.placeholder : e.inputFormat.replace(/[[\]]/, ""), 
                                        e.regex = S(e.inputFormat, void 0, e), e.min = w(e.min, e.inputFormat, e), e.max = w(e.max, e.inputFormat, e), 
                                        null;
                                    },
                                    placeholder: "",
                                    inputFormat: "isoDateTime",
                                    displayFormat: null,
                                    outputFormat: null,
                                    min: null,
                                    max: null,
                                    skipOptionalPartCharacter: "",
                                    i18n: {
                                        dayNames: [ "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday" ],
                                        monthNames: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
                                        ordinalSuffix: [ "st", "nd", "rd", "th" ]
                                    },
                                    preValidation: function(e, t, i, a, n, r, o, l) {
                                        if (l) return !0;
                                        if (isNaN(i) && e[t] !== i) {
                                            var s = O(t, n);
                                            if (s.nextMatch && s.nextMatch[0] === i && s.targetMatch[0].length > 1) {
                                                var u = g[s.targetMatch[0]][0];
                                                if (new RegExp(u).test("0" + e[t - 1])) return e[t] = e[t - 1], e[t - 1] = "0", 
                                                {
                                                    fuzzy: !0,
                                                    buffer: e,
                                                    refreshFromBuffer: {
                                                        start: t - 1,
                                                        end: t + 1
                                                    },
                                                    pos: t + 1
                                                };
                                            }
                                        }
                                        return !0;
                                    },
                                    postValidation: function(e, t, i, a, n, r, o, s) {
                                        var u, c;
                                        if (o) return !0;
                                        if (!1 === a && (((u = O(t + 1, n)).targetMatch && u.targetMatchIndex === t && u.targetMatch[0].length > 1 && void 0 !== g[u.targetMatch[0]] || (u = O(t + 2, n)).targetMatch && u.targetMatchIndex === t + 1 && u.targetMatch[0].length > 1 && void 0 !== g[u.targetMatch[0]]) && (c = g[u.targetMatch[0]][0]), 
                                        void 0 !== c && (void 0 !== r.validPositions[t + 1] && new RegExp(c).test(i + "0") ? (e[t] = i, 
                                        e[t + 1] = "0", a = {
                                            pos: t + 2,
                                            caret: t
                                        }) : new RegExp(c).test("0" + i) && (e[t] = "0", e[t + 1] = i, a = {
                                            pos: t + 2
                                        })), !1 === a)) return a;
                                        if (a.fuzzy && (e = a.buffer, t = a.pos), (u = O(t, n)).targetMatch && u.targetMatch[0] && void 0 !== g[u.targetMatch[0]]) {
                                            var f = g[u.targetMatch[0]];
                                            c = f[0];
                                            var d = e.slice(u.targetMatchIndex, u.targetMatchIndex + u.targetMatch[0].length);
                                            if (!1 === new RegExp(c).test(d.join("")) && 2 === u.targetMatch[0].length && r.validPositions[u.targetMatchIndex] && r.validPositions[u.targetMatchIndex + 1] && (r.validPositions[u.targetMatchIndex + 1].input = "0"), 
                                            "year" == f[2]) for (var p = l.getMaskTemplate.call(this, !1, 1, void 0, !0), h = t + 1; h < e.length; h++) e[h] = p[h], 
                                            delete r.validPositions[h];
                                        }
                                        var m = a, k = w(e.join(""), n.inputFormat, n);
                                        return m && k.date.getTime() == k.date.getTime() && (n.prefillYear && (m = function(e, t, i) {
                                            if (e.year !== e.rawyear) {
                                                var a = v.toString(), n = e.rawyear.replace(/[^0-9]/g, ""), r = a.slice(0, n.length), o = a.slice(n.length);
                                                if (2 === n.length && n === r) {
                                                    var l = new Date(v, e.month - 1, e.day);
                                                    e.day == l.getDate() && (!i.max || i.max.date.getTime() >= l.getTime()) && (e.date.setFullYear(v), 
                                                    e.year = a, t.insert = [ {
                                                        pos: t.pos + 1,
                                                        c: o[0]
                                                    }, {
                                                        pos: t.pos + 2,
                                                        c: o[1]
                                                    } ]);
                                                }
                                            }
                                            return t;
                                        }(k, m, n)), m = function(e, t, i, a, n) {
                                            if (!t) return t;
                                            if (t && i.min && i.min.date.getTime() == i.min.date.getTime()) {
                                                var r;
                                                for (e.reset(), P(i).lastIndex = 0; r = P(i).exec(i.inputFormat); ) {
                                                    var o;
                                                    if ((o = x(r)) && o[3]) {
                                                        for (var l = o[1], s = e[o[2]], u = i.min[o[2]], c = i.max ? i.max[o[2]] : u, f = [], d = !1, p = 0; p < u.length; p++) void 0 !== a.validPositions[p + r.index] || d ? (f[p] = s[p], 
                                                        d = d || s[p] > u[p]) : (f[p] = u[p], "year" === o[2] && s.length - 1 == p && u != c && (f = (parseInt(f.join("")) + 1).toString().split("")), 
                                                        "ampm" === o[2] && u != c && i.min.date.getTime() > e.date.getTime() && (f[p] = c[p]));
                                                        l.call(e._date, f.join(""));
                                                    }
                                                }
                                                t = i.min.date.getTime() <= e.date.getTime(), e.reInit();
                                            }
                                            return t && i.max && i.max.date.getTime() == i.max.date.getTime() && (t = i.max.date.getTime() >= e.date.getTime()), 
                                            t;
                                        }(k, m = E.call(this, k, m, n), n, r)), void 0 !== t && m && a.pos !== t ? {
                                            buffer: S(n.inputFormat, k, n).split(""),
                                            refreshFromBuffer: {
                                                start: t,
                                                end: a.pos
                                            },
                                            pos: a.caret || a.pos
                                        } : m;
                                    },
                                    onKeyDown: function(e, t, i, a) {
                                        e.ctrlKey && e.keyCode === n.default.RIGHT && (this.inputmask._valueSet(M(new Date, a)), 
                                        p(this).trigger("setvalue"));
                                    },
                                    onUnMask: function(e, t, i) {
                                        return t ? S(i.outputFormat, w(e, i.inputFormat, i), i, !0) : t;
                                    },
                                    casing: function(e, t, i, a) {
                                        return 0 == t.nativeDef.indexOf("[ap]") ? e.toLowerCase() : 0 == t.nativeDef.indexOf("[AP]") ? e.toUpperCase() : e;
                                    },
                                    onBeforeMask: function(e, t) {
                                        return "[object Date]" === Object.prototype.toString.call(e) && (e = M(e, t)), e;
                                    },
                                    insertMode: !1,
                                    shiftPositions: !1,
                                    keepStatic: !1,
                                    inputmode: "numeric",
                                    prefillYear: !0
                                }
                            });
                        },
                        3851: function(e, t, i) {
                            var a, n = (a = i(2394)) && a.__esModule ? a : {
                                default: a
                            }, r = i(8711), o = i(4713);
                            n.default.extendDefinitions({
                                A: {
                                    validator: "[A-Za-zА-яЁёÀ-ÿµ]",
                                    casing: "upper"
                                },
                                "&": {
                                    validator: "[0-9A-Za-zА-яЁёÀ-ÿµ]",
                                    casing: "upper"
                                },
                                "#": {
                                    validator: "[0-9A-Fa-f]",
                                    casing: "upper"
                                }
                            });
                            var l = new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");
                            function s(e, t, i, a, n) {
                                return i - 1 > -1 && "." !== t.buffer[i - 1] ? (e = t.buffer[i - 1] + e, e = i - 2 > -1 && "." !== t.buffer[i - 2] ? t.buffer[i - 2] + e : "0" + e) : e = "00" + e, 
                                l.test(e);
                            }
                            n.default.extendAliases({
                                cssunit: {
                                    regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"
                                },
                                url: {
                                    regex: "(https?|ftp)://.*",
                                    autoUnmask: !1,
                                    keepStatic: !1,
                                    tabThrough: !0
                                },
                                ip: {
                                    mask: "i{1,3}.j{1,3}.k{1,3}.l{1,3}",
                                    definitions: {
                                        i: {
                                            validator: s
                                        },
                                        j: {
                                            validator: s
                                        },
                                        k: {
                                            validator: s
                                        },
                                        l: {
                                            validator: s
                                        }
                                    },
                                    onUnMask: function(e, t, i) {
                                        return e;
                                    },
                                    inputmode: "decimal",
                                    substitutes: {
                                        ",": "."
                                    }
                                },
                                email: {
                                    mask: function(e) {
                                        var t = "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]", i = t;
                                        if (e.separator) for (var a = 0; a < e.quantifier; a++) i += "[".concat(e.separator).concat(t, "]");
                                        return i;
                                    },
                                    greedy: !1,
                                    casing: "lower",
                                    separator: null,
                                    quantifier: 5,
                                    skipOptionalPartCharacter: "",
                                    onBeforePaste: function(e, t) {
                                        return (e = e.toLowerCase()).replace("mailto:", "");
                                    },
                                    definitions: {
                                        "*": {
                                            validator: "[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"
                                        },
                                        "-": {
                                            validator: "[0-9A-Za-z-]"
                                        }
                                    },
                                    onUnMask: function(e, t, i) {
                                        return e;
                                    },
                                    inputmode: "email"
                                },
                                mac: {
                                    mask: "##:##:##:##:##:##"
                                },
                                vin: {
                                    mask: "V{13}9{4}",
                                    definitions: {
                                        V: {
                                            validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                                            casing: "upper"
                                        }
                                    },
                                    clearIncomplete: !0,
                                    autoUnmask: !0
                                },
                                ssn: {
                                    mask: "999-99-9999",
                                    postValidation: function(e, t, i, a, n, l, s) {
                                        var u = o.getMaskTemplate.call(this, !0, r.getLastValidPosition.call(this), !0, !0);
                                        return /^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(u.join(""));
                                    }
                                }
                            });
                        },
                        207: function(e, t, i) {
                            var a = l(i(2394)), n = l(i(5581)), r = l(i(7184)), o = i(8711);
                            function l(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var s = a.default.dependencyLib;
                            function u(e, t) {
                                for (var i = "", n = 0; n < e.length; n++) a.default.prototype.definitions[e.charAt(n)] || t.definitions[e.charAt(n)] || t.optionalmarker[0] === e.charAt(n) || t.optionalmarker[1] === e.charAt(n) || t.quantifiermarker[0] === e.charAt(n) || t.quantifiermarker[1] === e.charAt(n) || t.groupmarker[0] === e.charAt(n) || t.groupmarker[1] === e.charAt(n) || t.alternatormarker === e.charAt(n) ? i += "\\" + e.charAt(n) : i += e.charAt(n);
                                return i;
                            }
                            function c(e, t, i, a) {
                                if (e.length > 0 && t > 0 && (!i.digitsOptional || a)) {
                                    var n = e.indexOf(i.radixPoint), r = !1;
                                    i.negationSymbol.back === e[e.length - 1] && (r = !0, e.length--), -1 === n && (e.push(i.radixPoint), 
                                    n = e.length - 1);
                                    for (var o = 1; o <= t; o++) isFinite(e[n + o]) || (e[n + o] = "0");
                                }
                                return r && e.push(i.negationSymbol.back), e;
                            }
                            function f(e, t) {
                                var i = 0;
                                if ("+" === e) {
                                    for (i in t.validPositions) ;
                                    i = o.seekNext.call(this, parseInt(i));
                                }
                                for (var a in t.tests) if ((a = parseInt(a)) >= i) for (var n = 0, r = t.tests[a].length; n < r; n++) if ((void 0 === t.validPositions[a] || "-" === e) && t.tests[a][n].match.def === e) return a + (void 0 !== t.validPositions[a] && "-" !== e ? 1 : 0);
                                return i;
                            }
                            function d(e, t) {
                                var i = -1;
                                for (var a in t.validPositions) {
                                    var n = t.validPositions[a];
                                    if (n && n.match.def === e) {
                                        i = parseInt(a);
                                        break;
                                    }
                                }
                                return i;
                            }
                            function p(e, t, i, a, n) {
                                var r = t.buffer ? t.buffer.indexOf(n.radixPoint) : -1, o = (-1 !== r || a && n.jitMasking) && new RegExp(n.definitions[9].validator).test(e);
                                return n._radixDance && -1 !== r && o && null == t.validPositions[r] ? {
                                    insert: {
                                        pos: r === i ? r + 1 : r,
                                        c: n.radixPoint
                                    },
                                    pos: i
                                } : o;
                            }
                            a.default.extendAliases({
                                numeric: {
                                    mask: function(e) {
                                        e.repeat = 0, e.groupSeparator === e.radixPoint && e.digits && "0" !== e.digits && ("." === e.radixPoint ? e.groupSeparator = "," : "," === e.radixPoint ? e.groupSeparator = "." : e.groupSeparator = ""), 
                                        " " === e.groupSeparator && (e.skipOptionalPartCharacter = void 0), e.placeholder.length > 1 && (e.placeholder = e.placeholder.charAt(0)), 
                                        "radixFocus" === e.positionCaretOnClick && "" === e.placeholder && (e.positionCaretOnClick = "lvp");
                                        var t = "0", i = e.radixPoint;
                                        !0 === e.numericInput && void 0 === e.__financeInput ? (t = "1", e.positionCaretOnClick = "radixFocus" === e.positionCaretOnClick ? "lvp" : e.positionCaretOnClick, 
                                        e.digitsOptional = !1, isNaN(e.digits) && (e.digits = 2), e._radixDance = !1, i = "," === e.radixPoint ? "?" : "!", 
                                        "" !== e.radixPoint && void 0 === e.definitions[i] && (e.definitions[i] = {}, e.definitions[i].validator = "[" + e.radixPoint + "]", 
                                        e.definitions[i].placeholder = e.radixPoint, e.definitions[i].static = !0, e.definitions[i].generated = !0)) : (e.__financeInput = !1, 
                                        e.numericInput = !0);
                                        var a, n = "[+]";
                                        if (n += u(e.prefix, e), "" !== e.groupSeparator ? (void 0 === e.definitions[e.groupSeparator] && (e.definitions[e.groupSeparator] = {}, 
                                        e.definitions[e.groupSeparator].validator = "[" + e.groupSeparator + "]", e.definitions[e.groupSeparator].placeholder = e.groupSeparator, 
                                        e.definitions[e.groupSeparator].static = !0, e.definitions[e.groupSeparator].generated = !0), 
                                        n += e._mask(e)) : n += "9{+}", void 0 !== e.digits && 0 !== e.digits) {
                                            var o = e.digits.toString().split(",");
                                            isFinite(o[0]) && o[1] && isFinite(o[1]) ? n += i + t + "{" + e.digits + "}" : (isNaN(e.digits) || parseInt(e.digits) > 0) && (e.digitsOptional || e.jitMasking ? (a = n + i + t + "{0," + e.digits + "}", 
                                            e.keepStatic = !0) : n += i + t + "{" + e.digits + "}");
                                        } else e.inputmode = "numeric";
                                        return n += u(e.suffix, e), n += "[-]", a && (n = [ a + u(e.suffix, e) + "[-]", n ]), 
                                        e.greedy = !1, function(e) {
                                            void 0 === e.parseMinMaxOptions && (null !== e.min && (e.min = e.min.toString().replace(new RegExp((0, 
                                            r.default)(e.groupSeparator), "g"), ""), "," === e.radixPoint && (e.min = e.min.replace(e.radixPoint, ".")), 
                                            e.min = isFinite(e.min) ? parseFloat(e.min) : NaN, isNaN(e.min) && (e.min = Number.MIN_VALUE)), 
                                            null !== e.max && (e.max = e.max.toString().replace(new RegExp((0, r.default)(e.groupSeparator), "g"), ""), 
                                            "," === e.radixPoint && (e.max = e.max.replace(e.radixPoint, ".")), e.max = isFinite(e.max) ? parseFloat(e.max) : NaN, 
                                            isNaN(e.max) && (e.max = Number.MAX_VALUE)), e.parseMinMaxOptions = "done");
                                        }(e), "" !== e.radixPoint && (e.substitutes["." == e.radixPoint ? "," : "."] = e.radixPoint), 
                                        n;
                                    },
                                    _mask: function(e) {
                                        return "(" + e.groupSeparator + "999){+|1}";
                                    },
                                    digits: "*",
                                    digitsOptional: !0,
                                    enforceDigitsOnBlur: !1,
                                    radixPoint: ".",
                                    positionCaretOnClick: "radixFocus",
                                    _radixDance: !0,
                                    groupSeparator: "",
                                    allowMinus: !0,
                                    negationSymbol: {
                                        front: "-",
                                        back: ""
                                    },
                                    prefix: "",
                                    suffix: "",
                                    min: null,
                                    max: null,
                                    SetMaxOnOverflow: !1,
                                    step: 1,
                                    inputType: "text",
                                    unmaskAsNumber: !1,
                                    roundingFN: Math.round,
                                    inputmode: "decimal",
                                    shortcuts: {
                                        k: "1000",
                                        m: "1000000"
                                    },
                                    placeholder: "0",
                                    greedy: !1,
                                    rightAlign: !0,
                                    insertMode: !0,
                                    autoUnmask: !1,
                                    skipOptionalPartCharacter: "",
                                    usePrototypeDefinitions: !1,
                                    stripLeadingZeroes: !0,
                                    definitions: {
                                        0: {
                                            validator: p
                                        },
                                        1: {
                                            validator: p,
                                            definitionSymbol: "9"
                                        },
                                        9: {
                                            validator: "[0-9０-９٠-٩۰-۹]",
                                            definitionSymbol: "*"
                                        },
                                        "+": {
                                            validator: function(e, t, i, a, n) {
                                                return n.allowMinus && ("-" === e || e === n.negationSymbol.front);
                                            }
                                        },
                                        "-": {
                                            validator: function(e, t, i, a, n) {
                                                return n.allowMinus && e === n.negationSymbol.back;
                                            }
                                        }
                                    },
                                    preValidation: function(e, t, i, a, n, r, o, l) {
                                        if (!1 !== n.__financeInput && i === n.radixPoint) return !1;
                                        var s = e.indexOf(n.radixPoint), u = t;
                                        if (t = function(e, t, i, a, n) {
                                            return n._radixDance && n.numericInput && t !== n.negationSymbol.back && e <= i && (i > 0 || t == n.radixPoint) && (void 0 === a.validPositions[e - 1] || a.validPositions[e - 1].input !== n.negationSymbol.back) && (e -= 1), 
                                            e;
                                        }(t, i, s, r, n), "-" === i || i === n.negationSymbol.front) {
                                            if (!0 !== n.allowMinus) return !1;
                                            var c = !1, p = d("+", r), h = d("-", r);
                                            return -1 !== p && (c = [ p, h ]), !1 !== c ? {
                                                remove: c,
                                                caret: u - n.negationSymbol.back.length
                                            } : {
                                                insert: [ {
                                                    pos: f.call(this, "+", r),
                                                    c: n.negationSymbol.front,
                                                    fromIsValid: !0
                                                }, {
                                                    pos: f.call(this, "-", r),
                                                    c: n.negationSymbol.back,
                                                    fromIsValid: void 0
                                                } ],
                                                caret: u + n.negationSymbol.back.length
                                            };
                                        }
                                        if (i === n.groupSeparator) return {
                                            caret: u
                                        };
                                        if (l) return !0;
                                        if (-1 !== s && !0 === n._radixDance && !1 === a && i === n.radixPoint && void 0 !== n.digits && (isNaN(n.digits) || parseInt(n.digits) > 0) && s !== t) return {
                                            caret: n._radixDance && t === s - 1 ? s + 1 : s
                                        };
                                        if (!1 === n.__financeInput) if (a) {
                                            if (n.digitsOptional) return {
                                                rewritePosition: o.end
                                            };
                                            if (!n.digitsOptional) {
                                                if (o.begin > s && o.end <= s) return i === n.radixPoint ? {
                                                    insert: {
                                                        pos: s + 1,
                                                        c: "0",
                                                        fromIsValid: !0
                                                    },
                                                    rewritePosition: s
                                                } : {
                                                    rewritePosition: s + 1
                                                };
                                                if (o.begin < s) return {
                                                    rewritePosition: o.begin - 1
                                                };
                                            }
                                        } else if (!n.showMaskOnHover && !n.showMaskOnFocus && !n.digitsOptional && n.digits > 0 && "" === this.__valueGet.call(this.el)) return {
                                            rewritePosition: s
                                        };
                                        return {
                                            rewritePosition: t
                                        };
                                    },
                                    postValidation: function(e, t, i, a, n, r, o) {
                                        if (!1 === a) return a;
                                        if (o) return !0;
                                        if (null !== n.min || null !== n.max) {
                                            var l = n.onUnMask(e.slice().reverse().join(""), void 0, s.extend({}, n, {
                                                unmaskAsNumber: !0
                                            }));
                                            if (null !== n.min && l < n.min && (l.toString().length > n.min.toString().length || l < 0)) return !1;
                                            if (null !== n.max && l > n.max) return !!n.SetMaxOnOverflow && {
                                                refreshFromBuffer: !0,
                                                buffer: c(n.max.toString().replace(".", n.radixPoint).split(""), n.digits, n).reverse()
                                            };
                                        }
                                        return a;
                                    },
                                    onUnMask: function(e, t, i) {
                                        if ("" === t && !0 === i.nullable) return t;
                                        var a = e.replace(i.prefix, "");
                                        return a = (a = a.replace(i.suffix, "")).replace(new RegExp((0, r.default)(i.groupSeparator), "g"), ""), 
                                        "" !== i.placeholder.charAt(0) && (a = a.replace(new RegExp(i.placeholder.charAt(0), "g"), "0")), 
                                        i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== a.indexOf(i.radixPoint) && (a = a.replace(r.default.call(this, i.radixPoint), ".")), 
                                        a = (a = a.replace(new RegExp("^" + (0, r.default)(i.negationSymbol.front)), "-")).replace(new RegExp((0, 
                                        r.default)(i.negationSymbol.back) + "$"), ""), Number(a)) : a;
                                    },
                                    isComplete: function(e, t) {
                                        var i = (t.numericInput ? e.slice().reverse() : e).join("");
                                        return i = (i = (i = (i = (i = i.replace(new RegExp("^" + (0, r.default)(t.negationSymbol.front)), "-")).replace(new RegExp((0, 
                                        r.default)(t.negationSymbol.back) + "$"), "")).replace(t.prefix, "")).replace(t.suffix, "")).replace(new RegExp((0, 
                                        r.default)(t.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === t.radixPoint && (i = i.replace((0, 
                                        r.default)(t.radixPoint), ".")), isFinite(i);
                                    },
                                    onBeforeMask: function(e, t) {
                                        var i = t.radixPoint || ",";
                                        isFinite(t.digits) && (t.digits = parseInt(t.digits)), "number" != typeof e && "number" !== t.inputType || "" === i || (e = e.toString().replace(".", i));
                                        var a = "-" === e.charAt(0) || e.charAt(0) === t.negationSymbol.front, n = e.split(i), o = n[0].replace(/[^\-0-9]/g, ""), l = n.length > 1 ? n[1].replace(/[^0-9]/g, "") : "", s = n.length > 1;
                                        e = o + ("" !== l ? i + l : l);
                                        var u = 0;
                                        if ("" !== i && (u = t.digitsOptional ? t.digits < l.length ? t.digits : l.length : t.digits, 
                                        "" !== l || !t.digitsOptional)) {
                                            var f = Math.pow(10, u || 1);
                                            e = e.replace((0, r.default)(i), "."), isNaN(parseFloat(e)) || (e = (t.roundingFN(parseFloat(e) * f) / f).toFixed(u)), 
                                            e = e.toString().replace(".", i);
                                        }
                                        if (0 === t.digits && -1 !== e.indexOf(i) && (e = e.substring(0, e.indexOf(i))), 
                                        null !== t.min || null !== t.max) {
                                            var d = e.toString().replace(i, ".");
                                            null !== t.min && d < t.min ? e = t.min.toString().replace(".", i) : null !== t.max && d > t.max && (e = t.max.toString().replace(".", i));
                                        }
                                        return a && "-" !== e.charAt(0) && (e = "-" + e), c(e.toString().split(""), u, t, s).join("");
                                    },
                                    onBeforeWrite: function(e, t, i, a) {
                                        function n(e, t) {
                                            if (!1 !== a.__financeInput || t) {
                                                var i = e.indexOf(a.radixPoint);
                                                -1 !== i && e.splice(i, 1);
                                            }
                                            if ("" !== a.groupSeparator) for (;-1 !== (i = e.indexOf(a.groupSeparator)); ) e.splice(i, 1);
                                            return e;
                                        }
                                        var o, l;
                                        if (a.stripLeadingZeroes && (l = function(e, t) {
                                            var i = new RegExp("(^" + ("" !== t.negationSymbol.front ? (0, r.default)(t.negationSymbol.front) + "?" : "") + (0, 
                                            r.default)(t.prefix) + ")(.*)(" + (0, r.default)(t.suffix) + ("" != t.negationSymbol.back ? (0, 
                                            r.default)(t.negationSymbol.back) + "?" : "") + "$)").exec(e.slice().reverse().join("")), a = i ? i[2] : "", n = !1;
                                            return a && (a = a.split(t.radixPoint.charAt(0))[0], n = new RegExp("^[0" + t.groupSeparator + "]*").exec(a)), 
                                            !(!n || !(n[0].length > 1 || n[0].length > 0 && n[0].length < a.length)) && n;
                                        }(t, a))) for (var u = t.join("").lastIndexOf(l[0].split("").reverse().join("")) - (l[0] == l.input ? 0 : 1), f = l[0] == l.input ? 1 : 0, d = l[0].length - f; d > 0; d--) delete this.maskset.validPositions[u + d], 
                                        delete t[u + d];
                                        if (e) switch (e.type) {
                                          case "blur":
                                          case "checkval":
                                            if (null !== a.min) {
                                                var p = a.onUnMask(t.slice().reverse().join(""), void 0, s.extend({}, a, {
                                                    unmaskAsNumber: !0
                                                }));
                                                if (null !== a.min && p < a.min) return {
                                                    refreshFromBuffer: !0,
                                                    buffer: c(a.min.toString().replace(".", a.radixPoint).split(""), a.digits, a).reverse()
                                                };
                                            }
                                            if (t[t.length - 1] === a.negationSymbol.front) {
                                                var h = new RegExp("(^" + ("" != a.negationSymbol.front ? (0, r.default)(a.negationSymbol.front) + "?" : "") + (0, 
                                                r.default)(a.prefix) + ")(.*)(" + (0, r.default)(a.suffix) + ("" != a.negationSymbol.back ? (0, 
                                                r.default)(a.negationSymbol.back) + "?" : "") + "$)").exec(n(t.slice(), !0).reverse().join(""));
                                                0 == (h ? h[2] : "") && (o = {
                                                    refreshFromBuffer: !0,
                                                    buffer: [ 0 ]
                                                });
                                            } else if ("" !== a.radixPoint) t.indexOf(a.radixPoint) === a.suffix.length && (o && o.buffer ? o.buffer.splice(0, 1 + a.suffix.length) : (t.splice(0, 1 + a.suffix.length), 
                                            o = {
                                                refreshFromBuffer: !0,
                                                buffer: n(t)
                                            }));
                                            if (a.enforceDigitsOnBlur) {
                                                var v = (o = o || {}) && o.buffer || t.slice().reverse();
                                                o.refreshFromBuffer = !0, o.buffer = c(v, a.digits, a, !0).reverse();
                                            }
                                        }
                                        return o;
                                    },
                                    onKeyDown: function(e, t, i, a) {
                                        var r, o, l = s(this), u = String.fromCharCode(e.keyCode).toLowerCase();
                                        if ((o = a.shortcuts && a.shortcuts[u]) && o.length > 1) return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) * parseInt(o)), 
                                        l.trigger("setvalue"), !1;
                                        if (e.ctrlKey) switch (e.keyCode) {
                                          case n.default.UP:
                                            return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) + parseInt(a.step)), 
                                            l.trigger("setvalue"), !1;

                                          case n.default.DOWN:
                                            return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) - parseInt(a.step)), 
                                            l.trigger("setvalue"), !1;
                                        }
                                        if (!e.shiftKey && (e.keyCode === n.default.DELETE || e.keyCode === n.default.BACKSPACE || e.keyCode === n.default.BACKSPACE_SAFARI) && i.begin !== t.length) {
                                            if (t[e.keyCode === n.default.DELETE ? i.begin - 1 : i.end] === a.negationSymbol.front) return r = t.slice().reverse(), 
                                            "" !== a.negationSymbol.front && r.shift(), "" !== a.negationSymbol.back && r.pop(), 
                                            l.trigger("setvalue", [ r.join(""), i.begin ]), !1;
                                            if (!0 === a._radixDance) {
                                                var f = t.indexOf(a.radixPoint);
                                                if (a.digitsOptional) {
                                                    if (0 === f) return (r = t.slice().reverse()).pop(), l.trigger("setvalue", [ r.join(""), i.begin >= r.length ? r.length : i.begin ]), 
                                                    !1;
                                                } else if (-1 !== f && (i.begin < f || i.end < f || e.keyCode === n.default.DELETE && i.begin === f)) return i.begin !== i.end || e.keyCode !== n.default.BACKSPACE && e.keyCode !== n.default.BACKSPACE_SAFARI || i.begin++, 
                                                (r = t.slice().reverse()).splice(r.length - i.begin, i.begin - i.end + 1), r = c(r, a.digits, a).join(""), 
                                                l.trigger("setvalue", [ r, i.begin >= r.length ? f + 1 : i.begin ]), !1;
                                            }
                                        }
                                    }
                                },
                                currency: {
                                    prefix: "",
                                    groupSeparator: ",",
                                    alias: "numeric",
                                    digits: 2,
                                    digitsOptional: !1
                                },
                                decimal: {
                                    alias: "numeric"
                                },
                                integer: {
                                    alias: "numeric",
                                    inputmode: "numeric",
                                    digits: 0
                                },
                                percentage: {
                                    alias: "numeric",
                                    min: 0,
                                    max: 100,
                                    suffix: " %",
                                    digits: 0,
                                    allowMinus: !1
                                },
                                indianns: {
                                    alias: "numeric",
                                    _mask: function(e) {
                                        return "(" + e.groupSeparator + "99){*|1}(" + e.groupSeparator + "999){1|1}";
                                    },
                                    groupSeparator: ",",
                                    radixPoint: ".",
                                    placeholder: "0",
                                    digits: 2,
                                    digitsOptional: !1
                                }
                            });
                        },
                        9380: function(e, t, i) {
                            var a;
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0;
                            var n = ((a = i(8741)) && a.__esModule ? a : {
                                default: a
                            }).default ? window : {};
                            t.default = n;
                        },
                        7760: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.HandleNativePlaceholder = function(e, t) {
                                var i = e ? e.inputmask : this;
                                if (s.ie) {
                                    if (e.inputmask._valueGet() !== t && (e.placeholder !== t || "" === e.placeholder)) {
                                        var a = o.getBuffer.call(i).slice(), n = e.inputmask._valueGet();
                                        if (n !== t) {
                                            var r = o.getLastValidPosition.call(i);
                                            -1 === r && n === o.getBufferTemplate.call(i).join("") ? a = [] : -1 !== r && f.call(i, a), 
                                            p(e, a);
                                        }
                                    }
                                } else e.placeholder !== t && (e.placeholder = t, "" === e.placeholder && e.removeAttribute("placeholder"));
                            }, t.applyInputValue = c, t.checkVal = d, t.clearOptionalTail = f, t.unmaskedvalue = function(e) {
                                var t = e ? e.inputmask : this, i = t.opts, a = t.maskset;
                                if (e) {
                                    if (void 0 === e.inputmask) return e.value;
                                    e.inputmask && e.inputmask.refreshValue && c(e, e.inputmask._valueGet(!0));
                                }
                                var n = [], r = a.validPositions;
                                for (var l in r) r[l] && r[l].match && (1 != r[l].match.static || Array.isArray(a.metadata) && !0 !== r[l].generatedInput) && n.push(r[l].input);
                                var s = 0 === n.length ? "" : (t.isRTL ? n.reverse() : n).join("");
                                if ("function" == typeof i.onUnMask) {
                                    var u = (t.isRTL ? o.getBuffer.call(t).slice().reverse() : o.getBuffer.call(t)).join("");
                                    s = i.onUnMask.call(t, u, s, i);
                                }
                                return s;
                            }, t.writeBuffer = p;
                            var a, n = (a = i(5581)) && a.__esModule ? a : {
                                default: a
                            }, r = i(4713), o = i(8711), l = i(7215), s = i(9845), u = i(6030);
                            function c(e, t) {
                                var i = e ? e.inputmask : this, a = i.opts;
                                e.inputmask.refreshValue = !1, "function" == typeof a.onBeforeMask && (t = a.onBeforeMask.call(i, t, a) || t), 
                                d(e, !0, !1, t = t.toString().split("")), i.undoValue = i._valueGet(!0), (a.clearMaskOnLostFocus || a.clearIncomplete) && e.inputmask._valueGet() === o.getBufferTemplate.call(i).join("") && -1 === o.getLastValidPosition.call(i) && e.inputmask._valueSet("");
                            }
                            function f(e) {
                                e.length = 0;
                                for (var t, i = r.getMaskTemplate.call(this, !0, 0, !0, void 0, !0); void 0 !== (t = i.shift()); ) e.push(t);
                                return e;
                            }
                            function d(e, t, i, a, n) {
                                var s = e ? e.inputmask : this, c = s.maskset, f = s.opts, d = s.dependencyLib, h = a.slice(), v = "", m = -1, g = void 0, k = f.skipOptionalPartCharacter;
                                f.skipOptionalPartCharacter = "", o.resetMaskSet.call(s), c.tests = {}, m = f.radixPoint ? o.determineNewCaretPosition.call(s, {
                                    begin: 0,
                                    end: 0
                                }, !1, !1 === f.__financeInput ? "radixFocus" : void 0).begin : 0, c.p = m, s.caretPos = {
                                    begin: m
                                };
                                var y = [], b = s.caretPos;
                                if (h.forEach((function(e, t) {
                                    if (void 0 !== e) {
                                        var a = new d.Event("_checkval");
                                        a.keyCode = e.toString().charCodeAt(0), v += e;
                                        var n = o.getLastValidPosition.call(s, void 0, !0);
                                        !function(e, t) {
                                            for (var i = r.getMaskTemplate.call(s, !0, 0).slice(e, o.seekNext.call(s, e, !1, !1)).join("").replace(/'/g, ""), a = i.indexOf(t); a > 0 && " " === i[a - 1]; ) a--;
                                            var n = 0 === a && !o.isMask.call(s, e) && (r.getTest.call(s, e).match.nativeDef === t.charAt(0) || !0 === r.getTest.call(s, e).match.static && r.getTest.call(s, e).match.nativeDef === "'" + t.charAt(0) || " " === r.getTest.call(s, e).match.nativeDef && (r.getTest.call(s, e + 1).match.nativeDef === t.charAt(0) || !0 === r.getTest.call(s, e + 1).match.static && r.getTest.call(s, e + 1).match.nativeDef === "'" + t.charAt(0)));
                                            if (!n && a > 0 && !o.isMask.call(s, e, !1, !0)) {
                                                var l = o.seekNext.call(s, e);
                                                s.caretPos.begin < l && (s.caretPos = {
                                                    begin: l
                                                });
                                            }
                                            return n;
                                        }(m, v) ? (g = u.EventHandlers.keypressEvent.call(s, a, !0, !1, i, s.caretPos.begin)) && (m = s.caretPos.begin + 1, 
                                        v = "") : g = u.EventHandlers.keypressEvent.call(s, a, !0, !1, i, n + 1), g ? (void 0 !== g.pos && c.validPositions[g.pos] && !0 === c.validPositions[g.pos].match.static && void 0 === c.validPositions[g.pos].alternation && (y.push(g.pos), 
                                        s.isRTL || (g.forwardPosition = g.pos + 1)), p.call(s, void 0, o.getBuffer.call(s), g.forwardPosition, a, !1), 
                                        s.caretPos = {
                                            begin: g.forwardPosition,
                                            end: g.forwardPosition
                                        }, b = s.caretPos) : void 0 === c.validPositions[t] && h[t] === r.getPlaceholder.call(s, t) && o.isMask.call(s, t, !0) ? s.caretPos.begin++ : s.caretPos = b;
                                    }
                                })), y.length > 0) {
                                    var x, P, E = o.seekNext.call(s, -1, void 0, !1);
                                    if (!l.isComplete.call(s, o.getBuffer.call(s)) && y.length <= E || l.isComplete.call(s, o.getBuffer.call(s)) && y.length > 0 && y.length !== E && 0 === y[0]) for (var S = E; void 0 !== (x = y.shift()); ) {
                                        var _ = new d.Event("_checkval");
                                        if ((P = c.validPositions[x]).generatedInput = !0, _.keyCode = P.input.charCodeAt(0), 
                                        (g = u.EventHandlers.keypressEvent.call(s, _, !0, !1, i, S)) && void 0 !== g.pos && g.pos !== x && c.validPositions[g.pos] && !0 === c.validPositions[g.pos].match.static) y.push(g.pos); else if (!g) break;
                                        S++;
                                    }
                                }
                                t && p.call(s, e, o.getBuffer.call(s), g ? g.forwardPosition : s.caretPos.begin, n || new d.Event("checkval"), n && ("input" === n.type && s.undoValue !== o.getBuffer.call(s).join("") || "paste" === n.type)), 
                                f.skipOptionalPartCharacter = k;
                            }
                            function p(e, t, i, a, r) {
                                var s = e ? e.inputmask : this, u = s.opts, c = s.dependencyLib;
                                if (a && "function" == typeof u.onBeforeWrite) {
                                    var f = u.onBeforeWrite.call(s, a, t, i, u);
                                    if (f) {
                                        if (f.refreshFromBuffer) {
                                            var d = f.refreshFromBuffer;
                                            l.refreshFromBuffer.call(s, !0 === d ? d : d.start, d.end, f.buffer || t), t = o.getBuffer.call(s, !0);
                                        }
                                        void 0 !== i && (i = void 0 !== f.caret ? f.caret : i);
                                    }
                                }
                                if (void 0 !== e && (e.inputmask._valueSet(t.join("")), void 0 === i || void 0 !== a && "blur" === a.type || o.caret.call(s, e, i, void 0, void 0, void 0 !== a && "keydown" === a.type && (a.keyCode === n.default.DELETE || a.keyCode === n.default.BACKSPACE)), 
                                !0 === r)) {
                                    var p = c(e), h = e.inputmask._valueGet();
                                    e.inputmask.skipInputEvent = !0, p.trigger("input"), setTimeout((function() {
                                        h === o.getBufferTemplate.call(s).join("") ? p.trigger("cleared") : !0 === l.isComplete.call(s, t) && p.trigger("complete");
                                    }), 0);
                                }
                            }
                        },
                        2394: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = void 0, i(7149), i(3194);
                            var a = i(157), n = m(i(4963)), r = m(i(9380)), o = i(2391), l = i(4713), s = i(8711), u = i(7215), c = i(7760), f = i(9716), d = m(i(7392)), p = m(i(3976)), h = m(i(8741));
                            function v(e) {
                                return v = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e;
                                } : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                                }, v(e);
                            }
                            function m(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var g = r.default.document, k = "_inputmask_opts";
                            function y(e, t, i) {
                                if (h.default) {
                                    if (!(this instanceof y)) return new y(e, t, i);
                                    this.dependencyLib = n.default, this.el = void 0, this.events = {}, this.maskset = void 0, 
                                    !0 !== i && ("[object Object]" === Object.prototype.toString.call(e) ? t = e : (t = t || {}, 
                                    e && (t.alias = e)), this.opts = n.default.extend(!0, {}, this.defaults, t), this.noMasksCache = t && void 0 !== t.definitions, 
                                    this.userOptions = t || {}, b(this.opts.alias, t, this.opts)), this.refreshValue = !1, 
                                    this.undoValue = void 0, this.$el = void 0, this.skipKeyPressEvent = !1, this.skipInputEvent = !1, 
                                    this.validationEvent = !1, this.ignorable = !1, this.maxLength, this.mouseEnter = !1, 
                                    this.originalPlaceholder = void 0, this.isComposing = !1;
                                }
                            }
                            function b(e, t, i) {
                                var a = y.prototype.aliases[e];
                                return a ? (a.alias && b(a.alias, void 0, i), n.default.extend(!0, i, a), n.default.extend(!0, i, t), 
                                !0) : (null === i.mask && (i.mask = e), !1);
                            }
                            y.prototype = {
                                dataAttribute: "data-inputmask",
                                defaults: p.default,
                                definitions: d.default,
                                aliases: {},
                                masksCache: {},
                                get isRTL() {
                                    return this.opts.isRTL || this.opts.numericInput;
                                },
                                mask: function(e) {
                                    var t = this;
                                    return "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)), 
                                    (e = e.nodeName ? [ e ] : Array.isArray(e) ? e : Array.from(e)).forEach((function(e, i) {
                                        var l = n.default.extend(!0, {}, t.opts);
                                        if (function(e, t, i, a) {
                                            function o(t, n) {
                                                var o = "" === a ? t : a + "-" + t;
                                                null !== (n = void 0 !== n ? n : e.getAttribute(o)) && ("string" == typeof n && (0 === t.indexOf("on") ? n = r.default[n] : "false" === n ? n = !1 : "true" === n && (n = !0)), 
                                                i[t] = n);
                                            }
                                            if (!0 === t.importDataAttributes) {
                                                var l, s, u, c, f = e.getAttribute(a);
                                                if (f && "" !== f && (f = f.replace(/'/g, '"'), s = JSON.parse("{" + f + "}")), 
                                                s) for (c in u = void 0, s) if ("alias" === c.toLowerCase()) {
                                                    u = s[c];
                                                    break;
                                                }
                                                for (l in o("alias", u), i.alias && b(i.alias, i, t), t) {
                                                    if (s) for (c in u = void 0, s) if (c.toLowerCase() === l.toLowerCase()) {
                                                        u = s[c];
                                                        break;
                                                    }
                                                    o(l, u);
                                                }
                                            }
                                            n.default.extend(!0, t, i), ("rtl" === e.dir || t.rightAlign) && (e.style.textAlign = "right");
                                            ("rtl" === e.dir || t.numericInput) && (e.dir = "ltr", e.removeAttribute("dir"), 
                                            t.isRTL = !0);
                                            return Object.keys(i).length;
                                        }(e, l, n.default.extend(!0, {}, t.userOptions), t.dataAttribute)) {
                                            var s = (0, o.generateMaskSet)(l, t.noMasksCache);
                                            void 0 !== s && (void 0 !== e.inputmask && (e.inputmask.opts.autoUnmask = !0, e.inputmask.remove()), 
                                            e.inputmask = new y(void 0, void 0, !0), e.inputmask.opts = l, e.inputmask.noMasksCache = t.noMasksCache, 
                                            e.inputmask.userOptions = n.default.extend(!0, {}, t.userOptions), e.inputmask.el = e, 
                                            e.inputmask.$el = (0, n.default)(e), e.inputmask.maskset = s, n.default.data(e, k, t.userOptions), 
                                            a.mask.call(e.inputmask));
                                        }
                                    })), e && e[0] && e[0].inputmask || this;
                                },
                                option: function(e, t) {
                                    return "string" == typeof e ? this.opts[e] : "object" === v(e) ? (n.default.extend(this.userOptions, e), 
                                    this.el && !0 !== t && this.mask(this.el), this) : void 0;
                                },
                                unmaskedvalue: function(e) {
                                    if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), 
                                    void 0 === this.el || void 0 !== e) {
                                        var t = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                                        c.checkVal.call(this, void 0, !1, !1, t), "function" == typeof this.opts.onBeforeWrite && this.opts.onBeforeWrite.call(this, void 0, s.getBuffer.call(this), 0, this.opts);
                                    }
                                    return c.unmaskedvalue.call(this, this.el);
                                },
                                remove: function() {
                                    if (this.el) {
                                        n.default.data(this.el, k, null);
                                        var e = this.opts.autoUnmask ? (0, c.unmaskedvalue)(this.el) : this._valueGet(this.opts.autoUnmask);
                                        e !== s.getBufferTemplate.call(this).join("") ? this._valueSet(e, this.opts.autoUnmask) : this._valueSet(""), 
                                        f.EventRuler.off(this.el), Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), "value") && this.__valueGet && Object.defineProperty(this.el, "value", {
                                            get: this.__valueGet,
                                            set: this.__valueSet,
                                            configurable: !0
                                        }) : g.__lookupGetter__ && this.el.__lookupGetter__("value") && this.__valueGet && (this.el.__defineGetter__("value", this.__valueGet), 
                                        this.el.__defineSetter__("value", this.__valueSet)), this.el.inputmask = void 0;
                                    }
                                    return this.el;
                                },
                                getemptymask: function() {
                                    return this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), 
                                    s.getBufferTemplate.call(this).join("");
                                },
                                hasMaskedValue: function() {
                                    return !this.opts.autoUnmask;
                                },
                                isComplete: function() {
                                    return this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), 
                                    u.isComplete.call(this, s.getBuffer.call(this));
                                },
                                getmetadata: function() {
                                    if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), 
                                    Array.isArray(this.maskset.metadata)) {
                                        var e = l.getMaskTemplate.call(this, !0, 0, !1).join("");
                                        return this.maskset.metadata.forEach((function(t) {
                                            return t.mask !== e || (e = t, !1);
                                        })), e;
                                    }
                                    return this.maskset.metadata;
                                },
                                isValid: function(e) {
                                    if (this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache), 
                                    e) {
                                        var t = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                                        c.checkVal.call(this, void 0, !0, !1, t);
                                    } else e = this.isRTL ? s.getBuffer.call(this).slice().reverse().join("") : s.getBuffer.call(this).join("");
                                    for (var i = s.getBuffer.call(this), a = s.determineLastRequiredPosition.call(this), n = i.length - 1; n > a && !s.isMask.call(this, n); n--) ;
                                    return i.splice(a, n + 1 - a), u.isComplete.call(this, i) && e === (this.isRTL ? s.getBuffer.call(this).slice().reverse().join("") : s.getBuffer.call(this).join(""));
                                },
                                format: function(e, t) {
                                    this.maskset = this.maskset || (0, o.generateMaskSet)(this.opts, this.noMasksCache);
                                    var i = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                                    c.checkVal.call(this, void 0, !0, !1, i);
                                    var a = this.isRTL ? s.getBuffer.call(this).slice().reverse().join("") : s.getBuffer.call(this).join("");
                                    return t ? {
                                        value: a,
                                        metadata: this.getmetadata()
                                    } : a;
                                },
                                setValue: function(e) {
                                    this.el && (0, n.default)(this.el).trigger("setvalue", [ e ]);
                                },
                                analyseMask: o.analyseMask
                            }, y.extendDefaults = function(e) {
                                n.default.extend(!0, y.prototype.defaults, e);
                            }, y.extendDefinitions = function(e) {
                                n.default.extend(!0, y.prototype.definitions, e);
                            }, y.extendAliases = function(e) {
                                n.default.extend(!0, y.prototype.aliases, e);
                            }, y.format = function(e, t, i) {
                                return y(t).format(e, i);
                            }, y.unmask = function(e, t) {
                                return y(t).unmaskedvalue(e);
                            }, y.isValid = function(e, t) {
                                return y(t).isValid(e);
                            }, y.remove = function(e) {
                                "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)), (e = e.nodeName ? [ e ] : e).forEach((function(e) {
                                    e.inputmask && e.inputmask.remove();
                                }));
                            }, y.setValue = function(e, t) {
                                "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)), (e = e.nodeName ? [ e ] : e).forEach((function(e) {
                                    e.inputmask ? e.inputmask.setValue(t) : (0, n.default)(e).trigger("setvalue", [ t ]);
                                }));
                            }, y.dependencyLib = n.default, r.default.Inputmask = y;
                            var x = y;
                            t.default = x;
                        },
                        5296: function(e, t, i) {
                            function a(e) {
                                return a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e;
                                } : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                                }, a(e);
                            }
                            var n = h(i(9380)), r = h(i(2394)), o = h(i(8741));
                            function l(e, t) {
                                for (var i = 0; i < t.length; i++) {
                                    var a = t[i];
                                    a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                                    Object.defineProperty(e, a.key, a);
                                }
                            }
                            function s(e, t) {
                                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                                if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
                                return function(e) {
                                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return e;
                                }(e);
                            }
                            function u(e) {
                                var t = "function" == typeof Map ? new Map : void 0;
                                return u = function(e) {
                                    if (null === e || (i = e, -1 === Function.toString.call(i).indexOf("[native code]"))) return e;
                                    var i;
                                    if ("function" != typeof e) throw new TypeError("Super expression must either be null or a function");
                                    if (void 0 !== t) {
                                        if (t.has(e)) return t.get(e);
                                        t.set(e, a);
                                    }
                                    function a() {
                                        return c(e, arguments, p(this).constructor);
                                    }
                                    return a.prototype = Object.create(e.prototype, {
                                        constructor: {
                                            value: a,
                                            enumerable: !1,
                                            writable: !0,
                                            configurable: !0
                                        }
                                    }), d(a, e);
                                }, u(e);
                            }
                            function c(e, t, i) {
                                return c = f() ? Reflect.construct : function(e, t, i) {
                                    var a = [ null ];
                                    a.push.apply(a, t);
                                    var n = new (Function.bind.apply(e, a));
                                    return i && d(n, i.prototype), n;
                                }, c.apply(null, arguments);
                            }
                            function f() {
                                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                                if (Reflect.construct.sham) return !1;
                                if ("function" == typeof Proxy) return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), 
                                    !0;
                                } catch (e) {
                                    return !1;
                                }
                            }
                            function d(e, t) {
                                return d = Object.setPrototypeOf || function(e, t) {
                                    return e.__proto__ = t, e;
                                }, d(e, t);
                            }
                            function p(e) {
                                return p = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                                    return e.__proto__ || Object.getPrototypeOf(e);
                                }, p(e);
                            }
                            function h(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                            var v = n.default.document;
                            if (o.default && v && v.head && v.head.attachShadow && n.default.customElements && void 0 === n.default.customElements.get("input-mask")) {
                                var m = function(e) {
                                    !function(e, t) {
                                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                                        Object.defineProperty(e, "prototype", {
                                            value: Object.create(t && t.prototype, {
                                                constructor: {
                                                    value: e,
                                                    writable: !0,
                                                    configurable: !0
                                                }
                                            }),
                                            writable: !1
                                        }), t && d(e, t);
                                    }(c, e);
                                    var t, i, a, n, o, u = (t = c, i = f(), function() {
                                        var e, a = p(t);
                                        if (i) {
                                            var n = p(this).constructor;
                                            e = Reflect.construct(a, arguments, n);
                                        } else e = a.apply(this, arguments);
                                        return s(this, e);
                                    });
                                    function c() {
                                        var e;
                                        !function(e, t) {
                                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                                        }(this, c);
                                        var t = (e = u.call(this)).getAttributeNames(), i = e.attachShadow({
                                            mode: "closed"
                                        }), a = v.createElement("input");
                                        for (var n in a.type = "text", i.appendChild(a), t) Object.prototype.hasOwnProperty.call(t, n) && a.setAttribute(t[n], e.getAttribute(t[n]));
                                        var o = new r.default;
                                        return o.dataAttribute = "", o.mask(a), a.inputmask.shadowRoot = i, e;
                                    }
                                    return a = c, n && l(a.prototype, n), o && l(a, o), Object.defineProperty(a, "prototype", {
                                        writable: !1
                                    }), a;
                                }(u(HTMLElement));
                                n.default.customElements.define("input-mask", m);
                            }
                        },
                        2391: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.analyseMask = function(e, t, i) {
                                var a, o, l, s, u, c, f = /(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g, d = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, p = !1, h = new n.default, v = [], m = [], g = !1;
                                function k(e, a, n) {
                                    n = void 0 !== n ? n : e.matches.length;
                                    var o = e.matches[n - 1];
                                    if (t) 0 === a.indexOf("[") || p && /\\d|\\s|\\w/i.test(a) || "." === a ? e.matches.splice(n++, 0, {
                                        fn: new RegExp(a, i.casing ? "i" : ""),
                                        static: !1,
                                        optionality: !1,
                                        newBlockMarker: void 0 === o ? "master" : o.def !== a,
                                        casing: null,
                                        def: a,
                                        placeholder: void 0,
                                        nativeDef: a
                                    }) : (p && (a = a[a.length - 1]), a.split("").forEach((function(t, a) {
                                        o = e.matches[n - 1], e.matches.splice(n++, 0, {
                                            fn: /[a-z]/i.test(i.staticDefinitionSymbol || t) ? new RegExp("[" + (i.staticDefinitionSymbol || t) + "]", i.casing ? "i" : "") : null,
                                            static: !0,
                                            optionality: !1,
                                            newBlockMarker: void 0 === o ? "master" : o.def !== t && !0 !== o.static,
                                            casing: null,
                                            def: i.staticDefinitionSymbol || t,
                                            placeholder: void 0 !== i.staticDefinitionSymbol ? t : void 0,
                                            nativeDef: (p ? "'" : "") + t
                                        });
                                    }))), p = !1; else {
                                        var l = i.definitions && i.definitions[a] || i.usePrototypeDefinitions && r.default.prototype.definitions[a];
                                        l && !p ? e.matches.splice(n++, 0, {
                                            fn: l.validator ? "string" == typeof l.validator ? new RegExp(l.validator, i.casing ? "i" : "") : new function() {
                                                this.test = l.validator;
                                            } : new RegExp("."),
                                            static: l.static || !1,
                                            optionality: l.optional || !1,
                                            newBlockMarker: void 0 === o || l.optional ? "master" : o.def !== (l.definitionSymbol || a),
                                            casing: l.casing,
                                            def: l.definitionSymbol || a,
                                            placeholder: l.placeholder,
                                            nativeDef: a,
                                            generated: l.generated
                                        }) : (e.matches.splice(n++, 0, {
                                            fn: /[a-z]/i.test(i.staticDefinitionSymbol || a) ? new RegExp("[" + (i.staticDefinitionSymbol || a) + "]", i.casing ? "i" : "") : null,
                                            static: !0,
                                            optionality: !1,
                                            newBlockMarker: void 0 === o ? "master" : o.def !== a && !0 !== o.static,
                                            casing: null,
                                            def: i.staticDefinitionSymbol || a,
                                            placeholder: void 0 !== i.staticDefinitionSymbol ? a : void 0,
                                            nativeDef: (p ? "'" : "") + a
                                        }), p = !1);
                                    }
                                }
                                function y() {
                                    if (v.length > 0) {
                                        if (k(s = v[v.length - 1], o), s.isAlternator) {
                                            u = v.pop();
                                            for (var e = 0; e < u.matches.length; e++) u.matches[e].isGroup && (u.matches[e].isGroup = !1);
                                            v.length > 0 ? (s = v[v.length - 1]).matches.push(u) : h.matches.push(u);
                                        }
                                    } else k(h, o);
                                }
                                function b(e) {
                                    var t = new n.default(!0);
                                    return t.openGroup = !1, t.matches = e, t;
                                }
                                function x() {
                                    if ((l = v.pop()).openGroup = !1, void 0 !== l) if (v.length > 0) {
                                        if ((s = v[v.length - 1]).matches.push(l), s.isAlternator) {
                                            for (var e = (u = v.pop()).matches[0].matches ? u.matches[0].matches.length : 1, t = 0; t < u.matches.length; t++) u.matches[t].isGroup = !1, 
                                            u.matches[t].alternatorGroup = !1, null === i.keepStatic && e < (u.matches[t].matches ? u.matches[t].matches.length : 1) && (i.keepStatic = !0), 
                                            e = u.matches[t].matches ? u.matches[t].matches.length : 1;
                                            v.length > 0 ? (s = v[v.length - 1]).matches.push(u) : h.matches.push(u);
                                        }
                                    } else h.matches.push(l); else y();
                                }
                                function P(e) {
                                    var t = e.pop();
                                    return t.isQuantifier && (t = b([ e.pop(), t ])), t;
                                }
                                t && (i.optionalmarker[0] = void 0, i.optionalmarker[1] = void 0);
                                for (;a = t ? d.exec(e) : f.exec(e); ) {
                                    if (o = a[0], t) {
                                        switch (o.charAt(0)) {
                                          case "?":
                                            o = "{0,1}";
                                            break;

                                          case "+":
                                          case "*":
                                            o = "{" + o + "}";
                                            break;

                                          case "|":
                                            if (0 === v.length) {
                                                var E = b(h.matches);
                                                E.openGroup = !0, v.push(E), h.matches = [], g = !0;
                                            }
                                        }
                                        if ("\\d" === o) o = "[0-9]";
                                    }
                                    if (p) y(); else switch (o.charAt(0)) {
                                      case "$":
                                      case "^":
                                        t || y();
                                        break;

                                      case i.escapeChar:
                                        p = !0, t && y();
                                        break;

                                      case i.optionalmarker[1]:
                                      case i.groupmarker[1]:
                                        x();
                                        break;

                                      case i.optionalmarker[0]:
                                        v.push(new n.default(!1, !0));
                                        break;

                                      case i.groupmarker[0]:
                                        v.push(new n.default(!0));
                                        break;

                                      case i.quantifiermarker[0]:
                                        var S = new n.default(!1, !1, !0), _ = (o = o.replace(/[{}?]/g, "")).split("|"), w = _[0].split(","), M = isNaN(w[0]) ? w[0] : parseInt(w[0]), O = 1 === w.length ? M : isNaN(w[1]) ? w[1] : parseInt(w[1]), T = isNaN(_[1]) ? _[1] : parseInt(_[1]);
                                        "*" !== M && "+" !== M || (M = "*" === O ? 0 : 1), S.quantifier = {
                                            min: M,
                                            max: O,
                                            jit: T
                                        };
                                        var C = v.length > 0 ? v[v.length - 1].matches : h.matches;
                                        if ((a = C.pop()).isAlternator) {
                                            C.push(a), C = a.matches;
                                            var A = new n.default(!0), D = C.pop();
                                            C.push(A), C = A.matches, a = D;
                                        }
                                        a.isGroup || (a = b([ a ])), C.push(a), C.push(S);
                                        break;

                                      case i.alternatormarker:
                                        if (v.length > 0) {
                                            var j = (s = v[v.length - 1]).matches[s.matches.length - 1];
                                            c = s.openGroup && (void 0 === j.matches || !1 === j.isGroup && !1 === j.isAlternator) ? v.pop() : P(s.matches);
                                        } else c = P(h.matches);
                                        if (c.isAlternator) v.push(c); else if (c.alternatorGroup ? (u = v.pop(), c.alternatorGroup = !1) : u = new n.default(!1, !1, !1, !0), 
                                        u.matches.push(c), v.push(u), c.openGroup) {
                                            c.openGroup = !1;
                                            var B = new n.default(!0);
                                            B.alternatorGroup = !0, v.push(B);
                                        }
                                        break;

                                      default:
                                        y();
                                    }
                                }
                                g && x();
                                for (;v.length > 0; ) l = v.pop(), h.matches.push(l);
                                h.matches.length > 0 && (!function e(a) {
                                    a && a.matches && a.matches.forEach((function(n, r) {
                                        var o = a.matches[r + 1];
                                        (void 0 === o || void 0 === o.matches || !1 === o.isQuantifier) && n && n.isGroup && (n.isGroup = !1, 
                                        t || (k(n, i.groupmarker[0], 0), !0 !== n.openGroup && k(n, i.groupmarker[1]))), 
                                        e(n);
                                    }));
                                }(h), m.push(h));
                                (i.numericInput || i.isRTL) && function e(t) {
                                    for (var a in t.matches = t.matches.reverse(), t.matches) if (Object.prototype.hasOwnProperty.call(t.matches, a)) {
                                        var n = parseInt(a);
                                        if (t.matches[a].isQuantifier && t.matches[n + 1] && t.matches[n + 1].isGroup) {
                                            var r = t.matches[a];
                                            t.matches.splice(a, 1), t.matches.splice(n + 1, 0, r);
                                        }
                                        void 0 !== t.matches[a].matches ? t.matches[a] = e(t.matches[a]) : t.matches[a] = ((o = t.matches[a]) === i.optionalmarker[0] ? o = i.optionalmarker[1] : o === i.optionalmarker[1] ? o = i.optionalmarker[0] : o === i.groupmarker[0] ? o = i.groupmarker[1] : o === i.groupmarker[1] && (o = i.groupmarker[0]), 
                                        o);
                                    }
                                    var o;
                                    return t;
                                }(m[0]);
                                return m;
                            }, t.generateMaskSet = function(e, t) {
                                var i;
                                function n(e, i, n) {
                                    var o, l, s = !1;
                                    if (null !== e && "" !== e || ((s = null !== n.regex) ? e = (e = n.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (s = !0, 
                                    e = ".*")), 1 === e.length && !1 === n.greedy && 0 !== n.repeat && (n.placeholder = ""), 
                                    n.repeat > 0 || "*" === n.repeat || "+" === n.repeat) {
                                        var u = "*" === n.repeat ? 0 : "+" === n.repeat ? 1 : n.repeat;
                                        e = n.groupmarker[0] + e + n.groupmarker[1] + n.quantifiermarker[0] + u + "," + n.repeat + n.quantifiermarker[1];
                                    }
                                    return l = s ? "regex_" + n.regex : n.numericInput ? e.split("").reverse().join("") : e, 
                                    null !== n.keepStatic && (l = "ks_" + n.keepStatic + l), void 0 === r.default.prototype.masksCache[l] || !0 === t ? (o = {
                                        mask: e,
                                        maskToken: r.default.prototype.analyseMask(e, s, n),
                                        validPositions: {},
                                        _buffer: void 0,
                                        buffer: void 0,
                                        tests: {},
                                        excludes: {},
                                        metadata: i,
                                        maskLength: void 0,
                                        jitOffset: {}
                                    }, !0 !== t && (r.default.prototype.masksCache[l] = o, o = a.default.extend(!0, {}, r.default.prototype.masksCache[l]))) : o = a.default.extend(!0, {}, r.default.prototype.masksCache[l]), 
                                    o;
                                }
                                "function" == typeof e.mask && (e.mask = e.mask(e));
                                if (Array.isArray(e.mask)) {
                                    if (e.mask.length > 1) {
                                        null === e.keepStatic && (e.keepStatic = !0);
                                        var o = e.groupmarker[0];
                                        return (e.isRTL ? e.mask.reverse() : e.mask).forEach((function(t) {
                                            o.length > 1 && (o += e.alternatormarker), void 0 !== t.mask && "function" != typeof t.mask ? o += t.mask : o += t;
                                        })), n(o += e.groupmarker[1], e.mask, e);
                                    }
                                    e.mask = e.mask.pop();
                                }
                                i = e.mask && void 0 !== e.mask.mask && "function" != typeof e.mask.mask ? n(e.mask.mask, e.mask, e) : n(e.mask, e.mask, e);
                                null === e.keepStatic && (e.keepStatic = !1);
                                return i;
                            };
                            var a = o(i(4963)), n = o(i(9695)), r = o(i(2394));
                            function o(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                };
                            }
                        },
                        157: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.mask = function() {
                                var e = this, t = this.opts, i = this.el, a = this.dependencyLib;
                                l.EventRuler.off(i);
                                var f = function(t, i) {
                                    "textarea" !== t.tagName.toLowerCase() && i.ignorables.push(n.default.ENTER);
                                    var s = t.getAttribute("type"), u = "input" === t.tagName.toLowerCase() && i.supportsInputType.includes(s) || t.isContentEditable || "textarea" === t.tagName.toLowerCase();
                                    if (!u) if ("input" === t.tagName.toLowerCase()) {
                                        var c = document.createElement("input");
                                        c.setAttribute("type", s), u = "text" === c.type, c = null;
                                    } else u = "partial";
                                    return !1 !== u ? function(t) {
                                        var n, s;
                                        function u() {
                                            return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== r.getLastValidPosition.call(e) || !0 !== i.nullable ? (this.inputmask.shadowRoot || this.ownerDocument).activeElement === this && i.clearMaskOnLostFocus ? (e.isRTL ? o.clearOptionalTail.call(e, r.getBuffer.call(e).slice()).reverse() : o.clearOptionalTail.call(e, r.getBuffer.call(e).slice())).join("") : n.call(this) : "" : n.call(this);
                                        }
                                        function c(e) {
                                            s.call(this, e), this.inputmask && (0, o.applyInputValue)(this, e);
                                        }
                                        if (!t.inputmask.__valueGet) {
                                            if (!0 !== i.noValuePatching) {
                                                if (Object.getOwnPropertyDescriptor) {
                                                    var f = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), "value") : void 0;
                                                    f && f.get && f.set ? (n = f.get, s = f.set, Object.defineProperty(t, "value", {
                                                        get: u,
                                                        set: c,
                                                        configurable: !0
                                                    })) : "input" !== t.tagName.toLowerCase() && (n = function() {
                                                        return this.textContent;
                                                    }, s = function(e) {
                                                        this.textContent = e;
                                                    }, Object.defineProperty(t, "value", {
                                                        get: u,
                                                        set: c,
                                                        configurable: !0
                                                    }));
                                                } else document.__lookupGetter__ && t.__lookupGetter__("value") && (n = t.__lookupGetter__("value"), 
                                                s = t.__lookupSetter__("value"), t.__defineGetter__("value", u), t.__defineSetter__("value", c));
                                                t.inputmask.__valueGet = n, t.inputmask.__valueSet = s;
                                            }
                                            t.inputmask._valueGet = function(t) {
                                                return e.isRTL && !0 !== t ? n.call(this.el).split("").reverse().join("") : n.call(this.el);
                                            }, t.inputmask._valueSet = function(t, i) {
                                                s.call(this.el, null == t ? "" : !0 !== i && e.isRTL ? t.split("").reverse().join("") : t);
                                            }, void 0 === n && (n = function() {
                                                return this.value;
                                            }, s = function(e) {
                                                this.value = e;
                                            }, function(t) {
                                                if (a.valHooks && (void 0 === a.valHooks[t] || !0 !== a.valHooks[t].inputmaskpatch)) {
                                                    var n = a.valHooks[t] && a.valHooks[t].get ? a.valHooks[t].get : function(e) {
                                                        return e.value;
                                                    }, l = a.valHooks[t] && a.valHooks[t].set ? a.valHooks[t].set : function(e, t) {
                                                        return e.value = t, e;
                                                    };
                                                    a.valHooks[t] = {
                                                        get: function(t) {
                                                            if (t.inputmask) {
                                                                if (t.inputmask.opts.autoUnmask) return t.inputmask.unmaskedvalue();
                                                                var a = n(t);
                                                                return -1 !== r.getLastValidPosition.call(e, void 0, void 0, t.inputmask.maskset.validPositions) || !0 !== i.nullable ? a : "";
                                                            }
                                                            return n(t);
                                                        },
                                                        set: function(e, t) {
                                                            var i = l(e, t);
                                                            return e.inputmask && (0, o.applyInputValue)(e, t), i;
                                                        },
                                                        inputmaskpatch: !0
                                                    };
                                                }
                                            }(t.type), function(t) {
                                                l.EventRuler.on(t, "mouseenter", (function() {
                                                    var t = this.inputmask._valueGet(!0);
                                                    t !== (e.isRTL ? r.getBuffer.call(e).reverse() : r.getBuffer.call(e)).join("") && (0, 
                                                    o.applyInputValue)(this, t);
                                                }));
                                            }(t));
                                        }
                                    }(t) : t.inputmask = void 0, u;
                                }(i, t);
                                if (!1 !== f) {
                                    e.originalPlaceholder = i.placeholder, e.maxLength = void 0 !== i ? i.maxLength : void 0, 
                                    -1 === e.maxLength && (e.maxLength = void 0), "inputMode" in i && null === i.getAttribute("inputmode") && (i.inputMode = t.inputmode, 
                                    i.setAttribute("inputmode", t.inputmode)), !0 === f && (t.showMaskOnFocus = t.showMaskOnFocus && -1 === [ "cc-number", "cc-exp" ].indexOf(i.autocomplete), 
                                    s.iphone && (t.insertModeVisual = !1), l.EventRuler.on(i, "submit", c.EventHandlers.submitEvent), 
                                    l.EventRuler.on(i, "reset", c.EventHandlers.resetEvent), l.EventRuler.on(i, "blur", c.EventHandlers.blurEvent), 
                                    l.EventRuler.on(i, "focus", c.EventHandlers.focusEvent), l.EventRuler.on(i, "invalid", c.EventHandlers.invalidEvent), 
                                    l.EventRuler.on(i, "click", c.EventHandlers.clickEvent), l.EventRuler.on(i, "mouseleave", c.EventHandlers.mouseleaveEvent), 
                                    l.EventRuler.on(i, "mouseenter", c.EventHandlers.mouseenterEvent), l.EventRuler.on(i, "paste", c.EventHandlers.pasteEvent), 
                                    l.EventRuler.on(i, "cut", c.EventHandlers.cutEvent), l.EventRuler.on(i, "complete", t.oncomplete), 
                                    l.EventRuler.on(i, "incomplete", t.onincomplete), l.EventRuler.on(i, "cleared", t.oncleared), 
                                    !0 !== t.inputEventOnly && (l.EventRuler.on(i, "keydown", c.EventHandlers.keydownEvent), 
                                    l.EventRuler.on(i, "keypress", c.EventHandlers.keypressEvent), l.EventRuler.on(i, "keyup", c.EventHandlers.keyupEvent)), 
                                    (s.mobile || t.inputEventOnly) && i.removeAttribute("maxLength"), l.EventRuler.on(i, "input", c.EventHandlers.inputFallBackEvent), 
                                    l.EventRuler.on(i, "compositionend", c.EventHandlers.compositionendEvent)), l.EventRuler.on(i, "setvalue", c.EventHandlers.setValueEvent), 
                                    r.getBufferTemplate.call(e).join(""), e.undoValue = e._valueGet(!0);
                                    var d = (i.inputmask.shadowRoot || i.ownerDocument).activeElement;
                                    if ("" !== i.inputmask._valueGet(!0) || !1 === t.clearMaskOnLostFocus || d === i) {
                                        (0, o.applyInputValue)(i, i.inputmask._valueGet(!0), t);
                                        var p = r.getBuffer.call(e).slice();
                                        !1 === u.isComplete.call(e, p) && t.clearIncomplete && r.resetMaskSet.call(e), t.clearMaskOnLostFocus && d !== i && (-1 === r.getLastValidPosition.call(e) ? p = [] : o.clearOptionalTail.call(e, p)), 
                                        (!1 === t.clearMaskOnLostFocus || t.showMaskOnFocus && d === i || "" !== i.inputmask._valueGet(!0)) && (0, 
                                        o.writeBuffer)(i, p), d === i && r.caret.call(e, i, r.seekNext.call(e, r.getLastValidPosition.call(e)));
                                    }
                                }
                            };
                            var a, n = (a = i(5581)) && a.__esModule ? a : {
                                default: a
                            }, r = i(8711), o = i(7760), l = i(9716), s = i(9845), u = i(7215), c = i(6030);
                        },
                        9695: function(e, t) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.default = function(e, t, i, a) {
                                this.matches = [], this.openGroup = e || !1, this.alternatorGroup = !1, this.isGroup = e || !1, 
                                this.isOptional = t || !1, this.isQuantifier = i || !1, this.isAlternator = a || !1, 
                                this.quantifier = {
                                    min: 1,
                                    max: 1
                                };
                            };
                        },
                        3194: function() {
                            Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", {
                                value: function(e, t) {
                                    if (null == this) throw new TypeError('"this" is null or not defined');
                                    var i = Object(this), a = i.length >>> 0;
                                    if (0 === a) return !1;
                                    for (var n = 0 | t, r = Math.max(n >= 0 ? n : a - Math.abs(n), 0); r < a; ) {
                                        if (i[r] === e) return !0;
                                        r++;
                                    }
                                    return !1;
                                }
                            });
                        },
                        7149: function() {
                            function e(t) {
                                return e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e;
                                } : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                                }, e(t);
                            }
                            "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === e("test".__proto__) ? function(e) {
                                return e.__proto__;
                            } : function(e) {
                                return e.constructor.prototype;
                            });
                        },
                        8711: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.caret = function(e, t, i, a, n) {
                                var r, o = this, l = this.opts;
                                if (void 0 === t) return "selectionStart" in e && "selectionEnd" in e ? (t = e.selectionStart, 
                                i = e.selectionEnd) : window.getSelection ? (r = window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== e && r.commonAncestorContainer !== e || (t = r.startOffset, 
                                i = r.endOffset) : document.selection && document.selection.createRange && (r = document.selection.createRange(), 
                                t = 0 - r.duplicate().moveStart("character", -e.inputmask._valueGet().length), i = t + r.text.length), 
                                {
                                    begin: a ? t : u.call(o, t),
                                    end: a ? i : u.call(o, i)
                                };
                                if (Array.isArray(t) && (i = o.isRTL ? t[0] : t[1], t = o.isRTL ? t[1] : t[0]), 
                                void 0 !== t.begin && (i = o.isRTL ? t.begin : t.end, t = o.isRTL ? t.end : t.begin), 
                                "number" == typeof t) {
                                    t = a ? t : u.call(o, t), i = "number" == typeof (i = a ? i : u.call(o, i)) ? i : t;
                                    var s = parseInt(((e.ownerDocument.defaultView || window).getComputedStyle ? (e.ownerDocument.defaultView || window).getComputedStyle(e, null) : e.currentStyle).fontSize) * i;
                                    if (e.scrollLeft = s > e.scrollWidth ? s : 0, e.inputmask.caretPos = {
                                        begin: t,
                                        end: i
                                    }, l.insertModeVisual && !1 === l.insertMode && t === i && (n || i++), e === (e.inputmask.shadowRoot || e.ownerDocument).activeElement) if ("setSelectionRange" in e) e.setSelectionRange(t, i); else if (window.getSelection) {
                                        if (r = document.createRange(), void 0 === e.firstChild || null === e.firstChild) {
                                            var c = document.createTextNode("");
                                            e.appendChild(c);
                                        }
                                        r.setStart(e.firstChild, t < e.inputmask._valueGet().length ? t : e.inputmask._valueGet().length), 
                                        r.setEnd(e.firstChild, i < e.inputmask._valueGet().length ? i : e.inputmask._valueGet().length), 
                                        r.collapse(!0);
                                        var f = window.getSelection();
                                        f.removeAllRanges(), f.addRange(r);
                                    } else e.createTextRange && ((r = e.createTextRange()).collapse(!0), r.moveEnd("character", i), 
                                    r.moveStart("character", t), r.select());
                                }
                            }, t.determineLastRequiredPosition = function(e) {
                                var t, i, r = this, l = this.maskset, s = this.dependencyLib, u = a.getMaskTemplate.call(r, !0, o.call(r), !0, !0), c = u.length, f = o.call(r), d = {}, p = l.validPositions[f], h = void 0 !== p ? p.locator.slice() : void 0;
                                for (t = f + 1; t < u.length; t++) i = a.getTestTemplate.call(r, t, h, t - 1), h = i.locator.slice(), 
                                d[t] = s.extend(!0, {}, i);
                                var v = p && void 0 !== p.alternation ? p.locator[p.alternation] : void 0;
                                for (t = c - 1; t > f && ((i = d[t]).match.optionality || i.match.optionalQuantifier && i.match.newBlockMarker || v && (v !== d[t].locator[p.alternation] && 1 != i.match.static || !0 === i.match.static && i.locator[p.alternation] && n.checkAlternationMatch.call(r, i.locator[p.alternation].toString().split(","), v.toString().split(",")) && "" !== a.getTests.call(r, t)[0].def)) && u[t] === a.getPlaceholder.call(r, t, i.match); t--) c--;
                                return e ? {
                                    l: c,
                                    def: d[c] ? d[c].match : void 0
                                } : c;
                            }, t.determineNewCaretPosition = function(e, t, i) {
                                var n = this, u = this.maskset, c = this.opts;
                                t && (n.isRTL ? e.end = e.begin : e.begin = e.end);
                                if (e.begin === e.end) {
                                    switch (i = i || c.positionCaretOnClick) {
                                      case "none":
                                        break;

                                      case "select":
                                        e = {
                                            begin: 0,
                                            end: r.call(n).length
                                        };
                                        break;

                                      case "ignore":
                                        e.end = e.begin = s.call(n, o.call(n));
                                        break;

                                      case "radixFocus":
                                        if (function(e) {
                                            if ("" !== c.radixPoint && 0 !== c.digits) {
                                                var t = u.validPositions;
                                                if (void 0 === t[e] || t[e].input === a.getPlaceholder.call(n, e)) {
                                                    if (e < s.call(n, -1)) return !0;
                                                    var i = r.call(n).indexOf(c.radixPoint);
                                                    if (-1 !== i) {
                                                        for (var o in t) if (t[o] && i < o && t[o].input !== a.getPlaceholder.call(n, o)) return !1;
                                                        return !0;
                                                    }
                                                }
                                            }
                                            return !1;
                                        }(e.begin)) {
                                            var f = r.call(n).join("").indexOf(c.radixPoint);
                                            e.end = e.begin = c.numericInput ? s.call(n, f) : f;
                                            break;
                                        }

                                      default:
                                        var d = e.begin, p = o.call(n, d, !0), h = s.call(n, -1 !== p || l.call(n, 0) ? p : -1);
                                        if (d <= h) e.end = e.begin = l.call(n, d, !1, !0) ? d : s.call(n, d); else {
                                            var v = u.validPositions[p], m = a.getTestTemplate.call(n, h, v ? v.match.locator : void 0, v), g = a.getPlaceholder.call(n, h, m.match);
                                            if ("" !== g && r.call(n)[h] !== g && !0 !== m.match.optionalQuantifier && !0 !== m.match.newBlockMarker || !l.call(n, h, c.keepStatic, !0) && m.match.def === g) {
                                                var k = s.call(n, h);
                                                (d >= k || d === h) && (h = k);
                                            }
                                            e.end = e.begin = h;
                                        }
                                    }
                                    return e;
                                }
                            }, t.getBuffer = r, t.getBufferTemplate = function() {
                                var e = this.maskset;
                                void 0 === e._buffer && (e._buffer = a.getMaskTemplate.call(this, !1, 1), void 0 === e.buffer && (e.buffer = e._buffer.slice()));
                                return e._buffer;
                            }, t.getLastValidPosition = o, t.isMask = l, t.resetMaskSet = function(e) {
                                var t = this.maskset;
                                t.buffer = void 0, !0 !== e && (t.validPositions = {}, t.p = 0);
                            }, t.seekNext = s, t.seekPrevious = function(e, t) {
                                var i = this, n = e - 1;
                                if (e <= 0) return 0;
                                for (;n > 0 && (!0 === t && (!0 !== a.getTest.call(i, n).match.newBlockMarker || !l.call(i, n, void 0, !0)) || !0 !== t && !l.call(i, n, void 0, !0)); ) n--;
                                return n;
                            }, t.translatePosition = u;
                            var a = i(4713), n = i(7215);
                            function r(e) {
                                var t = this.maskset;
                                return void 0 !== t.buffer && !0 !== e || (t.buffer = a.getMaskTemplate.call(this, !0, o.call(this), !0), 
                                void 0 === t._buffer && (t._buffer = t.buffer.slice())), t.buffer;
                            }
                            function o(e, t, i) {
                                var a = this.maskset, n = -1, r = -1, o = i || a.validPositions;
                                for (var l in void 0 === e && (e = -1), o) {
                                    var s = parseInt(l);
                                    o[s] && (t || !0 !== o[s].generatedInput) && (s <= e && (n = s), s >= e && (r = s));
                                }
                                return -1 === n || n == e ? r : -1 == r || e - n < r - e ? n : r;
                            }
                            function l(e, t, i) {
                                var n = this, r = this.maskset, o = a.getTestTemplate.call(n, e).match;
                                if ("" === o.def && (o = a.getTest.call(n, e).match), !0 !== o.static) return o.fn;
                                if (!0 === i && void 0 !== r.validPositions[e] && !0 !== r.validPositions[e].generatedInput) return !0;
                                if (!0 !== t && e > -1) {
                                    if (i) {
                                        var l = a.getTests.call(n, e);
                                        return l.length > 1 + ("" === l[l.length - 1].match.def ? 1 : 0);
                                    }
                                    var s = a.determineTestTemplate.call(n, e, a.getTests.call(n, e)), u = a.getPlaceholder.call(n, e, s.match);
                                    return s.match.def !== u;
                                }
                                return !1;
                            }
                            function s(e, t, i) {
                                var n = this;
                                void 0 === i && (i = !0);
                                for (var r = e + 1; "" !== a.getTest.call(n, r).match.def && (!0 === t && (!0 !== a.getTest.call(n, r).match.newBlockMarker || !l.call(n, r, void 0, !0)) || !0 !== t && !l.call(n, r, void 0, i)); ) r++;
                                return r;
                            }
                            function u(e) {
                                var t = this.opts, i = this.el;
                                return !this.isRTL || "number" != typeof e || t.greedy && "" === t.placeholder || !i || (e = Math.abs(this._valueGet().length - e)), 
                                e;
                            }
                        },
                        4713: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.determineTestTemplate = u, t.getDecisionTaker = o, t.getMaskTemplate = function(e, t, i, a, n) {
                                var r = this, o = this.opts, c = this.maskset, f = o.greedy;
                                n && o.greedy && (o.greedy = !1, r.maskset.tests = {});
                                t = t || 0;
                                var p, h, v, m, g = [], k = 0;
                                do {
                                    if (!0 === e && c.validPositions[k]) v = n && c.validPositions[k].match.optionality && void 0 === c.validPositions[k + 1] && (!0 === c.validPositions[k].generatedInput || c.validPositions[k].input == o.skipOptionalPartCharacter && k > 0) ? u.call(r, k, d.call(r, k, p, k - 1)) : c.validPositions[k], 
                                    h = v.match, p = v.locator.slice(), g.push(!0 === i ? v.input : !1 === i ? h.nativeDef : l.call(r, k, h)); else {
                                        v = s.call(r, k, p, k - 1), h = v.match, p = v.locator.slice();
                                        var y = !0 !== a && (!1 !== o.jitMasking ? o.jitMasking : h.jit);
                                        (m = (m && h.static && h.def !== o.groupSeparator && null === h.fn || c.validPositions[k - 1] && h.static && h.def !== o.groupSeparator && null === h.fn) && c.tests[k] && 1 === c.tests[k].length) || !1 === y || void 0 === y || "number" == typeof y && isFinite(y) && y > k ? g.push(!1 === i ? h.nativeDef : l.call(r, k, h)) : m = !1;
                                    }
                                    k++;
                                } while (!0 !== h.static || "" !== h.def || t > k);
                                "" === g[g.length - 1] && g.pop();
                                !1 === i && void 0 !== c.maskLength || (c.maskLength = k - 1);
                                return o.greedy = f, g;
                            }, t.getPlaceholder = l, t.getTest = c, t.getTestTemplate = s, t.getTests = d, t.isSubsetOf = f;
                            var a, n = (a = i(2394)) && a.__esModule ? a : {
                                default: a
                            };
                            function r(e, t) {
                                var i = (null != e.alternation ? e.mloc[o(e)] : e.locator).join("");
                                if ("" !== i) for (;i.length < t; ) i += "0";
                                return i;
                            }
                            function o(e) {
                                var t = e.locator[e.alternation];
                                return "string" == typeof t && t.length > 0 && (t = t.split(",")[0]), void 0 !== t ? t.toString() : "";
                            }
                            function l(e, t, i) {
                                var a = this.opts, n = this.maskset;
                                if (void 0 !== (t = t || c.call(this, e).match).placeholder || !0 === i) return "function" == typeof t.placeholder ? t.placeholder(a) : t.placeholder;
                                if (!0 === t.static) {
                                    if (e > -1 && void 0 === n.validPositions[e]) {
                                        var r, o = d.call(this, e), l = [];
                                        if (o.length > 1 + ("" === o[o.length - 1].match.def ? 1 : 0)) for (var s = 0; s < o.length; s++) if ("" !== o[s].match.def && !0 !== o[s].match.optionality && !0 !== o[s].match.optionalQuantifier && (!0 === o[s].match.static || void 0 === r || !1 !== o[s].match.fn.test(r.match.def, n, e, !0, a)) && (l.push(o[s]), 
                                        !0 === o[s].match.static && (r = o[s]), l.length > 1 && /[0-9a-bA-Z]/.test(l[0].match.def))) return a.placeholder.charAt(e % a.placeholder.length);
                                    }
                                    return t.def;
                                }
                                return a.placeholder.charAt(e % a.placeholder.length);
                            }
                            function s(e, t, i) {
                                return this.maskset.validPositions[e] || u.call(this, e, d.call(this, e, t ? t.slice() : t, i));
                            }
                            function u(e, t) {
                                var i = this.opts, a = function(e, t) {
                                    var i = 0, a = !1;
                                    t.forEach((function(e) {
                                        e.match.optionality && (0 !== i && i !== e.match.optionality && (a = !0), (0 === i || i > e.match.optionality) && (i = e.match.optionality));
                                    })), i && (0 == e || 1 == t.length ? i = 0 : a || (i = 0));
                                    return i;
                                }(e, t);
                                e = e > 0 ? e - 1 : 0;
                                var n, o, l, s = r(c.call(this, e));
                                i.greedy && t.length > 1 && "" === t[t.length - 1].match.def && t.pop();
                                for (var u = 0; u < t.length; u++) {
                                    var f = t[u];
                                    n = r(f, s.length);
                                    var d = Math.abs(n - s);
                                    (void 0 === o || "" !== n && d < o || l && !i.greedy && l.match.optionality && l.match.optionality - a > 0 && "master" === l.match.newBlockMarker && (!f.match.optionality || f.match.optionality - a < 1 || !f.match.newBlockMarker) || l && !i.greedy && l.match.optionalQuantifier && !f.match.optionalQuantifier) && (o = d, 
                                    l = f);
                                }
                                return l;
                            }
                            function c(e, t) {
                                var i = this.maskset;
                                return i.validPositions[e] ? i.validPositions[e] : (t || d.call(this, e))[0];
                            }
                            function f(e, t, i) {
                                function a(e) {
                                    for (var t, i = [], a = -1, n = 0, r = e.length; n < r; n++) if ("-" === e.charAt(n)) for (t = e.charCodeAt(n + 1); ++a < t; ) i.push(String.fromCharCode(a)); else a = e.charCodeAt(n), 
                                    i.push(e.charAt(n));
                                    return i.join("");
                                }
                                return e.match.def === t.match.nativeDef || !(!(i.regex || e.match.fn instanceof RegExp && t.match.fn instanceof RegExp) || !0 === e.match.static || !0 === t.match.static) && -1 !== a(t.match.fn.toString().replace(/[[\]/]/g, "")).indexOf(a(e.match.fn.toString().replace(/[[\]/]/g, "")));
                            }
                            function d(e, t, i) {
                                var a, r, o = this, l = this.dependencyLib, s = this.maskset, c = this.opts, d = this.el, p = s.maskToken, h = t ? i : 0, v = t ? t.slice() : [ 0 ], m = [], g = !1, k = t ? t.join("") : "";
                                function y(t, i, r, o) {
                                    function l(r, o, u) {
                                        function p(e, t) {
                                            var i = 0 === t.matches.indexOf(e);
                                            return i || t.matches.every((function(a, n) {
                                                return !0 === a.isQuantifier ? i = p(e, t.matches[n - 1]) : Object.prototype.hasOwnProperty.call(a, "matches") && (i = p(e, a)), 
                                                !i;
                                            })), i;
                                        }
                                        function v(e, t, i) {
                                            var a, n;
                                            if ((s.tests[e] || s.validPositions[e]) && (s.tests[e] || [ s.validPositions[e] ]).every((function(e, r) {
                                                if (e.mloc[t]) return a = e, !1;
                                                var o = void 0 !== i ? i : e.alternation, l = void 0 !== e.locator[o] ? e.locator[o].toString().indexOf(t) : -1;
                                                return (void 0 === n || l < n) && -1 !== l && (a = e, n = l), !0;
                                            })), a) {
                                                var r = a.locator[a.alternation];
                                                return (a.mloc[t] || a.mloc[r] || a.locator).slice((void 0 !== i ? i : a.alternation) + 1);
                                            }
                                            return void 0 !== i ? v(e, t) : void 0;
                                        }
                                        function b(e, t) {
                                            var i = e.alternation, a = void 0 === t || i === t.alternation && -1 === e.locator[i].toString().indexOf(t.locator[i]);
                                            if (!a && i > t.alternation) for (var n = t.alternation; n < i; n++) if (e.locator[n] !== t.locator[n]) {
                                                i = n, a = !0;
                                                break;
                                            }
                                            if (a) {
                                                e.mloc = e.mloc || {};
                                                var r = e.locator[i];
                                                if (void 0 !== r) {
                                                    if ("string" == typeof r && (r = r.split(",")[0]), void 0 === e.mloc[r] && (e.mloc[r] = e.locator.slice()), 
                                                    void 0 !== t) {
                                                        for (var o in t.mloc) "string" == typeof o && (o = o.split(",")[0]), void 0 === e.mloc[o] && (e.mloc[o] = t.mloc[o]);
                                                        e.locator[i] = Object.keys(e.mloc).join(",");
                                                    }
                                                    return !0;
                                                }
                                                e.alternation = void 0;
                                            }
                                            return !1;
                                        }
                                        function x(e, t) {
                                            if (e.locator.length !== t.locator.length) return !1;
                                            for (var i = e.alternation + 1; i < e.locator.length; i++) if (e.locator[i] !== t.locator[i]) return !1;
                                            return !0;
                                        }
                                        if (h > e + c._maxTestPos) throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + s.mask;
                                        if (h === e && void 0 === r.matches) {
                                            if (m.push({
                                                match: r,
                                                locator: o.reverse(),
                                                cd: k,
                                                mloc: {}
                                            }), !r.optionality || void 0 !== u || !(c.definitions && c.definitions[r.nativeDef] && c.definitions[r.nativeDef].optional || n.default.prototype.definitions[r.nativeDef] && n.default.prototype.definitions[r.nativeDef].optional)) return !0;
                                            g = !0, h = e;
                                        } else if (void 0 !== r.matches) {
                                            if (r.isGroup && u !== r) {
                                                if (r = l(t.matches[t.matches.indexOf(r) + 1], o, u)) return !0;
                                            } else if (r.isOptional) {
                                                var P = r, E = m.length;
                                                if (r = y(r, i, o, u)) {
                                                    if (m.forEach((function(e, t) {
                                                        t >= E && (e.match.optionality = e.match.optionality ? e.match.optionality + 1 : 1);
                                                    })), a = m[m.length - 1].match, void 0 !== u || !p(a, P)) return !0;
                                                    g = !0, h = e;
                                                }
                                            } else if (r.isAlternator) {
                                                var S, _ = r, w = [], M = m.slice(), O = o.length, T = !1, C = i.length > 0 ? i.shift() : -1;
                                                if (-1 === C || "string" == typeof C) {
                                                    var A, D = h, j = i.slice(), B = [];
                                                    if ("string" == typeof C) B = C.split(","); else for (A = 0; A < _.matches.length; A++) B.push(A.toString());
                                                    if (void 0 !== s.excludes[e]) {
                                                        for (var R = B.slice(), L = 0, I = s.excludes[e].length; L < I; L++) {
                                                            var F = s.excludes[e][L].toString().split(":");
                                                            o.length == F[1] && B.splice(B.indexOf(F[0]), 1);
                                                        }
                                                        0 === B.length && (delete s.excludes[e], B = R);
                                                    }
                                                    (!0 === c.keepStatic || isFinite(parseInt(c.keepStatic)) && D >= c.keepStatic) && (B = B.slice(0, 1));
                                                    for (var N = 0; N < B.length; N++) {
                                                        A = parseInt(B[N]), m = [], i = "string" == typeof C && v(h, A, O) || j.slice();
                                                        var V = _.matches[A];
                                                        if (V && l(V, [ A ].concat(o), u)) r = !0; else if (0 === N && (T = !0), V && V.matches && V.matches.length > _.matches[0].matches.length) break;
                                                        S = m.slice(), h = D, m = [];
                                                        for (var G = 0; G < S.length; G++) {
                                                            var H = S[G], K = !1;
                                                            H.match.jit = H.match.jit || T, H.alternation = H.alternation || O, b(H);
                                                            for (var U = 0; U < w.length; U++) {
                                                                var $ = w[U];
                                                                if ("string" != typeof C || void 0 !== H.alternation && B.includes(H.locator[H.alternation].toString())) {
                                                                    if (H.match.nativeDef === $.match.nativeDef) {
                                                                        K = !0, b($, H);
                                                                        break;
                                                                    }
                                                                    if (f(H, $, c)) {
                                                                        b(H, $) && (K = !0, w.splice(w.indexOf($), 0, H));
                                                                        break;
                                                                    }
                                                                    if (f($, H, c)) {
                                                                        b($, H);
                                                                        break;
                                                                    }
                                                                    if (Z = $, !0 === (Q = H).match.static && !0 !== Z.match.static && Z.match.fn.test(Q.match.def, s, e, !1, c, !1)) {
                                                                        x(H, $) || void 0 !== d.inputmask.userOptions.keepStatic ? b(H, $) && (K = !0, w.splice(w.indexOf($), 0, H)) : c.keepStatic = !0;
                                                                        break;
                                                                    }
                                                                }
                                                            }
                                                            K || w.push(H);
                                                        }
                                                    }
                                                    m = M.concat(w), h = e, g = m.length > 0, r = w.length > 0, i = j.slice();
                                                } else r = l(_.matches[C] || t.matches[C], [ C ].concat(o), u);
                                                if (r) return !0;
                                            } else if (r.isQuantifier && u !== t.matches[t.matches.indexOf(r) - 1]) for (var q = r, z = i.length > 0 ? i.shift() : 0; z < (isNaN(q.quantifier.max) ? z + 1 : q.quantifier.max) && h <= e; z++) {
                                                var W = t.matches[t.matches.indexOf(q) - 1];
                                                if (r = l(W, [ z ].concat(o), W)) {
                                                    if ((a = m[m.length - 1].match).optionalQuantifier = z >= q.quantifier.min, a.jit = (z + 1) * (W.matches.indexOf(a) + 1) > q.quantifier.jit, 
                                                    a.optionalQuantifier && p(a, W)) {
                                                        g = !0, h = e;
                                                        break;
                                                    }
                                                    return a.jit && (s.jitOffset[e] = W.matches.length - W.matches.indexOf(a)), !0;
                                                }
                                            } else if (r = y(r, i, o, u)) return !0;
                                        } else h++;
                                        var Q, Z;
                                    }
                                    for (var u = i.length > 0 ? i.shift() : 0; u < t.matches.length; u++) if (!0 !== t.matches[u].isQuantifier) {
                                        var p = l(t.matches[u], [ u ].concat(r), o);
                                        if (p && h === e) return p;
                                        if (h > e) break;
                                    }
                                }
                                if (e > -1) {
                                    if (void 0 === t) {
                                        for (var b, x = e - 1; void 0 === (b = s.validPositions[x] || s.tests[x]) && x > -1; ) x--;
                                        void 0 !== b && x > -1 && (v = function(e, t) {
                                            var i, a = [];
                                            return Array.isArray(t) || (t = [ t ]), t.length > 0 && (void 0 === t[0].alternation || !0 === c.keepStatic ? 0 === (a = u.call(o, e, t.slice()).locator.slice()).length && (a = t[0].locator.slice()) : t.forEach((function(e) {
                                                "" !== e.def && (0 === a.length ? (i = e.alternation, a = e.locator.slice()) : e.locator[i] && -1 === a[i].toString().indexOf(e.locator[i]) && (a[i] += "," + e.locator[i]));
                                            }))), a;
                                        }(x, b), k = v.join(""), h = x);
                                    }
                                    if (s.tests[e] && s.tests[e][0].cd === k) return s.tests[e];
                                    for (var P = v.shift(); P < p.length; P++) if (y(p[P], v, [ P ]) && h === e || h > e) break;
                                }
                                return (0 === m.length || g) && m.push({
                                    match: {
                                        fn: null,
                                        static: !0,
                                        optionality: !1,
                                        casing: null,
                                        def: "",
                                        placeholder: ""
                                    },
                                    locator: [],
                                    mloc: {},
                                    cd: k
                                }), void 0 !== t && s.tests[e] ? r = l.extend(!0, [], m) : (s.tests[e] = l.extend(!0, [], m), 
                                r = s.tests[e]), m.forEach((function(e) {
                                    e.match.optionality = !1;
                                })), r;
                            }
                        },
                        7215: function(e, t, i) {
                            Object.defineProperty(t, "__esModule", {
                                value: !0
                            }), t.alternate = s, t.checkAlternationMatch = function(e, t, i) {
                                for (var a, n = this.opts.greedy ? t : t.slice(0, 1), r = !1, o = void 0 !== i ? i.split(",") : [], l = 0; l < o.length; l++) -1 !== (a = e.indexOf(o[l])) && e.splice(a, 1);
                                for (var s = 0; s < e.length; s++) if (n.includes(e[s])) {
                                    r = !0;
                                    break;
                                }
                                return r;
                            }, t.handleRemove = function(e, t, i, a, l) {
                                var u = this, c = this.maskset, f = this.opts;
                                if ((f.numericInput || u.isRTL) && (t === r.default.BACKSPACE ? t = r.default.DELETE : t === r.default.DELETE && (t = r.default.BACKSPACE), 
                                u.isRTL)) {
                                    var d = i.end;
                                    i.end = i.begin, i.begin = d;
                                }
                                var p, h = o.getLastValidPosition.call(u, void 0, !0);
                                i.end >= o.getBuffer.call(u).length && h >= i.end && (i.end = h + 1);
                                t === r.default.BACKSPACE ? i.end - i.begin < 1 && (i.begin = o.seekPrevious.call(u, i.begin)) : t === r.default.DELETE && i.begin === i.end && (i.end = o.isMask.call(u, i.end, !0, !0) ? i.end + 1 : o.seekNext.call(u, i.end) + 1);
                                if (!1 !== (p = m.call(u, i))) {
                                    if (!0 !== a && !1 !== f.keepStatic || null !== f.regex && -1 !== n.getTest.call(u, i.begin).match.def.indexOf("|")) {
                                        var v = s.call(u, !0);
                                        if (v) {
                                            var g = void 0 !== v.caret ? v.caret : v.pos ? o.seekNext.call(u, v.pos.begin ? v.pos.begin : v.pos) : o.getLastValidPosition.call(u, -1, !0);
                                            (t !== r.default.DELETE || i.begin > g) && i.begin;
                                        }
                                    }
                                    !0 !== a && (c.p = t === r.default.DELETE ? i.begin + p : i.begin, c.p = o.determineNewCaretPosition.call(u, {
                                        begin: c.p,
                                        end: c.p
                                    }, !1, !1 === f.insertMode && t === r.default.BACKSPACE ? "none" : void 0).begin);
                                }
                            }, t.isComplete = c, t.isSelection = f, t.isValid = d, t.refreshFromBuffer = h, 
                            t.revalidateMask = m;
                            var a, n = i(4713), r = (a = i(5581)) && a.__esModule ? a : {
                                default: a
                            }, o = i(8711), l = i(6030);
                            function s(e, t, i, a, r, l) {
                                var u, c, f, p, h, v, m, g, k, y, b, x = this, P = this.dependencyLib, E = this.opts, S = x.maskset, _ = P.extend(!0, {}, S.validPositions), w = P.extend(!0, {}, S.tests), M = !1, O = !1, T = void 0 !== r ? r : o.getLastValidPosition.call(x);
                                if (l && (y = l.begin, b = l.end, l.begin > l.end && (y = l.end, b = l.begin)), 
                                -1 === T && void 0 === r) u = 0, c = (p = n.getTest.call(x, u)).alternation; else for (;T >= 0; T--) if ((f = S.validPositions[T]) && void 0 !== f.alternation) {
                                    if (p && p.locator[f.alternation] !== f.locator[f.alternation]) break;
                                    u = T, c = S.validPositions[u].alternation, p = f;
                                }
                                if (void 0 !== c) {
                                    m = parseInt(u), S.excludes[m] = S.excludes[m] || [], !0 !== e && S.excludes[m].push((0, 
                                    n.getDecisionTaker)(p) + ":" + p.alternation);
                                    var C = [], A = -1;
                                    for (h = m; h < o.getLastValidPosition.call(x, void 0, !0) + 1; h++) -1 === A && e <= h && void 0 !== t && (C.push(t), 
                                    A = C.length - 1), (v = S.validPositions[h]) && !0 !== v.generatedInput && (void 0 === l || h < y || h >= b) && C.push(v.input), 
                                    delete S.validPositions[h];
                                    for (-1 === A && void 0 !== t && (C.push(t), A = C.length - 1); void 0 !== S.excludes[m] && S.excludes[m].length < 10; ) {
                                        for (S.tests = {}, o.resetMaskSet.call(x, !0), M = !0, h = 0; h < C.length && (g = M.caret || o.getLastValidPosition.call(x, void 0, !0) + 1, 
                                        k = C[h], M = d.call(x, g, k, !1, a, !0)); h++) h === A && (O = M), 1 == e && M && (O = {
                                            caretPos: h
                                        });
                                        if (M) break;
                                        if (o.resetMaskSet.call(x), p = n.getTest.call(x, m), S.validPositions = P.extend(!0, {}, _), 
                                        S.tests = P.extend(!0, {}, w), !S.excludes[m]) {
                                            O = s.call(x, e, t, i, a, m - 1, l);
                                            break;
                                        }
                                        var D = (0, n.getDecisionTaker)(p);
                                        if (-1 !== S.excludes[m].indexOf(D + ":" + p.alternation)) {
                                            O = s.call(x, e, t, i, a, m - 1, l);
                                            break;
                                        }
                                        for (S.excludes[m].push(D + ":" + p.alternation), h = m; h < o.getLastValidPosition.call(x, void 0, !0) + 1; h++) delete S.validPositions[h];
                                    }
                                }
                                return O && !1 === E.keepStatic || delete S.excludes[m], O;
                            }
                            function u(e, t, i) {
                                var a = this.opts, n = this.maskset;
                                switch (a.casing || t.casing) {
                                  case "upper":
                                    e = e.toUpperCase();
                                    break;

                                  case "lower":
                                    e = e.toLowerCase();
                                    break;

                                  case "title":
                                    var o = n.validPositions[i - 1];
                                    e = 0 === i || o && o.input === String.fromCharCode(r.default.SPACE) ? e.toUpperCase() : e.toLowerCase();
                                    break;

                                  default:
                                    if ("function" == typeof a.casing) {
                                        var l = Array.prototype.slice.call(arguments);
                                        l.push(n.validPositions), e = a.casing.apply(this, l);
                                    }
                                }
                                return e;
                            }
                            function c(e) {
                                var t = this, i = this.opts, a = this.maskset;
                                if ("function" == typeof i.isComplete) return i.isComplete(e, i);
                                if ("*" !== i.repeat) {
                                    var r = !1, l = o.determineLastRequiredPosition.call(t, !0), s = o.seekPrevious.call(t, l.l);
                                    if (void 0 === l.def || l.def.newBlockMarker || l.def.optionality || l.def.optionalQuantifier) {
                                        r = !0;
                                        for (var u = 0; u <= s; u++) {
                                            var c = n.getTestTemplate.call(t, u).match;
                                            if (!0 !== c.static && void 0 === a.validPositions[u] && !0 !== c.optionality && !0 !== c.optionalQuantifier || !0 === c.static && e[u] !== n.getPlaceholder.call(t, u, c)) {
                                                r = !1;
                                                break;
                                            }
                                        }
                                    }
                                    return r;
                                }
                            }
                            function f(e) {
                                var t = this.opts.insertMode ? 0 : 1;
                                return this.isRTL ? e.begin - e.end > t : e.end - e.begin > t;
                            }
                            function d(e, t, i, a, r, l, p) {
                                var g = this, k = this.dependencyLib, y = this.opts, b = g.maskset;
                                i = !0 === i;
                                var x = e;
                                function P(e) {
                                    if (void 0 !== e) {
                                        if (void 0 !== e.remove && (Array.isArray(e.remove) || (e.remove = [ e.remove ]), 
                                        e.remove.sort((function(e, t) {
                                            return t.pos - e.pos;
                                        })).forEach((function(e) {
                                            m.call(g, {
                                                begin: e,
                                                end: e + 1
                                            });
                                        })), e.remove = void 0), void 0 !== e.insert && (Array.isArray(e.insert) || (e.insert = [ e.insert ]), 
                                        e.insert.sort((function(e, t) {
                                            return e.pos - t.pos;
                                        })).forEach((function(e) {
                                            "" !== e.c && d.call(g, e.pos, e.c, void 0 === e.strict || e.strict, void 0 !== e.fromIsValid ? e.fromIsValid : a);
                                        })), e.insert = void 0), e.refreshFromBuffer && e.buffer) {
                                            var t = e.refreshFromBuffer;
                                            h.call(g, !0 === t ? t : t.start, t.end, e.buffer), e.refreshFromBuffer = void 0;
                                        }
                                        void 0 !== e.rewritePosition && (x = e.rewritePosition, e = !0);
                                    }
                                    return e;
                                }
                                function E(t, i, r) {
                                    var l = !1;
                                    return n.getTests.call(g, t).every((function(s, c) {
                                        var d = s.match;
                                        if (o.getBuffer.call(g, !0), !1 !== (l = (!d.jit || void 0 !== b.validPositions[o.seekPrevious.call(g, t)]) && (null != d.fn ? d.fn.test(i, b, t, r, y, f.call(g, e)) : (i === d.def || i === y.skipOptionalPartCharacter) && "" !== d.def && {
                                            c: n.getPlaceholder.call(g, t, d, !0) || d.def,
                                            pos: t
                                        }))) {
                                            var p = void 0 !== l.c ? l.c : i, h = t;
                                            return p = p === y.skipOptionalPartCharacter && !0 === d.static ? n.getPlaceholder.call(g, t, d, !0) || d.def : p, 
                                            !0 !== (l = P(l)) && void 0 !== l.pos && l.pos !== t && (h = l.pos), !0 !== l && void 0 === l.pos && void 0 === l.c ? !1 : (!1 === m.call(g, e, k.extend({}, s, {
                                                input: u.call(g, p, d, h)
                                            }), a, h) && (l = !1), !1);
                                        }
                                        return !0;
                                    })), l;
                                }
                                void 0 !== e.begin && (x = g.isRTL ? e.end : e.begin);
                                var S = !0, _ = k.extend(!0, {}, b.validPositions);
                                if (!1 === y.keepStatic && void 0 !== b.excludes[x] && !0 !== r && !0 !== a) for (var w = x; w < (g.isRTL ? e.begin : e.end); w++) void 0 !== b.excludes[w] && (b.excludes[w] = void 0, 
                                delete b.tests[w]);
                                if ("function" == typeof y.preValidation && !0 !== a && !0 !== l && (S = P(S = y.preValidation.call(g, o.getBuffer.call(g), x, t, f.call(g, e), y, b, e, i || r))), 
                                !0 === S) {
                                    if (S = E(x, t, i), (!i || !0 === a) && !1 === S && !0 !== l) {
                                        var M = b.validPositions[x];
                                        if (!M || !0 !== M.match.static || M.match.def !== t && t !== y.skipOptionalPartCharacter) {
                                            if (y.insertMode || void 0 === b.validPositions[o.seekNext.call(g, x)] || e.end > x) {
                                                var O = !1;
                                                if (b.jitOffset[x] && void 0 === b.validPositions[o.seekNext.call(g, x)] && !1 !== (S = d.call(g, x + b.jitOffset[x], t, !0, !0)) && (!0 !== r && (S.caret = x), 
                                                O = !0), e.end > x && (b.validPositions[x] = void 0), !O && !o.isMask.call(g, x, y.keepStatic && 0 === x)) for (var T = x + 1, C = o.seekNext.call(g, x, !1, 0 !== x); T <= C; T++) if (!1 !== (S = E(T, t, i))) {
                                                    S = v.call(g, x, void 0 !== S.pos ? S.pos : T) || S, x = T;
                                                    break;
                                                }
                                            }
                                        } else S = {
                                            caret: o.seekNext.call(g, x)
                                        };
                                    }
                                    !1 !== S || !y.keepStatic || !c.call(g, o.getBuffer.call(g)) && 0 !== x || i || !0 === r ? f.call(g, e) && b.tests[x] && b.tests[x].length > 1 && y.keepStatic && !i && !0 !== r && (S = s.call(g, !0)) : S = s.call(g, x, t, i, a, void 0, e), 
                                    !0 === S && (S = {
                                        pos: x
                                    });
                                }
                                if ("function" == typeof y.postValidation && !0 !== a && !0 !== l) {
                                    var A = y.postValidation.call(g, o.getBuffer.call(g, !0), void 0 !== e.begin ? g.isRTL ? e.end : e.begin : e, t, S, y, b, i, p);
                                    void 0 !== A && (S = !0 === A ? S : A);
                                }
                                S && void 0 === S.pos && (S.pos = x), !1 === S || !0 === l ? (o.resetMaskSet.call(g, !0), 
                                b.validPositions = k.extend(!0, {}, _)) : v.call(g, void 0, x, !0);
                                var D = P(S);
                                void 0 !== g.maxLength && o.getBuffer.call(g).length > g.maxLength && !a && (o.resetMaskSet.call(g, !0), 
                                b.validPositions = k.extend(!0, {}, _), D = !1);
                                return D;
                            }
                            function p(e, t, i) {
                                for (var a = this.maskset, r = !1, o = n.getTests.call(this, e), l = 0; l < o.length; l++) {
                                    if (o[l].match && (o[l].match.nativeDef === t.match[i.shiftPositions ? "def" : "nativeDef"] && (!i.shiftPositions || !t.match.static) || o[l].match.nativeDef === t.match.nativeDef || i.regex && !o[l].match.static && o[l].match.fn.test(t.input))) {
                                        r = !0;
                                        break;
                                    }
                                    if (o[l].match && o[l].match.def === t.match.nativeDef) {
                                        r = void 0;
                                        break;
                                    }
                                }
                                return !1 === r && void 0 !== a.jitOffset[e] && (r = p.call(this, e + a.jitOffset[e], t, i)), 
                                r;
                            }
                            function h(e, t, i) {
                                var a, n, r = this, s = this.maskset, u = this.opts, c = this.dependencyLib, f = u.skipOptionalPartCharacter, d = r.isRTL ? i.slice().reverse() : i;
                                if (u.skipOptionalPartCharacter = "", !0 === e) o.resetMaskSet.call(r), s.tests = {}, 
                                e = 0, t = i.length, n = o.determineNewCaretPosition.call(r, {
                                    begin: 0,
                                    end: 0
                                }, !1).begin; else {
                                    for (a = e; a < t; a++) delete s.validPositions[a];
                                    n = e;
                                }
                                var p = new c.Event("keypress");
                                for (a = e; a < t; a++) {
                                    p.keyCode = d[a].toString().charCodeAt(0), r.ignorable = !1;
                                    var h = l.EventHandlers.keypressEvent.call(r, p, !0, !1, !1, n);
                                    !1 !== h && void 0 !== h && (n = h.forwardPosition);
                                }
                                u.skipOptionalPartCharacter = f;
                            }
                            function v(e, t, i) {
                                var a = this, r = this.maskset, l = this.dependencyLib;
                                if (void 0 === e) for (e = t - 1; e > 0 && !r.validPositions[e]; e--) ;
                                for (var s = e; s < t; s++) if (void 0 === r.validPositions[s] && !o.isMask.call(a, s, !1)) if (0 == s ? n.getTest.call(a, s) : r.validPositions[s - 1]) {
                                    var u = n.getTests.call(a, s).slice();
                                    "" === u[u.length - 1].match.def && u.pop();
                                    var c, f = n.determineTestTemplate.call(a, s, u);
                                    if (f && (!0 !== f.match.jit || "master" === f.match.newBlockMarker && (c = r.validPositions[s + 1]) && !0 === c.match.optionalQuantifier) && ((f = l.extend({}, f, {
                                        input: n.getPlaceholder.call(a, s, f.match, !0) || f.match.def
                                    })).generatedInput = !0, m.call(a, s, f, !0), !0 !== i)) {
                                        var p = r.validPositions[t].input;
                                        return r.validPositions[t] = void 0, d.call(a, t, p, !0, !0);
                                    }
                                }
                            }
                            function m(e, t, i, a) {
                                var r = this, l = this.maskset, s = this.opts, u = this.dependencyLib;
                                function c(e, t, i) {
                                    var a = t[e];
                                    if (void 0 !== a && !0 === a.match.static && !0 !== a.match.optionality && (void 0 === t[0] || void 0 === t[0].alternation)) {
                                        var n = i.begin <= e - 1 ? t[e - 1] && !0 === t[e - 1].match.static && t[e - 1] : t[e - 1], r = i.end > e + 1 ? t[e + 1] && !0 === t[e + 1].match.static && t[e + 1] : t[e + 1];
                                        return n && r;
                                    }
                                    return !1;
                                }
                                var f = 0, h = void 0 !== e.begin ? e.begin : e, v = void 0 !== e.end ? e.end : e, m = !0;
                                if (e.begin > e.end && (h = e.end, v = e.begin), a = void 0 !== a ? a : h, h !== v || s.insertMode && void 0 !== l.validPositions[a] && void 0 === i || void 0 === t || t.match.optionalQuantifier || t.match.optionality) {
                                    var g, k = u.extend(!0, {}, l.validPositions), y = o.getLastValidPosition.call(r, void 0, !0);
                                    for (l.p = h, g = y; g >= h; g--) delete l.validPositions[g], void 0 === t && delete l.tests[g + 1];
                                    var b, x, P = a, E = P;
                                    for (t && (l.validPositions[a] = u.extend(!0, {}, t), E++, P++), g = t ? v : v - 1; g <= y; g++) {
                                        if (void 0 !== (b = k[g]) && !0 !== b.generatedInput && (g >= v || g >= h && c(g, k, {
                                            begin: h,
                                            end: v
                                        }))) {
                                            for (;"" !== n.getTest.call(r, E).match.def; ) {
                                                if (!1 !== (x = p.call(r, E, b, s)) || "+" === b.match.def) {
                                                    "+" === b.match.def && o.getBuffer.call(r, !0);
                                                    var S = d.call(r, E, b.input, "+" !== b.match.def, !0);
                                                    if (m = !1 !== S, P = (S.pos || E) + 1, !m && x) break;
                                                } else m = !1;
                                                if (m) {
                                                    void 0 === t && b.match.static && g === e.begin && f++;
                                                    break;
                                                }
                                                if (!m && o.getBuffer.call(r), E > l.maskLength) break;
                                                E++;
                                            }
                                            "" == n.getTest.call(r, E).match.def && (m = !1), E = P;
                                        }
                                        if (!m) break;
                                    }
                                    if (!m) return l.validPositions = u.extend(!0, {}, k), o.resetMaskSet.call(r, !0), 
                                    !1;
                                } else t && n.getTest.call(r, a).match.cd === t.match.cd && (l.validPositions[a] = u.extend(!0, {}, t));
                                return o.resetMaskSet.call(r, !0), f;
                            }
                        },
                        5581: function(e) {
                            e.exports = JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"Z":90,"CONTROL":17,"PAUSE/BREAK":19,"WINDOWS_LEFT":91,"WINDOWS_RIGHT":92,"KEY_229":229}');
                        }
                    }, t = {};
                    function i(a) {
                        var n = t[a];
                        if (void 0 !== n) return n.exports;
                        var r = t[a] = {
                            exports: {}
                        };
                        return e[a](r, r.exports, i), r.exports;
                    }
                    var a = {};
                    return function() {
                        var e, t = a;
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }), t.default = void 0, i(3851), i(219), i(207), i(5296);
                        var n = ((e = i(2394)) && e.__esModule ? e : {
                            default: e
                        }).default;
                        t.default = n;
                    }(), a;
                }();
            }));
        },
        1448: module => {
            !function(e, t) {
                true ? module.exports = t() : 0;
            }(window, (function() {
                return function(e) {
                    var t = {};
                    function n(a) {
                        if (t[a]) return t[a].exports;
                        var r = t[a] = {
                            i: a,
                            l: !1,
                            exports: {}
                        };
                        return e[a].call(r.exports, r, r.exports, n), r.l = !0, r.exports;
                    }
                    return n.m = e, n.c = t, n.d = function(e, t, a) {
                        n.o(e, t) || Object.defineProperty(e, t, {
                            enumerable: !0,
                            get: a
                        });
                    }, n.r = function(e) {
                        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                            value: "Module"
                        }), Object.defineProperty(e, "__esModule", {
                            value: !0
                        });
                    }, n.t = function(e, t) {
                        if (1 & t && (e = n(e)), 8 & t) return e;
                        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
                        var a = Object.create(null);
                        if (n.r(a), Object.defineProperty(a, "default", {
                            enumerable: !0,
                            value: e
                        }), 2 & t && "string" != typeof e) for (var r in e) n.d(a, r, function(t) {
                            return e[t];
                        }.bind(null, r));
                        return a;
                    }, n.n = function(e) {
                        var t = e && e.__esModule ? function() {
                            return e.default;
                        } : function() {
                            return e;
                        };
                        return n.d(t, "a", t), t;
                    }, n.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t);
                    }, n.p = "", n(n.s = 0);
                }([ function(e, t, n) {
                    "use strict";
                    n.r(t);
                    var a = [], r = [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ], i = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ], o = {
                        t: "top",
                        r: "right",
                        b: "bottom",
                        l: "left",
                        c: "centered"
                    };
                    function s() {}
                    var l = [ "click", "focusin", "keydown", "input" ];
                    function d(e) {
                        l.forEach((function(t) {
                            e.addEventListener(t, e === document ? L : Y);
                        }));
                    }
                    function c(e) {
                        return Array.isArray(e) ? e.map(c) : "[object Object]" === x(e) ? Object.keys(e).reduce((function(t, n) {
                            return t[n] = c(e[n]), t;
                        }), {}) : e;
                    }
                    function u(e, t) {
                        var n = e.calendar.querySelector(".qs-overlay"), a = n && !n.classList.contains("qs-hidden");
                        t = t || new Date(e.currentYear, e.currentMonth), e.calendar.innerHTML = [ h(t, e, a), f(t, e, a), v(e, a) ].join(""), 
                        a && window.requestAnimationFrame((function() {
                            M(!0, e);
                        }));
                    }
                    function h(e, t, n) {
                        return [ '<div class="qs-controls' + (n ? " qs-blur" : "") + '">', '<div class="qs-arrow qs-left"></div>', '<div class="qs-month-year' + (t.disableYearOverlay ? " qs-disabled-year-overlay" : "") + '">', '<span class="qs-month">' + t.months[e.getMonth()] + "</span>", '<span class="qs-year">' + e.getFullYear() + "</span>", "</div>", '<div class="qs-arrow qs-right"></div>', "</div>" ].join("");
                    }
                    function f(e, t, n) {
                        var a = t.currentMonth, r = t.currentYear, i = t.dateSelected, o = t.maxDate, s = t.minDate, l = t.showAllDates, d = t.days, c = t.disabledDates, u = t.startDay, h = t.weekendIndices, f = t.events, v = t.getRange ? t.getRange() : {}, m = +v.start, y = +v.end, p = g(new Date(e).setDate(1)), w = p.getDay() - u, D = w < 0 ? 7 : 0;
                        p.setMonth(p.getMonth() + 1), p.setDate(0);
                        var b = p.getDate(), q = [], S = D + 7 * ((w + b) / 7 | 0);
                        S += (w + b) % 7 ? 7 : 0;
                        for (var M = 1; M <= S; M++) {
                            var E = (M - 1) % 7, x = d[E], C = M - (w >= 0 ? w : 7 + w), L = new Date(r, a, C), Y = f[+L], j = C < 1 || C > b, O = j ? C < 1 ? -1 : 1 : 0, P = j && !l, k = P ? "" : L.getDate(), N = +L == +i, _ = E === h[0] || E === h[1], I = m !== y, A = "qs-square " + x;
                            Y && !P && (A += " qs-event"), j && (A += " qs-outside-current-month"), !l && j || (A += " qs-num"), 
                            N && (A += " qs-active"), (c[+L] || t.disabler(L) || _ && t.noWeekends || s && +L < +s || o && +L > +o) && !P && (A += " qs-disabled"), 
                            +g(new Date) == +L && (A += " qs-current"), +L === m && y && I && (A += " qs-range-start"), 
                            +L > m && +L < y && (A += " qs-range-middle"), +L === y && m && I && (A += " qs-range-end"), 
                            P && (A += " qs-empty", k = ""), q.push('<div class="' + A + '" data-direction="' + O + '">' + k + "</div>");
                        }
                        var R = d.map((function(e) {
                            return '<div class="qs-square qs-day">' + e + "</div>";
                        })).concat(q);
                        return R.unshift('<div class="qs-squares' + (n ? " qs-blur" : "") + '">'), R.push("</div>"), 
                        R.join("");
                    }
                    function v(e, t) {
                        var n = e.overlayPlaceholder, a = e.overlayButton;
                        return [ '<div class="qs-overlay' + (t ? "" : " qs-hidden") + '">', "<div>", '<input class="qs-overlay-year" placeholder="' + n + '" inputmode="numeric" />', '<div class="qs-close">&#10005;</div>', "</div>", '<div class="qs-overlay-month-container">' + e.overlayMonths.map((function(e, t) {
                            return '<div class="qs-overlay-month" data-month-num="' + t + '">' + e + "</div>";
                        })).join("") + "</div>", '<div class="qs-submit qs-disabled">' + a + "</div>", "</div>" ].join("");
                    }
                    function m(e, t, n) {
                        var a = t.el, r = t.calendar.querySelector(".qs-active"), i = e.textContent, o = t.sibling;
                        (a.disabled || a.readOnly) && t.respectDisabledReadOnly || (t.dateSelected = n ? void 0 : new Date(t.currentYear, t.currentMonth, i), 
                        r && r.classList.remove("qs-active"), n || e.classList.add("qs-active"), p(a, t, n), 
                        n || q(t), o && (y({
                            instance: t,
                            deselect: n
                        }), t.first && !o.dateSelected && (o.currentYear = t.currentYear, o.currentMonth = t.currentMonth, 
                        o.currentMonthName = t.currentMonthName), u(t), u(o)), t.onSelect(t, n ? void 0 : new Date(t.dateSelected)));
                    }
                    function y(e) {
                        var t = e.instance.first ? e.instance : e.instance.sibling, n = t.sibling;
                        t === e.instance ? e.deselect ? (t.minDate = t.originalMinDate, n.minDate = n.originalMinDate) : n.minDate = t.dateSelected : e.deselect ? (n.maxDate = n.originalMaxDate, 
                        t.maxDate = t.originalMaxDate) : t.maxDate = n.dateSelected;
                    }
                    function p(e, t, n) {
                        if (!t.nonInput) return n ? e.value = "" : t.formatter !== s ? t.formatter(e, t.dateSelected, t) : void (e.value = t.dateSelected.toDateString());
                    }
                    function w(e, t, n, a) {
                        n || a ? (n && (t.currentYear = +n), a && (t.currentMonth = +a)) : (t.currentMonth += e.contains("qs-right") ? 1 : -1, 
                        12 === t.currentMonth ? (t.currentMonth = 0, t.currentYear++) : -1 === t.currentMonth && (t.currentMonth = 11, 
                        t.currentYear--)), t.currentMonthName = t.months[t.currentMonth], u(t), t.onMonthChange(t);
                    }
                    function D(e) {
                        if (!e.noPosition) {
                            var t = e.position.top, n = e.position.right;
                            if (e.position.centered) return e.calendarContainer.classList.add("qs-centered");
                            var a = e.positionedEl.getBoundingClientRect(), r = e.el.getBoundingClientRect(), i = e.calendarContainer.getBoundingClientRect(), o = r.top - a.top + (t ? -1 * i.height : r.height) + "px", s = r.left - a.left + (n ? r.width - i.width : 0) + "px";
                            e.calendarContainer.style.setProperty("top", o), e.calendarContainer.style.setProperty("left", s);
                        }
                    }
                    function b(e) {
                        return "[object Date]" === x(e) && "Invalid Date" !== e.toString();
                    }
                    function g(e) {
                        if (b(e) || "number" == typeof e && !isNaN(e)) {
                            var t = new Date(+e);
                            return new Date(t.getFullYear(), t.getMonth(), t.getDate());
                        }
                    }
                    function q(e) {
                        e.disabled || !e.calendarContainer.classList.contains("qs-hidden") && !e.alwaysShow && ("overlay" !== e.defaultView && M(!0, e), 
                        e.calendarContainer.classList.add("qs-hidden"), e.onHide(e));
                    }
                    function S(e) {
                        e.disabled || (e.calendarContainer.classList.remove("qs-hidden"), "overlay" === e.defaultView && M(!1, e), 
                        D(e), e.onShow(e));
                    }
                    function M(e, t) {
                        var n = t.calendar, a = n.querySelector(".qs-overlay"), r = a.querySelector(".qs-overlay-year"), i = n.querySelector(".qs-controls"), o = n.querySelector(".qs-squares");
                        e ? (a.classList.add("qs-hidden"), i.classList.remove("qs-blur"), o.classList.remove("qs-blur"), 
                        r.value = "") : (a.classList.remove("qs-hidden"), i.classList.add("qs-blur"), o.classList.add("qs-blur"), 
                        r.focus());
                    }
                    function E(e, t, n, a) {
                        var r = isNaN(+(new Date).setFullYear(t.value || void 0)), i = r ? null : t.value;
                        if (13 === e.which || 13 === e.keyCode || "click" === e.type) a ? w(null, n, i, a) : r || t.classList.contains("qs-disabled") || w(null, n, i); else if (n.calendar.contains(t)) n.calendar.querySelector(".qs-submit").classList[r ? "add" : "remove"]("qs-disabled");
                    }
                    function x(e) {
                        return {}.toString.call(e);
                    }
                    function C(e) {
                        a.forEach((function(t) {
                            t !== e && q(t);
                        }));
                    }
                    function L(e) {
                        if (!e.__qs_shadow_dom) {
                            var t = e.which || e.keyCode, n = e.type, r = e.target, o = r.classList, s = a.filter((function(e) {
                                return e.calendar.contains(r) || e.el === r;
                            }))[0], l = s && s.calendar.contains(r);
                            if (!(s && s.isMobile && s.disableMobile)) if ("click" === n) {
                                if (!s) return a.forEach(q);
                                if (s.disabled) return;
                                var d = s.calendar, c = s.calendarContainer, h = s.disableYearOverlay, f = s.nonInput, v = d.querySelector(".qs-overlay-year"), y = !!d.querySelector(".qs-hidden"), p = d.querySelector(".qs-month-year").contains(r), D = r.dataset.monthNum;
                                if (s.noPosition && !l) (c.classList.contains("qs-hidden") ? S : q)(s); else if (o.contains("qs-arrow")) w(o, s); else if (p || o.contains("qs-close")) h || M(!y, s); else if (D) E(e, v, s, D); else {
                                    if (o.contains("qs-disabled")) return;
                                    if (o.contains("qs-num")) {
                                        var b = r.textContent, g = +r.dataset.direction, x = new Date(s.currentYear, s.currentMonth + g, b);
                                        if (g) {
                                            s.currentYear = x.getFullYear(), s.currentMonth = x.getMonth(), s.currentMonthName = i[s.currentMonth], 
                                            u(s);
                                            for (var L, Y = s.calendar.querySelectorAll('[data-direction="0"]'), j = 0; !L; ) {
                                                var O = Y[j];
                                                O.textContent === b && (L = O), j++;
                                            }
                                            r = L;
                                        }
                                        return void (+x == +s.dateSelected ? m(r, s, !0) : r.classList.contains("qs-disabled") || m(r, s));
                                    }
                                    o.contains("qs-submit") ? E(e, v, s) : f && r === s.el && (S(s), C(s));
                                }
                            } else if ("focusin" === n && s) S(s), C(s); else if ("keydown" === n && 9 === t && s) q(s); else if ("keydown" === n && s && !s.disabled) {
                                var P = !s.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");
                                13 === t && P && l ? E(e, r, s) : 27 === t && P && l && M(!0, s);
                            } else if ("input" === n) {
                                if (!s || !s.calendar.contains(r)) return;
                                var k = s.calendar.querySelector(".qs-submit"), N = r.value.split("").reduce((function(e, t) {
                                    return e || "0" !== t ? e + (t.match(/[0-9]/) ? t : "") : "";
                                }), "").slice(0, 4);
                                r.value = N, k.classList[4 === N.length ? "remove" : "add"]("qs-disabled");
                            }
                        }
                    }
                    function Y(e) {
                        L(e), e.__qs_shadow_dom = !0;
                    }
                    function j(e, t) {
                        l.forEach((function(n) {
                            e.removeEventListener(n, t);
                        }));
                    }
                    function O() {
                        S(this);
                    }
                    function P() {
                        q(this);
                    }
                    function k(e, t) {
                        var n = g(e), a = this.currentYear, r = this.currentMonth, i = this.sibling;
                        if (null == e) return this.dateSelected = void 0, p(this.el, this, !0), i && (y({
                            instance: this,
                            deselect: !0
                        }), u(i)), u(this), this;
                        if (!b(e)) throw new Error("`setDate` needs a JavaScript Date object.");
                        if (this.disabledDates[+n] || n < this.minDate || n > this.maxDate) throw new Error("You can't manually set a date that's disabled.");
                        this.dateSelected = n, t && (this.currentYear = n.getFullYear(), this.currentMonth = n.getMonth(), 
                        this.currentMonthName = this.months[n.getMonth()]), p(this.el, this), i && (y({
                            instance: this
                        }), u(i));
                        var o = a === n.getFullYear() && r === n.getMonth();
                        return o || t ? u(this, n) : o || u(this, new Date(a, r, 1)), this;
                    }
                    function N(e) {
                        return I(this, e, !0);
                    }
                    function _(e) {
                        return I(this, e);
                    }
                    function I(e, t, n) {
                        var a = e.dateSelected, r = e.first, i = e.sibling, o = e.minDate, s = e.maxDate, l = g(t), d = n ? "Min" : "Max";
                        function c() {
                            return "original" + d + "Date";
                        }
                        function h() {
                            return d.toLowerCase() + "Date";
                        }
                        function f() {
                            return "set" + d;
                        }
                        function v() {
                            throw new Error("Out-of-range date passed to " + f());
                        }
                        if (null == t) e[c()] = void 0, i ? (i[c()] = void 0, n ? (r && !a || !r && !i.dateSelected) && (e.minDate = void 0, 
                        i.minDate = void 0) : (r && !i.dateSelected || !r && !a) && (e.maxDate = void 0, 
                        i.maxDate = void 0)) : e[h()] = void 0; else {
                            if (!b(t)) throw new Error("Invalid date passed to " + f());
                            i ? ((r && n && l > (a || s) || r && !n && l < (i.dateSelected || o) || !r && n && l > (i.dateSelected || s) || !r && !n && l < (a || o)) && v(), 
                            e[c()] = l, i[c()] = l, (n && (r && !a || !r && !i.dateSelected) || !n && (r && !i.dateSelected || !r && !a)) && (e[h()] = l, 
                            i[h()] = l)) : ((n && l > (a || s) || !n && l < (a || o)) && v(), e[h()] = l);
                        }
                        return i && u(i), u(e), e;
                    }
                    function A() {
                        var e = this.first ? this : this.sibling, t = e.sibling;
                        return {
                            start: e.dateSelected,
                            end: t.dateSelected
                        };
                    }
                    function R() {
                        var e = this.shadowDom, t = this.positionedEl, n = this.calendarContainer, r = this.sibling, i = this;
                        this.inlinePosition && (a.some((function(e) {
                            return e !== i && e.positionedEl === t;
                        })) || t.style.setProperty("position", null));
                        n.remove(), a = a.filter((function(e) {
                            return e !== i;
                        })), r && delete r.sibling, a.length || j(document, L);
                        var o = a.some((function(t) {
                            return t.shadowDom === e;
                        }));
                        for (var s in e && !o && j(e, Y), this) delete this[s];
                        a.length || l.forEach((function(e) {
                            document.removeEventListener(e, L);
                        }));
                    }
                    function F(e, t) {
                        var n = new Date(e);
                        if (!b(n)) throw new Error("Invalid date passed to `navigate`");
                        this.currentYear = n.getFullYear(), this.currentMonth = n.getMonth(), u(this), t && this.onMonthChange(this);
                    }
                    function B() {
                        var e = !this.calendarContainer.classList.contains("qs-hidden"), t = !this.calendarContainer.querySelector(".qs-overlay").classList.contains("qs-hidden");
                        e && M(t, this);
                    }
                    t.default = function(e, t) {
                        var n = function(e, t) {
                            var n, l, d = function(e) {
                                var t = c(e);
                                t.events && (t.events = t.events.reduce((function(e, t) {
                                    if (!b(t)) throw new Error('"options.events" must only contain valid JavaScript Date objects.');
                                    return e[+g(t)] = !0, e;
                                }), {}));
                                [ "startDate", "dateSelected", "minDate", "maxDate" ].forEach((function(e) {
                                    var n = t[e];
                                    if (n && !b(n)) throw new Error('"options.' + e + '" needs to be a valid JavaScript Date object.');
                                    t[e] = g(n);
                                }));
                                var n = t.position, i = t.maxDate, l = t.minDate, d = t.dateSelected, u = t.overlayPlaceholder, h = t.overlayButton, f = t.startDay, v = t.id;
                                if (t.startDate = g(t.startDate || d || new Date), t.disabledDates = (t.disabledDates || []).reduce((function(e, t) {
                                    var n = +g(t);
                                    if (!b(t)) throw new Error('You supplied an invalid date to "options.disabledDates".');
                                    if (n === +g(d)) throw new Error('"disabledDates" cannot contain the same date as "dateSelected".');
                                    return e[n] = 1, e;
                                }), {}), t.hasOwnProperty("id") && null == v) throw new Error("`id` cannot be `null` or `undefined`");
                                if (null != v) {
                                    var m = a.filter((function(e) {
                                        return e.id === v;
                                    }));
                                    if (m.length > 1) throw new Error("Only two datepickers can share an id.");
                                    m.length ? (t.second = !0, t.sibling = m[0]) : t.first = !0;
                                }
                                var y = [ "tr", "tl", "br", "bl", "c" ].some((function(e) {
                                    return n === e;
                                }));
                                if (n && !y) throw new Error('"options.position" must be one of the following: tl, tr, bl, br, or c.');
                                function p(e) {
                                    throw new Error('"dateSelected" in options is ' + (e ? "less" : "greater") + ' than "' + (e || "max") + 'Date".');
                                }
                                if (t.position = function(e) {
                                    var t = e[0], n = e[1], a = {};
                                    a[o[t]] = 1, n && (a[o[n]] = 1);
                                    return a;
                                }(n || "bl"), i < l) throw new Error('"maxDate" in options is less than "minDate".');
                                d && (l > d && p("min"), i < d && p());
                                if ([ "onSelect", "onShow", "onHide", "onMonthChange", "formatter", "disabler" ].forEach((function(e) {
                                    "function" != typeof t[e] && (t[e] = s);
                                })), [ "customDays", "customMonths", "customOverlayMonths" ].forEach((function(e, n) {
                                    var a = t[e], r = n ? 12 : 7;
                                    if (a) {
                                        if (!Array.isArray(a) || a.length !== r || a.some((function(e) {
                                            return "string" != typeof e;
                                        }))) throw new Error('"' + e + '" must be an array with ' + r + " strings.");
                                        t[n ? n < 2 ? "months" : "overlayMonths" : "days"] = a;
                                    }
                                })), f && f > 0 && f < 7) {
                                    var w = (t.customDays || r).slice(), D = w.splice(0, f);
                                    t.customDays = w.concat(D), t.startDay = +f, t.weekendIndices = [ w.length - 1, w.length ];
                                } else t.startDay = 0, t.weekendIndices = [ 6, 0 ];
                                "string" != typeof u && delete t.overlayPlaceholder;
                                "string" != typeof h && delete t.overlayButton;
                                var q = t.defaultView;
                                if (q && "calendar" !== q && "overlay" !== q) throw new Error('options.defaultView must either be "calendar" or "overlay".');
                                return t.defaultView = q || "calendar", t;
                            }(t || {
                                startDate: g(new Date),
                                position: "bl",
                                defaultView: "calendar"
                            }), u = e;
                            if ("string" == typeof u) u = "#" === u[0] ? document.getElementById(u.slice(1)) : document.querySelector(u); else {
                                if ("[object ShadowRoot]" === x(u)) throw new Error("Using a shadow DOM as your selector is not supported.");
                                for (var h, f = u.parentNode; !h; ) {
                                    var v = x(f);
                                    "[object HTMLDocument]" === v ? h = !0 : "[object ShadowRoot]" === v ? (h = !0, 
                                    n = f, l = f.host) : f = f.parentNode;
                                }
                            }
                            if (!u) throw new Error("No selector / element found.");
                            if (a.some((function(e) {
                                return e.el === u;
                            }))) throw new Error("A datepicker already exists on that element.");
                            var m = u === document.body, y = n ? u.parentElement || n : m ? document.body : u.parentElement, w = n ? u.parentElement || l : y, D = document.createElement("div"), q = document.createElement("div");
                            D.className = "qs-datepicker-container qs-hidden", q.className = "qs-datepicker";
                            var M = {
                                shadowDom: n,
                                customElement: l,
                                positionedEl: w,
                                el: u,
                                parent: y,
                                nonInput: "INPUT" !== u.nodeName,
                                noPosition: m,
                                position: !m && d.position,
                                startDate: d.startDate,
                                dateSelected: d.dateSelected,
                                disabledDates: d.disabledDates,
                                minDate: d.minDate,
                                maxDate: d.maxDate,
                                noWeekends: !!d.noWeekends,
                                weekendIndices: d.weekendIndices,
                                calendarContainer: D,
                                calendar: q,
                                currentMonth: (d.startDate || d.dateSelected).getMonth(),
                                currentMonthName: (d.months || i)[(d.startDate || d.dateSelected).getMonth()],
                                currentYear: (d.startDate || d.dateSelected).getFullYear(),
                                events: d.events || {},
                                defaultView: d.defaultView,
                                setDate: k,
                                remove: R,
                                setMin: N,
                                setMax: _,
                                show: O,
                                hide: P,
                                navigate: F,
                                toggleOverlay: B,
                                onSelect: d.onSelect,
                                onShow: d.onShow,
                                onHide: d.onHide,
                                onMonthChange: d.onMonthChange,
                                formatter: d.formatter,
                                disabler: d.disabler,
                                months: d.months || i,
                                days: d.customDays || r,
                                startDay: d.startDay,
                                overlayMonths: d.overlayMonths || (d.months || i).map((function(e) {
                                    return e.slice(0, 3);
                                })),
                                overlayPlaceholder: d.overlayPlaceholder || "4-digit year",
                                overlayButton: d.overlayButton || "Submit",
                                disableYearOverlay: !!d.disableYearOverlay,
                                disableMobile: !!d.disableMobile,
                                isMobile: "ontouchstart" in window,
                                alwaysShow: !!d.alwaysShow,
                                id: d.id,
                                showAllDates: !!d.showAllDates,
                                respectDisabledReadOnly: !!d.respectDisabledReadOnly,
                                first: d.first,
                                second: d.second
                            };
                            if (d.sibling) {
                                var E = d.sibling, C = M, L = E.minDate || C.minDate, Y = E.maxDate || C.maxDate;
                                C.sibling = E, E.sibling = C, E.minDate = L, E.maxDate = Y, C.minDate = L, C.maxDate = Y, 
                                E.originalMinDate = L, E.originalMaxDate = Y, C.originalMinDate = L, C.originalMaxDate = Y, 
                                E.getRange = A, C.getRange = A;
                            }
                            d.dateSelected && p(u, M);
                            var j = getComputedStyle(w).position;
                            m || j && "static" !== j || (M.inlinePosition = !0, w.style.setProperty("position", "relative"));
                            var I = a.filter((function(e) {
                                return e.positionedEl === M.positionedEl;
                            }));
                            I.some((function(e) {
                                return e.inlinePosition;
                            })) && (M.inlinePosition = !0, I.forEach((function(e) {
                                e.inlinePosition = !0;
                            })));
                            D.appendChild(q), y.appendChild(D), M.alwaysShow && S(M);
                            return M;
                        }(e, t);
                        if (a.length || d(document), n.shadowDom && (a.some((function(e) {
                            return e.shadowDom === n.shadowDom;
                        })) || d(n.shadowDom)), a.push(n), n.second) {
                            var l = n.sibling;
                            y({
                                instance: n,
                                deselect: !n.dateSelected
                            }), y({
                                instance: l,
                                deselect: !l.dateSelected
                            }), u(l);
                        }
                        return u(n, n.startDate || n.dateSelected), n.alwaysShow && D(n), n;
                    };
                } ]).default;
            }));
        },
        5097: function(module) {
            /**
 * lightgallery | 2.7.0 | October 9th 2022
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */
            !function(t, e) {
                true ? module.exports = e() : 0;
            }(0, (function() {
                "use strict";
                var t = function() {
                    return (t = Object.assign || function(t) {
                        for (var e, i = 1, s = arguments.length; i < s; i++) for (var h in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, h) && (t[h] = e[h]);
                        return t;
                    }).apply(this, arguments);
                }, e = {
                    thumbnail: !0,
                    animateThumb: !0,
                    currentPagerPosition: "middle",
                    alignThumbnails: "middle",
                    thumbWidth: 100,
                    thumbHeight: "80px",
                    thumbMargin: 5,
                    appendThumbnailsTo: ".lg-components",
                    toggleThumb: !1,
                    enableThumbDrag: !0,
                    enableThumbSwipe: !0,
                    thumbnailSwipeThreshold: 10,
                    loadYouTubeThumbnail: !0,
                    youTubeThumbSize: 1,
                    thumbnailPluginStrings: {
                        toggleThumbnails: "Toggle thumbnails"
                    }
                }, i = "lgContainerResize", s = "lgUpdateSlides", h = "lgBeforeOpen", n = "lgBeforeSlide";
                return function() {
                    function o(t, e) {
                        return this.thumbOuterWidth = 0, this.thumbTotalWidth = 0, this.translateX = 0, 
                        this.thumbClickable = !1, this.core = t, this.$LG = e, this;
                    }
                    return o.prototype.init = function() {
                        this.settings = t(t({}, e), this.core.settings), this.thumbOuterWidth = 0, this.thumbTotalWidth = this.core.galleryItems.length * (this.settings.thumbWidth + this.settings.thumbMargin), 
                        this.translateX = 0, this.setAnimateThumbStyles(), this.core.settings.allowMediaOverlap || (this.settings.toggleThumb = !1), 
                        this.settings.thumbnail && (this.build(), this.settings.animateThumb ? (this.settings.enableThumbDrag && this.enableThumbDrag(), 
                        this.settings.enableThumbSwipe && this.enableThumbSwipe(), this.thumbClickable = !1) : this.thumbClickable = !0, 
                        this.toggleThumbBar(), this.thumbKeyPress());
                    }, o.prototype.build = function() {
                        var t = this;
                        this.setThumbMarkup(), this.manageActiveClassOnSlideChange(), this.$lgThumb.first().on("click.lg touchend.lg", (function(e) {
                            var i = t.$LG(e.target);
                            i.hasAttribute("data-lg-item-id") && setTimeout((function() {
                                if (t.thumbClickable && !t.core.lgBusy) {
                                    var e = parseInt(i.attr("data-lg-item-id"));
                                    t.core.slide(e, !1, !0, !1);
                                }
                            }), 50);
                        })), this.core.LGel.on(n + ".thumb", (function(e) {
                            var i = e.detail.index;
                            t.animateThumb(i);
                        })), this.core.LGel.on(h + ".thumb", (function() {
                            t.thumbOuterWidth = t.core.outer.get().offsetWidth;
                        })), this.core.LGel.on(s + ".thumb", (function() {
                            t.rebuildThumbnails();
                        })), this.core.LGel.on(i + ".thumb", (function() {
                            t.core.lgOpened && setTimeout((function() {
                                t.thumbOuterWidth = t.core.outer.get().offsetWidth, t.animateThumb(t.core.index), 
                                t.thumbOuterWidth = t.core.outer.get().offsetWidth;
                            }), 50);
                        }));
                    }, o.prototype.setThumbMarkup = function() {
                        var t = "lg-thumb-outer ";
                        this.settings.alignThumbnails && (t += "lg-thumb-align-" + this.settings.alignThumbnails);
                        var e = '<div class="' + t + '">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';
                        this.core.outer.addClass("lg-has-thumb"), ".lg-components" === this.settings.appendThumbnailsTo ? this.core.$lgComponents.append(e) : this.core.outer.append(e), 
                        this.$thumbOuter = this.core.outer.find(".lg-thumb-outer").first(), this.$lgThumb = this.core.outer.find(".lg-thumb").first(), 
                        this.settings.animateThumb && this.core.outer.find(".lg-thumb").css("transition-duration", this.core.settings.speed + "ms").css("width", this.thumbTotalWidth + "px").css("position", "relative"), 
                        this.setThumbItemHtml(this.core.galleryItems);
                    }, o.prototype.enableThumbDrag = function() {
                        var t = this, e = {
                            cords: {
                                startX: 0,
                                endX: 0
                            },
                            isMoved: !1,
                            newTranslateX: 0,
                            startTime: new Date,
                            endTime: new Date,
                            touchMoveTime: 0
                        }, i = !1;
                        this.$thumbOuter.addClass("lg-grab"), this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb", (function(s) {
                            t.thumbTotalWidth > t.thumbOuterWidth && (s.preventDefault(), e.cords.startX = s.pageX, 
                            e.startTime = new Date, t.thumbClickable = !1, i = !0, t.core.outer.get().scrollLeft += 1, 
                            t.core.outer.get().scrollLeft -= 1, t.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"));
                        })), this.$LG(window).on("mousemove.lg.thumb.global" + this.core.lgId, (function(s) {
                            t.core.lgOpened && i && (e.cords.endX = s.pageX, e = t.onThumbTouchMove(e));
                        })), this.$LG(window).on("mouseup.lg.thumb.global" + this.core.lgId, (function() {
                            t.core.lgOpened && (e.isMoved ? e = t.onThumbTouchEnd(e) : t.thumbClickable = !0, 
                            i && (i = !1, t.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")));
                        }));
                    }, o.prototype.enableThumbSwipe = function() {
                        var t = this, e = {
                            cords: {
                                startX: 0,
                                endX: 0
                            },
                            isMoved: !1,
                            newTranslateX: 0,
                            startTime: new Date,
                            endTime: new Date,
                            touchMoveTime: 0
                        };
                        this.$lgThumb.on("touchstart.lg", (function(i) {
                            t.thumbTotalWidth > t.thumbOuterWidth && (i.preventDefault(), e.cords.startX = i.targetTouches[0].pageX, 
                            t.thumbClickable = !1, e.startTime = new Date);
                        })), this.$lgThumb.on("touchmove.lg", (function(i) {
                            t.thumbTotalWidth > t.thumbOuterWidth && (i.preventDefault(), e.cords.endX = i.targetTouches[0].pageX, 
                            e = t.onThumbTouchMove(e));
                        })), this.$lgThumb.on("touchend.lg", (function() {
                            e.isMoved ? e = t.onThumbTouchEnd(e) : t.thumbClickable = !0;
                        }));
                    }, o.prototype.rebuildThumbnails = function() {
                        var t = this;
                        this.$thumbOuter.addClass("lg-rebuilding-thumbnails"), setTimeout((function() {
                            t.thumbTotalWidth = t.core.galleryItems.length * (t.settings.thumbWidth + t.settings.thumbMargin), 
                            t.$lgThumb.css("width", t.thumbTotalWidth + "px"), t.$lgThumb.empty(), t.setThumbItemHtml(t.core.galleryItems), 
                            t.animateThumb(t.core.index);
                        }), 50), setTimeout((function() {
                            t.$thumbOuter.removeClass("lg-rebuilding-thumbnails");
                        }), 200);
                    }, o.prototype.setTranslate = function(t) {
                        this.$lgThumb.css("transform", "translate3d(-" + t + "px, 0px, 0px)");
                    }, o.prototype.getPossibleTransformX = function(t) {
                        return t > this.thumbTotalWidth - this.thumbOuterWidth && (t = this.thumbTotalWidth - this.thumbOuterWidth), 
                        t < 0 && (t = 0), t;
                    }, o.prototype.animateThumb = function(t) {
                        if (this.$lgThumb.css("transition-duration", this.core.settings.speed + "ms"), this.settings.animateThumb) {
                            var e = 0;
                            switch (this.settings.currentPagerPosition) {
                              case "left":
                                e = 0;
                                break;

                              case "middle":
                                e = this.thumbOuterWidth / 2 - this.settings.thumbWidth / 2;
                                break;

                              case "right":
                                e = this.thumbOuterWidth - this.settings.thumbWidth;
                            }
                            this.translateX = (this.settings.thumbWidth + this.settings.thumbMargin) * t - 1 - e, 
                            this.translateX > this.thumbTotalWidth - this.thumbOuterWidth && (this.translateX = this.thumbTotalWidth - this.thumbOuterWidth), 
                            this.translateX < 0 && (this.translateX = 0), this.setTranslate(this.translateX);
                        }
                    }, o.prototype.onThumbTouchMove = function(t) {
                        return t.newTranslateX = this.translateX, t.isMoved = !0, t.touchMoveTime = (new Date).valueOf(), 
                        t.newTranslateX -= t.cords.endX - t.cords.startX, t.newTranslateX = this.getPossibleTransformX(t.newTranslateX), 
                        this.setTranslate(t.newTranslateX), this.$thumbOuter.addClass("lg-dragging"), t;
                    }, o.prototype.onThumbTouchEnd = function(t) {
                        t.isMoved = !1, t.endTime = new Date, this.$thumbOuter.removeClass("lg-dragging");
                        var e = t.endTime.valueOf() - t.startTime.valueOf(), i = t.cords.endX - t.cords.startX, s = Math.abs(i) / e;
                        return s > .15 && t.endTime.valueOf() - t.touchMoveTime < 30 ? ((s += 1) > 2 && (s += 1), 
                        s += s * (Math.abs(i) / this.thumbOuterWidth), this.$lgThumb.css("transition-duration", Math.min(s - 1, 2) + "settings"), 
                        i *= s, this.translateX = this.getPossibleTransformX(this.translateX - i), this.setTranslate(this.translateX)) : this.translateX = t.newTranslateX, 
                        Math.abs(t.cords.endX - t.cords.startX) < this.settings.thumbnailSwipeThreshold && (this.thumbClickable = !0), 
                        t;
                    }, o.prototype.getThumbHtml = function(t, e) {
                        var i, s = this.core.galleryItems[e].__slideVideoInfo || {};
                        return i = s.youtube && this.settings.loadYouTubeThumbnail ? "//img.youtube.com/vi/" + s.youtube[1] + "/" + this.settings.youTubeThumbSize + ".jpg" : t, 
                        '<div data-lg-item-id="' + e + '" class="lg-thumb-item ' + (e === this.core.index ? " active" : "") + '" \n        style="width:' + this.settings.thumbWidth + "px; height: " + this.settings.thumbHeight + ";\n            margin-right: " + this.settings.thumbMargin + 'px;">\n            <img data-lg-item-id="' + e + '" src="' + i + '" />\n        </div>';
                    }, o.prototype.getThumbItemHtml = function(t) {
                        for (var e = "", i = 0; i < t.length; i++) e += this.getThumbHtml(t[i].thumb, i);
                        return e;
                    }, o.prototype.setThumbItemHtml = function(t) {
                        var e = this.getThumbItemHtml(t);
                        this.$lgThumb.html(e);
                    }, o.prototype.setAnimateThumbStyles = function() {
                        this.settings.animateThumb && this.core.outer.addClass("lg-animate-thumb");
                    }, o.prototype.manageActiveClassOnSlideChange = function() {
                        var t = this;
                        this.core.LGel.on(n + ".thumb", (function(e) {
                            var i = t.core.outer.find(".lg-thumb-item"), s = e.detail.index;
                            i.removeClass("active"), i.eq(s).addClass("active");
                        }));
                    }, o.prototype.toggleThumbBar = function() {
                        var t = this;
                        this.settings.toggleThumb && (this.core.outer.addClass("lg-can-toggle"), this.core.$toolbar.append('<button type="button" aria-label="' + this.settings.thumbnailPluginStrings.toggleThumbnails + '" class="lg-toggle-thumb lg-icon"></button>'), 
                        this.core.outer.find(".lg-toggle-thumb").first().on("click.lg", (function() {
                            t.core.outer.toggleClass("lg-components-open");
                        })));
                    }, o.prototype.thumbKeyPress = function() {
                        var t = this;
                        this.$LG(window).on("keydown.lg.thumb.global" + this.core.lgId, (function(e) {
                            t.core.lgOpened && t.settings.toggleThumb && (38 === e.keyCode ? (e.preventDefault(), 
                            t.core.outer.addClass("lg-components-open")) : 40 === e.keyCode && (e.preventDefault(), 
                            t.core.outer.removeClass("lg-components-open")));
                        }));
                    }, o.prototype.destroy = function() {
                        this.settings.thumbnail && (this.$LG(window).off(".lg.thumb.global" + this.core.lgId), 
                        this.core.LGel.off(".lg.thumb"), this.core.LGel.off(".thumb"), this.$thumbOuter.remove(), 
                        this.core.outer.removeClass("lg-has-thumb"));
                    }, o;
                }();
            }));
        },
        1363: function(module) {
            /**
 * lightgallery | 2.7.0 | October 9th 2022
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */
            !function(e, o) {
                true ? module.exports = o() : 0;
            }(0, (function() {
                "use strict";
                var e = function() {
                    return (e = Object.assign || function(e) {
                        for (var o, i = 1, t = arguments.length; i < t; i++) for (var s in o = arguments[i]) Object.prototype.hasOwnProperty.call(o, s) && (e[s] = o[s]);
                        return e;
                    }).apply(this, arguments);
                }, o = {
                    autoplayFirstVideo: !0,
                    youTubePlayerParams: !1,
                    vimeoPlayerParams: !1,
                    wistiaPlayerParams: !1,
                    gotoNextSlideOnVideoEnd: !0,
                    autoplayVideoOnSlide: !1,
                    videojs: !1,
                    videojsTheme: "",
                    videojsOptions: {}
                }, i = "lgHasVideo", t = "lgSlideItemLoad", s = "lgBeforeSlide", n = "lgAfterSlide", l = "lgPosterClick", r = function(e) {
                    return Object.keys(e).map((function(o) {
                        return encodeURIComponent(o) + "=" + encodeURIComponent(e[o]);
                    })).join("&");
                };
                return function() {
                    function d(i) {
                        return this.core = i, this.settings = e(e({}, o), this.core.settings), this;
                    }
                    return d.prototype.init = function() {
                        var e = this;
                        this.core.LGel.on(i + ".video", this.onHasVideo.bind(this)), this.core.LGel.on(l + ".video", (function() {
                            var o = e.core.getSlideItem(e.core.index);
                            e.loadVideoOnPosterClick(o);
                        })), this.core.LGel.on(t + ".video", this.onSlideItemLoad.bind(this)), this.core.LGel.on(s + ".video", this.onBeforeSlide.bind(this)), 
                        this.core.LGel.on(n + ".video", this.onAfterSlide.bind(this));
                    }, d.prototype.onSlideItemLoad = function(e) {
                        var o = this, i = e.detail, t = i.isFirstSlide, s = i.index;
                        this.settings.autoplayFirstVideo && t && s === this.core.index && setTimeout((function() {
                            o.loadAndPlayVideo(s);
                        }), 200), !t && this.settings.autoplayVideoOnSlide && s === this.core.index && this.loadAndPlayVideo(s);
                    }, d.prototype.onHasVideo = function(e) {
                        var o = e.detail, i = o.index, t = o.src, s = o.html5Video;
                        o.hasPoster || (this.appendVideos(this.core.getSlideItem(i), {
                            src: t,
                            addClass: "lg-object",
                            index: i,
                            html5Video: s
                        }), this.gotoNextSlideOnVideoEnd(t, i));
                    }, d.prototype.onBeforeSlide = function(e) {
                        if (this.core.lGalleryOn) {
                            var o = e.detail.prevIndex;
                            this.pauseVideo(o);
                        }
                    }, d.prototype.onAfterSlide = function(e) {
                        var o = this, i = e.detail, t = i.index, s = i.prevIndex, n = this.core.getSlideItem(t);
                        this.settings.autoplayVideoOnSlide && t !== s && n.hasClass("lg-complete") && setTimeout((function() {
                            o.loadAndPlayVideo(t);
                        }), 100);
                    }, d.prototype.loadAndPlayVideo = function(e) {
                        var o = this.core.getSlideItem(e);
                        this.core.galleryItems[e].poster ? this.loadVideoOnPosterClick(o, !0) : this.playVideo(e);
                    }, d.prototype.playVideo = function(e) {
                        this.controlVideo(e, "play");
                    }, d.prototype.pauseVideo = function(e) {
                        this.controlVideo(e, "pause");
                    }, d.prototype.getVideoHtml = function(e, o, i, t) {
                        var s = "", n = this.core.galleryItems[i].__slideVideoInfo || {}, l = this.core.galleryItems[i], d = l.title || l.alt;
                        d = d ? 'title="' + d + '"' : "";
                        var a = 'allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';
                        if (n.youtube) {
                            var c = "lg-youtube" + i, u = "?" + (n.youtube[2] ? n.youtube[2] + "&" : "") + "wmode=opaque&autoplay=0&mute=1&enablejsapi=1" + (this.settings.youTubePlayerParams ? "&" + r(this.settings.youTubePlayerParams) : "");
                            s = '<iframe allow="autoplay" id=' + c + ' class="lg-video-object lg-youtube ' + o + '" ' + d + ' src="//www.youtube.com/embed/' + (n.youtube[1] + u) + '" ' + a + "></iframe>";
                        } else if (n.vimeo) {
                            c = "lg-vimeo" + i, u = function(e, o) {
                                if (!o || !o.vimeo) return "";
                                var i = o.vimeo[2] || "", t = e && 0 !== Object.keys(e).length ? "&" + r(e) : "", s = ((o.vimeo[0].split("/").pop() || "").split("?")[0] || "").split("#")[0], n = o.vimeo[1] !== s;
                                return n && (i = i.replace("/" + s, "")), "?autoplay=0&muted=1" + (n ? "&h=" + s : "") + t + ("?" == i[0] ? "&" + i.slice(1) : i || "");
                            }(this.settings.vimeoPlayerParams, n);
                            s = '<iframe allow="autoplay" id=' + c + ' class="lg-video-object lg-vimeo ' + o + '" ' + d + ' src="//player.vimeo.com/video/' + (n.vimeo[1] + u) + '" ' + a + "></iframe>";
                        } else if (n.wistia) {
                            var h = "lg-wistia" + i;
                            u = (u = r(this.settings.wistiaPlayerParams)) ? "?" + u : "", s = '<iframe allow="autoplay" id="' + h + '" src="//fast.wistia.net/embed/iframe/' + (n.wistia[4] + u) + '" ' + d + ' class="wistia_embed lg-video-object lg-wistia ' + o + '" name="wistia_embed" ' + a + "></iframe>";
                        } else if (n.html5) {
                            for (var f = "", g = 0; g < t.source.length; g++) f += '<source src="' + t.source[g].src + '" type="' + t.source[g].type + '">';
                            if (t.tracks) {
                                var y = function(e) {
                                    var o = "", i = t.tracks[e];
                                    Object.keys(i || {}).forEach((function(e) {
                                        o += e + '="' + i[e] + '" ';
                                    })), f += "<track " + o + ">";
                                };
                                for (g = 0; g < t.tracks.length; g++) y(g);
                            }
                            var p = "", v = t.attributes || {};
                            Object.keys(v || {}).forEach((function(e) {
                                p += e + '="' + v[e] + '" ';
                            })), s = '<video class="lg-video-object lg-html5 ' + (this.settings.videojs && this.settings.videojsTheme ? this.settings.videojsTheme + " " : "") + " " + (this.settings.videojs ? " video-js" : "") + '" ' + p + ">\n                " + f + "\n                Your browser does not support HTML5 video.\n            </video>";
                        }
                        return s;
                    }, d.prototype.appendVideos = function(e, o) {
                        var i, t = this.getVideoHtml(o.src, o.addClass, o.index, o.html5Video);
                        e.find(".lg-video-cont").append(t);
                        var s = e.find(".lg-video-object").first();
                        if (o.html5Video && s.on("mousedown.lg.video", (function(e) {
                            e.stopPropagation();
                        })), this.settings.videojs && (null === (i = this.core.galleryItems[o.index].__slideVideoInfo) || void 0 === i ? void 0 : i.html5)) try {
                            return videojs(s.get(), this.settings.videojsOptions);
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included videojs");
                        }
                    }, d.prototype.gotoNextSlideOnVideoEnd = function(e, o) {
                        var i = this, t = this.core.getSlideItem(o).find(".lg-video-object").first(), s = this.core.galleryItems[o].__slideVideoInfo || {};
                        if (this.settings.gotoNextSlideOnVideoEnd) if (s.html5) t.on("ended", (function() {
                            i.core.goToNextSlide();
                        })); else if (s.vimeo) try {
                            new Vimeo.Player(t.get()).on("ended", (function() {
                                i.core.goToNextSlide();
                            }));
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js");
                        } else if (s.wistia) try {
                            window._wq = window._wq || [], window._wq.push({
                                id: t.attr("id"),
                                onReady: function(e) {
                                    e.bind("end", (function() {
                                        i.core.goToNextSlide();
                                    }));
                                }
                            });
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js");
                        }
                    }, d.prototype.controlVideo = function(e, o) {
                        var i = this.core.getSlideItem(e).find(".lg-video-object").first(), t = this.core.galleryItems[e].__slideVideoInfo || {};
                        if (i.get()) if (t.youtube) try {
                            i.get().contentWindow.postMessage('{"event":"command","func":"' + o + 'Video","args":""}', "*");
                        } catch (e) {
                            console.error("lightGallery:- " + e);
                        } else if (t.vimeo) try {
                            new Vimeo.Player(i.get())[o]();
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js");
                        } else if (t.html5) if (this.settings.videojs) try {
                            videojs(i.get())[o]();
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included videojs");
                        } else i.get()[o](); else if (t.wistia) try {
                            window._wq = window._wq || [], window._wq.push({
                                id: i.attr("id"),
                                onReady: function(e) {
                                    e[o]();
                                }
                            });
                        } catch (e) {
                            console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js");
                        }
                    }, d.prototype.loadVideoOnPosterClick = function(e, o) {
                        var i = this;
                        if (e.hasClass("lg-video-loaded")) o && this.playVideo(this.core.index); else if (e.hasClass("lg-has-video")) this.playVideo(this.core.index); else {
                            e.addClass("lg-has-video");
                            var t = void 0, s = this.core.galleryItems[this.core.index].src, n = this.core.galleryItems[this.core.index].video;
                            n && (t = "string" == typeof n ? JSON.parse(n) : n);
                            var l = this.appendVideos(e, {
                                src: s,
                                addClass: "",
                                index: this.core.index,
                                html5Video: t
                            });
                            this.gotoNextSlideOnVideoEnd(s, this.core.index);
                            var r = e.find(".lg-object").first().get();
                            e.find(".lg-video-cont").first().append(r), e.addClass("lg-video-loading"), l && l.ready((function() {
                                l.on("loadedmetadata", (function() {
                                    i.onVideoLoadAfterPosterClick(e, i.core.index);
                                }));
                            })), e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg", (function() {
                                setTimeout((function() {
                                    i.onVideoLoadAfterPosterClick(e, i.core.index);
                                }), 50);
                            }));
                        }
                    }, d.prototype.onVideoLoadAfterPosterClick = function(e, o) {
                        e.addClass("lg-video-loaded"), this.playVideo(o);
                    }, d.prototype.destroy = function() {
                        this.core.LGel.off(".lg.video"), this.core.LGel.off(".video");
                    }, d;
                }();
            }));
        },
        1296: (module, __unused_webpack_exports, __webpack_require__) => {
            var FUNC_ERROR_TEXT = "Expected a function";
            var NAN = 0 / 0;
            var symbolTag = "[object Symbol]";
            var reTrim = /^\s+|\s+$/g;
            var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
            var reIsBinary = /^0b[01]+$/i;
            var reIsOctal = /^0o[0-7]+$/i;
            var freeParseInt = parseInt;
            var freeGlobal = "object" == typeof __webpack_require__.g && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;
            var freeSelf = "object" == typeof self && self && self.Object === Object && self;
            var root = freeGlobal || freeSelf || Function("return this")();
            var objectProto = Object.prototype;
            var objectToString = objectProto.toString;
            var nativeMax = Math.max, nativeMin = Math.min;
            var now = function() {
                return root.Date.now();
            };
            function debounce(func, wait, options) {
                var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
                if ("function" != typeof func) throw new TypeError(FUNC_ERROR_TEXT);
                wait = toNumber(wait) || 0;
                if (isObject(options)) {
                    leading = !!options.leading;
                    maxing = "maxWait" in options;
                    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
                    trailing = "trailing" in options ? !!options.trailing : trailing;
                }
                function invokeFunc(time) {
                    var args = lastArgs, thisArg = lastThis;
                    lastArgs = lastThis = void 0;
                    lastInvokeTime = time;
                    result = func.apply(thisArg, args);
                    return result;
                }
                function leadingEdge(time) {
                    lastInvokeTime = time;
                    timerId = setTimeout(timerExpired, wait);
                    return leading ? invokeFunc(time) : result;
                }
                function remainingWait(time) {
                    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result = wait - timeSinceLastCall;
                    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
                }
                function shouldInvoke(time) {
                    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
                    return void 0 === lastCallTime || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
                }
                function timerExpired() {
                    var time = now();
                    if (shouldInvoke(time)) return trailingEdge(time);
                    timerId = setTimeout(timerExpired, remainingWait(time));
                }
                function trailingEdge(time) {
                    timerId = void 0;
                    if (trailing && lastArgs) return invokeFunc(time);
                    lastArgs = lastThis = void 0;
                    return result;
                }
                function cancel() {
                    if (void 0 !== timerId) clearTimeout(timerId);
                    lastInvokeTime = 0;
                    lastArgs = lastCallTime = lastThis = timerId = void 0;
                }
                function flush() {
                    return void 0 === timerId ? result : trailingEdge(now());
                }
                function debounced() {
                    var time = now(), isInvoking = shouldInvoke(time);
                    lastArgs = arguments;
                    lastThis = this;
                    lastCallTime = time;
                    if (isInvoking) {
                        if (void 0 === timerId) return leadingEdge(lastCallTime);
                        if (maxing) {
                            timerId = setTimeout(timerExpired, wait);
                            return invokeFunc(lastCallTime);
                        }
                    }
                    if (void 0 === timerId) timerId = setTimeout(timerExpired, wait);
                    return result;
                }
                debounced.cancel = cancel;
                debounced.flush = flush;
                return debounced;
            }
            function isObject(value) {
                var type = typeof value;
                return !!value && ("object" == type || "function" == type);
            }
            function isObjectLike(value) {
                return !!value && "object" == typeof value;
            }
            function isSymbol(value) {
                return "symbol" == typeof value || isObjectLike(value) && objectToString.call(value) == symbolTag;
            }
            function toNumber(value) {
                if ("number" == typeof value) return value;
                if (isSymbol(value)) return NAN;
                if (isObject(value)) {
                    var other = "function" == typeof value.valueOf ? value.valueOf() : value;
                    value = isObject(other) ? other + "" : other;
                }
                if ("string" != typeof value) return 0 === value ? value : +value;
                value = value.replace(reTrim, "");
                var isBinary = reIsBinary.test(value);
                return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
            }
            module.exports = debounce;
        },
        773: (module, __unused_webpack_exports, __webpack_require__) => {
            var FUNC_ERROR_TEXT = "Expected a function";
            var HASH_UNDEFINED = "__lodash_hash_undefined__";
            var funcTag = "[object Function]", genTag = "[object GeneratorFunction]";
            var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
            var reIsHostCtor = /^\[object .+?Constructor\]$/;
            var freeGlobal = "object" == typeof __webpack_require__.g && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;
            var freeSelf = "object" == typeof self && self && self.Object === Object && self;
            var root = freeGlobal || freeSelf || Function("return this")();
            function getValue(object, key) {
                return null == object ? void 0 : object[key];
            }
            function isHostObject(value) {
                var result = false;
                if (null != value && "function" != typeof value.toString) try {
                    result = !!(value + "");
                } catch (e) {}
                return result;
            }
            var arrayProto = Array.prototype, funcProto = Function.prototype, objectProto = Object.prototype;
            var coreJsData = root["__core-js_shared__"];
            var maskSrcKey = function() {
                var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
                return uid ? "Symbol(src)_1." + uid : "";
            }();
            var funcToString = funcProto.toString;
            var hasOwnProperty = objectProto.hasOwnProperty;
            var objectToString = objectProto.toString;
            var reIsNative = RegExp("^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
            var splice = arrayProto.splice;
            var Map = getNative(root, "Map"), nativeCreate = getNative(Object, "create");
            function Hash(entries) {
                var index = -1, length = entries ? entries.length : 0;
                this.clear();
                while (++index < length) {
                    var entry = entries[index];
                    this.set(entry[0], entry[1]);
                }
            }
            function hashClear() {
                this.__data__ = nativeCreate ? nativeCreate(null) : {};
            }
            function hashDelete(key) {
                return this.has(key) && delete this.__data__[key];
            }
            function hashGet(key) {
                var data = this.__data__;
                if (nativeCreate) {
                    var result = data[key];
                    return result === HASH_UNDEFINED ? void 0 : result;
                }
                return hasOwnProperty.call(data, key) ? data[key] : void 0;
            }
            function hashHas(key) {
                var data = this.__data__;
                return nativeCreate ? void 0 !== data[key] : hasOwnProperty.call(data, key);
            }
            function hashSet(key, value) {
                var data = this.__data__;
                data[key] = nativeCreate && void 0 === value ? HASH_UNDEFINED : value;
                return this;
            }
            Hash.prototype.clear = hashClear;
            Hash.prototype["delete"] = hashDelete;
            Hash.prototype.get = hashGet;
            Hash.prototype.has = hashHas;
            Hash.prototype.set = hashSet;
            function ListCache(entries) {
                var index = -1, length = entries ? entries.length : 0;
                this.clear();
                while (++index < length) {
                    var entry = entries[index];
                    this.set(entry[0], entry[1]);
                }
            }
            function listCacheClear() {
                this.__data__ = [];
            }
            function listCacheDelete(key) {
                var data = this.__data__, index = assocIndexOf(data, key);
                if (index < 0) return false;
                var lastIndex = data.length - 1;
                if (index == lastIndex) data.pop(); else splice.call(data, index, 1);
                return true;
            }
            function listCacheGet(key) {
                var data = this.__data__, index = assocIndexOf(data, key);
                return index < 0 ? void 0 : data[index][1];
            }
            function listCacheHas(key) {
                return assocIndexOf(this.__data__, key) > -1;
            }
            function listCacheSet(key, value) {
                var data = this.__data__, index = assocIndexOf(data, key);
                if (index < 0) data.push([ key, value ]); else data[index][1] = value;
                return this;
            }
            ListCache.prototype.clear = listCacheClear;
            ListCache.prototype["delete"] = listCacheDelete;
            ListCache.prototype.get = listCacheGet;
            ListCache.prototype.has = listCacheHas;
            ListCache.prototype.set = listCacheSet;
            function MapCache(entries) {
                var index = -1, length = entries ? entries.length : 0;
                this.clear();
                while (++index < length) {
                    var entry = entries[index];
                    this.set(entry[0], entry[1]);
                }
            }
            function mapCacheClear() {
                this.__data__ = {
                    hash: new Hash,
                    map: new (Map || ListCache),
                    string: new Hash
                };
            }
            function mapCacheDelete(key) {
                return getMapData(this, key)["delete"](key);
            }
            function mapCacheGet(key) {
                return getMapData(this, key).get(key);
            }
            function mapCacheHas(key) {
                return getMapData(this, key).has(key);
            }
            function mapCacheSet(key, value) {
                getMapData(this, key).set(key, value);
                return this;
            }
            MapCache.prototype.clear = mapCacheClear;
            MapCache.prototype["delete"] = mapCacheDelete;
            MapCache.prototype.get = mapCacheGet;
            MapCache.prototype.has = mapCacheHas;
            MapCache.prototype.set = mapCacheSet;
            function assocIndexOf(array, key) {
                var length = array.length;
                while (length--) if (eq(array[length][0], key)) return length;
                return -1;
            }
            function baseIsNative(value) {
                if (!isObject(value) || isMasked(value)) return false;
                var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
                return pattern.test(toSource(value));
            }
            function getMapData(map, key) {
                var data = map.__data__;
                return isKeyable(key) ? data["string" == typeof key ? "string" : "hash"] : data.map;
            }
            function getNative(object, key) {
                var value = getValue(object, key);
                return baseIsNative(value) ? value : void 0;
            }
            function isKeyable(value) {
                var type = typeof value;
                return "string" == type || "number" == type || "symbol" == type || "boolean" == type ? "__proto__" !== value : null === value;
            }
            function isMasked(func) {
                return !!maskSrcKey && maskSrcKey in func;
            }
            function toSource(func) {
                if (null != func) {
                    try {
                        return funcToString.call(func);
                    } catch (e) {}
                    try {
                        return func + "";
                    } catch (e) {}
                }
                return "";
            }
            function memoize(func, resolver) {
                if ("function" != typeof func || resolver && "function" != typeof resolver) throw new TypeError(FUNC_ERROR_TEXT);
                var memoized = function() {
                    var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
                    if (cache.has(key)) return cache.get(key);
                    var result = func.apply(this, args);
                    memoized.cache = cache.set(key, result);
                    return result;
                };
                memoized.cache = new (memoize.Cache || MapCache);
                return memoized;
            }
            memoize.Cache = MapCache;
            function eq(value, other) {
                return value === other || value !== value && other !== other;
            }
            function isFunction(value) {
                var tag = isObject(value) ? objectToString.call(value) : "";
                return tag == funcTag || tag == genTag;
            }
            function isObject(value) {
                var type = typeof value;
                return !!value && ("object" == type || "function" == type);
            }
            module.exports = memoize;
        },
        3096: (module, __unused_webpack_exports, __webpack_require__) => {
            var FUNC_ERROR_TEXT = "Expected a function";
            var NAN = 0 / 0;
            var symbolTag = "[object Symbol]";
            var reTrim = /^\s+|\s+$/g;
            var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
            var reIsBinary = /^0b[01]+$/i;
            var reIsOctal = /^0o[0-7]+$/i;
            var freeParseInt = parseInt;
            var freeGlobal = "object" == typeof __webpack_require__.g && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;
            var freeSelf = "object" == typeof self && self && self.Object === Object && self;
            var root = freeGlobal || freeSelf || Function("return this")();
            var objectProto = Object.prototype;
            var objectToString = objectProto.toString;
            var nativeMax = Math.max, nativeMin = Math.min;
            var now = function() {
                return root.Date.now();
            };
            function debounce(func, wait, options) {
                var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
                if ("function" != typeof func) throw new TypeError(FUNC_ERROR_TEXT);
                wait = toNumber(wait) || 0;
                if (isObject(options)) {
                    leading = !!options.leading;
                    maxing = "maxWait" in options;
                    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
                    trailing = "trailing" in options ? !!options.trailing : trailing;
                }
                function invokeFunc(time) {
                    var args = lastArgs, thisArg = lastThis;
                    lastArgs = lastThis = void 0;
                    lastInvokeTime = time;
                    result = func.apply(thisArg, args);
                    return result;
                }
                function leadingEdge(time) {
                    lastInvokeTime = time;
                    timerId = setTimeout(timerExpired, wait);
                    return leading ? invokeFunc(time) : result;
                }
                function remainingWait(time) {
                    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result = wait - timeSinceLastCall;
                    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
                }
                function shouldInvoke(time) {
                    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
                    return void 0 === lastCallTime || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
                }
                function timerExpired() {
                    var time = now();
                    if (shouldInvoke(time)) return trailingEdge(time);
                    timerId = setTimeout(timerExpired, remainingWait(time));
                }
                function trailingEdge(time) {
                    timerId = void 0;
                    if (trailing && lastArgs) return invokeFunc(time);
                    lastArgs = lastThis = void 0;
                    return result;
                }
                function cancel() {
                    if (void 0 !== timerId) clearTimeout(timerId);
                    lastInvokeTime = 0;
                    lastArgs = lastCallTime = lastThis = timerId = void 0;
                }
                function flush() {
                    return void 0 === timerId ? result : trailingEdge(now());
                }
                function debounced() {
                    var time = now(), isInvoking = shouldInvoke(time);
                    lastArgs = arguments;
                    lastThis = this;
                    lastCallTime = time;
                    if (isInvoking) {
                        if (void 0 === timerId) return leadingEdge(lastCallTime);
                        if (maxing) {
                            timerId = setTimeout(timerExpired, wait);
                            return invokeFunc(lastCallTime);
                        }
                    }
                    if (void 0 === timerId) timerId = setTimeout(timerExpired, wait);
                    return result;
                }
                debounced.cancel = cancel;
                debounced.flush = flush;
                return debounced;
            }
            function throttle(func, wait, options) {
                var leading = true, trailing = true;
                if ("function" != typeof func) throw new TypeError(FUNC_ERROR_TEXT);
                if (isObject(options)) {
                    leading = "leading" in options ? !!options.leading : leading;
                    trailing = "trailing" in options ? !!options.trailing : trailing;
                }
                return debounce(func, wait, {
                    leading,
                    maxWait: wait,
                    trailing
                });
            }
            function isObject(value) {
                var type = typeof value;
                return !!value && ("object" == type || "function" == type);
            }
            function isObjectLike(value) {
                return !!value && "object" == typeof value;
            }
            function isSymbol(value) {
                return "symbol" == typeof value || isObjectLike(value) && objectToString.call(value) == symbolTag;
            }
            function toNumber(value) {
                if ("number" == typeof value) return value;
                if (isSymbol(value)) return NAN;
                if (isObject(value)) {
                    var other = "function" == typeof value.valueOf ? value.valueOf() : value;
                    value = isObject(other) ? other + "" : other;
                }
                if ("string" != typeof value) return 0 === value ? value : +value;
                value = value.replace(reTrim, "");
                var isBinary = reIsBinary.test(value);
                return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
            }
            module.exports = throttle;
        },
        4211: function(__unused_webpack_module, exports) {
            (function(global, factory) {
                true ? factory(exports) : 0;
            })(0, (function(exports) {
                "use strict";
                exports.PipsMode = void 0;
                (function(PipsMode) {
                    PipsMode["Range"] = "range";
                    PipsMode["Steps"] = "steps";
                    PipsMode["Positions"] = "positions";
                    PipsMode["Count"] = "count";
                    PipsMode["Values"] = "values";
                })(exports.PipsMode || (exports.PipsMode = {}));
                exports.PipsType = void 0;
                (function(PipsType) {
                    PipsType[PipsType["None"] = -1] = "None";
                    PipsType[PipsType["NoValue"] = 0] = "NoValue";
                    PipsType[PipsType["LargeValue"] = 1] = "LargeValue";
                    PipsType[PipsType["SmallValue"] = 2] = "SmallValue";
                })(exports.PipsType || (exports.PipsType = {}));
                function isValidFormatter(entry) {
                    return isValidPartialFormatter(entry) && "function" === typeof entry.from;
                }
                function isValidPartialFormatter(entry) {
                    return "object" === typeof entry && "function" === typeof entry.to;
                }
                function removeElement(el) {
                    el.parentElement.removeChild(el);
                }
                function isSet(value) {
                    return null !== value && void 0 !== value;
                }
                function preventDefault(e) {
                    e.preventDefault();
                }
                function unique(array) {
                    return array.filter((function(a) {
                        return !this[a] ? this[a] = true : false;
                    }), {});
                }
                function closest(value, to) {
                    return Math.round(value / to) * to;
                }
                function offset(elem, orientation) {
                    var rect = elem.getBoundingClientRect();
                    var doc = elem.ownerDocument;
                    var docElem = doc.documentElement;
                    var pageOffset = getPageOffset(doc);
                    if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) pageOffset.x = 0;
                    return orientation ? rect.top + pageOffset.y - docElem.clientTop : rect.left + pageOffset.x - docElem.clientLeft;
                }
                function isNumeric(a) {
                    return "number" === typeof a && !isNaN(a) && isFinite(a);
                }
                function addClassFor(element, className, duration) {
                    if (duration > 0) {
                        addClass(element, className);
                        setTimeout((function() {
                            removeClass(element, className);
                        }), duration);
                    }
                }
                function limit(a) {
                    return Math.max(Math.min(a, 100), 0);
                }
                function asArray(a) {
                    return Array.isArray(a) ? a : [ a ];
                }
                function countDecimals(numStr) {
                    numStr = String(numStr);
                    var pieces = numStr.split(".");
                    return pieces.length > 1 ? pieces[1].length : 0;
                }
                function addClass(el, className) {
                    if (el.classList && !/\s/.test(className)) el.classList.add(className); else el.className += " " + className;
                }
                function removeClass(el, className) {
                    if (el.classList && !/\s/.test(className)) el.classList.remove(className); else el.className = el.className.replace(new RegExp("(^|\\b)" + className.split(" ").join("|") + "(\\b|$)", "gi"), " ");
                }
                function hasClass(el, className) {
                    return el.classList ? el.classList.contains(className) : new RegExp("\\b" + className + "\\b").test(el.className);
                }
                function getPageOffset(doc) {
                    var supportPageOffset = void 0 !== window.pageXOffset;
                    var isCSS1Compat = "CSS1Compat" === (doc.compatMode || "");
                    var x = supportPageOffset ? window.pageXOffset : isCSS1Compat ? doc.documentElement.scrollLeft : doc.body.scrollLeft;
                    var y = supportPageOffset ? window.pageYOffset : isCSS1Compat ? doc.documentElement.scrollTop : doc.body.scrollTop;
                    return {
                        x,
                        y
                    };
                }
                function getActions() {
                    return window.navigator.pointerEnabled ? {
                        start: "pointerdown",
                        move: "pointermove",
                        end: "pointerup"
                    } : window.navigator.msPointerEnabled ? {
                        start: "MSPointerDown",
                        move: "MSPointerMove",
                        end: "MSPointerUp"
                    } : {
                        start: "mousedown touchstart",
                        move: "mousemove touchmove",
                        end: "mouseup touchend"
                    };
                }
                function getSupportsPassive() {
                    var supportsPassive = false;
                    try {
                        var opts = Object.defineProperty({}, "passive", {
                            get: function() {
                                supportsPassive = true;
                            }
                        });
                        window.addEventListener("test", null, opts);
                    } catch (e) {}
                    return supportsPassive;
                }
                function getSupportsTouchActionNone() {
                    return window.CSS && CSS.supports && CSS.supports("touch-action", "none");
                }
                function subRangeRatio(pa, pb) {
                    return 100 / (pb - pa);
                }
                function fromPercentage(range, value, startRange) {
                    return 100 * value / (range[startRange + 1] - range[startRange]);
                }
                function toPercentage(range, value) {
                    return fromPercentage(range, range[0] < 0 ? value + Math.abs(range[0]) : value - range[0], 0);
                }
                function isPercentage(range, value) {
                    return value * (range[1] - range[0]) / 100 + range[0];
                }
                function getJ(value, arr) {
                    var j = 1;
                    while (value >= arr[j]) j += 1;
                    return j;
                }
                function toStepping(xVal, xPct, value) {
                    if (value >= xVal.slice(-1)[0]) return 100;
                    var j = getJ(value, xVal);
                    var va = xVal[j - 1];
                    var vb = xVal[j];
                    var pa = xPct[j - 1];
                    var pb = xPct[j];
                    return pa + toPercentage([ va, vb ], value) / subRangeRatio(pa, pb);
                }
                function fromStepping(xVal, xPct, value) {
                    if (value >= 100) return xVal.slice(-1)[0];
                    var j = getJ(value, xPct);
                    var va = xVal[j - 1];
                    var vb = xVal[j];
                    var pa = xPct[j - 1];
                    var pb = xPct[j];
                    return isPercentage([ va, vb ], (value - pa) * subRangeRatio(pa, pb));
                }
                function getStep(xPct, xSteps, snap, value) {
                    if (100 === value) return value;
                    var j = getJ(value, xPct);
                    var a = xPct[j - 1];
                    var b = xPct[j];
                    if (snap) {
                        if (value - a > (b - a) / 2) return b;
                        return a;
                    }
                    if (!xSteps[j - 1]) return value;
                    return xPct[j - 1] + closest(value - xPct[j - 1], xSteps[j - 1]);
                }
                var Spectrum = function() {
                    function Spectrum(entry, snap, singleStep) {
                        this.xPct = [];
                        this.xVal = [];
                        this.xSteps = [];
                        this.xNumSteps = [];
                        this.xHighestCompleteStep = [];
                        this.xSteps = [ singleStep || false ];
                        this.xNumSteps = [ false ];
                        this.snap = snap;
                        var index;
                        var ordered = [];
                        Object.keys(entry).forEach((function(index) {
                            ordered.push([ asArray(entry[index]), index ]);
                        }));
                        ordered.sort((function(a, b) {
                            return a[0][0] - b[0][0];
                        }));
                        for (index = 0; index < ordered.length; index++) this.handleEntryPoint(ordered[index][1], ordered[index][0]);
                        this.xNumSteps = this.xSteps.slice(0);
                        for (index = 0; index < this.xNumSteps.length; index++) this.handleStepPoint(index, this.xNumSteps[index]);
                    }
                    Spectrum.prototype.getDistance = function(value) {
                        var distances = [];
                        for (var index = 0; index < this.xNumSteps.length - 1; index++) distances[index] = fromPercentage(this.xVal, value, index);
                        return distances;
                    };
                    Spectrum.prototype.getAbsoluteDistance = function(value, distances, direction) {
                        var xPct_index = 0;
                        if (value < this.xPct[this.xPct.length - 1]) while (value > this.xPct[xPct_index + 1]) xPct_index++; else if (value === this.xPct[this.xPct.length - 1]) xPct_index = this.xPct.length - 2;
                        if (!direction && value === this.xPct[xPct_index + 1]) xPct_index++;
                        if (null === distances) distances = [];
                        var start_factor;
                        var rest_factor = 1;
                        var rest_rel_distance = distances[xPct_index];
                        var range_pct = 0;
                        var rel_range_distance = 0;
                        var abs_distance_counter = 0;
                        var range_counter = 0;
                        if (direction) start_factor = (value - this.xPct[xPct_index]) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]); else start_factor = (this.xPct[xPct_index + 1] - value) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);
                        while (rest_rel_distance > 0) {
                            range_pct = this.xPct[xPct_index + 1 + range_counter] - this.xPct[xPct_index + range_counter];
                            if (distances[xPct_index + range_counter] * rest_factor + 100 - 100 * start_factor > 100) {
                                rel_range_distance = range_pct * start_factor;
                                rest_factor = (rest_rel_distance - 100 * start_factor) / distances[xPct_index + range_counter];
                                start_factor = 1;
                            } else {
                                rel_range_distance = distances[xPct_index + range_counter] * range_pct / 100 * rest_factor;
                                rest_factor = 0;
                            }
                            if (direction) {
                                abs_distance_counter -= rel_range_distance;
                                if (this.xPct.length + range_counter >= 1) range_counter--;
                            } else {
                                abs_distance_counter += rel_range_distance;
                                if (this.xPct.length - range_counter >= 1) range_counter++;
                            }
                            rest_rel_distance = distances[xPct_index + range_counter] * rest_factor;
                        }
                        return value + abs_distance_counter;
                    };
                    Spectrum.prototype.toStepping = function(value) {
                        value = toStepping(this.xVal, this.xPct, value);
                        return value;
                    };
                    Spectrum.prototype.fromStepping = function(value) {
                        return fromStepping(this.xVal, this.xPct, value);
                    };
                    Spectrum.prototype.getStep = function(value) {
                        value = getStep(this.xPct, this.xSteps, this.snap, value);
                        return value;
                    };
                    Spectrum.prototype.getDefaultStep = function(value, isDown, size) {
                        var j = getJ(value, this.xPct);
                        if (100 === value || isDown && value === this.xPct[j - 1]) j = Math.max(j - 1, 1);
                        return (this.xVal[j] - this.xVal[j - 1]) / size;
                    };
                    Spectrum.prototype.getNearbySteps = function(value) {
                        var j = getJ(value, this.xPct);
                        return {
                            stepBefore: {
                                startValue: this.xVal[j - 2],
                                step: this.xNumSteps[j - 2],
                                highestStep: this.xHighestCompleteStep[j - 2]
                            },
                            thisStep: {
                                startValue: this.xVal[j - 1],
                                step: this.xNumSteps[j - 1],
                                highestStep: this.xHighestCompleteStep[j - 1]
                            },
                            stepAfter: {
                                startValue: this.xVal[j],
                                step: this.xNumSteps[j],
                                highestStep: this.xHighestCompleteStep[j]
                            }
                        };
                    };
                    Spectrum.prototype.countStepDecimals = function() {
                        var stepDecimals = this.xNumSteps.map(countDecimals);
                        return Math.max.apply(null, stepDecimals);
                    };
                    Spectrum.prototype.hasNoSize = function() {
                        return this.xVal[0] === this.xVal[this.xVal.length - 1];
                    };
                    Spectrum.prototype.convert = function(value) {
                        return this.getStep(this.toStepping(value));
                    };
                    Spectrum.prototype.handleEntryPoint = function(index, value) {
                        var percentage;
                        if ("min" === index) percentage = 0; else if ("max" === index) percentage = 100; else percentage = parseFloat(index);
                        if (!isNumeric(percentage) || !isNumeric(value[0])) throw new Error("noUiSlider: 'range' value isn't numeric.");
                        this.xPct.push(percentage);
                        this.xVal.push(value[0]);
                        var value1 = Number(value[1]);
                        if (!percentage) {
                            if (!isNaN(value1)) this.xSteps[0] = value1;
                        } else this.xSteps.push(isNaN(value1) ? false : value1);
                        this.xHighestCompleteStep.push(0);
                    };
                    Spectrum.prototype.handleStepPoint = function(i, n) {
                        if (!n) return;
                        if (this.xVal[i] === this.xVal[i + 1]) {
                            this.xSteps[i] = this.xHighestCompleteStep[i] = this.xVal[i];
                            return;
                        }
                        this.xSteps[i] = fromPercentage([ this.xVal[i], this.xVal[i + 1] ], n, 0) / subRangeRatio(this.xPct[i], this.xPct[i + 1]);
                        var totalSteps = (this.xVal[i + 1] - this.xVal[i]) / this.xNumSteps[i];
                        var highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);
                        var step = this.xVal[i] + this.xNumSteps[i] * highestStep;
                        this.xHighestCompleteStep[i] = step;
                    };
                    return Spectrum;
                }();
                var defaultFormatter = {
                    to: function(value) {
                        return void 0 === value ? "" : value.toFixed(2);
                    },
                    from: Number
                };
                var cssClasses = {
                    target: "target",
                    base: "base",
                    origin: "origin",
                    handle: "handle",
                    handleLower: "handle-lower",
                    handleUpper: "handle-upper",
                    touchArea: "touch-area",
                    horizontal: "horizontal",
                    vertical: "vertical",
                    background: "background",
                    connect: "connect",
                    connects: "connects",
                    ltr: "ltr",
                    rtl: "rtl",
                    textDirectionLtr: "txt-dir-ltr",
                    textDirectionRtl: "txt-dir-rtl",
                    draggable: "draggable",
                    drag: "state-drag",
                    tap: "state-tap",
                    active: "active",
                    tooltip: "tooltip",
                    pips: "pips",
                    pipsHorizontal: "pips-horizontal",
                    pipsVertical: "pips-vertical",
                    marker: "marker",
                    markerHorizontal: "marker-horizontal",
                    markerVertical: "marker-vertical",
                    markerNormal: "marker-normal",
                    markerLarge: "marker-large",
                    markerSub: "marker-sub",
                    value: "value",
                    valueHorizontal: "value-horizontal",
                    valueVertical: "value-vertical",
                    valueNormal: "value-normal",
                    valueLarge: "value-large",
                    valueSub: "value-sub"
                };
                var INTERNAL_EVENT_NS = {
                    tooltips: ".__tooltips",
                    aria: ".__aria"
                };
                function testStep(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'step' is not numeric.");
                    parsed.singleStep = entry;
                }
                function testKeyboardPageMultiplier(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");
                    parsed.keyboardPageMultiplier = entry;
                }
                function testKeyboardMultiplier(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");
                    parsed.keyboardMultiplier = entry;
                }
                function testKeyboardDefaultStep(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");
                    parsed.keyboardDefaultStep = entry;
                }
                function testRange(parsed, entry) {
                    if ("object" !== typeof entry || Array.isArray(entry)) throw new Error("noUiSlider: 'range' is not an object.");
                    if (void 0 === entry.min || void 0 === entry.max) throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
                    parsed.spectrum = new Spectrum(entry, parsed.snap || false, parsed.singleStep);
                }
                function testStart(parsed, entry) {
                    entry = asArray(entry);
                    if (!Array.isArray(entry) || !entry.length) throw new Error("noUiSlider: 'start' option is incorrect.");
                    parsed.handles = entry.length;
                    parsed.start = entry;
                }
                function testSnap(parsed, entry) {
                    if ("boolean" !== typeof entry) throw new Error("noUiSlider: 'snap' option must be a boolean.");
                    parsed.snap = entry;
                }
                function testAnimate(parsed, entry) {
                    if ("boolean" !== typeof entry) throw new Error("noUiSlider: 'animate' option must be a boolean.");
                    parsed.animate = entry;
                }
                function testAnimationDuration(parsed, entry) {
                    if ("number" !== typeof entry) throw new Error("noUiSlider: 'animationDuration' option must be a number.");
                    parsed.animationDuration = entry;
                }
                function testConnect(parsed, entry) {
                    var connect = [ false ];
                    var i;
                    if ("lower" === entry) entry = [ true, false ]; else if ("upper" === entry) entry = [ false, true ];
                    if (true === entry || false === entry) {
                        for (i = 1; i < parsed.handles; i++) connect.push(entry);
                        connect.push(false);
                    } else if (!Array.isArray(entry) || !entry.length || entry.length !== parsed.handles + 1) throw new Error("noUiSlider: 'connect' option doesn't match handle count."); else connect = entry;
                    parsed.connect = connect;
                }
                function testOrientation(parsed, entry) {
                    switch (entry) {
                      case "horizontal":
                        parsed.ort = 0;
                        break;

                      case "vertical":
                        parsed.ort = 1;
                        break;

                      default:
                        throw new Error("noUiSlider: 'orientation' option is invalid.");
                    }
                }
                function testMargin(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'margin' option must be numeric.");
                    if (0 === entry) return;
                    parsed.margin = parsed.spectrum.getDistance(entry);
                }
                function testLimit(parsed, entry) {
                    if (!isNumeric(entry)) throw new Error("noUiSlider: 'limit' option must be numeric.");
                    parsed.limit = parsed.spectrum.getDistance(entry);
                    if (!parsed.limit || parsed.handles < 2) throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.");
                }
                function testPadding(parsed, entry) {
                    var index;
                    if (!isNumeric(entry) && !Array.isArray(entry)) throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
                    if (Array.isArray(entry) && !(2 === entry.length || isNumeric(entry[0]) || isNumeric(entry[1]))) throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
                    if (0 === entry) return;
                    if (!Array.isArray(entry)) entry = [ entry, entry ];
                    parsed.padding = [ parsed.spectrum.getDistance(entry[0]), parsed.spectrum.getDistance(entry[1]) ];
                    for (index = 0; index < parsed.spectrum.xNumSteps.length - 1; index++) if (parsed.padding[0][index] < 0 || parsed.padding[1][index] < 0) throw new Error("noUiSlider: 'padding' option must be a positive number(s).");
                    var totalPadding = entry[0] + entry[1];
                    var firstValue = parsed.spectrum.xVal[0];
                    var lastValue = parsed.spectrum.xVal[parsed.spectrum.xVal.length - 1];
                    if (totalPadding / (lastValue - firstValue) > 1) throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.");
                }
                function testDirection(parsed, entry) {
                    switch (entry) {
                      case "ltr":
                        parsed.dir = 0;
                        break;

                      case "rtl":
                        parsed.dir = 1;
                        break;

                      default:
                        throw new Error("noUiSlider: 'direction' option was not recognized.");
                    }
                }
                function testBehaviour(parsed, entry) {
                    if ("string" !== typeof entry) throw new Error("noUiSlider: 'behaviour' must be a string containing options.");
                    var tap = entry.indexOf("tap") >= 0;
                    var drag = entry.indexOf("drag") >= 0;
                    var fixed = entry.indexOf("fixed") >= 0;
                    var snap = entry.indexOf("snap") >= 0;
                    var hover = entry.indexOf("hover") >= 0;
                    var unconstrained = entry.indexOf("unconstrained") >= 0;
                    var dragAll = entry.indexOf("drag-all") >= 0;
                    var smoothSteps = entry.indexOf("smooth-steps") >= 0;
                    if (fixed) {
                        if (2 !== parsed.handles) throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");
                        testMargin(parsed, parsed.start[1] - parsed.start[0]);
                    }
                    if (unconstrained && (parsed.margin || parsed.limit)) throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");
                    parsed.events = {
                        tap: tap || snap,
                        drag,
                        dragAll,
                        smoothSteps,
                        fixed,
                        snap,
                        hover,
                        unconstrained
                    };
                }
                function testTooltips(parsed, entry) {
                    if (false === entry) return;
                    if (true === entry || isValidPartialFormatter(entry)) {
                        parsed.tooltips = [];
                        for (var i = 0; i < parsed.handles; i++) parsed.tooltips.push(entry);
                    } else {
                        entry = asArray(entry);
                        if (entry.length !== parsed.handles) throw new Error("noUiSlider: must pass a formatter for all handles.");
                        entry.forEach((function(formatter) {
                            if ("boolean" !== typeof formatter && !isValidPartialFormatter(formatter)) throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");
                        }));
                        parsed.tooltips = entry;
                    }
                }
                function testHandleAttributes(parsed, entry) {
                    if (entry.length !== parsed.handles) throw new Error("noUiSlider: must pass a attributes for all handles.");
                    parsed.handleAttributes = entry;
                }
                function testAriaFormat(parsed, entry) {
                    if (!isValidPartialFormatter(entry)) throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");
                    parsed.ariaFormat = entry;
                }
                function testFormat(parsed, entry) {
                    if (!isValidFormatter(entry)) throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");
                    parsed.format = entry;
                }
                function testKeyboardSupport(parsed, entry) {
                    if ("boolean" !== typeof entry) throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");
                    parsed.keyboardSupport = entry;
                }
                function testDocumentElement(parsed, entry) {
                    parsed.documentElement = entry;
                }
                function testCssPrefix(parsed, entry) {
                    if ("string" !== typeof entry && false !== entry) throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");
                    parsed.cssPrefix = entry;
                }
                function testCssClasses(parsed, entry) {
                    if ("object" !== typeof entry) throw new Error("noUiSlider: 'cssClasses' must be an object.");
                    if ("string" === typeof parsed.cssPrefix) {
                        parsed.cssClasses = {};
                        Object.keys(entry).forEach((function(key) {
                            parsed.cssClasses[key] = parsed.cssPrefix + entry[key];
                        }));
                    } else parsed.cssClasses = entry;
                }
                function testOptions(options) {
                    var parsed = {
                        margin: null,
                        limit: null,
                        padding: null,
                        animate: true,
                        animationDuration: 300,
                        ariaFormat: defaultFormatter,
                        format: defaultFormatter
                    };
                    var tests = {
                        step: {
                            r: false,
                            t: testStep
                        },
                        keyboardPageMultiplier: {
                            r: false,
                            t: testKeyboardPageMultiplier
                        },
                        keyboardMultiplier: {
                            r: false,
                            t: testKeyboardMultiplier
                        },
                        keyboardDefaultStep: {
                            r: false,
                            t: testKeyboardDefaultStep
                        },
                        start: {
                            r: true,
                            t: testStart
                        },
                        connect: {
                            r: true,
                            t: testConnect
                        },
                        direction: {
                            r: true,
                            t: testDirection
                        },
                        snap: {
                            r: false,
                            t: testSnap
                        },
                        animate: {
                            r: false,
                            t: testAnimate
                        },
                        animationDuration: {
                            r: false,
                            t: testAnimationDuration
                        },
                        range: {
                            r: true,
                            t: testRange
                        },
                        orientation: {
                            r: false,
                            t: testOrientation
                        },
                        margin: {
                            r: false,
                            t: testMargin
                        },
                        limit: {
                            r: false,
                            t: testLimit
                        },
                        padding: {
                            r: false,
                            t: testPadding
                        },
                        behaviour: {
                            r: true,
                            t: testBehaviour
                        },
                        ariaFormat: {
                            r: false,
                            t: testAriaFormat
                        },
                        format: {
                            r: false,
                            t: testFormat
                        },
                        tooltips: {
                            r: false,
                            t: testTooltips
                        },
                        keyboardSupport: {
                            r: true,
                            t: testKeyboardSupport
                        },
                        documentElement: {
                            r: false,
                            t: testDocumentElement
                        },
                        cssPrefix: {
                            r: true,
                            t: testCssPrefix
                        },
                        cssClasses: {
                            r: true,
                            t: testCssClasses
                        },
                        handleAttributes: {
                            r: false,
                            t: testHandleAttributes
                        }
                    };
                    var defaults = {
                        connect: false,
                        direction: "ltr",
                        behaviour: "tap",
                        orientation: "horizontal",
                        keyboardSupport: true,
                        cssPrefix: "noUi-",
                        cssClasses,
                        keyboardPageMultiplier: 5,
                        keyboardMultiplier: 1,
                        keyboardDefaultStep: 10
                    };
                    if (options.format && !options.ariaFormat) options.ariaFormat = options.format;
                    Object.keys(tests).forEach((function(name) {
                        if (!isSet(options[name]) && void 0 === defaults[name]) {
                            if (tests[name].r) throw new Error("noUiSlider: '" + name + "' is required.");
                            return;
                        }
                        tests[name].t(parsed, !isSet(options[name]) ? defaults[name] : options[name]);
                    }));
                    parsed.pips = options.pips;
                    var d = document.createElement("div");
                    var msPrefix = void 0 !== d.style.msTransform;
                    var noPrefix = void 0 !== d.style.transform;
                    parsed.transformRule = noPrefix ? "transform" : msPrefix ? "msTransform" : "webkitTransform";
                    var styles = [ [ "left", "top" ], [ "right", "bottom" ] ];
                    parsed.style = styles[parsed.dir][parsed.ort];
                    return parsed;
                }
                function scope(target, options, originalOptions) {
                    var actions = getActions();
                    var supportsTouchActionNone = getSupportsTouchActionNone();
                    var supportsPassive = supportsTouchActionNone && getSupportsPassive();
                    var scope_Target = target;
                    var scope_Base;
                    var scope_Handles;
                    var scope_Connects;
                    var scope_Pips;
                    var scope_Tooltips;
                    var scope_Spectrum = options.spectrum;
                    var scope_Values = [];
                    var scope_Locations = [];
                    var scope_HandleNumbers = [];
                    var scope_ActiveHandlesCount = 0;
                    var scope_Events = {};
                    var scope_Document = target.ownerDocument;
                    var scope_DocumentElement = options.documentElement || scope_Document.documentElement;
                    var scope_Body = scope_Document.body;
                    var scope_DirOffset = "rtl" === scope_Document.dir || 1 === options.ort ? 0 : 100;
                    function addNodeTo(addTarget, className) {
                        var div = scope_Document.createElement("div");
                        if (className) addClass(div, className);
                        addTarget.appendChild(div);
                        return div;
                    }
                    function addOrigin(base, handleNumber) {
                        var origin = addNodeTo(base, options.cssClasses.origin);
                        var handle = addNodeTo(origin, options.cssClasses.handle);
                        addNodeTo(handle, options.cssClasses.touchArea);
                        handle.setAttribute("data-handle", String(handleNumber));
                        if (options.keyboardSupport) {
                            handle.setAttribute("tabindex", "0");
                            handle.addEventListener("keydown", (function(event) {
                                return eventKeydown(event, handleNumber);
                            }));
                        }
                        if (void 0 !== options.handleAttributes) {
                            var attributes_1 = options.handleAttributes[handleNumber];
                            Object.keys(attributes_1).forEach((function(attribute) {
                                handle.setAttribute(attribute, attributes_1[attribute]);
                            }));
                        }
                        handle.setAttribute("role", "slider");
                        handle.setAttribute("aria-orientation", options.ort ? "vertical" : "horizontal");
                        if (0 === handleNumber) addClass(handle, options.cssClasses.handleLower); else if (handleNumber === options.handles - 1) addClass(handle, options.cssClasses.handleUpper);
                        return origin;
                    }
                    function addConnect(base, add) {
                        if (!add) return false;
                        return addNodeTo(base, options.cssClasses.connect);
                    }
                    function addElements(connectOptions, base) {
                        var connectBase = addNodeTo(base, options.cssClasses.connects);
                        scope_Handles = [];
                        scope_Connects = [];
                        scope_Connects.push(addConnect(connectBase, connectOptions[0]));
                        for (var i = 0; i < options.handles; i++) {
                            scope_Handles.push(addOrigin(base, i));
                            scope_HandleNumbers[i] = i;
                            scope_Connects.push(addConnect(connectBase, connectOptions[i + 1]));
                        }
                    }
                    function addSlider(addTarget) {
                        addClass(addTarget, options.cssClasses.target);
                        if (0 === options.dir) addClass(addTarget, options.cssClasses.ltr); else addClass(addTarget, options.cssClasses.rtl);
                        if (0 === options.ort) addClass(addTarget, options.cssClasses.horizontal); else addClass(addTarget, options.cssClasses.vertical);
                        var textDirection = getComputedStyle(addTarget).direction;
                        if ("rtl" === textDirection) addClass(addTarget, options.cssClasses.textDirectionRtl); else addClass(addTarget, options.cssClasses.textDirectionLtr);
                        return addNodeTo(addTarget, options.cssClasses.base);
                    }
                    function addTooltip(handle, handleNumber) {
                        if (!options.tooltips || !options.tooltips[handleNumber]) return false;
                        return addNodeTo(handle.firstChild, options.cssClasses.tooltip);
                    }
                    function isSliderDisabled() {
                        return scope_Target.hasAttribute("disabled");
                    }
                    function isHandleDisabled(handleNumber) {
                        var handleOrigin = scope_Handles[handleNumber];
                        return handleOrigin.hasAttribute("disabled");
                    }
                    function removeTooltips() {
                        if (scope_Tooltips) {
                            removeEvent("update" + INTERNAL_EVENT_NS.tooltips);
                            scope_Tooltips.forEach((function(tooltip) {
                                if (tooltip) removeElement(tooltip);
                            }));
                            scope_Tooltips = null;
                        }
                    }
                    function tooltips() {
                        removeTooltips();
                        scope_Tooltips = scope_Handles.map(addTooltip);
                        bindEvent("update" + INTERNAL_EVENT_NS.tooltips, (function(values, handleNumber, unencoded) {
                            if (!scope_Tooltips || !options.tooltips) return;
                            if (false === scope_Tooltips[handleNumber]) return;
                            var formattedValue = values[handleNumber];
                            if (true !== options.tooltips[handleNumber]) formattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);
                            scope_Tooltips[handleNumber].innerHTML = formattedValue;
                        }));
                    }
                    function aria() {
                        removeEvent("update" + INTERNAL_EVENT_NS.aria);
                        bindEvent("update" + INTERNAL_EVENT_NS.aria, (function(values, handleNumber, unencoded, tap, positions) {
                            scope_HandleNumbers.forEach((function(index) {
                                var handle = scope_Handles[index];
                                var min = checkHandlePosition(scope_Locations, index, 0, true, true, true);
                                var max = checkHandlePosition(scope_Locations, index, 100, true, true, true);
                                var now = positions[index];
                                var text = String(options.ariaFormat.to(unencoded[index]));
                                min = scope_Spectrum.fromStepping(min).toFixed(1);
                                max = scope_Spectrum.fromStepping(max).toFixed(1);
                                now = scope_Spectrum.fromStepping(now).toFixed(1);
                                handle.children[0].setAttribute("aria-valuemin", min);
                                handle.children[0].setAttribute("aria-valuemax", max);
                                handle.children[0].setAttribute("aria-valuenow", now);
                                handle.children[0].setAttribute("aria-valuetext", text);
                            }));
                        }));
                    }
                    function getGroup(pips) {
                        if (pips.mode === exports.PipsMode.Range || pips.mode === exports.PipsMode.Steps) return scope_Spectrum.xVal;
                        if (pips.mode === exports.PipsMode.Count) {
                            if (pips.values < 2) throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");
                            var interval = pips.values - 1;
                            var spread = 100 / interval;
                            var values = [];
                            while (interval--) values[interval] = interval * spread;
                            values.push(100);
                            return mapToRange(values, pips.stepped);
                        }
                        if (pips.mode === exports.PipsMode.Positions) return mapToRange(pips.values, pips.stepped);
                        if (pips.mode === exports.PipsMode.Values) {
                            if (pips.stepped) return pips.values.map((function(value) {
                                return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)));
                            }));
                            return pips.values;
                        }
                        return [];
                    }
                    function mapToRange(values, stepped) {
                        return values.map((function(value) {
                            return scope_Spectrum.fromStepping(stepped ? scope_Spectrum.getStep(value) : value);
                        }));
                    }
                    function generateSpread(pips) {
                        function safeIncrement(value, increment) {
                            return Number((value + increment).toFixed(7));
                        }
                        var group = getGroup(pips);
                        var indexes = {};
                        var firstInRange = scope_Spectrum.xVal[0];
                        var lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length - 1];
                        var ignoreFirst = false;
                        var ignoreLast = false;
                        var prevPct = 0;
                        group = unique(group.slice().sort((function(a, b) {
                            return a - b;
                        })));
                        if (group[0] !== firstInRange) {
                            group.unshift(firstInRange);
                            ignoreFirst = true;
                        }
                        if (group[group.length - 1] !== lastInRange) {
                            group.push(lastInRange);
                            ignoreLast = true;
                        }
                        group.forEach((function(current, index) {
                            var step;
                            var i;
                            var q;
                            var low = current;
                            var high = group[index + 1];
                            var newPct;
                            var pctDifference;
                            var pctPos;
                            var type;
                            var steps;
                            var realSteps;
                            var stepSize;
                            var isSteps = pips.mode === exports.PipsMode.Steps;
                            if (isSteps) step = scope_Spectrum.xNumSteps[index];
                            if (!step) step = high - low;
                            if (void 0 === high) high = low;
                            step = Math.max(step, 1e-7);
                            for (i = low; i <= high; i = safeIncrement(i, step)) {
                                newPct = scope_Spectrum.toStepping(i);
                                pctDifference = newPct - prevPct;
                                steps = pctDifference / (pips.density || 1);
                                realSteps = Math.round(steps);
                                stepSize = pctDifference / realSteps;
                                for (q = 1; q <= realSteps; q += 1) {
                                    pctPos = prevPct + q * stepSize;
                                    indexes[pctPos.toFixed(5)] = [ scope_Spectrum.fromStepping(pctPos), 0 ];
                                }
                                type = group.indexOf(i) > -1 ? exports.PipsType.LargeValue : isSteps ? exports.PipsType.SmallValue : exports.PipsType.NoValue;
                                if (!index && ignoreFirst && i !== high) type = 0;
                                if (!(i === high && ignoreLast)) indexes[newPct.toFixed(5)] = [ i, type ];
                                prevPct = newPct;
                            }
                        }));
                        return indexes;
                    }
                    function addMarking(spread, filterFunc, formatter) {
                        var _a, _b;
                        var element = scope_Document.createElement("div");
                        var valueSizeClasses = (_a = {}, _a[exports.PipsType.None] = "", _a[exports.PipsType.NoValue] = options.cssClasses.valueNormal, 
                        _a[exports.PipsType.LargeValue] = options.cssClasses.valueLarge, _a[exports.PipsType.SmallValue] = options.cssClasses.valueSub, 
                        _a);
                        var markerSizeClasses = (_b = {}, _b[exports.PipsType.None] = "", _b[exports.PipsType.NoValue] = options.cssClasses.markerNormal, 
                        _b[exports.PipsType.LargeValue] = options.cssClasses.markerLarge, _b[exports.PipsType.SmallValue] = options.cssClasses.markerSub, 
                        _b);
                        var valueOrientationClasses = [ options.cssClasses.valueHorizontal, options.cssClasses.valueVertical ];
                        var markerOrientationClasses = [ options.cssClasses.markerHorizontal, options.cssClasses.markerVertical ];
                        addClass(element, options.cssClasses.pips);
                        addClass(element, 0 === options.ort ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);
                        function getClasses(type, source) {
                            var a = source === options.cssClasses.value;
                            var orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;
                            var sizeClasses = a ? valueSizeClasses : markerSizeClasses;
                            return source + " " + orientationClasses[options.ort] + " " + sizeClasses[type];
                        }
                        function addSpread(offset, value, type) {
                            type = filterFunc ? filterFunc(value, type) : type;
                            if (type === exports.PipsType.None) return;
                            var node = addNodeTo(element, false);
                            node.className = getClasses(type, options.cssClasses.marker);
                            node.style[options.style] = offset + "%";
                            if (type > exports.PipsType.NoValue) {
                                node = addNodeTo(element, false);
                                node.className = getClasses(type, options.cssClasses.value);
                                node.setAttribute("data-value", String(value));
                                node.style[options.style] = offset + "%";
                                node.innerHTML = String(formatter.to(value));
                            }
                        }
                        Object.keys(spread).forEach((function(offset) {
                            addSpread(offset, spread[offset][0], spread[offset][1]);
                        }));
                        return element;
                    }
                    function removePips() {
                        if (scope_Pips) {
                            removeElement(scope_Pips);
                            scope_Pips = null;
                        }
                    }
                    function pips(pips) {
                        removePips();
                        var spread = generateSpread(pips);
                        var filter = pips.filter;
                        var format = pips.format || {
                            to: function(value) {
                                return String(Math.round(value));
                            }
                        };
                        scope_Pips = scope_Target.appendChild(addMarking(spread, filter, format));
                        return scope_Pips;
                    }
                    function baseSize() {
                        var rect = scope_Base.getBoundingClientRect();
                        var alt = "offset" + [ "Width", "Height" ][options.ort];
                        return 0 === options.ort ? rect.width || scope_Base[alt] : rect.height || scope_Base[alt];
                    }
                    function attachEvent(events, element, callback, data) {
                        var method = function(event) {
                            var e = fixEvent(event, data.pageOffset, data.target || element);
                            if (!e) return false;
                            if (isSliderDisabled() && !data.doNotReject) return false;
                            if (hasClass(scope_Target, options.cssClasses.tap) && !data.doNotReject) return false;
                            if (events === actions.start && void 0 !== e.buttons && e.buttons > 1) return false;
                            if (data.hover && e.buttons) return false;
                            if (!supportsPassive) e.preventDefault();
                            e.calcPoint = e.points[options.ort];
                            callback(e, data);
                            return;
                        };
                        var methods = [];
                        events.split(" ").forEach((function(eventName) {
                            element.addEventListener(eventName, method, supportsPassive ? {
                                passive: true
                            } : false);
                            methods.push([ eventName, method ]);
                        }));
                        return methods;
                    }
                    function fixEvent(e, pageOffset, eventTarget) {
                        var touch = 0 === e.type.indexOf("touch");
                        var mouse = 0 === e.type.indexOf("mouse");
                        var pointer = 0 === e.type.indexOf("pointer");
                        var x = 0;
                        var y = 0;
                        if (0 === e.type.indexOf("MSPointer")) pointer = true;
                        if ("mousedown" === e.type && !e.buttons && !e.touches) return false;
                        if (touch) {
                            var isTouchOnTarget = function(checkTouch) {
                                var target = checkTouch.target;
                                return target === eventTarget || eventTarget.contains(target) || e.composed && e.composedPath().shift() === eventTarget;
                            };
                            if ("touchstart" === e.type) {
                                var targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);
                                if (targetTouches.length > 1) return false;
                                x = targetTouches[0].pageX;
                                y = targetTouches[0].pageY;
                            } else {
                                var targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);
                                if (!targetTouch) return false;
                                x = targetTouch.pageX;
                                y = targetTouch.pageY;
                            }
                        }
                        pageOffset = pageOffset || getPageOffset(scope_Document);
                        if (mouse || pointer) {
                            x = e.clientX + pageOffset.x;
                            y = e.clientY + pageOffset.y;
                        }
                        e.pageOffset = pageOffset;
                        e.points = [ x, y ];
                        e.cursor = mouse || pointer;
                        return e;
                    }
                    function calcPointToPercentage(calcPoint) {
                        var location = calcPoint - offset(scope_Base, options.ort);
                        var proposal = 100 * location / baseSize();
                        proposal = limit(proposal);
                        return options.dir ? 100 - proposal : proposal;
                    }
                    function getClosestHandle(clickedPosition) {
                        var smallestDifference = 100;
                        var handleNumber = false;
                        scope_Handles.forEach((function(handle, index) {
                            if (isHandleDisabled(index)) return;
                            var handlePosition = scope_Locations[index];
                            var differenceWithThisHandle = Math.abs(handlePosition - clickedPosition);
                            var clickAtEdge = 100 === differenceWithThisHandle && 100 === smallestDifference;
                            var isCloser = differenceWithThisHandle < smallestDifference;
                            var isCloserAfter = differenceWithThisHandle <= smallestDifference && clickedPosition > handlePosition;
                            if (isCloser || isCloserAfter || clickAtEdge) {
                                handleNumber = index;
                                smallestDifference = differenceWithThisHandle;
                            }
                        }));
                        return handleNumber;
                    }
                    function documentLeave(event, data) {
                        if ("mouseout" === event.type && "HTML" === event.target.nodeName && null === event.relatedTarget) eventEnd(event, data);
                    }
                    function eventMove(event, data) {
                        if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === event.buttons && 0 !== data.buttonsProperty) return eventEnd(event, data);
                        var movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);
                        var proposal = 100 * movement / data.baseSize;
                        moveHandles(movement > 0, proposal, data.locations, data.handleNumbers, data.connect);
                    }
                    function eventEnd(event, data) {
                        if (data.handle) {
                            removeClass(data.handle, options.cssClasses.active);
                            scope_ActiveHandlesCount -= 1;
                        }
                        data.listeners.forEach((function(c) {
                            scope_DocumentElement.removeEventListener(c[0], c[1]);
                        }));
                        if (0 === scope_ActiveHandlesCount) {
                            removeClass(scope_Target, options.cssClasses.drag);
                            setZindex();
                            if (event.cursor) {
                                scope_Body.style.cursor = "";
                                scope_Body.removeEventListener("selectstart", preventDefault);
                            }
                        }
                        if (options.events.smoothSteps) {
                            data.handleNumbers.forEach((function(handleNumber) {
                                setHandle(handleNumber, scope_Locations[handleNumber], true, true, false, false);
                            }));
                            data.handleNumbers.forEach((function(handleNumber) {
                                fireEvent("update", handleNumber);
                            }));
                        }
                        data.handleNumbers.forEach((function(handleNumber) {
                            fireEvent("change", handleNumber);
                            fireEvent("set", handleNumber);
                            fireEvent("end", handleNumber);
                        }));
                    }
                    function eventStart(event, data) {
                        if (data.handleNumbers.some(isHandleDisabled)) return;
                        var handle;
                        if (1 === data.handleNumbers.length) {
                            var handleOrigin = scope_Handles[data.handleNumbers[0]];
                            handle = handleOrigin.children[0];
                            scope_ActiveHandlesCount += 1;
                            addClass(handle, options.cssClasses.active);
                        }
                        event.stopPropagation();
                        var listeners = [];
                        var moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {
                            target: event.target,
                            handle,
                            connect: data.connect,
                            listeners,
                            startCalcPoint: event.calcPoint,
                            baseSize: baseSize(),
                            pageOffset: event.pageOffset,
                            handleNumbers: data.handleNumbers,
                            buttonsProperty: event.buttons,
                            locations: scope_Locations.slice()
                        });
                        var endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {
                            target: event.target,
                            handle,
                            listeners,
                            doNotReject: true,
                            handleNumbers: data.handleNumbers
                        });
                        var outEvent = attachEvent("mouseout", scope_DocumentElement, documentLeave, {
                            target: event.target,
                            handle,
                            listeners,
                            doNotReject: true,
                            handleNumbers: data.handleNumbers
                        });
                        listeners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));
                        if (event.cursor) {
                            scope_Body.style.cursor = getComputedStyle(event.target).cursor;
                            if (scope_Handles.length > 1) addClass(scope_Target, options.cssClasses.drag);
                            scope_Body.addEventListener("selectstart", preventDefault, false);
                        }
                        data.handleNumbers.forEach((function(handleNumber) {
                            fireEvent("start", handleNumber);
                        }));
                    }
                    function eventTap(event) {
                        event.stopPropagation();
                        var proposal = calcPointToPercentage(event.calcPoint);
                        var handleNumber = getClosestHandle(proposal);
                        if (false === handleNumber) return;
                        if (!options.events.snap) addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);
                        setHandle(handleNumber, proposal, true, true);
                        setZindex();
                        fireEvent("slide", handleNumber, true);
                        fireEvent("update", handleNumber, true);
                        if (!options.events.snap) {
                            fireEvent("change", handleNumber, true);
                            fireEvent("set", handleNumber, true);
                        } else eventStart(event, {
                            handleNumbers: [ handleNumber ]
                        });
                    }
                    function eventHover(event) {
                        var proposal = calcPointToPercentage(event.calcPoint);
                        var to = scope_Spectrum.getStep(proposal);
                        var value = scope_Spectrum.fromStepping(to);
                        Object.keys(scope_Events).forEach((function(targetEvent) {
                            if ("hover" === targetEvent.split(".")[0]) scope_Events[targetEvent].forEach((function(callback) {
                                callback.call(scope_Self, value);
                            }));
                        }));
                    }
                    function eventKeydown(event, handleNumber) {
                        if (isSliderDisabled() || isHandleDisabled(handleNumber)) return false;
                        var horizontalKeys = [ "Left", "Right" ];
                        var verticalKeys = [ "Down", "Up" ];
                        var largeStepKeys = [ "PageDown", "PageUp" ];
                        var edgeKeys = [ "Home", "End" ];
                        if (options.dir && !options.ort) horizontalKeys.reverse(); else if (options.ort && !options.dir) {
                            verticalKeys.reverse();
                            largeStepKeys.reverse();
                        }
                        var key = event.key.replace("Arrow", "");
                        var isLargeDown = key === largeStepKeys[0];
                        var isLargeUp = key === largeStepKeys[1];
                        var isDown = key === verticalKeys[0] || key === horizontalKeys[0] || isLargeDown;
                        var isUp = key === verticalKeys[1] || key === horizontalKeys[1] || isLargeUp;
                        var isMin = key === edgeKeys[0];
                        var isMax = key === edgeKeys[1];
                        if (!isDown && !isUp && !isMin && !isMax) return true;
                        event.preventDefault();
                        var to;
                        if (isUp || isDown) {
                            var direction = isDown ? 0 : 1;
                            var steps = getNextStepsForHandle(handleNumber);
                            var step = steps[direction];
                            if (null === step) return false;
                            if (false === step) step = scope_Spectrum.getDefaultStep(scope_Locations[handleNumber], isDown, options.keyboardDefaultStep);
                            if (isLargeUp || isLargeDown) step *= options.keyboardPageMultiplier; else step *= options.keyboardMultiplier;
                            step = Math.max(step, 1e-7);
                            step *= isDown ? -1 : 1;
                            to = scope_Values[handleNumber] + step;
                        } else if (isMax) to = options.spectrum.xVal[options.spectrum.xVal.length - 1]; else to = options.spectrum.xVal[0];
                        setHandle(handleNumber, scope_Spectrum.toStepping(to), true, true);
                        fireEvent("slide", handleNumber);
                        fireEvent("update", handleNumber);
                        fireEvent("change", handleNumber);
                        fireEvent("set", handleNumber);
                        return false;
                    }
                    function bindSliderEvents(behaviour) {
                        if (!behaviour.fixed) scope_Handles.forEach((function(handle, index) {
                            attachEvent(actions.start, handle.children[0], eventStart, {
                                handleNumbers: [ index ]
                            });
                        }));
                        if (behaviour.tap) attachEvent(actions.start, scope_Base, eventTap, {});
                        if (behaviour.hover) attachEvent(actions.move, scope_Base, eventHover, {
                            hover: true
                        });
                        if (behaviour.drag) scope_Connects.forEach((function(connect, index) {
                            if (false === connect || 0 === index || index === scope_Connects.length - 1) return;
                            var handleBefore = scope_Handles[index - 1];
                            var handleAfter = scope_Handles[index];
                            var eventHolders = [ connect ];
                            var handlesToDrag = [ handleBefore, handleAfter ];
                            var handleNumbersToDrag = [ index - 1, index ];
                            addClass(connect, options.cssClasses.draggable);
                            if (behaviour.fixed) {
                                eventHolders.push(handleBefore.children[0]);
                                eventHolders.push(handleAfter.children[0]);
                            }
                            if (behaviour.dragAll) {
                                handlesToDrag = scope_Handles;
                                handleNumbersToDrag = scope_HandleNumbers;
                            }
                            eventHolders.forEach((function(eventHolder) {
                                attachEvent(actions.start, eventHolder, eventStart, {
                                    handles: handlesToDrag,
                                    handleNumbers: handleNumbersToDrag,
                                    connect
                                });
                            }));
                        }));
                    }
                    function bindEvent(namespacedEvent, callback) {
                        scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];
                        scope_Events[namespacedEvent].push(callback);
                        if ("update" === namespacedEvent.split(".")[0]) scope_Handles.forEach((function(a, index) {
                            fireEvent("update", index);
                        }));
                    }
                    function isInternalNamespace(namespace) {
                        return namespace === INTERNAL_EVENT_NS.aria || namespace === INTERNAL_EVENT_NS.tooltips;
                    }
                    function removeEvent(namespacedEvent) {
                        var event = namespacedEvent && namespacedEvent.split(".")[0];
                        var namespace = event ? namespacedEvent.substring(event.length) : namespacedEvent;
                        Object.keys(scope_Events).forEach((function(bind) {
                            var tEvent = bind.split(".")[0];
                            var tNamespace = bind.substring(tEvent.length);
                            if ((!event || event === tEvent) && (!namespace || namespace === tNamespace)) if (!isInternalNamespace(tNamespace) || namespace === tNamespace) delete scope_Events[bind];
                        }));
                    }
                    function fireEvent(eventName, handleNumber, tap) {
                        Object.keys(scope_Events).forEach((function(targetEvent) {
                            var eventType = targetEvent.split(".")[0];
                            if (eventName === eventType) scope_Events[targetEvent].forEach((function(callback) {
                                callback.call(scope_Self, scope_Values.map(options.format.to), handleNumber, scope_Values.slice(), tap || false, scope_Locations.slice(), scope_Self);
                            }));
                        }));
                    }
                    function checkHandlePosition(reference, handleNumber, to, lookBackward, lookForward, getValue, smoothSteps) {
                        var distance;
                        if (scope_Handles.length > 1 && !options.events.unconstrained) {
                            if (lookBackward && handleNumber > 0) {
                                distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.margin, false);
                                to = Math.max(to, distance);
                            }
                            if (lookForward && handleNumber < scope_Handles.length - 1) {
                                distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.margin, true);
                                to = Math.min(to, distance);
                            }
                        }
                        if (scope_Handles.length > 1 && options.limit) {
                            if (lookBackward && handleNumber > 0) {
                                distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.limit, false);
                                to = Math.min(to, distance);
                            }
                            if (lookForward && handleNumber < scope_Handles.length - 1) {
                                distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.limit, true);
                                to = Math.max(to, distance);
                            }
                        }
                        if (options.padding) {
                            if (0 === handleNumber) {
                                distance = scope_Spectrum.getAbsoluteDistance(0, options.padding[0], false);
                                to = Math.max(to, distance);
                            }
                            if (handleNumber === scope_Handles.length - 1) {
                                distance = scope_Spectrum.getAbsoluteDistance(100, options.padding[1], true);
                                to = Math.min(to, distance);
                            }
                        }
                        if (!smoothSteps) to = scope_Spectrum.getStep(to);
                        to = limit(to);
                        if (to === reference[handleNumber] && !getValue) return false;
                        return to;
                    }
                    function inRuleOrder(v, a) {
                        var o = options.ort;
                        return (o ? a : v) + ", " + (o ? v : a);
                    }
                    function moveHandles(upward, proposal, locations, handleNumbers, connect) {
                        var proposals = locations.slice();
                        var firstHandle = handleNumbers[0];
                        var smoothSteps = options.events.smoothSteps;
                        var b = [ !upward, upward ];
                        var f = [ upward, !upward ];
                        handleNumbers = handleNumbers.slice();
                        if (upward) handleNumbers.reverse();
                        if (handleNumbers.length > 1) handleNumbers.forEach((function(handleNumber, o) {
                            var to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false, smoothSteps);
                            if (false === to) proposal = 0; else {
                                proposal = to - proposals[handleNumber];
                                proposals[handleNumber] = to;
                            }
                        })); else b = f = [ true ];
                        var state = false;
                        handleNumbers.forEach((function(handleNumber, o) {
                            state = setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o], false, smoothSteps) || state;
                        }));
                        if (state) {
                            handleNumbers.forEach((function(handleNumber) {
                                fireEvent("update", handleNumber);
                                fireEvent("slide", handleNumber);
                            }));
                            if (void 0 != connect) fireEvent("drag", firstHandle);
                        }
                    }
                    function transformDirection(a, b) {
                        return options.dir ? 100 - a - b : a;
                    }
                    function updateHandlePosition(handleNumber, to) {
                        scope_Locations[handleNumber] = to;
                        scope_Values[handleNumber] = scope_Spectrum.fromStepping(to);
                        var translation = transformDirection(to, 0) - scope_DirOffset;
                        var translateRule = "translate(" + inRuleOrder(translation + "%", "0") + ")";
                        scope_Handles[handleNumber].style[options.transformRule] = translateRule;
                        updateConnect(handleNumber);
                        updateConnect(handleNumber + 1);
                    }
                    function setZindex() {
                        scope_HandleNumbers.forEach((function(handleNumber) {
                            var dir = scope_Locations[handleNumber] > 50 ? -1 : 1;
                            var zIndex = 3 + (scope_Handles.length + dir * handleNumber);
                            scope_Handles[handleNumber].style.zIndex = String(zIndex);
                        }));
                    }
                    function setHandle(handleNumber, to, lookBackward, lookForward, exactInput, smoothSteps) {
                        if (!exactInput) to = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false, smoothSteps);
                        if (false === to) return false;
                        updateHandlePosition(handleNumber, to);
                        return true;
                    }
                    function updateConnect(index) {
                        if (!scope_Connects[index]) return;
                        var l = 0;
                        var h = 100;
                        if (0 !== index) l = scope_Locations[index - 1];
                        if (index !== scope_Connects.length - 1) h = scope_Locations[index];
                        var connectWidth = h - l;
                        var translateRule = "translate(" + inRuleOrder(transformDirection(l, connectWidth) + "%", "0") + ")";
                        var scaleRule = "scale(" + inRuleOrder(connectWidth / 100, "1") + ")";
                        scope_Connects[index].style[options.transformRule] = translateRule + " " + scaleRule;
                    }
                    function resolveToValue(to, handleNumber) {
                        if (null === to || false === to || void 0 === to) return scope_Locations[handleNumber];
                        if ("number" === typeof to) to = String(to);
                        to = options.format.from(to);
                        if (false !== to) to = scope_Spectrum.toStepping(to);
                        if (false === to || isNaN(to)) return scope_Locations[handleNumber];
                        return to;
                    }
                    function valueSet(input, fireSetEvent, exactInput) {
                        var values = asArray(input);
                        var isInit = void 0 === scope_Locations[0];
                        fireSetEvent = void 0 === fireSetEvent ? true : fireSetEvent;
                        if (options.animate && !isInit) addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);
                        scope_HandleNumbers.forEach((function(handleNumber) {
                            setHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false, exactInput);
                        }));
                        var i = 1 === scope_HandleNumbers.length ? 0 : 1;
                        if (isInit && scope_Spectrum.hasNoSize()) {
                            exactInput = true;
                            scope_Locations[0] = 0;
                            if (scope_HandleNumbers.length > 1) {
                                var space_1 = 100 / (scope_HandleNumbers.length - 1);
                                scope_HandleNumbers.forEach((function(handleNumber) {
                                    scope_Locations[handleNumber] = handleNumber * space_1;
                                }));
                            }
                        }
                        for (;i < scope_HandleNumbers.length; ++i) scope_HandleNumbers.forEach((function(handleNumber) {
                            setHandle(handleNumber, scope_Locations[handleNumber], true, true, exactInput);
                        }));
                        setZindex();
                        scope_HandleNumbers.forEach((function(handleNumber) {
                            fireEvent("update", handleNumber);
                            if (null !== values[handleNumber] && fireSetEvent) fireEvent("set", handleNumber);
                        }));
                    }
                    function valueReset(fireSetEvent) {
                        valueSet(options.start, fireSetEvent);
                    }
                    function valueSetHandle(handleNumber, value, fireSetEvent, exactInput) {
                        handleNumber = Number(handleNumber);
                        if (!(handleNumber >= 0 && handleNumber < scope_HandleNumbers.length)) throw new Error("noUiSlider: invalid handle number, got: " + handleNumber);
                        setHandle(handleNumber, resolveToValue(value, handleNumber), true, true, exactInput);
                        fireEvent("update", handleNumber);
                        if (fireSetEvent) fireEvent("set", handleNumber);
                    }
                    function valueGet(unencoded) {
                        if (void 0 === unencoded) unencoded = false;
                        if (unencoded) return 1 === scope_Values.length ? scope_Values[0] : scope_Values.slice(0);
                        var values = scope_Values.map(options.format.to);
                        if (1 === values.length) return values[0];
                        return values;
                    }
                    function destroy() {
                        removeEvent(INTERNAL_EVENT_NS.aria);
                        removeEvent(INTERNAL_EVENT_NS.tooltips);
                        Object.keys(options.cssClasses).forEach((function(key) {
                            removeClass(scope_Target, options.cssClasses[key]);
                        }));
                        while (scope_Target.firstChild) scope_Target.removeChild(scope_Target.firstChild);
                        delete scope_Target.noUiSlider;
                    }
                    function getNextStepsForHandle(handleNumber) {
                        var location = scope_Locations[handleNumber];
                        var nearbySteps = scope_Spectrum.getNearbySteps(location);
                        var value = scope_Values[handleNumber];
                        var increment = nearbySteps.thisStep.step;
                        var decrement = null;
                        if (options.snap) return [ value - nearbySteps.stepBefore.startValue || null, nearbySteps.stepAfter.startValue - value || null ];
                        if (false !== increment) if (value + increment > nearbySteps.stepAfter.startValue) increment = nearbySteps.stepAfter.startValue - value;
                        if (value > nearbySteps.thisStep.startValue) decrement = nearbySteps.thisStep.step; else if (false === nearbySteps.stepBefore.step) decrement = false; else decrement = value - nearbySteps.stepBefore.highestStep;
                        if (100 === location) increment = null; else if (0 === location) decrement = null;
                        var stepDecimals = scope_Spectrum.countStepDecimals();
                        if (null !== increment && false !== increment) increment = Number(increment.toFixed(stepDecimals));
                        if (null !== decrement && false !== decrement) decrement = Number(decrement.toFixed(stepDecimals));
                        return [ decrement, increment ];
                    }
                    function getNextSteps() {
                        return scope_HandleNumbers.map(getNextStepsForHandle);
                    }
                    function updateOptions(optionsToUpdate, fireSetEvent) {
                        var v = valueGet();
                        var updateAble = [ "margin", "limit", "padding", "range", "animate", "snap", "step", "format", "pips", "tooltips" ];
                        updateAble.forEach((function(name) {
                            if (void 0 !== optionsToUpdate[name]) originalOptions[name] = optionsToUpdate[name];
                        }));
                        var newOptions = testOptions(originalOptions);
                        updateAble.forEach((function(name) {
                            if (void 0 !== optionsToUpdate[name]) options[name] = newOptions[name];
                        }));
                        scope_Spectrum = newOptions.spectrum;
                        options.margin = newOptions.margin;
                        options.limit = newOptions.limit;
                        options.padding = newOptions.padding;
                        if (options.pips) pips(options.pips); else removePips();
                        if (options.tooltips) tooltips(); else removeTooltips();
                        scope_Locations = [];
                        valueSet(isSet(optionsToUpdate.start) ? optionsToUpdate.start : v, fireSetEvent);
                    }
                    function setupSlider() {
                        scope_Base = addSlider(scope_Target);
                        addElements(options.connect, scope_Base);
                        bindSliderEvents(options.events);
                        valueSet(options.start);
                        if (options.pips) pips(options.pips);
                        if (options.tooltips) tooltips();
                        aria();
                    }
                    setupSlider();
                    var scope_Self = {
                        destroy,
                        steps: getNextSteps,
                        on: bindEvent,
                        off: removeEvent,
                        get: valueGet,
                        set: valueSet,
                        setHandle: valueSetHandle,
                        reset: valueReset,
                        __moveHandles: function(upward, proposal, handleNumbers) {
                            moveHandles(upward, proposal, scope_Locations, handleNumbers);
                        },
                        options: originalOptions,
                        updateOptions,
                        target: scope_Target,
                        removePips,
                        removeTooltips,
                        getPositions: function() {
                            return scope_Locations.slice();
                        },
                        getTooltips: function() {
                            return scope_Tooltips;
                        },
                        getOrigins: function() {
                            return scope_Handles;
                        },
                        pips
                    };
                    return scope_Self;
                }
                function initialize(target, originalOptions) {
                    if (!target || !target.nodeName) throw new Error("noUiSlider: create requires a single element, got: " + target);
                    if (target.noUiSlider) throw new Error("noUiSlider: Slider was already initialized.");
                    var options = testOptions(originalOptions);
                    var api = scope(target, options, originalOptions);
                    target.noUiSlider = api;
                    return api;
                }
                var nouislider = {
                    __spectrum: Spectrum,
                    cssClasses,
                    create: initialize
                };
                exports.create = initialize;
                exports.cssClasses = cssClasses;
                exports["default"] = nouislider;
                Object.defineProperty(exports, "__esModule", {
                    value: true
                });
            }));
        },
        5055: (module, __unused_webpack_exports, __webpack_require__) => {
            var isCallable = __webpack_require__(6282);
            var tryToString = __webpack_require__(180);
            var $TypeError = TypeError;
            module.exports = function(argument) {
                if (isCallable(argument)) return argument;
                throw $TypeError(tryToString(argument) + " is not a function");
            };
        },
        2004: (module, __unused_webpack_exports, __webpack_require__) => {
            var isCallable = __webpack_require__(6282);
            var $String = String;
            var $TypeError = TypeError;
            module.exports = function(argument) {
                if ("object" == typeof argument || isCallable(argument)) return argument;
                throw $TypeError("Can't set " + $String(argument) + " as a prototype");
            };
        },
        9256: (module, __unused_webpack_exports, __webpack_require__) => {
            var wellKnownSymbol = __webpack_require__(8149);
            var create = __webpack_require__(1525);
            var defineProperty = __webpack_require__(9168).f;
            var UNSCOPABLES = wellKnownSymbol("unscopables");
            var ArrayPrototype = Array.prototype;
            if (void 0 == ArrayPrototype[UNSCOPABLES]) defineProperty(ArrayPrototype, UNSCOPABLES, {
                configurable: true,
                value: create(null)
            });
            module.exports = function(key) {
                ArrayPrototype[UNSCOPABLES][key] = true;
            };
        },
        3615: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var charAt = __webpack_require__(7321).charAt;
            module.exports = function(S, index, unicode) {
                return index + (unicode ? charAt(S, index).length : 1);
            };
        },
        3046: (module, __unused_webpack_exports, __webpack_require__) => {
            var isPrototypeOf = __webpack_require__(1786);
            var $TypeError = TypeError;
            module.exports = function(it, Prototype) {
                if (isPrototypeOf(Prototype, it)) return it;
                throw $TypeError("Incorrect invocation");
            };
        },
        1474: (module, __unused_webpack_exports, __webpack_require__) => {
            var isObject = __webpack_require__(5896);
            var $String = String;
            var $TypeError = TypeError;
            module.exports = function(argument) {
                if (isObject(argument)) return argument;
                throw $TypeError($String(argument) + " is not an object");
            };
        },
        8774: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            module.exports = fails((function() {
                if ("function" == typeof ArrayBuffer) {
                    var buffer = new ArrayBuffer(8);
                    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, "a", {
                        value: 8
                    });
                }
            }));
        },
        1269: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $forEach = __webpack_require__(528).forEach;
            var arrayMethodIsStrict = __webpack_require__(1923);
            var STRICT_METHOD = arrayMethodIsStrict("forEach");
            module.exports = !STRICT_METHOD ? function forEach(callbackfn) {
                return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
            } : [].forEach;
        },
        5675: (module, __unused_webpack_exports, __webpack_require__) => {
            var toIndexedObject = __webpack_require__(3206);
            var toAbsoluteIndex = __webpack_require__(9623);
            var lengthOfArrayLike = __webpack_require__(1829);
            var createMethod = function(IS_INCLUDES) {
                return function($this, el, fromIndex) {
                    var O = toIndexedObject($this);
                    var length = lengthOfArrayLike(O);
                    var index = toAbsoluteIndex(fromIndex, length);
                    var value;
                    if (IS_INCLUDES && el != el) while (length > index) {
                        value = O[index++];
                        if (value != value) return true;
                    } else for (;length > index; index++) if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
                    return !IS_INCLUDES && -1;
                };
            };
            module.exports = {
                includes: createMethod(true),
                indexOf: createMethod(false)
            };
        },
        528: (module, __unused_webpack_exports, __webpack_require__) => {
            var bind = __webpack_require__(1098);
            var uncurryThis = __webpack_require__(1768);
            var IndexedObject = __webpack_require__(7530);
            var toObject = __webpack_require__(9473);
            var lengthOfArrayLike = __webpack_require__(1829);
            var arraySpeciesCreate = __webpack_require__(2768);
            var push = uncurryThis([].push);
            var createMethod = function(TYPE) {
                var IS_MAP = 1 == TYPE;
                var IS_FILTER = 2 == TYPE;
                var IS_SOME = 3 == TYPE;
                var IS_EVERY = 4 == TYPE;
                var IS_FIND_INDEX = 6 == TYPE;
                var IS_FILTER_REJECT = 7 == TYPE;
                var NO_HOLES = 5 == TYPE || IS_FIND_INDEX;
                return function($this, callbackfn, that, specificCreate) {
                    var O = toObject($this);
                    var self = IndexedObject(O);
                    var boundFunction = bind(callbackfn, that);
                    var length = lengthOfArrayLike(self);
                    var index = 0;
                    var create = specificCreate || arraySpeciesCreate;
                    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : void 0;
                    var value, result;
                    for (;length > index; index++) if (NO_HOLES || index in self) {
                        value = self[index];
                        result = boundFunction(value, index, O);
                        if (TYPE) if (IS_MAP) target[index] = result; else if (result) switch (TYPE) {
                          case 3:
                            return true;

                          case 5:
                            return value;

                          case 6:
                            return index;

                          case 2:
                            push(target, value);
                        } else switch (TYPE) {
                          case 4:
                            return false;

                          case 7:
                            push(target, value);
                        }
                    }
                    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
                };
            };
            module.exports = {
                forEach: createMethod(0),
                map: createMethod(1),
                filter: createMethod(2),
                some: createMethod(3),
                every: createMethod(4),
                find: createMethod(5),
                findIndex: createMethod(6),
                filterReject: createMethod(7)
            };
        },
        4820: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var wellKnownSymbol = __webpack_require__(8149);
            var V8_VERSION = __webpack_require__(4324);
            var SPECIES = wellKnownSymbol("species");
            module.exports = function(METHOD_NAME) {
                return V8_VERSION >= 51 || !fails((function() {
                    var array = [];
                    var constructor = array.constructor = {};
                    constructor[SPECIES] = function() {
                        return {
                            foo: 1
                        };
                    };
                    return 1 !== array[METHOD_NAME](Boolean).foo;
                }));
            };
        },
        1923: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var fails = __webpack_require__(6183);
            module.exports = function(METHOD_NAME, argument) {
                var method = [][METHOD_NAME];
                return !!method && fails((function() {
                    method.call(null, argument || function() {
                        return 1;
                    }, 1);
                }));
            };
        },
        6589: (module, __unused_webpack_exports, __webpack_require__) => {
            var aCallable = __webpack_require__(5055);
            var toObject = __webpack_require__(9473);
            var IndexedObject = __webpack_require__(7530);
            var lengthOfArrayLike = __webpack_require__(1829);
            var $TypeError = TypeError;
            var createMethod = function(IS_RIGHT) {
                return function(that, callbackfn, argumentsLength, memo) {
                    aCallable(callbackfn);
                    var O = toObject(that);
                    var self = IndexedObject(O);
                    var length = lengthOfArrayLike(O);
                    var index = IS_RIGHT ? length - 1 : 0;
                    var i = IS_RIGHT ? -1 : 1;
                    if (argumentsLength < 2) while (true) {
                        if (index in self) {
                            memo = self[index];
                            index += i;
                            break;
                        }
                        index += i;
                        if (IS_RIGHT ? index < 0 : length <= index) throw $TypeError("Reduce of empty array with no initial value");
                    }
                    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) memo = callbackfn(memo, self[index], index, O);
                    return memo;
                };
            };
            module.exports = {
                left: createMethod(false),
                right: createMethod(true)
            };
        },
        4072: (module, __unused_webpack_exports, __webpack_require__) => {
            var toAbsoluteIndex = __webpack_require__(9623);
            var lengthOfArrayLike = __webpack_require__(1829);
            var createProperty = __webpack_require__(2759);
            var $Array = Array;
            var max = Math.max;
            module.exports = function(O, start, end) {
                var length = lengthOfArrayLike(O);
                var k = toAbsoluteIndex(start, length);
                var fin = toAbsoluteIndex(void 0 === end ? length : end, length);
                var result = $Array(max(fin - k, 0));
                for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);
                result.length = n;
                return result;
            };
        },
        9882: (module, __unused_webpack_exports, __webpack_require__) => {
            var isArray = __webpack_require__(7931);
            var isConstructor = __webpack_require__(2240);
            var isObject = __webpack_require__(5896);
            var wellKnownSymbol = __webpack_require__(8149);
            var SPECIES = wellKnownSymbol("species");
            var $Array = Array;
            module.exports = function(originalArray) {
                var C;
                if (isArray(originalArray)) {
                    C = originalArray.constructor;
                    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = void 0; else if (isObject(C)) {
                        C = C[SPECIES];
                        if (null === C) C = void 0;
                    }
                }
                return void 0 === C ? $Array : C;
            };
        },
        2768: (module, __unused_webpack_exports, __webpack_require__) => {
            var arraySpeciesConstructor = __webpack_require__(9882);
            module.exports = function(originalArray, length) {
                return new (arraySpeciesConstructor(originalArray))(0 === length ? 0 : length);
            };
        },
        1751: (module, __unused_webpack_exports, __webpack_require__) => {
            var wellKnownSymbol = __webpack_require__(8149);
            var ITERATOR = wellKnownSymbol("iterator");
            var SAFE_CLOSING = false;
            try {
                var called = 0;
                var iteratorWithReturn = {
                    next: function() {
                        return {
                            done: !!called++
                        };
                    },
                    return: function() {
                        SAFE_CLOSING = true;
                    }
                };
                iteratorWithReturn[ITERATOR] = function() {
                    return this;
                };
                Array.from(iteratorWithReturn, (function() {
                    throw 2;
                }));
            } catch (error) {}
            module.exports = function(exec, SKIP_CLOSING) {
                if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
                var ITERATION_SUPPORT = false;
                try {
                    var object = {};
                    object[ITERATOR] = function() {
                        return {
                            next: function() {
                                return {
                                    done: ITERATION_SUPPORT = true
                                };
                            }
                        };
                    };
                    exec(object);
                } catch (error) {}
                return ITERATION_SUPPORT;
            };
        },
        1510: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var toString = uncurryThis({}.toString);
            var stringSlice = uncurryThis("".slice);
            module.exports = function(it) {
                return stringSlice(toString(it), 8, -1);
            };
        },
        9225: (module, __unused_webpack_exports, __webpack_require__) => {
            var TO_STRING_TAG_SUPPORT = __webpack_require__(4823);
            var isCallable = __webpack_require__(6282);
            var classofRaw = __webpack_require__(1510);
            var wellKnownSymbol = __webpack_require__(8149);
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var $Object = Object;
            var CORRECT_ARGUMENTS = "Arguments" == classofRaw(function() {
                return arguments;
            }());
            var tryGet = function(it, key) {
                try {
                    return it[key];
                } catch (error) {}
            };
            module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function(it) {
                var O, tag, result;
                return void 0 === it ? "Undefined" : null === it ? "Null" : "string" == typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) ? tag : CORRECT_ARGUMENTS ? classofRaw(O) : "Object" == (result = classofRaw(O)) && isCallable(O.callee) ? "Arguments" : result;
            };
        },
        7790: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var uncurryThis = __webpack_require__(1768);
            var defineBuiltIns = __webpack_require__(6367);
            var getWeakData = __webpack_require__(6582).getWeakData;
            var anInstance = __webpack_require__(3046);
            var anObject = __webpack_require__(1474);
            var isNullOrUndefined = __webpack_require__(2420);
            var isObject = __webpack_require__(5896);
            var iterate = __webpack_require__(1518);
            var ArrayIterationModule = __webpack_require__(528);
            var hasOwn = __webpack_require__(8281);
            var InternalStateModule = __webpack_require__(1030);
            var setInternalState = InternalStateModule.set;
            var internalStateGetterFor = InternalStateModule.getterFor;
            var find = ArrayIterationModule.find;
            var findIndex = ArrayIterationModule.findIndex;
            var splice = uncurryThis([].splice);
            var id = 0;
            var uncaughtFrozenStore = function(store) {
                return store.frozen || (store.frozen = new UncaughtFrozenStore);
            };
            var UncaughtFrozenStore = function() {
                this.entries = [];
            };
            var findUncaughtFrozen = function(store, key) {
                return find(store.entries, (function(it) {
                    return it[0] === key;
                }));
            };
            UncaughtFrozenStore.prototype = {
                get: function(key) {
                    var entry = findUncaughtFrozen(this, key);
                    if (entry) return entry[1];
                },
                has: function(key) {
                    return !!findUncaughtFrozen(this, key);
                },
                set: function(key, value) {
                    var entry = findUncaughtFrozen(this, key);
                    if (entry) entry[1] = value; else this.entries.push([ key, value ]);
                },
                delete: function(key) {
                    var index = findIndex(this.entries, (function(it) {
                        return it[0] === key;
                    }));
                    if (~index) splice(this.entries, index, 1);
                    return !!~index;
                }
            };
            module.exports = {
                getConstructor: function(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
                    var Constructor = wrapper((function(that, iterable) {
                        anInstance(that, Prototype);
                        setInternalState(that, {
                            type: CONSTRUCTOR_NAME,
                            id: id++,
                            frozen: void 0
                        });
                        if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], {
                            that,
                            AS_ENTRIES: IS_MAP
                        });
                    }));
                    var Prototype = Constructor.prototype;
                    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);
                    var define = function(that, key, value) {
                        var state = getInternalState(that);
                        var data = getWeakData(anObject(key), true);
                        if (true === data) uncaughtFrozenStore(state).set(key, value); else data[state.id] = value;
                        return that;
                    };
                    defineBuiltIns(Prototype, {
                        delete: function(key) {
                            var state = getInternalState(this);
                            if (!isObject(key)) return false;
                            var data = getWeakData(key);
                            if (true === data) return uncaughtFrozenStore(state)["delete"](key);
                            return data && hasOwn(data, state.id) && delete data[state.id];
                        },
                        has: function has(key) {
                            var state = getInternalState(this);
                            if (!isObject(key)) return false;
                            var data = getWeakData(key);
                            if (true === data) return uncaughtFrozenStore(state).has(key);
                            return data && hasOwn(data, state.id);
                        }
                    });
                    defineBuiltIns(Prototype, IS_MAP ? {
                        get: function get(key) {
                            var state = getInternalState(this);
                            if (isObject(key)) {
                                var data = getWeakData(key);
                                if (true === data) return uncaughtFrozenStore(state).get(key);
                                return data ? data[state.id] : void 0;
                            }
                        },
                        set: function set(key, value) {
                            return define(this, key, value);
                        }
                    } : {
                        add: function add(value) {
                            return define(this, value, true);
                        }
                    });
                    return Constructor;
                }
            };
        },
        6645: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $ = __webpack_require__(4761);
            var global = __webpack_require__(8454);
            var uncurryThis = __webpack_require__(1768);
            var isForced = __webpack_require__(1949);
            var defineBuiltIn = __webpack_require__(2054);
            var InternalMetadataModule = __webpack_require__(6582);
            var iterate = __webpack_require__(1518);
            var anInstance = __webpack_require__(3046);
            var isCallable = __webpack_require__(6282);
            var isNullOrUndefined = __webpack_require__(2420);
            var isObject = __webpack_require__(5896);
            var fails = __webpack_require__(6183);
            var checkCorrectnessOfIteration = __webpack_require__(1751);
            var setToStringTag = __webpack_require__(820);
            var inheritIfRequired = __webpack_require__(7770);
            module.exports = function(CONSTRUCTOR_NAME, wrapper, common) {
                var IS_MAP = -1 !== CONSTRUCTOR_NAME.indexOf("Map");
                var IS_WEAK = -1 !== CONSTRUCTOR_NAME.indexOf("Weak");
                var ADDER = IS_MAP ? "set" : "add";
                var NativeConstructor = global[CONSTRUCTOR_NAME];
                var NativePrototype = NativeConstructor && NativeConstructor.prototype;
                var Constructor = NativeConstructor;
                var exported = {};
                var fixMethod = function(KEY) {
                    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);
                    defineBuiltIn(NativePrototype, KEY, "add" == KEY ? function add(value) {
                        uncurriedNativeMethod(this, 0 === value ? 0 : value);
                        return this;
                    } : "delete" == KEY ? function(key) {
                        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, 0 === key ? 0 : key);
                    } : "get" == KEY ? function get(key) {
                        return IS_WEAK && !isObject(key) ? void 0 : uncurriedNativeMethod(this, 0 === key ? 0 : key);
                    } : "has" == KEY ? function has(key) {
                        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, 0 === key ? 0 : key);
                    } : function set(key, value) {
                        uncurriedNativeMethod(this, 0 === key ? 0 : key, value);
                        return this;
                    });
                };
                var REPLACE = isForced(CONSTRUCTOR_NAME, !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails((function() {
                    (new NativeConstructor).entries().next();
                }))));
                if (REPLACE) {
                    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
                    InternalMetadataModule.enable();
                } else if (isForced(CONSTRUCTOR_NAME, true)) {
                    var instance = new Constructor;
                    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
                    var THROWS_ON_PRIMITIVES = fails((function() {
                        instance.has(1);
                    }));
                    var ACCEPT_ITERABLES = checkCorrectnessOfIteration((function(iterable) {
                        new NativeConstructor(iterable);
                    }));
                    var BUGGY_ZERO = !IS_WEAK && fails((function() {
                        var $instance = new NativeConstructor;
                        var index = 5;
                        while (index--) $instance[ADDER](index, index);
                        return !$instance.has(-0);
                    }));
                    if (!ACCEPT_ITERABLES) {
                        Constructor = wrapper((function(dummy, iterable) {
                            anInstance(dummy, NativePrototype);
                            var that = inheritIfRequired(new NativeConstructor, dummy, Constructor);
                            if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], {
                                that,
                                AS_ENTRIES: IS_MAP
                            });
                            return that;
                        }));
                        Constructor.prototype = NativePrototype;
                        NativePrototype.constructor = Constructor;
                    }
                    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
                        fixMethod("delete");
                        fixMethod("has");
                        IS_MAP && fixMethod("get");
                    }
                    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
                    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;
                }
                exported[CONSTRUCTOR_NAME] = Constructor;
                $({
                    global: true,
                    constructor: true,
                    forced: Constructor != NativeConstructor
                }, exported);
                setToStringTag(Constructor, CONSTRUCTOR_NAME);
                if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);
                return Constructor;
            };
        },
        882: (module, __unused_webpack_exports, __webpack_require__) => {
            var hasOwn = __webpack_require__(8281);
            var ownKeys = __webpack_require__(1441);
            var getOwnPropertyDescriptorModule = __webpack_require__(5663);
            var definePropertyModule = __webpack_require__(9168);
            module.exports = function(target, source, exceptions) {
                var keys = ownKeys(source);
                var defineProperty = definePropertyModule.f;
                var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
                for (var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) defineProperty(target, key, getOwnPropertyDescriptor(source, key));
                }
            };
        },
        7401: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            module.exports = !fails((function() {
                function F() {}
                F.prototype.constructor = null;
                return Object.getPrototypeOf(new F) !== F.prototype;
            }));
        },
        5351: module => {
            module.exports = function(value, done) {
                return {
                    value,
                    done
                };
            };
        },
        1501: (module, __unused_webpack_exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var definePropertyModule = __webpack_require__(9168);
            var createPropertyDescriptor = __webpack_require__(9273);
            module.exports = DESCRIPTORS ? function(object, key, value) {
                return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
            } : function(object, key, value) {
                object[key] = value;
                return object;
            };
        },
        9273: module => {
            module.exports = function(bitmap, value) {
                return {
                    enumerable: !(1 & bitmap),
                    configurable: !(2 & bitmap),
                    writable: !(4 & bitmap),
                    value
                };
            };
        },
        2759: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var toPropertyKey = __webpack_require__(2988);
            var definePropertyModule = __webpack_require__(9168);
            var createPropertyDescriptor = __webpack_require__(9273);
            module.exports = function(object, key, value) {
                var propertyKey = toPropertyKey(key);
                if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value)); else object[propertyKey] = value;
            };
        },
        2054: (module, __unused_webpack_exports, __webpack_require__) => {
            var isCallable = __webpack_require__(6282);
            var definePropertyModule = __webpack_require__(9168);
            var makeBuiltIn = __webpack_require__(5903);
            var defineGlobalProperty = __webpack_require__(7194);
            module.exports = function(O, key, value, options) {
                if (!options) options = {};
                var simple = options.enumerable;
                var name = void 0 !== options.name ? options.name : key;
                if (isCallable(value)) makeBuiltIn(value, name, options);
                if (options.global) if (simple) O[key] = value; else defineGlobalProperty(key, value); else {
                    try {
                        if (!options.unsafe) delete O[key]; else if (O[key]) simple = true;
                    } catch (error) {}
                    if (simple) O[key] = value; else definePropertyModule.f(O, key, {
                        value,
                        enumerable: false,
                        configurable: !options.nonConfigurable,
                        writable: !options.nonWritable
                    });
                }
                return O;
            };
        },
        6367: (module, __unused_webpack_exports, __webpack_require__) => {
            var defineBuiltIn = __webpack_require__(2054);
            module.exports = function(target, src, options) {
                for (var key in src) defineBuiltIn(target, key, src[key], options);
                return target;
            };
        },
        7194: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var defineProperty = Object.defineProperty;
            module.exports = function(key, value) {
                try {
                    defineProperty(global, key, {
                        value,
                        configurable: true,
                        writable: true
                    });
                } catch (error) {
                    global[key] = value;
                }
                return value;
            };
        },
        723: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            module.exports = !fails((function() {
                return 7 != Object.defineProperty({}, 1, {
                    get: function() {
                        return 7;
                    }
                })[1];
            }));
        },
        1685: module => {
            var documentAll = "object" == typeof document && document.all;
            var IS_HTMLDDA = "undefined" == typeof documentAll && void 0 !== documentAll;
            module.exports = {
                all: documentAll,
                IS_HTMLDDA
            };
        },
        7282: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var isObject = __webpack_require__(5896);
            var document = global.document;
            var EXISTS = isObject(document) && isObject(document.createElement);
            module.exports = function(it) {
                return EXISTS ? document.createElement(it) : {};
            };
        },
        6181: module => {
            module.exports = {
                CSSRuleList: 0,
                CSSStyleDeclaration: 0,
                CSSValueList: 0,
                ClientRectList: 0,
                DOMRectList: 0,
                DOMStringList: 0,
                DOMTokenList: 1,
                DataTransferItemList: 0,
                FileList: 0,
                HTMLAllCollection: 0,
                HTMLCollection: 0,
                HTMLFormElement: 0,
                HTMLSelectElement: 0,
                MediaList: 0,
                MimeTypeArray: 0,
                NamedNodeMap: 0,
                NodeList: 1,
                PaintRequestList: 0,
                Plugin: 0,
                PluginArray: 0,
                SVGLengthList: 0,
                SVGNumberList: 0,
                SVGPathSegList: 0,
                SVGPointList: 0,
                SVGStringList: 0,
                SVGTransformList: 0,
                SourceBufferList: 0,
                StyleSheetList: 0,
                TextTrackCueList: 0,
                TextTrackList: 0,
                TouchList: 0
            };
        },
        2387: (module, __unused_webpack_exports, __webpack_require__) => {
            var documentCreateElement = __webpack_require__(7282);
            var classList = documentCreateElement("span").classList;
            var DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;
            module.exports = DOMTokenListPrototype === Object.prototype ? void 0 : DOMTokenListPrototype;
        },
        7594: (module, __unused_webpack_exports, __webpack_require__) => {
            var classof = __webpack_require__(1510);
            var global = __webpack_require__(8454);
            module.exports = "process" == classof(global.process);
        },
        2543: (module, __unused_webpack_exports, __webpack_require__) => {
            var getBuiltIn = __webpack_require__(4991);
            module.exports = getBuiltIn("navigator", "userAgent") || "";
        },
        4324: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var userAgent = __webpack_require__(2543);
            var process = global.process;
            var Deno = global.Deno;
            var versions = process && process.versions || Deno && Deno.version;
            var v8 = versions && versions.v8;
            var match, version;
            if (v8) {
                match = v8.split(".");
                version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
            }
            if (!version && userAgent) {
                match = userAgent.match(/Edge\/(\d+)/);
                if (!match || match[1] >= 74) {
                    match = userAgent.match(/Chrome\/(\d+)/);
                    if (match) version = +match[1];
                }
            }
            module.exports = version;
        },
        8409: module => {
            module.exports = [ "constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf" ];
        },
        4761: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var getOwnPropertyDescriptor = __webpack_require__(5663).f;
            var createNonEnumerableProperty = __webpack_require__(1501);
            var defineBuiltIn = __webpack_require__(2054);
            var defineGlobalProperty = __webpack_require__(7194);
            var copyConstructorProperties = __webpack_require__(882);
            var isForced = __webpack_require__(1949);
            module.exports = function(options, source) {
                var TARGET = options.target;
                var GLOBAL = options.global;
                var STATIC = options.stat;
                var FORCED, target, key, targetProperty, sourceProperty, descriptor;
                if (GLOBAL) target = global; else if (STATIC) target = global[TARGET] || defineGlobalProperty(TARGET, {}); else target = (global[TARGET] || {}).prototype;
                if (target) for (key in source) {
                    sourceProperty = source[key];
                    if (options.dontCallGetSet) {
                        descriptor = getOwnPropertyDescriptor(target, key);
                        targetProperty = descriptor && descriptor.value;
                    } else targetProperty = target[key];
                    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? "." : "#") + key, options.forced);
                    if (!FORCED && void 0 !== targetProperty) {
                        if (typeof sourceProperty == typeof targetProperty) continue;
                        copyConstructorProperties(sourceProperty, targetProperty);
                    }
                    if (options.sham || targetProperty && targetProperty.sham) createNonEnumerableProperty(sourceProperty, "sham", true);
                    defineBuiltIn(target, key, sourceProperty, options);
                }
            };
        },
        6183: module => {
            module.exports = function(exec) {
                try {
                    return !!exec();
                } catch (error) {
                    return true;
                }
            };
        },
        9696: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            __webpack_require__(9989);
            var uncurryThis = __webpack_require__(9252);
            var defineBuiltIn = __webpack_require__(2054);
            var regexpExec = __webpack_require__(5510);
            var fails = __webpack_require__(6183);
            var wellKnownSymbol = __webpack_require__(8149);
            var createNonEnumerableProperty = __webpack_require__(1501);
            var SPECIES = wellKnownSymbol("species");
            var RegExpPrototype = RegExp.prototype;
            module.exports = function(KEY, exec, FORCED, SHAM) {
                var SYMBOL = wellKnownSymbol(KEY);
                var DELEGATES_TO_SYMBOL = !fails((function() {
                    var O = {};
                    O[SYMBOL] = function() {
                        return 7;
                    };
                    return 7 != ""[KEY](O);
                }));
                var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails((function() {
                    var execCalled = false;
                    var re = /a/;
                    if ("split" === KEY) {
                        re = {};
                        re.constructor = {};
                        re.constructor[SPECIES] = function() {
                            return re;
                        };
                        re.flags = "";
                        re[SYMBOL] = /./[SYMBOL];
                    }
                    re.exec = function() {
                        execCalled = true;
                        return null;
                    };
                    re[SYMBOL]("");
                    return !execCalled;
                }));
                if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || FORCED) {
                    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);
                    var methods = exec(SYMBOL, ""[KEY], (function(nativeMethod, regexp, str, arg2, forceStringMethod) {
                        var uncurriedNativeMethod = uncurryThis(nativeMethod);
                        var $exec = regexp.exec;
                        if ($exec === regexpExec || $exec === RegExpPrototype.exec) {
                            if (DELEGATES_TO_SYMBOL && !forceStringMethod) return {
                                done: true,
                                value: uncurriedNativeRegExpMethod(regexp, str, arg2)
                            };
                            return {
                                done: true,
                                value: uncurriedNativeMethod(str, regexp, arg2)
                            };
                        }
                        return {
                            done: false
                        };
                    }));
                    defineBuiltIn(String.prototype, KEY, methods[0]);
                    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);
                }
                if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], "sham", true);
            };
        },
        3116: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            module.exports = !fails((function() {
                return Object.isExtensible(Object.preventExtensions({}));
            }));
        },
        6218: (module, __unused_webpack_exports, __webpack_require__) => {
            var NATIVE_BIND = __webpack_require__(160);
            var FunctionPrototype = Function.prototype;
            var apply = FunctionPrototype.apply;
            var call = FunctionPrototype.call;
            module.exports = "object" == typeof Reflect && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function() {
                return call.apply(apply, arguments);
            });
        },
        1098: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(9252);
            var aCallable = __webpack_require__(5055);
            var NATIVE_BIND = __webpack_require__(160);
            var bind = uncurryThis(uncurryThis.bind);
            module.exports = function(fn, that) {
                aCallable(fn);
                return void 0 === that ? fn : NATIVE_BIND ? bind(fn, that) : function() {
                    return fn.apply(that, arguments);
                };
            };
        },
        160: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            module.exports = !fails((function() {
                var test = function() {}.bind();
                return "function" != typeof test || test.hasOwnProperty("prototype");
            }));
        },
        4552: (module, __unused_webpack_exports, __webpack_require__) => {
            var NATIVE_BIND = __webpack_require__(160);
            var call = Function.prototype.call;
            module.exports = NATIVE_BIND ? call.bind(call) : function() {
                return call.apply(call, arguments);
            };
        },
        4530: (module, __unused_webpack_exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var hasOwn = __webpack_require__(8281);
            var FunctionPrototype = Function.prototype;
            var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;
            var EXISTS = hasOwn(FunctionPrototype, "name");
            var PROPER = EXISTS && "something" === function something() {}.name;
            var CONFIGURABLE = EXISTS && (!DESCRIPTORS || DESCRIPTORS && getDescriptor(FunctionPrototype, "name").configurable);
            module.exports = {
                EXISTS,
                PROPER,
                CONFIGURABLE
            };
        },
        9252: (module, __unused_webpack_exports, __webpack_require__) => {
            var classofRaw = __webpack_require__(1510);
            var uncurryThis = __webpack_require__(1768);
            module.exports = function(fn) {
                if ("Function" === classofRaw(fn)) return uncurryThis(fn);
            };
        },
        1768: (module, __unused_webpack_exports, __webpack_require__) => {
            var NATIVE_BIND = __webpack_require__(160);
            var FunctionPrototype = Function.prototype;
            var call = FunctionPrototype.call;
            var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);
            module.exports = NATIVE_BIND ? uncurryThisWithBind : function(fn) {
                return function() {
                    return call.apply(fn, arguments);
                };
            };
        },
        4991: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var isCallable = __webpack_require__(6282);
            var aFunction = function(argument) {
                return isCallable(argument) ? argument : void 0;
            };
            module.exports = function(namespace, method) {
                return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];
            };
        },
        650: (module, __unused_webpack_exports, __webpack_require__) => {
            var classof = __webpack_require__(9225);
            var getMethod = __webpack_require__(9827);
            var isNullOrUndefined = __webpack_require__(2420);
            var Iterators = __webpack_require__(6126);
            var wellKnownSymbol = __webpack_require__(8149);
            var ITERATOR = wellKnownSymbol("iterator");
            module.exports = function(it) {
                if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR) || getMethod(it, "@@iterator") || Iterators[classof(it)];
            };
        },
        7755: (module, __unused_webpack_exports, __webpack_require__) => {
            var call = __webpack_require__(4552);
            var aCallable = __webpack_require__(5055);
            var anObject = __webpack_require__(1474);
            var tryToString = __webpack_require__(180);
            var getIteratorMethod = __webpack_require__(650);
            var $TypeError = TypeError;
            module.exports = function(argument, usingIterator) {
                var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
                if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
                throw $TypeError(tryToString(argument) + " is not iterable");
            };
        },
        9827: (module, __unused_webpack_exports, __webpack_require__) => {
            var aCallable = __webpack_require__(5055);
            var isNullOrUndefined = __webpack_require__(2420);
            module.exports = function(V, P) {
                var func = V[P];
                return isNullOrUndefined(func) ? void 0 : aCallable(func);
            };
        },
        4742: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var toObject = __webpack_require__(9473);
            var floor = Math.floor;
            var charAt = uncurryThis("".charAt);
            var replace = uncurryThis("".replace);
            var stringSlice = uncurryThis("".slice);
            var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
            var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d{1,2})/g;
            module.exports = function(matched, str, position, captures, namedCaptures, replacement) {
                var tailPos = position + matched.length;
                var m = captures.length;
                var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
                if (void 0 !== namedCaptures) {
                    namedCaptures = toObject(namedCaptures);
                    symbols = SUBSTITUTION_SYMBOLS;
                }
                return replace(replacement, symbols, (function(match, ch) {
                    var capture;
                    switch (charAt(ch, 0)) {
                      case "$":
                        return "$";

                      case "&":
                        return matched;

                      case "`":
                        return stringSlice(str, 0, position);

                      case "'":
                        return stringSlice(str, tailPos);

                      case "<":
                        capture = namedCaptures[stringSlice(ch, 1, -1)];
                        break;

                      default:
                        var n = +ch;
                        if (0 === n) return match;
                        if (n > m) {
                            var f = floor(n / 10);
                            if (0 === f) return match;
                            if (f <= m) return void 0 === captures[f - 1] ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);
                            return match;
                        }
                        capture = captures[n - 1];
                    }
                    return void 0 === capture ? "" : capture;
                }));
            };
        },
        8454: (module, __unused_webpack_exports, __webpack_require__) => {
            var check = function(it) {
                return it && it.Math == Math && it;
            };
            module.exports = check("object" == typeof globalThis && globalThis) || check("object" == typeof window && window) || check("object" == typeof self && self) || check("object" == typeof __webpack_require__.g && __webpack_require__.g) || function() {
                return this;
            }() || Function("return this")();
        },
        8281: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var toObject = __webpack_require__(9473);
            var hasOwnProperty = uncurryThis({}.hasOwnProperty);
            module.exports = Object.hasOwn || function hasOwn(it, key) {
                return hasOwnProperty(toObject(it), key);
            };
        },
        4377: module => {
            module.exports = {};
        },
        7461: (module, __unused_webpack_exports, __webpack_require__) => {
            var getBuiltIn = __webpack_require__(4991);
            module.exports = getBuiltIn("document", "documentElement");
        },
        4985: (module, __unused_webpack_exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var fails = __webpack_require__(6183);
            var createElement = __webpack_require__(7282);
            module.exports = !DESCRIPTORS && !fails((function() {
                return 7 != Object.defineProperty(createElement("div"), "a", {
                    get: function() {
                        return 7;
                    }
                }).a;
            }));
        },
        7530: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var fails = __webpack_require__(6183);
            var classof = __webpack_require__(1510);
            var $Object = Object;
            var split = uncurryThis("".split);
            module.exports = fails((function() {
                return !$Object("z").propertyIsEnumerable(0);
            })) ? function(it) {
                return "String" == classof(it) ? split(it, "") : $Object(it);
            } : $Object;
        },
        7770: (module, __unused_webpack_exports, __webpack_require__) => {
            var isCallable = __webpack_require__(6282);
            var isObject = __webpack_require__(5896);
            var setPrototypeOf = __webpack_require__(5900);
            module.exports = function($this, dummy, Wrapper) {
                var NewTarget, NewTargetPrototype;
                if (setPrototypeOf && isCallable(NewTarget = dummy.constructor) && NewTarget !== Wrapper && isObject(NewTargetPrototype = NewTarget.prototype) && NewTargetPrototype !== Wrapper.prototype) setPrototypeOf($this, NewTargetPrototype);
                return $this;
            };
        },
        6901: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var isCallable = __webpack_require__(6282);
            var store = __webpack_require__(2047);
            var functionToString = uncurryThis(Function.toString);
            if (!isCallable(store.inspectSource)) store.inspectSource = function(it) {
                return functionToString(it);
            };
            module.exports = store.inspectSource;
        },
        6582: (module, __unused_webpack_exports, __webpack_require__) => {
            var $ = __webpack_require__(4761);
            var uncurryThis = __webpack_require__(1768);
            var hiddenKeys = __webpack_require__(4377);
            var isObject = __webpack_require__(5896);
            var hasOwn = __webpack_require__(8281);
            var defineProperty = __webpack_require__(9168).f;
            var getOwnPropertyNamesModule = __webpack_require__(6785);
            var getOwnPropertyNamesExternalModule = __webpack_require__(6675);
            var isExtensible = __webpack_require__(6662);
            var uid = __webpack_require__(9059);
            var FREEZING = __webpack_require__(3116);
            var REQUIRED = false;
            var METADATA = uid("meta");
            var id = 0;
            var setMetadata = function(it) {
                defineProperty(it, METADATA, {
                    value: {
                        objectID: "O" + id++,
                        weakData: {}
                    }
                });
            };
            var fastKey = function(it, create) {
                if (!isObject(it)) return "symbol" == typeof it ? it : ("string" == typeof it ? "S" : "P") + it;
                if (!hasOwn(it, METADATA)) {
                    if (!isExtensible(it)) return "F";
                    if (!create) return "E";
                    setMetadata(it);
                }
                return it[METADATA].objectID;
            };
            var getWeakData = function(it, create) {
                if (!hasOwn(it, METADATA)) {
                    if (!isExtensible(it)) return true;
                    if (!create) return false;
                    setMetadata(it);
                }
                return it[METADATA].weakData;
            };
            var onFreeze = function(it) {
                if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);
                return it;
            };
            var enable = function() {
                meta.enable = function() {};
                REQUIRED = true;
                var getOwnPropertyNames = getOwnPropertyNamesModule.f;
                var splice = uncurryThis([].splice);
                var test = {};
                test[METADATA] = 1;
                if (getOwnPropertyNames(test).length) {
                    getOwnPropertyNamesModule.f = function(it) {
                        var result = getOwnPropertyNames(it);
                        for (var i = 0, length = result.length; i < length; i++) if (result[i] === METADATA) {
                            splice(result, i, 1);
                            break;
                        }
                        return result;
                    };
                    $({
                        target: "Object",
                        stat: true,
                        forced: true
                    }, {
                        getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
                    });
                }
            };
            var meta = module.exports = {
                enable,
                fastKey,
                getWeakData,
                onFreeze
            };
            hiddenKeys[METADATA] = true;
        },
        1030: (module, __unused_webpack_exports, __webpack_require__) => {
            var NATIVE_WEAK_MAP = __webpack_require__(9780);
            var global = __webpack_require__(8454);
            var isObject = __webpack_require__(5896);
            var createNonEnumerableProperty = __webpack_require__(1501);
            var hasOwn = __webpack_require__(8281);
            var shared = __webpack_require__(2047);
            var sharedKey = __webpack_require__(8873);
            var hiddenKeys = __webpack_require__(4377);
            var OBJECT_ALREADY_INITIALIZED = "Object already initialized";
            var TypeError = global.TypeError;
            var WeakMap = global.WeakMap;
            var set, get, has;
            var enforce = function(it) {
                return has(it) ? get(it) : set(it, {});
            };
            var getterFor = function(TYPE) {
                return function(it) {
                    var state;
                    if (!isObject(it) || (state = get(it)).type !== TYPE) throw TypeError("Incompatible receiver, " + TYPE + " required");
                    return state;
                };
            };
            if (NATIVE_WEAK_MAP || shared.state) {
                var store = shared.state || (shared.state = new WeakMap);
                store.get = store.get;
                store.has = store.has;
                store.set = store.set;
                set = function(it, metadata) {
                    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
                    metadata.facade = it;
                    store.set(it, metadata);
                    return metadata;
                };
                get = function(it) {
                    return store.get(it) || {};
                };
                has = function(it) {
                    return store.has(it);
                };
            } else {
                var STATE = sharedKey("state");
                hiddenKeys[STATE] = true;
                set = function(it, metadata) {
                    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
                    metadata.facade = it;
                    createNonEnumerableProperty(it, STATE, metadata);
                    return metadata;
                };
                get = function(it) {
                    return hasOwn(it, STATE) ? it[STATE] : {};
                };
                has = function(it) {
                    return hasOwn(it, STATE);
                };
            }
            module.exports = {
                set,
                get,
                has,
                enforce,
                getterFor
            };
        },
        5859: (module, __unused_webpack_exports, __webpack_require__) => {
            var wellKnownSymbol = __webpack_require__(8149);
            var Iterators = __webpack_require__(6126);
            var ITERATOR = wellKnownSymbol("iterator");
            var ArrayPrototype = Array.prototype;
            module.exports = function(it) {
                return void 0 !== it && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
            };
        },
        7931: (module, __unused_webpack_exports, __webpack_require__) => {
            var classof = __webpack_require__(1510);
            module.exports = Array.isArray || function isArray(argument) {
                return "Array" == classof(argument);
            };
        },
        6282: (module, __unused_webpack_exports, __webpack_require__) => {
            var $documentAll = __webpack_require__(1685);
            var documentAll = $documentAll.all;
            module.exports = $documentAll.IS_HTMLDDA ? function(argument) {
                return "function" == typeof argument || argument === documentAll;
            } : function(argument) {
                return "function" == typeof argument;
            };
        },
        2240: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var fails = __webpack_require__(6183);
            var isCallable = __webpack_require__(6282);
            var classof = __webpack_require__(9225);
            var getBuiltIn = __webpack_require__(4991);
            var inspectSource = __webpack_require__(6901);
            var noop = function() {};
            var empty = [];
            var construct = getBuiltIn("Reflect", "construct");
            var constructorRegExp = /^\s*(?:class|function)\b/;
            var exec = uncurryThis(constructorRegExp.exec);
            var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);
            var isConstructorModern = function isConstructor(argument) {
                if (!isCallable(argument)) return false;
                try {
                    construct(noop, empty, argument);
                    return true;
                } catch (error) {
                    return false;
                }
            };
            var isConstructorLegacy = function isConstructor(argument) {
                if (!isCallable(argument)) return false;
                switch (classof(argument)) {
                  case "AsyncFunction":
                  case "GeneratorFunction":
                  case "AsyncGeneratorFunction":
                    return false;
                }
                try {
                    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
                } catch (error) {
                    return true;
                }
            };
            isConstructorLegacy.sham = true;
            module.exports = !construct || fails((function() {
                var called;
                return isConstructorModern(isConstructorModern.call) || !isConstructorModern(Object) || !isConstructorModern((function() {
                    called = true;
                })) || called;
            })) ? isConstructorLegacy : isConstructorModern;
        },
        1949: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var isCallable = __webpack_require__(6282);
            var replacement = /#|\.prototype\./;
            var isForced = function(feature, detection) {
                var value = data[normalize(feature)];
                return value == POLYFILL ? true : value == NATIVE ? false : isCallable(detection) ? fails(detection) : !!detection;
            };
            var normalize = isForced.normalize = function(string) {
                return String(string).replace(replacement, ".").toLowerCase();
            };
            var data = isForced.data = {};
            var NATIVE = isForced.NATIVE = "N";
            var POLYFILL = isForced.POLYFILL = "P";
            module.exports = isForced;
        },
        2420: module => {
            module.exports = function(it) {
                return null === it || void 0 === it;
            };
        },
        5896: (module, __unused_webpack_exports, __webpack_require__) => {
            var isCallable = __webpack_require__(6282);
            var $documentAll = __webpack_require__(1685);
            var documentAll = $documentAll.all;
            module.exports = $documentAll.IS_HTMLDDA ? function(it) {
                return "object" == typeof it ? null !== it : isCallable(it) || it === documentAll;
            } : function(it) {
                return "object" == typeof it ? null !== it : isCallable(it);
            };
        },
        8977: module => {
            module.exports = false;
        },
        1527: (module, __unused_webpack_exports, __webpack_require__) => {
            var getBuiltIn = __webpack_require__(4991);
            var isCallable = __webpack_require__(6282);
            var isPrototypeOf = __webpack_require__(1786);
            var USE_SYMBOL_AS_UID = __webpack_require__(4746);
            var $Object = Object;
            module.exports = USE_SYMBOL_AS_UID ? function(it) {
                return "symbol" == typeof it;
            } : function(it) {
                var $Symbol = getBuiltIn("Symbol");
                return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
            };
        },
        1518: (module, __unused_webpack_exports, __webpack_require__) => {
            var bind = __webpack_require__(1098);
            var call = __webpack_require__(4552);
            var anObject = __webpack_require__(1474);
            var tryToString = __webpack_require__(180);
            var isArrayIteratorMethod = __webpack_require__(5859);
            var lengthOfArrayLike = __webpack_require__(1829);
            var isPrototypeOf = __webpack_require__(1786);
            var getIterator = __webpack_require__(7755);
            var getIteratorMethod = __webpack_require__(650);
            var iteratorClose = __webpack_require__(9193);
            var $TypeError = TypeError;
            var Result = function(stopped, result) {
                this.stopped = stopped;
                this.result = result;
            };
            var ResultPrototype = Result.prototype;
            module.exports = function(iterable, unboundFunction, options) {
                var that = options && options.that;
                var AS_ENTRIES = !!(options && options.AS_ENTRIES);
                var IS_RECORD = !!(options && options.IS_RECORD);
                var IS_ITERATOR = !!(options && options.IS_ITERATOR);
                var INTERRUPTED = !!(options && options.INTERRUPTED);
                var fn = bind(unboundFunction, that);
                var iterator, iterFn, index, length, result, next, step;
                var stop = function(condition) {
                    if (iterator) iteratorClose(iterator, "normal", condition);
                    return new Result(true, condition);
                };
                var callFn = function(value) {
                    if (AS_ENTRIES) {
                        anObject(value);
                        return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
                    }
                    return INTERRUPTED ? fn(value, stop) : fn(value);
                };
                if (IS_RECORD) iterator = iterable.iterator; else if (IS_ITERATOR) iterator = iterable; else {
                    iterFn = getIteratorMethod(iterable);
                    if (!iterFn) throw $TypeError(tryToString(iterable) + " is not iterable");
                    if (isArrayIteratorMethod(iterFn)) {
                        for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
                            result = callFn(iterable[index]);
                            if (result && isPrototypeOf(ResultPrototype, result)) return result;
                        }
                        return new Result(false);
                    }
                    iterator = getIterator(iterable, iterFn);
                }
                next = IS_RECORD ? iterable.next : iterator.next;
                while (!(step = call(next, iterator)).done) {
                    try {
                        result = callFn(step.value);
                    } catch (error) {
                        iteratorClose(iterator, "throw", error);
                    }
                    if ("object" == typeof result && result && isPrototypeOf(ResultPrototype, result)) return result;
                }
                return new Result(false);
            };
        },
        9193: (module, __unused_webpack_exports, __webpack_require__) => {
            var call = __webpack_require__(4552);
            var anObject = __webpack_require__(1474);
            var getMethod = __webpack_require__(9827);
            module.exports = function(iterator, kind, value) {
                var innerResult, innerError;
                anObject(iterator);
                try {
                    innerResult = getMethod(iterator, "return");
                    if (!innerResult) {
                        if ("throw" === kind) throw value;
                        return value;
                    }
                    innerResult = call(innerResult, iterator);
                } catch (error) {
                    innerError = true;
                    innerResult = error;
                }
                if ("throw" === kind) throw value;
                if (innerError) throw innerResult;
                anObject(innerResult);
                return value;
            };
        },
        392: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var IteratorPrototype = __webpack_require__(6524).IteratorPrototype;
            var create = __webpack_require__(1525);
            var createPropertyDescriptor = __webpack_require__(9273);
            var setToStringTag = __webpack_require__(820);
            var Iterators = __webpack_require__(6126);
            var returnThis = function() {
                return this;
            };
            module.exports = function(IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
                var TO_STRING_TAG = NAME + " Iterator";
                IteratorConstructor.prototype = create(IteratorPrototype, {
                    next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next)
                });
                setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
                Iterators[TO_STRING_TAG] = returnThis;
                return IteratorConstructor;
            };
        },
        335: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $ = __webpack_require__(4761);
            var call = __webpack_require__(4552);
            var IS_PURE = __webpack_require__(8977);
            var FunctionName = __webpack_require__(4530);
            var isCallable = __webpack_require__(6282);
            var createIteratorConstructor = __webpack_require__(392);
            var getPrototypeOf = __webpack_require__(4204);
            var setPrototypeOf = __webpack_require__(5900);
            var setToStringTag = __webpack_require__(820);
            var createNonEnumerableProperty = __webpack_require__(1501);
            var defineBuiltIn = __webpack_require__(2054);
            var wellKnownSymbol = __webpack_require__(8149);
            var Iterators = __webpack_require__(6126);
            var IteratorsCore = __webpack_require__(6524);
            var PROPER_FUNCTION_NAME = FunctionName.PROPER;
            var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
            var IteratorPrototype = IteratorsCore.IteratorPrototype;
            var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
            var ITERATOR = wellKnownSymbol("iterator");
            var KEYS = "keys";
            var VALUES = "values";
            var ENTRIES = "entries";
            var returnThis = function() {
                return this;
            };
            module.exports = function(Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
                createIteratorConstructor(IteratorConstructor, NAME, next);
                var getIterationMethod = function(KIND) {
                    if (KIND === DEFAULT && defaultIterator) return defaultIterator;
                    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];
                    switch (KIND) {
                      case KEYS:
                        return function keys() {
                            return new IteratorConstructor(this, KIND);
                        };

                      case VALUES:
                        return function values() {
                            return new IteratorConstructor(this, KIND);
                        };

                      case ENTRIES:
                        return function entries() {
                            return new IteratorConstructor(this, KIND);
                        };
                    }
                    return function() {
                        return new IteratorConstructor(this);
                    };
                };
                var TO_STRING_TAG = NAME + " Iterator";
                var INCORRECT_VALUES_NAME = false;
                var IterablePrototype = Iterable.prototype;
                var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype["@@iterator"] || DEFAULT && IterablePrototype[DEFAULT];
                var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
                var anyNativeIterator = "Array" == NAME ? IterablePrototype.entries || nativeIterator : nativeIterator;
                var CurrentIteratorPrototype, methods, KEY;
                if (anyNativeIterator) {
                    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable));
                    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
                        if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) if (setPrototypeOf) setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype); else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);
                        setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
                        if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;
                    }
                }
                if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) createNonEnumerableProperty(IterablePrototype, "name", VALUES); else {
                    INCORRECT_VALUES_NAME = true;
                    defaultIterator = function values() {
                        return call(nativeIterator, this);
                    };
                }
                if (DEFAULT) {
                    methods = {
                        values: getIterationMethod(VALUES),
                        keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
                        entries: getIterationMethod(ENTRIES)
                    };
                    if (FORCED) {
                        for (KEY in methods) if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) defineBuiltIn(IterablePrototype, KEY, methods[KEY]);
                    } else $({
                        target: NAME,
                        proto: true,
                        forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME
                    }, methods);
                }
                if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, {
                    name: DEFAULT
                });
                Iterators[NAME] = defaultIterator;
                return methods;
            };
        },
        6524: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var fails = __webpack_require__(6183);
            var isCallable = __webpack_require__(6282);
            var isObject = __webpack_require__(5896);
            var create = __webpack_require__(1525);
            var getPrototypeOf = __webpack_require__(4204);
            var defineBuiltIn = __webpack_require__(2054);
            var wellKnownSymbol = __webpack_require__(8149);
            var IS_PURE = __webpack_require__(8977);
            var ITERATOR = wellKnownSymbol("iterator");
            var BUGGY_SAFARI_ITERATORS = false;
            var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;
            if ([].keys) {
                arrayIterator = [].keys();
                if (!("next" in arrayIterator)) BUGGY_SAFARI_ITERATORS = true; else {
                    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
                    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
                }
            }
            var NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails((function() {
                var test = {};
                return IteratorPrototype[ITERATOR].call(test) !== test;
            }));
            if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {}; else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);
            if (!isCallable(IteratorPrototype[ITERATOR])) defineBuiltIn(IteratorPrototype, ITERATOR, (function() {
                return this;
            }));
            module.exports = {
                IteratorPrototype,
                BUGGY_SAFARI_ITERATORS
            };
        },
        6126: module => {
            module.exports = {};
        },
        1829: (module, __unused_webpack_exports, __webpack_require__) => {
            var toLength = __webpack_require__(3917);
            module.exports = function(obj) {
                return toLength(obj.length);
            };
        },
        5903: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var isCallable = __webpack_require__(6282);
            var hasOwn = __webpack_require__(8281);
            var DESCRIPTORS = __webpack_require__(723);
            var CONFIGURABLE_FUNCTION_NAME = __webpack_require__(4530).CONFIGURABLE;
            var inspectSource = __webpack_require__(6901);
            var InternalStateModule = __webpack_require__(1030);
            var enforceInternalState = InternalStateModule.enforce;
            var getInternalState = InternalStateModule.get;
            var defineProperty = Object.defineProperty;
            var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails((function() {
                return 8 !== defineProperty((function() {}), "length", {
                    value: 8
                }).length;
            }));
            var TEMPLATE = String(String).split("String");
            var makeBuiltIn = module.exports = function(value, name, options) {
                if ("Symbol(" === String(name).slice(0, 7)) name = "[" + String(name).replace(/^Symbol\(([^)]*)\)/, "$1") + "]";
                if (options && options.getter) name = "get " + name;
                if (options && options.setter) name = "set " + name;
                if (!hasOwn(value, "name") || CONFIGURABLE_FUNCTION_NAME && value.name !== name) if (DESCRIPTORS) defineProperty(value, "name", {
                    value: name,
                    configurable: true
                }); else value.name = name;
                if (CONFIGURABLE_LENGTH && options && hasOwn(options, "arity") && value.length !== options.arity) defineProperty(value, "length", {
                    value: options.arity
                });
                try {
                    if (options && hasOwn(options, "constructor") && options.constructor) {
                        if (DESCRIPTORS) defineProperty(value, "prototype", {
                            writable: false
                        });
                    } else if (value.prototype) value.prototype = void 0;
                } catch (error) {}
                var state = enforceInternalState(value);
                if (!hasOwn(state, "source")) state.source = TEMPLATE.join("string" == typeof name ? name : "");
                return value;
            };
            Function.prototype.toString = makeBuiltIn((function toString() {
                return isCallable(this) && getInternalState(this).source || inspectSource(this);
            }), "toString");
        },
        1021: module => {
            var ceil = Math.ceil;
            var floor = Math.floor;
            module.exports = Math.trunc || function trunc(x) {
                var n = +x;
                return (n > 0 ? floor : ceil)(n);
            };
        },
        8513: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var fails = __webpack_require__(6183);
            var uncurryThis = __webpack_require__(1768);
            var toString = __webpack_require__(7655);
            var trim = __webpack_require__(9749).trim;
            var whitespaces = __webpack_require__(8342);
            var $parseInt = global.parseInt;
            var Symbol = global.Symbol;
            var ITERATOR = Symbol && Symbol.iterator;
            var hex = /^[+-]?0x/i;
            var exec = uncurryThis(hex.exec);
            var FORCED = 8 !== $parseInt(whitespaces + "08") || 22 !== $parseInt(whitespaces + "0x16") || ITERATOR && !fails((function() {
                $parseInt(Object(ITERATOR));
            }));
            module.exports = FORCED ? function parseInt(string, radix) {
                var S = trim(toString(string));
                return $parseInt(S, radix >>> 0 || (exec(hex, S) ? 16 : 10));
            } : $parseInt;
        },
        4727: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var DESCRIPTORS = __webpack_require__(723);
            var uncurryThis = __webpack_require__(1768);
            var call = __webpack_require__(4552);
            var fails = __webpack_require__(6183);
            var objectKeys = __webpack_require__(1340);
            var getOwnPropertySymbolsModule = __webpack_require__(8074);
            var propertyIsEnumerableModule = __webpack_require__(4043);
            var toObject = __webpack_require__(9473);
            var IndexedObject = __webpack_require__(7530);
            var $assign = Object.assign;
            var defineProperty = Object.defineProperty;
            var concat = uncurryThis([].concat);
            module.exports = !$assign || fails((function() {
                if (DESCRIPTORS && 1 !== $assign({
                    b: 1
                }, $assign(defineProperty({}, "a", {
                    enumerable: true,
                    get: function() {
                        defineProperty(this, "b", {
                            value: 3,
                            enumerable: false
                        });
                    }
                }), {
                    b: 2
                })).b) return true;
                var A = {};
                var B = {};
                var symbol = Symbol();
                var alphabet = "abcdefghijklmnopqrst";
                A[symbol] = 7;
                alphabet.split("").forEach((function(chr) {
                    B[chr] = chr;
                }));
                return 7 != $assign({}, A)[symbol] || objectKeys($assign({}, B)).join("") != alphabet;
            })) ? function assign(target, source) {
                var T = toObject(target);
                var argumentsLength = arguments.length;
                var index = 1;
                var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
                var propertyIsEnumerable = propertyIsEnumerableModule.f;
                while (argumentsLength > index) {
                    var S = IndexedObject(arguments[index++]);
                    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
                    var length = keys.length;
                    var j = 0;
                    var key;
                    while (length > j) {
                        key = keys[j++];
                        if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
                    }
                }
                return T;
            } : $assign;
        },
        1525: (module, __unused_webpack_exports, __webpack_require__) => {
            var anObject = __webpack_require__(1474);
            var definePropertiesModule = __webpack_require__(262);
            var enumBugKeys = __webpack_require__(8409);
            var hiddenKeys = __webpack_require__(4377);
            var html = __webpack_require__(7461);
            var documentCreateElement = __webpack_require__(7282);
            var sharedKey = __webpack_require__(8873);
            var GT = ">";
            var LT = "<";
            var PROTOTYPE = "prototype";
            var SCRIPT = "script";
            var IE_PROTO = sharedKey("IE_PROTO");
            var EmptyConstructor = function() {};
            var scriptTag = function(content) {
                return LT + SCRIPT + GT + content + LT + "/" + SCRIPT + GT;
            };
            var NullProtoObjectViaActiveX = function(activeXDocument) {
                activeXDocument.write(scriptTag(""));
                activeXDocument.close();
                var temp = activeXDocument.parentWindow.Object;
                activeXDocument = null;
                return temp;
            };
            var NullProtoObjectViaIFrame = function() {
                var iframe = documentCreateElement("iframe");
                var JS = "java" + SCRIPT + ":";
                var iframeDocument;
                iframe.style.display = "none";
                html.appendChild(iframe);
                iframe.src = String(JS);
                iframeDocument = iframe.contentWindow.document;
                iframeDocument.open();
                iframeDocument.write(scriptTag("document.F=Object"));
                iframeDocument.close();
                return iframeDocument.F;
            };
            var activeXDocument;
            var NullProtoObject = function() {
                try {
                    activeXDocument = new ActiveXObject("htmlfile");
                } catch (error) {}
                NullProtoObject = "undefined" != typeof document ? document.domain && activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame() : NullProtoObjectViaActiveX(activeXDocument);
                var length = enumBugKeys.length;
                while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
                return NullProtoObject();
            };
            hiddenKeys[IE_PROTO] = true;
            module.exports = Object.create || function create(O, Properties) {
                var result;
                if (null !== O) {
                    EmptyConstructor[PROTOTYPE] = anObject(O);
                    result = new EmptyConstructor;
                    EmptyConstructor[PROTOTYPE] = null;
                    result[IE_PROTO] = O;
                } else result = NullProtoObject();
                return void 0 === Properties ? result : definePropertiesModule.f(result, Properties);
            };
        },
        262: (__unused_webpack_module, exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8654);
            var definePropertyModule = __webpack_require__(9168);
            var anObject = __webpack_require__(1474);
            var toIndexedObject = __webpack_require__(3206);
            var objectKeys = __webpack_require__(1340);
            exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
                anObject(O);
                var props = toIndexedObject(Properties);
                var keys = objectKeys(Properties);
                var length = keys.length;
                var index = 0;
                var key;
                while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
                return O;
            };
        },
        9168: (__unused_webpack_module, exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var IE8_DOM_DEFINE = __webpack_require__(4985);
            var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8654);
            var anObject = __webpack_require__(1474);
            var toPropertyKey = __webpack_require__(2988);
            var $TypeError = TypeError;
            var $defineProperty = Object.defineProperty;
            var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
            var ENUMERABLE = "enumerable";
            var CONFIGURABLE = "configurable";
            var WRITABLE = "writable";
            exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
                anObject(O);
                P = toPropertyKey(P);
                anObject(Attributes);
                if ("function" === typeof O && "prototype" === P && "value" in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
                    var current = $getOwnPropertyDescriptor(O, P);
                    if (current && current[WRITABLE]) {
                        O[P] = Attributes.value;
                        Attributes = {
                            configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
                            enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
                            writable: false
                        };
                    }
                }
                return $defineProperty(O, P, Attributes);
            } : $defineProperty : function defineProperty(O, P, Attributes) {
                anObject(O);
                P = toPropertyKey(P);
                anObject(Attributes);
                if (IE8_DOM_DEFINE) try {
                    return $defineProperty(O, P, Attributes);
                } catch (error) {}
                if ("get" in Attributes || "set" in Attributes) throw $TypeError("Accessors not supported");
                if ("value" in Attributes) O[P] = Attributes.value;
                return O;
            };
        },
        5663: (__unused_webpack_module, exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var call = __webpack_require__(4552);
            var propertyIsEnumerableModule = __webpack_require__(4043);
            var createPropertyDescriptor = __webpack_require__(9273);
            var toIndexedObject = __webpack_require__(3206);
            var toPropertyKey = __webpack_require__(2988);
            var hasOwn = __webpack_require__(8281);
            var IE8_DOM_DEFINE = __webpack_require__(4985);
            var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
            exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
                O = toIndexedObject(O);
                P = toPropertyKey(P);
                if (IE8_DOM_DEFINE) try {
                    return $getOwnPropertyDescriptor(O, P);
                } catch (error) {}
                if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
            };
        },
        6675: (module, __unused_webpack_exports, __webpack_require__) => {
            var classof = __webpack_require__(1510);
            var toIndexedObject = __webpack_require__(3206);
            var $getOwnPropertyNames = __webpack_require__(6785).f;
            var arraySlice = __webpack_require__(4072);
            var windowNames = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            var getWindowNames = function(it) {
                try {
                    return $getOwnPropertyNames(it);
                } catch (error) {
                    return arraySlice(windowNames);
                }
            };
            module.exports.f = function getOwnPropertyNames(it) {
                return windowNames && "Window" == classof(it) ? getWindowNames(it) : $getOwnPropertyNames(toIndexedObject(it));
            };
        },
        6785: (__unused_webpack_module, exports, __webpack_require__) => {
            var internalObjectKeys = __webpack_require__(5113);
            var enumBugKeys = __webpack_require__(8409);
            var hiddenKeys = enumBugKeys.concat("length", "prototype");
            exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
                return internalObjectKeys(O, hiddenKeys);
            };
        },
        8074: (__unused_webpack_module, exports) => {
            exports.f = Object.getOwnPropertySymbols;
        },
        4204: (module, __unused_webpack_exports, __webpack_require__) => {
            var hasOwn = __webpack_require__(8281);
            var isCallable = __webpack_require__(6282);
            var toObject = __webpack_require__(9473);
            var sharedKey = __webpack_require__(8873);
            var CORRECT_PROTOTYPE_GETTER = __webpack_require__(7401);
            var IE_PROTO = sharedKey("IE_PROTO");
            var $Object = Object;
            var ObjectPrototype = $Object.prototype;
            module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function(O) {
                var object = toObject(O);
                if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
                var constructor = object.constructor;
                if (isCallable(constructor) && object instanceof constructor) return constructor.prototype;
                return object instanceof $Object ? ObjectPrototype : null;
            };
        },
        6662: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var isObject = __webpack_require__(5896);
            var classof = __webpack_require__(1510);
            var ARRAY_BUFFER_NON_EXTENSIBLE = __webpack_require__(8774);
            var $isExtensible = Object.isExtensible;
            var FAILS_ON_PRIMITIVES = fails((function() {
                $isExtensible(1);
            }));
            module.exports = FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE ? function isExtensible(it) {
                if (!isObject(it)) return false;
                if (ARRAY_BUFFER_NON_EXTENSIBLE && "ArrayBuffer" == classof(it)) return false;
                return $isExtensible ? $isExtensible(it) : true;
            } : $isExtensible;
        },
        1786: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            module.exports = uncurryThis({}.isPrototypeOf);
        },
        5113: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var hasOwn = __webpack_require__(8281);
            var toIndexedObject = __webpack_require__(3206);
            var indexOf = __webpack_require__(5675).indexOf;
            var hiddenKeys = __webpack_require__(4377);
            var push = uncurryThis([].push);
            module.exports = function(object, names) {
                var O = toIndexedObject(object);
                var i = 0;
                var result = [];
                var key;
                for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
                while (names.length > i) if (hasOwn(O, key = names[i++])) ~indexOf(result, key) || push(result, key);
                return result;
            };
        },
        1340: (module, __unused_webpack_exports, __webpack_require__) => {
            var internalObjectKeys = __webpack_require__(5113);
            var enumBugKeys = __webpack_require__(8409);
            module.exports = Object.keys || function keys(O) {
                return internalObjectKeys(O, enumBugKeys);
            };
        },
        4043: (__unused_webpack_module, exports) => {
            "use strict";
            var $propertyIsEnumerable = {}.propertyIsEnumerable;
            var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
            var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({
                1: 2
            }, 1);
            exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
                var descriptor = getOwnPropertyDescriptor(this, V);
                return !!descriptor && descriptor.enumerable;
            } : $propertyIsEnumerable;
        },
        5900: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var anObject = __webpack_require__(1474);
            var aPossiblePrototype = __webpack_require__(2004);
            module.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
                var CORRECT_SETTER = false;
                var test = {};
                var setter;
                try {
                    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set);
                    setter(test, []);
                    CORRECT_SETTER = test instanceof Array;
                } catch (error) {}
                return function setPrototypeOf(O, proto) {
                    anObject(O);
                    aPossiblePrototype(proto);
                    if (CORRECT_SETTER) setter(O, proto); else O.__proto__ = proto;
                    return O;
                };
            }() : void 0);
        },
        4117: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var TO_STRING_TAG_SUPPORT = __webpack_require__(4823);
            var classof = __webpack_require__(9225);
            module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
                return "[object " + classof(this) + "]";
            };
        },
        6891: (module, __unused_webpack_exports, __webpack_require__) => {
            var call = __webpack_require__(4552);
            var isCallable = __webpack_require__(6282);
            var isObject = __webpack_require__(5896);
            var $TypeError = TypeError;
            module.exports = function(input, pref) {
                var fn, val;
                if ("string" === pref && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
                if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
                if ("string" !== pref && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
                throw $TypeError("Can't convert object to primitive value");
            };
        },
        1441: (module, __unused_webpack_exports, __webpack_require__) => {
            var getBuiltIn = __webpack_require__(4991);
            var uncurryThis = __webpack_require__(1768);
            var getOwnPropertyNamesModule = __webpack_require__(6785);
            var getOwnPropertySymbolsModule = __webpack_require__(8074);
            var anObject = __webpack_require__(1474);
            var concat = uncurryThis([].concat);
            module.exports = getBuiltIn("Reflect", "ownKeys") || function ownKeys(it) {
                var keys = getOwnPropertyNamesModule.f(anObject(it));
                var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
                return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
            };
        },
        8734: (module, __unused_webpack_exports, __webpack_require__) => {
            var call = __webpack_require__(4552);
            var anObject = __webpack_require__(1474);
            var isCallable = __webpack_require__(6282);
            var classof = __webpack_require__(1510);
            var regexpExec = __webpack_require__(5510);
            var $TypeError = TypeError;
            module.exports = function(R, S) {
                var exec = R.exec;
                if (isCallable(exec)) {
                    var result = call(exec, R, S);
                    if (null !== result) anObject(result);
                    return result;
                }
                if ("RegExp" === classof(R)) return call(regexpExec, R, S);
                throw $TypeError("RegExp#exec called on incompatible receiver");
            };
        },
        5510: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var call = __webpack_require__(4552);
            var uncurryThis = __webpack_require__(1768);
            var toString = __webpack_require__(7655);
            var regexpFlags = __webpack_require__(8383);
            var stickyHelpers = __webpack_require__(6558);
            var shared = __webpack_require__(1748);
            var create = __webpack_require__(1525);
            var getInternalState = __webpack_require__(1030).get;
            var UNSUPPORTED_DOT_ALL = __webpack_require__(7672);
            var UNSUPPORTED_NCG = __webpack_require__(9729);
            var nativeReplace = shared("native-string-replace", String.prototype.replace);
            var nativeExec = RegExp.prototype.exec;
            var patchedExec = nativeExec;
            var charAt = uncurryThis("".charAt);
            var indexOf = uncurryThis("".indexOf);
            var replace = uncurryThis("".replace);
            var stringSlice = uncurryThis("".slice);
            var UPDATES_LAST_INDEX_WRONG = function() {
                var re1 = /a/;
                var re2 = /b*/g;
                call(nativeExec, re1, "a");
                call(nativeExec, re2, "a");
                return 0 !== re1.lastIndex || 0 !== re2.lastIndex;
            }();
            var UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;
            var NPCG_INCLUDED = void 0 !== /()??/.exec("")[1];
            var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;
            if (PATCH) patchedExec = function exec(string) {
                var re = this;
                var state = getInternalState(re);
                var str = toString(string);
                var raw = state.raw;
                var result, reCopy, lastIndex, match, i, object, group;
                if (raw) {
                    raw.lastIndex = re.lastIndex;
                    result = call(patchedExec, raw, str);
                    re.lastIndex = raw.lastIndex;
                    return result;
                }
                var groups = state.groups;
                var sticky = UNSUPPORTED_Y && re.sticky;
                var flags = call(regexpFlags, re);
                var source = re.source;
                var charsAdded = 0;
                var strCopy = str;
                if (sticky) {
                    flags = replace(flags, "y", "");
                    if (-1 === indexOf(flags, "g")) flags += "g";
                    strCopy = stringSlice(str, re.lastIndex);
                    if (re.lastIndex > 0 && (!re.multiline || re.multiline && "\n" !== charAt(str, re.lastIndex - 1))) {
                        source = "(?: " + source + ")";
                        strCopy = " " + strCopy;
                        charsAdded++;
                    }
                    reCopy = new RegExp("^(?:" + source + ")", flags);
                }
                if (NPCG_INCLUDED) reCopy = new RegExp("^" + source + "$(?!\\s)", flags);
                if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;
                match = call(nativeExec, sticky ? reCopy : re, strCopy);
                if (sticky) if (match) {
                    match.input = stringSlice(match.input, charsAdded);
                    match[0] = stringSlice(match[0], charsAdded);
                    match.index = re.lastIndex;
                    re.lastIndex += match[0].length;
                } else re.lastIndex = 0; else if (UPDATES_LAST_INDEX_WRONG && match) re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
                if (NPCG_INCLUDED && match && match.length > 1) call(nativeReplace, match[0], reCopy, (function() {
                    for (i = 1; i < arguments.length - 2; i++) if (void 0 === arguments[i]) match[i] = void 0;
                }));
                if (match && groups) {
                    match.groups = object = create(null);
                    for (i = 0; i < groups.length; i++) {
                        group = groups[i];
                        object[group[0]] = match[group[1]];
                    }
                }
                return match;
            };
            module.exports = patchedExec;
        },
        8383: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var anObject = __webpack_require__(1474);
            module.exports = function() {
                var that = anObject(this);
                var result = "";
                if (that.hasIndices) result += "d";
                if (that.global) result += "g";
                if (that.ignoreCase) result += "i";
                if (that.multiline) result += "m";
                if (that.dotAll) result += "s";
                if (that.unicode) result += "u";
                if (that.unicodeSets) result += "v";
                if (that.sticky) result += "y";
                return result;
            };
        },
        6558: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var global = __webpack_require__(8454);
            var $RegExp = global.RegExp;
            var UNSUPPORTED_Y = fails((function() {
                var re = $RegExp("a", "y");
                re.lastIndex = 2;
                return null != re.exec("abcd");
            }));
            var MISSED_STICKY = UNSUPPORTED_Y || fails((function() {
                return !$RegExp("a", "y").sticky;
            }));
            var BROKEN_CARET = UNSUPPORTED_Y || fails((function() {
                var re = $RegExp("^r", "gy");
                re.lastIndex = 2;
                return null != re.exec("str");
            }));
            module.exports = {
                BROKEN_CARET,
                MISSED_STICKY,
                UNSUPPORTED_Y
            };
        },
        7672: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var global = __webpack_require__(8454);
            var $RegExp = global.RegExp;
            module.exports = fails((function() {
                var re = $RegExp(".", "s");
                return !(re.dotAll && re.exec("\n") && "s" === re.flags);
            }));
        },
        9729: (module, __unused_webpack_exports, __webpack_require__) => {
            var fails = __webpack_require__(6183);
            var global = __webpack_require__(8454);
            var $RegExp = global.RegExp;
            module.exports = fails((function() {
                var re = $RegExp("(?<a>b)", "g");
                return "b" !== re.exec("b").groups.a || "bc" !== "b".replace(re, "$<a>c");
            }));
        },
        7431: (module, __unused_webpack_exports, __webpack_require__) => {
            var isNullOrUndefined = __webpack_require__(2420);
            var $TypeError = TypeError;
            module.exports = function(it) {
                if (isNullOrUndefined(it)) throw $TypeError("Can't call method on " + it);
                return it;
            };
        },
        820: (module, __unused_webpack_exports, __webpack_require__) => {
            var defineProperty = __webpack_require__(9168).f;
            var hasOwn = __webpack_require__(8281);
            var wellKnownSymbol = __webpack_require__(8149);
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            module.exports = function(target, TAG, STATIC) {
                if (target && !STATIC) target = target.prototype;
                if (target && !hasOwn(target, TO_STRING_TAG)) defineProperty(target, TO_STRING_TAG, {
                    configurable: true,
                    value: TAG
                });
            };
        },
        8873: (module, __unused_webpack_exports, __webpack_require__) => {
            var shared = __webpack_require__(1748);
            var uid = __webpack_require__(9059);
            var keys = shared("keys");
            module.exports = function(key) {
                return keys[key] || (keys[key] = uid(key));
            };
        },
        2047: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var defineGlobalProperty = __webpack_require__(7194);
            var SHARED = "__core-js_shared__";
            var store = global[SHARED] || defineGlobalProperty(SHARED, {});
            module.exports = store;
        },
        1748: (module, __unused_webpack_exports, __webpack_require__) => {
            var IS_PURE = __webpack_require__(8977);
            var store = __webpack_require__(2047);
            (module.exports = function(key, value) {
                return store[key] || (store[key] = void 0 !== value ? value : {});
            })("versions", []).push({
                version: "3.27.1",
                mode: IS_PURE ? "pure" : "global",
                copyright: "© 2014-2022 Denis Pushkarev (zloirock.ru)",
                license: "https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",
                source: "https://github.com/zloirock/core-js"
            });
        },
        7321: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var toIntegerOrInfinity = __webpack_require__(8037);
            var toString = __webpack_require__(7655);
            var requireObjectCoercible = __webpack_require__(7431);
            var charAt = uncurryThis("".charAt);
            var charCodeAt = uncurryThis("".charCodeAt);
            var stringSlice = uncurryThis("".slice);
            var createMethod = function(CONVERT_TO_STRING) {
                return function($this, pos) {
                    var S = toString(requireObjectCoercible($this));
                    var position = toIntegerOrInfinity(pos);
                    var size = S.length;
                    var first, second;
                    if (position < 0 || position >= size) return CONVERT_TO_STRING ? "" : void 0;
                    first = charCodeAt(S, position);
                    return first < 55296 || first > 56319 || position + 1 === size || (second = charCodeAt(S, position + 1)) < 56320 || second > 57343 ? CONVERT_TO_STRING ? charAt(S, position) : first : CONVERT_TO_STRING ? stringSlice(S, position, position + 2) : (first - 55296 << 10) + (second - 56320) + 65536;
                };
            };
            module.exports = {
                codeAt: createMethod(false),
                charAt: createMethod(true)
            };
        },
        9749: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var requireObjectCoercible = __webpack_require__(7431);
            var toString = __webpack_require__(7655);
            var whitespaces = __webpack_require__(8342);
            var replace = uncurryThis("".replace);
            var whitespace = "[" + whitespaces + "]";
            var ltrim = RegExp("^" + whitespace + whitespace + "*");
            var rtrim = RegExp(whitespace + whitespace + "*$");
            var createMethod = function(TYPE) {
                return function($this) {
                    var string = toString(requireObjectCoercible($this));
                    if (1 & TYPE) string = replace(string, ltrim, "");
                    if (2 & TYPE) string = replace(string, rtrim, "");
                    return string;
                };
            };
            module.exports = {
                start: createMethod(1),
                end: createMethod(2),
                trim: createMethod(3)
            };
        },
        3801: (module, __unused_webpack_exports, __webpack_require__) => {
            var V8_VERSION = __webpack_require__(4324);
            var fails = __webpack_require__(6183);
            module.exports = !!Object.getOwnPropertySymbols && !fails((function() {
                var symbol = Symbol();
                return !String(symbol) || !(Object(symbol) instanceof Symbol) || !Symbol.sham && V8_VERSION && V8_VERSION < 41;
            }));
        },
        9623: (module, __unused_webpack_exports, __webpack_require__) => {
            var toIntegerOrInfinity = __webpack_require__(8037);
            var max = Math.max;
            var min = Math.min;
            module.exports = function(index, length) {
                var integer = toIntegerOrInfinity(index);
                return integer < 0 ? max(integer + length, 0) : min(integer, length);
            };
        },
        3206: (module, __unused_webpack_exports, __webpack_require__) => {
            var IndexedObject = __webpack_require__(7530);
            var requireObjectCoercible = __webpack_require__(7431);
            module.exports = function(it) {
                return IndexedObject(requireObjectCoercible(it));
            };
        },
        8037: (module, __unused_webpack_exports, __webpack_require__) => {
            var trunc = __webpack_require__(1021);
            module.exports = function(argument) {
                var number = +argument;
                return number !== number || 0 === number ? 0 : trunc(number);
            };
        },
        3917: (module, __unused_webpack_exports, __webpack_require__) => {
            var toIntegerOrInfinity = __webpack_require__(8037);
            var min = Math.min;
            module.exports = function(argument) {
                return argument > 0 ? min(toIntegerOrInfinity(argument), 9007199254740991) : 0;
            };
        },
        9473: (module, __unused_webpack_exports, __webpack_require__) => {
            var requireObjectCoercible = __webpack_require__(7431);
            var $Object = Object;
            module.exports = function(argument) {
                return $Object(requireObjectCoercible(argument));
            };
        },
        3948: (module, __unused_webpack_exports, __webpack_require__) => {
            var call = __webpack_require__(4552);
            var isObject = __webpack_require__(5896);
            var isSymbol = __webpack_require__(1527);
            var getMethod = __webpack_require__(9827);
            var ordinaryToPrimitive = __webpack_require__(6891);
            var wellKnownSymbol = __webpack_require__(8149);
            var $TypeError = TypeError;
            var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
            module.exports = function(input, pref) {
                if (!isObject(input) || isSymbol(input)) return input;
                var exoticToPrim = getMethod(input, TO_PRIMITIVE);
                var result;
                if (exoticToPrim) {
                    if (void 0 === pref) pref = "default";
                    result = call(exoticToPrim, input, pref);
                    if (!isObject(result) || isSymbol(result)) return result;
                    throw $TypeError("Can't convert object to primitive value");
                }
                if (void 0 === pref) pref = "number";
                return ordinaryToPrimitive(input, pref);
            };
        },
        2988: (module, __unused_webpack_exports, __webpack_require__) => {
            var toPrimitive = __webpack_require__(3948);
            var isSymbol = __webpack_require__(1527);
            module.exports = function(argument) {
                var key = toPrimitive(argument, "string");
                return isSymbol(key) ? key : key + "";
            };
        },
        4823: (module, __unused_webpack_exports, __webpack_require__) => {
            var wellKnownSymbol = __webpack_require__(8149);
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var test = {};
            test[TO_STRING_TAG] = "z";
            module.exports = "[object z]" === String(test);
        },
        7655: (module, __unused_webpack_exports, __webpack_require__) => {
            var classof = __webpack_require__(9225);
            var $String = String;
            module.exports = function(argument) {
                if ("Symbol" === classof(argument)) throw TypeError("Cannot convert a Symbol value to a string");
                return $String(argument);
            };
        },
        180: module => {
            var $String = String;
            module.exports = function(argument) {
                try {
                    return $String(argument);
                } catch (error) {
                    return "Object";
                }
            };
        },
        9059: (module, __unused_webpack_exports, __webpack_require__) => {
            var uncurryThis = __webpack_require__(1768);
            var id = 0;
            var postfix = Math.random();
            var toString = uncurryThis(1..toString);
            module.exports = function(key) {
                return "Symbol(" + (void 0 === key ? "" : key) + ")_" + toString(++id + postfix, 36);
            };
        },
        4746: (module, __unused_webpack_exports, __webpack_require__) => {
            var NATIVE_SYMBOL = __webpack_require__(3801);
            module.exports = NATIVE_SYMBOL && !Symbol.sham && "symbol" == typeof Symbol.iterator;
        },
        8654: (module, __unused_webpack_exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var fails = __webpack_require__(6183);
            module.exports = DESCRIPTORS && fails((function() {
                return 42 != Object.defineProperty((function() {}), "prototype", {
                    value: 42,
                    writable: false
                }).prototype;
            }));
        },
        9780: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var isCallable = __webpack_require__(6282);
            var WeakMap = global.WeakMap;
            module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));
        },
        8149: (module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var shared = __webpack_require__(1748);
            var hasOwn = __webpack_require__(8281);
            var uid = __webpack_require__(9059);
            var NATIVE_SYMBOL = __webpack_require__(3801);
            var USE_SYMBOL_AS_UID = __webpack_require__(4746);
            var WellKnownSymbolsStore = shared("wks");
            var Symbol = global.Symbol;
            var symbolFor = Symbol && Symbol["for"];
            var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;
            module.exports = function(name) {
                if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || "string" == typeof WellKnownSymbolsStore[name])) {
                    var description = "Symbol." + name;
                    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name]; else if (USE_SYMBOL_AS_UID && symbolFor) WellKnownSymbolsStore[name] = symbolFor(description); else WellKnownSymbolsStore[name] = createWellKnownSymbol(description);
                }
                return WellKnownSymbolsStore[name];
            };
        },
        8342: module => {
            module.exports = "\t\n\v\f\r      " + "          　\u2028\u2029\ufeff";
        },
        8165: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $ = __webpack_require__(4761);
            var $filter = __webpack_require__(528).filter;
            var arrayMethodHasSpeciesSupport = __webpack_require__(4820);
            var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("filter");
            $({
                target: "Array",
                proto: true,
                forced: !HAS_SPECIES_SUPPORT
            }, {
                filter: function filter(callbackfn) {
                    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
                }
            });
        },
        7543: (module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var toIndexedObject = __webpack_require__(3206);
            var addToUnscopables = __webpack_require__(9256);
            var Iterators = __webpack_require__(6126);
            var InternalStateModule = __webpack_require__(1030);
            var defineProperty = __webpack_require__(9168).f;
            var defineIterator = __webpack_require__(335);
            var createIterResultObject = __webpack_require__(5351);
            var IS_PURE = __webpack_require__(8977);
            var DESCRIPTORS = __webpack_require__(723);
            var ARRAY_ITERATOR = "Array Iterator";
            var setInternalState = InternalStateModule.set;
            var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);
            module.exports = defineIterator(Array, "Array", (function(iterated, kind) {
                setInternalState(this, {
                    type: ARRAY_ITERATOR,
                    target: toIndexedObject(iterated),
                    index: 0,
                    kind
                });
            }), (function() {
                var state = getInternalState(this);
                var target = state.target;
                var kind = state.kind;
                var index = state.index++;
                if (!target || index >= target.length) {
                    state.target = void 0;
                    return createIterResultObject(void 0, true);
                }
                if ("keys" == kind) return createIterResultObject(index, false);
                if ("values" == kind) return createIterResultObject(target[index], false);
                return createIterResultObject([ index, target[index] ], false);
            }), "values");
            var values = Iterators.Arguments = Iterators.Array;
            addToUnscopables("keys");
            addToUnscopables("values");
            addToUnscopables("entries");
            if (!IS_PURE && DESCRIPTORS && "values" !== values.name) try {
                defineProperty(values, "name", {
                    value: "values"
                });
            } catch (error) {}
        },
        7985: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $ = __webpack_require__(4761);
            var $reduce = __webpack_require__(6589).left;
            var arrayMethodIsStrict = __webpack_require__(1923);
            var CHROME_VERSION = __webpack_require__(4324);
            var IS_NODE = __webpack_require__(7594);
            var STRICT_METHOD = arrayMethodIsStrict("reduce");
            var CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;
            $({
                target: "Array",
                proto: true,
                forced: !STRICT_METHOD || CHROME_BUG
            }, {
                reduce: function reduce(callbackfn) {
                    var length = arguments.length;
                    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : void 0);
                }
            });
        },
        6618: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var DESCRIPTORS = __webpack_require__(723);
            var FUNCTION_NAME_EXISTS = __webpack_require__(4530).EXISTS;
            var uncurryThis = __webpack_require__(1768);
            var defineProperty = __webpack_require__(9168).f;
            var FunctionPrototype = Function.prototype;
            var functionToString = uncurryThis(FunctionPrototype.toString);
            var nameRE = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;
            var regExpExec = uncurryThis(nameRE.exec);
            var NAME = "name";
            if (DESCRIPTORS && !FUNCTION_NAME_EXISTS) defineProperty(FunctionPrototype, NAME, {
                configurable: true,
                get: function() {
                    try {
                        return regExpExec(nameRE, functionToString(this))[1];
                    } catch (error) {
                        return "";
                    }
                }
            });
        },
        7692: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var $ = __webpack_require__(4761);
            var assign = __webpack_require__(4727);
            $({
                target: "Object",
                stat: true,
                arity: 2,
                forced: Object.assign !== assign
            }, {
                assign
            });
        },
        2352: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var TO_STRING_TAG_SUPPORT = __webpack_require__(4823);
            var defineBuiltIn = __webpack_require__(2054);
            var toString = __webpack_require__(4117);
            if (!TO_STRING_TAG_SUPPORT) defineBuiltIn(Object.prototype, "toString", toString, {
                unsafe: true
            });
        },
        4249: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var $ = __webpack_require__(4761);
            var $parseInt = __webpack_require__(8513);
            $({
                global: true,
                forced: parseInt != $parseInt
            }, {
                parseInt: $parseInt
            });
        },
        9989: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var $ = __webpack_require__(4761);
            var exec = __webpack_require__(5510);
            $({
                target: "RegExp",
                proto: true,
                forced: /./.exec !== exec
            }, {
                exec
            });
        },
        3344: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var charAt = __webpack_require__(7321).charAt;
            var toString = __webpack_require__(7655);
            var InternalStateModule = __webpack_require__(1030);
            var defineIterator = __webpack_require__(335);
            var createIterResultObject = __webpack_require__(5351);
            var STRING_ITERATOR = "String Iterator";
            var setInternalState = InternalStateModule.set;
            var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);
            defineIterator(String, "String", (function(iterated) {
                setInternalState(this, {
                    type: STRING_ITERATOR,
                    string: toString(iterated),
                    index: 0
                });
            }), (function next() {
                var state = getInternalState(this);
                var string = state.string;
                var index = state.index;
                var point;
                if (index >= string.length) return createIterResultObject(void 0, true);
                point = charAt(string, index);
                state.index += point.length;
                return createIterResultObject(point, false);
            }));
        },
        8307: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var call = __webpack_require__(4552);
            var fixRegExpWellKnownSymbolLogic = __webpack_require__(9696);
            var anObject = __webpack_require__(1474);
            var isNullOrUndefined = __webpack_require__(2420);
            var toLength = __webpack_require__(3917);
            var toString = __webpack_require__(7655);
            var requireObjectCoercible = __webpack_require__(7431);
            var getMethod = __webpack_require__(9827);
            var advanceStringIndex = __webpack_require__(3615);
            var regExpExec = __webpack_require__(8734);
            fixRegExpWellKnownSymbolLogic("match", (function(MATCH, nativeMatch, maybeCallNative) {
                return [ function match(regexp) {
                    var O = requireObjectCoercible(this);
                    var matcher = isNullOrUndefined(regexp) ? void 0 : getMethod(regexp, MATCH);
                    return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
                }, function(string) {
                    var rx = anObject(this);
                    var S = toString(string);
                    var res = maybeCallNative(nativeMatch, rx, S);
                    if (res.done) return res.value;
                    if (!rx.global) return regExpExec(rx, S);
                    var fullUnicode = rx.unicode;
                    rx.lastIndex = 0;
                    var A = [];
                    var n = 0;
                    var result;
                    while (null !== (result = regExpExec(rx, S))) {
                        var matchStr = toString(result[0]);
                        A[n] = matchStr;
                        if ("" === matchStr) rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
                        n++;
                    }
                    return 0 === n ? null : A;
                } ];
            }));
        },
        4390: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var apply = __webpack_require__(6218);
            var call = __webpack_require__(4552);
            var uncurryThis = __webpack_require__(1768);
            var fixRegExpWellKnownSymbolLogic = __webpack_require__(9696);
            var fails = __webpack_require__(6183);
            var anObject = __webpack_require__(1474);
            var isCallable = __webpack_require__(6282);
            var isNullOrUndefined = __webpack_require__(2420);
            var toIntegerOrInfinity = __webpack_require__(8037);
            var toLength = __webpack_require__(3917);
            var toString = __webpack_require__(7655);
            var requireObjectCoercible = __webpack_require__(7431);
            var advanceStringIndex = __webpack_require__(3615);
            var getMethod = __webpack_require__(9827);
            var getSubstitution = __webpack_require__(4742);
            var regExpExec = __webpack_require__(8734);
            var wellKnownSymbol = __webpack_require__(8149);
            var REPLACE = wellKnownSymbol("replace");
            var max = Math.max;
            var min = Math.min;
            var concat = uncurryThis([].concat);
            var push = uncurryThis([].push);
            var stringIndexOf = uncurryThis("".indexOf);
            var stringSlice = uncurryThis("".slice);
            var maybeToString = function(it) {
                return void 0 === it ? it : String(it);
            };
            var REPLACE_KEEPS_$0 = function() {
                return "$0" === "a".replace(/./, "$0");
            }();
            var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function() {
                if (/./[REPLACE]) return "" === /./[REPLACE]("a", "$0");
                return false;
            }();
            var REPLACE_SUPPORTS_NAMED_GROUPS = !fails((function() {
                var re = /./;
                re.exec = function() {
                    var result = [];
                    result.groups = {
                        a: "7"
                    };
                    return result;
                };
                return "7" !== "".replace(re, "$<a>");
            }));
            fixRegExpWellKnownSymbolLogic("replace", (function(_, nativeReplace, maybeCallNative) {
                var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? "$" : "$0";
                return [ function replace(searchValue, replaceValue) {
                    var O = requireObjectCoercible(this);
                    var replacer = isNullOrUndefined(searchValue) ? void 0 : getMethod(searchValue, REPLACE);
                    return replacer ? call(replacer, searchValue, O, replaceValue) : call(nativeReplace, toString(O), searchValue, replaceValue);
                }, function(string, replaceValue) {
                    var rx = anObject(this);
                    var S = toString(string);
                    if ("string" == typeof replaceValue && -1 === stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) && -1 === stringIndexOf(replaceValue, "$<")) {
                        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
                        if (res.done) return res.value;
                    }
                    var functionalReplace = isCallable(replaceValue);
                    if (!functionalReplace) replaceValue = toString(replaceValue);
                    var global = rx.global;
                    if (global) {
                        var fullUnicode = rx.unicode;
                        rx.lastIndex = 0;
                    }
                    var results = [];
                    while (true) {
                        var result = regExpExec(rx, S);
                        if (null === result) break;
                        push(results, result);
                        if (!global) break;
                        var matchStr = toString(result[0]);
                        if ("" === matchStr) rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
                    }
                    var accumulatedResult = "";
                    var nextSourcePosition = 0;
                    for (var i = 0; i < results.length; i++) {
                        result = results[i];
                        var matched = toString(result[0]);
                        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);
                        var captures = [];
                        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));
                        var namedCaptures = result.groups;
                        if (functionalReplace) {
                            var replacerArgs = concat([ matched ], captures, position, S);
                            if (void 0 !== namedCaptures) push(replacerArgs, namedCaptures);
                            var replacement = toString(apply(replaceValue, void 0, replacerArgs));
                        } else replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
                        if (position >= nextSourcePosition) {
                            accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;
                            nextSourcePosition = position + matched.length;
                        }
                    }
                    return accumulatedResult + stringSlice(S, nextSourcePosition);
                } ];
            }), !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);
        },
        9703: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            "use strict";
            var FREEZING = __webpack_require__(3116);
            var global = __webpack_require__(8454);
            var uncurryThis = __webpack_require__(1768);
            var defineBuiltIns = __webpack_require__(6367);
            var InternalMetadataModule = __webpack_require__(6582);
            var collection = __webpack_require__(6645);
            var collectionWeak = __webpack_require__(7790);
            var isObject = __webpack_require__(5896);
            var enforceInternalState = __webpack_require__(1030).enforce;
            var fails = __webpack_require__(6183);
            var NATIVE_WEAK_MAP = __webpack_require__(9780);
            var $Object = Object;
            var isArray = Array.isArray;
            var isExtensible = $Object.isExtensible;
            var isFrozen = $Object.isFrozen;
            var isSealed = $Object.isSealed;
            var freeze = $Object.freeze;
            var seal = $Object.seal;
            var FROZEN = {};
            var SEALED = {};
            var IS_IE11 = !global.ActiveXObject && "ActiveXObject" in global;
            var InternalWeakMap;
            var wrapper = function(init) {
                return function WeakMap() {
                    return init(this, arguments.length ? arguments[0] : void 0);
                };
            };
            var $WeakMap = collection("WeakMap", wrapper, collectionWeak);
            var WeakMapPrototype = $WeakMap.prototype;
            var nativeSet = uncurryThis(WeakMapPrototype.set);
            var hasMSEdgeFreezingBug = function() {
                return FREEZING && fails((function() {
                    var frozenArray = freeze([]);
                    nativeSet(new $WeakMap, frozenArray, 1);
                    return !isFrozen(frozenArray);
                }));
            };
            if (NATIVE_WEAK_MAP) if (IS_IE11) {
                InternalWeakMap = collectionWeak.getConstructor(wrapper, "WeakMap", true);
                InternalMetadataModule.enable();
                var nativeDelete = uncurryThis(WeakMapPrototype["delete"]);
                var nativeHas = uncurryThis(WeakMapPrototype.has);
                var nativeGet = uncurryThis(WeakMapPrototype.get);
                defineBuiltIns(WeakMapPrototype, {
                    delete: function(key) {
                        if (isObject(key) && !isExtensible(key)) {
                            var state = enforceInternalState(this);
                            if (!state.frozen) state.frozen = new InternalWeakMap;
                            return nativeDelete(this, key) || state.frozen["delete"](key);
                        }
                        return nativeDelete(this, key);
                    },
                    has: function has(key) {
                        if (isObject(key) && !isExtensible(key)) {
                            var state = enforceInternalState(this);
                            if (!state.frozen) state.frozen = new InternalWeakMap;
                            return nativeHas(this, key) || state.frozen.has(key);
                        }
                        return nativeHas(this, key);
                    },
                    get: function get(key) {
                        if (isObject(key) && !isExtensible(key)) {
                            var state = enforceInternalState(this);
                            if (!state.frozen) state.frozen = new InternalWeakMap;
                            return nativeHas(this, key) ? nativeGet(this, key) : state.frozen.get(key);
                        }
                        return nativeGet(this, key);
                    },
                    set: function set(key, value) {
                        if (isObject(key) && !isExtensible(key)) {
                            var state = enforceInternalState(this);
                            if (!state.frozen) state.frozen = new InternalWeakMap;
                            nativeHas(this, key) ? nativeSet(this, key, value) : state.frozen.set(key, value);
                        } else nativeSet(this, key, value);
                        return this;
                    }
                });
            } else if (hasMSEdgeFreezingBug()) defineBuiltIns(WeakMapPrototype, {
                set: function set(key, value) {
                    var arrayIntegrityLevel;
                    if (isArray(key)) if (isFrozen(key)) arrayIntegrityLevel = FROZEN; else if (isSealed(key)) arrayIntegrityLevel = SEALED;
                    nativeSet(this, key, value);
                    if (arrayIntegrityLevel == FROZEN) freeze(key);
                    if (arrayIntegrityLevel == SEALED) seal(key);
                    return this;
                }
            });
        },
        7323: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            __webpack_require__(9703);
        },
        3542: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var DOMIterables = __webpack_require__(6181);
            var DOMTokenListPrototype = __webpack_require__(2387);
            var forEach = __webpack_require__(1269);
            var createNonEnumerableProperty = __webpack_require__(1501);
            var handlePrototype = function(CollectionPrototype) {
                if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
                    createNonEnumerableProperty(CollectionPrototype, "forEach", forEach);
                } catch (error) {
                    CollectionPrototype.forEach = forEach;
                }
            };
            for (var COLLECTION_NAME in DOMIterables) if (DOMIterables[COLLECTION_NAME]) handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);
            handlePrototype(DOMTokenListPrototype);
        },
        4079: (__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {
            var global = __webpack_require__(8454);
            var DOMIterables = __webpack_require__(6181);
            var DOMTokenListPrototype = __webpack_require__(2387);
            var ArrayIteratorMethods = __webpack_require__(7543);
            var createNonEnumerableProperty = __webpack_require__(1501);
            var wellKnownSymbol = __webpack_require__(8149);
            var ITERATOR = wellKnownSymbol("iterator");
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var ArrayValues = ArrayIteratorMethods.values;
            var handlePrototype = function(CollectionPrototype, COLLECTION_NAME) {
                if (CollectionPrototype) {
                    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {
                        createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
                    } catch (error) {
                        CollectionPrototype[ITERATOR] = ArrayValues;
                    }
                    if (!CollectionPrototype[TO_STRING_TAG]) createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
                    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {
                        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
                    } catch (error) {
                        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
                    }
                }
            };
            for (var COLLECTION_NAME in DOMIterables) handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);
            handlePrototype(DOMTokenListPrototype, "DOMTokenList");
        },
        3002: function(module, exports, __webpack_require__) {
            var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
 /*! smooth-scroll v16.1.3 | (c) 2020 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */            window.Element && !Element.prototype.closest && (Element.prototype.closest = function(e) {
                var t, n = (this.document || this.ownerDocument).querySelectorAll(e), o = this;
                do {
                    for (t = n.length; 0 <= --t && n.item(t) !== o; ) ;
                } while (t < 0 && (o = o.parentElement));
                return o;
            }), function() {
                if ("function" == typeof window.CustomEvent) return;
                function e(e, t) {
                    t = t || {
                        bubbles: !1,
                        cancelable: !1,
                        detail: void 0
                    };
                    var n = document.createEvent("CustomEvent");
                    return n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n;
                }
                e.prototype = window.Event.prototype, window.CustomEvent = e;
            }(), function() {
                for (var r = 0, e = [ "ms", "moz", "webkit", "o" ], t = 0; t < e.length && !window.requestAnimationFrame; ++t) window.requestAnimationFrame = window[e[t] + "RequestAnimationFrame"], 
                window.cancelAnimationFrame = window[e[t] + "CancelAnimationFrame"] || window[e[t] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(e, t) {
                    var n = (new Date).getTime(), o = Math.max(0, 16 - (n - r)), a = window.setTimeout((function() {
                        e(n + o);
                    }), o);
                    return r = n + o, a;
                }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
                    clearTimeout(e);
                });
            }(), function(e, t) {
                true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
                    return t(e);
                }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), void 0 !== __WEBPACK_AMD_DEFINE_RESULT__ && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;
            }("undefined" != typeof __webpack_require__.g ? __webpack_require__.g : "undefined" != typeof window ? window : this, (function(M) {
                "use strict";
                var q = {
                    ignore: "[data-scroll-ignore]",
                    header: null,
                    topOnEmptyHash: !0,
                    speed: 500,
                    speedAsDuration: !1,
                    durationMax: null,
                    durationMin: null,
                    clip: !0,
                    offset: 0,
                    easing: "easeInOutCubic",
                    customEasing: null,
                    updateURL: !0,
                    popstate: !0,
                    emitEvents: !0
                }, I = function() {
                    var n = {};
                    return Array.prototype.forEach.call(arguments, (function(e) {
                        for (var t in e) {
                            if (!e.hasOwnProperty(t)) return;
                            n[t] = e[t];
                        }
                    })), n;
                }, r = function(e) {
                    "#" === e.charAt(0) && (e = e.substr(1));
                    for (var t, n = String(e), o = n.length, a = -1, r = "", i = n.charCodeAt(0); ++a < o; ) {
                        if (0 === (t = n.charCodeAt(a))) throw new InvalidCharacterError("Invalid character: the input contains U+0000.");
                        1 <= t && t <= 31 || 127 == t || 0 === a && 48 <= t && t <= 57 || 1 === a && 48 <= t && t <= 57 && 45 === i ? r += "\\" + t.toString(16) + " " : r += 128 <= t || 45 === t || 95 === t || 48 <= t && t <= 57 || 65 <= t && t <= 90 || 97 <= t && t <= 122 ? n.charAt(a) : "\\" + n.charAt(a);
                    }
                    return "#" + r;
                }, F = function() {
                    return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);
                }, L = function(e) {
                    return e ? (t = e, parseInt(M.getComputedStyle(t).height, 10) + e.offsetTop) : 0;
                    var t;
                }, x = function(e, t, n) {
                    0 === e && document.body.focus(), n || (e.focus(), document.activeElement !== e && (e.setAttribute("tabindex", "-1"), 
                    e.focus(), e.style.outline = "none"), M.scrollTo(0, t));
                }, H = function(e, t, n, o) {
                    if (t.emitEvents && "function" == typeof M.CustomEvent) {
                        var a = new CustomEvent(e, {
                            bubbles: !0,
                            detail: {
                                anchor: n,
                                toggle: o
                            }
                        });
                        document.dispatchEvent(a);
                    }
                };
                return function(o, e) {
                    var b, a, A, O, C = {};
                    C.cancelScroll = function(e) {
                        cancelAnimationFrame(O), O = null, e || H("scrollCancel", b);
                    }, C.animateScroll = function(a, r, e) {
                        C.cancelScroll();
                        var i = I(b || q, e || {}), c = "[object Number]" === Object.prototype.toString.call(a), t = c || !a.tagName ? null : a;
                        if (c || t) {
                            var s = M.pageYOffset;
                            i.header && !A && (A = document.querySelector(i.header));
                            var n, o, u, l, m, d, f, h, p = L(A), g = c ? a : function(e, t, n, o) {
                                var a = 0;
                                if (e.offsetParent) for (;a += e.offsetTop, e = e.offsetParent; ) ;
                                return a = Math.max(a - t - n, 0), o && (a = Math.min(a, F() - M.innerHeight)), 
                                a;
                            }(t, p, parseInt("function" == typeof i.offset ? i.offset(a, r) : i.offset, 10), i.clip), y = g - s, v = F(), w = 0, S = (n = y, 
                            u = (o = i).speedAsDuration ? o.speed : Math.abs(n / 1e3 * o.speed), o.durationMax && u > o.durationMax ? o.durationMax : o.durationMin && u < o.durationMin ? o.durationMin : parseInt(u, 10)), E = function(e) {
                                var t, n, o;
                                l || (l = e), w += e - l, d = s + y * (n = m = 1 < (m = 0 === S ? 0 : w / S) ? 1 : m, 
                                "easeInQuad" === (t = i).easing && (o = n * n), "easeOutQuad" === t.easing && (o = n * (2 - n)), 
                                "easeInOutQuad" === t.easing && (o = n < .5 ? 2 * n * n : (4 - 2 * n) * n - 1), 
                                "easeInCubic" === t.easing && (o = n * n * n), "easeOutCubic" === t.easing && (o = --n * n * n + 1), 
                                "easeInOutCubic" === t.easing && (o = n < .5 ? 4 * n * n * n : (n - 1) * (2 * n - 2) * (2 * n - 2) + 1), 
                                "easeInQuart" === t.easing && (o = n * n * n * n), "easeOutQuart" === t.easing && (o = 1 - --n * n * n * n), 
                                "easeInOutQuart" === t.easing && (o = n < .5 ? 8 * n * n * n * n : 1 - 8 * --n * n * n * n), 
                                "easeInQuint" === t.easing && (o = n * n * n * n * n), "easeOutQuint" === t.easing && (o = 1 + --n * n * n * n * n), 
                                "easeInOutQuint" === t.easing && (o = n < .5 ? 16 * n * n * n * n * n : 1 + 16 * --n * n * n * n * n), 
                                t.customEasing && (o = t.customEasing(n)), o || n), M.scrollTo(0, Math.floor(d)), 
                                function(e, t) {
                                    var n = M.pageYOffset;
                                    if (e == t || n == t || (s < t && M.innerHeight + n) >= v) return C.cancelScroll(!0), 
                                    x(a, t, c), H("scrollStop", i, a, r), !(O = l = null);
                                }(d, g) || (O = M.requestAnimationFrame(E), l = e);
                            };
                            0 === M.pageYOffset && M.scrollTo(0, 0), f = a, h = i, c || history.pushState && h.updateURL && history.pushState({
                                smoothScroll: JSON.stringify(h),
                                anchor: f.id
                            }, document.title, f === document.documentElement ? "#top" : "#" + f.id), "matchMedia" in M && M.matchMedia("(prefers-reduced-motion)").matches ? x(a, Math.floor(g), !1) : (H("scrollStart", i, a, r), 
                            C.cancelScroll(!0), M.requestAnimationFrame(E));
                        }
                    };
                    var t = function(e) {
                        if (!e.defaultPrevented && !(0 !== e.button || e.metaKey || e.ctrlKey || e.shiftKey) && "closest" in e.target && (a = e.target.closest(o)) && "a" === a.tagName.toLowerCase() && !e.target.closest(b.ignore) && a.hostname === M.location.hostname && a.pathname === M.location.pathname && /#/.test(a.href)) {
                            var t, n;
                            try {
                                t = r(decodeURIComponent(a.hash));
                            } catch (e) {
                                t = r(a.hash);
                            }
                            if ("#" === t) {
                                if (!b.topOnEmptyHash) return;
                                n = document.documentElement;
                            } else n = document.querySelector(t);
                            (n = n || "#top" !== t ? n : document.documentElement) && (e.preventDefault(), function(e) {
                                if (history.replaceState && e.updateURL && !history.state) {
                                    var t = M.location.hash;
                                    t = t || "", history.replaceState({
                                        smoothScroll: JSON.stringify(e),
                                        anchor: t || M.pageYOffset
                                    }, document.title, t || M.location.href);
                                }
                            }(b), C.animateScroll(n, a));
                        }
                    }, n = function(e) {
                        if (null !== history.state && history.state.smoothScroll && history.state.smoothScroll === JSON.stringify(b)) {
                            var t = history.state.anchor;
                            "string" == typeof t && t && !(t = document.querySelector(r(history.state.anchor))) || C.animateScroll(t, null, {
                                updateURL: !1
                            });
                        }
                    };
                    C.destroy = function() {
                        b && (document.removeEventListener("click", t, !1), M.removeEventListener("popstate", n, !1), 
                        C.cancelScroll(), O = A = a = b = null);
                    };
                    return function() {
                        if (!("querySelector" in document && "addEventListener" in M && "requestAnimationFrame" in M && "closest" in M.Element.prototype)) throw "Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";
                        C.destroy(), b = I(q, e || {}), A = b.header ? document.querySelector(b.header) : null, 
                        document.addEventListener("click", t, !1), b.updateURL && b.popstate && M.addEventListener("popstate", n, !1);
                    }(), C;
                };
            }));
        },
        2732: function(module) {
            !function(n, t) {
                true ? module.exports = t() : 0;
            }(0, (function() {
                "use strict";
                function n() {
                    return n = Object.assign || function(n) {
                        for (var t = 1; t < arguments.length; t++) {
                            var e = arguments[t];
                            for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (n[i] = e[i]);
                        }
                        return n;
                    }, n.apply(this, arguments);
                }
                var t = "undefined" != typeof window, e = t && !("onscroll" in window) || "undefined" != typeof navigator && /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent), i = t && "IntersectionObserver" in window, o = t && "classList" in document.createElement("p"), a = t && window.devicePixelRatio > 1, r = {
                    elements_selector: ".lazy",
                    container: e || t ? document : null,
                    threshold: 300,
                    thresholds: null,
                    data_src: "src",
                    data_srcset: "srcset",
                    data_sizes: "sizes",
                    data_bg: "bg",
                    data_bg_hidpi: "bg-hidpi",
                    data_bg_multi: "bg-multi",
                    data_bg_multi_hidpi: "bg-multi-hidpi",
                    data_bg_set: "bg-set",
                    data_poster: "poster",
                    class_applied: "applied",
                    class_loading: "loading",
                    class_loaded: "loaded",
                    class_error: "error",
                    class_entered: "entered",
                    class_exited: "exited",
                    unobserve_completed: !0,
                    unobserve_entered: !1,
                    cancel_on_exit: !0,
                    callback_enter: null,
                    callback_exit: null,
                    callback_applied: null,
                    callback_loading: null,
                    callback_loaded: null,
                    callback_error: null,
                    callback_finish: null,
                    callback_cancel: null,
                    use_native: !1,
                    restore_on_error: !1
                }, c = function(t) {
                    return n({}, r, t);
                }, l = function(n, t) {
                    var e, i = "LazyLoad::Initialized", o = new n(t);
                    try {
                        e = new CustomEvent(i, {
                            detail: {
                                instance: o
                            }
                        });
                    } catch (n) {
                        (e = document.createEvent("CustomEvent")).initCustomEvent(i, !1, !1, {
                            instance: o
                        });
                    }
                    window.dispatchEvent(e);
                }, u = "src", s = "srcset", d = "sizes", f = "poster", _ = "llOriginalAttrs", g = "data", v = "loading", b = "loaded", m = "applied", p = "error", h = "native", E = "data-", I = "ll-status", y = function(n, t) {
                    return n.getAttribute(E + t);
                }, k = function(n) {
                    return y(n, I);
                }, w = function(n, t) {
                    return function(n, t, e) {
                        var i = "data-ll-status";
                        null !== e ? n.setAttribute(i, e) : n.removeAttribute(i);
                    }(n, 0, t);
                }, A = function(n) {
                    return w(n, null);
                }, L = function(n) {
                    return null === k(n);
                }, O = function(n) {
                    return k(n) === h;
                }, x = [ v, b, m, p ], C = function(n, t, e, i) {
                    n && (void 0 === i ? void 0 === e ? n(t) : n(t, e) : n(t, e, i));
                }, N = function(n, t) {
                    o ? n.classList.add(t) : n.className += (n.className ? " " : "") + t;
                }, M = function(n, t) {
                    o ? n.classList.remove(t) : n.className = n.className.replace(new RegExp("(^|\\s+)" + t + "(\\s+|$)"), " ").replace(/^\s+/, "").replace(/\s+$/, "");
                }, z = function(n) {
                    return n.llTempImage;
                }, T = function(n, t) {
                    if (t) {
                        var e = t._observer;
                        e && e.unobserve(n);
                    }
                }, R = function(n, t) {
                    n && (n.loadingCount += t);
                }, G = function(n, t) {
                    n && (n.toLoadCount = t);
                }, j = function(n) {
                    for (var t, e = [], i = 0; t = n.children[i]; i += 1) "SOURCE" === t.tagName && e.push(t);
                    return e;
                }, D = function(n, t) {
                    var e = n.parentNode;
                    e && "PICTURE" === e.tagName && j(e).forEach(t);
                }, H = function(n, t) {
                    j(n).forEach(t);
                }, V = [ u ], F = [ u, f ], B = [ u, s, d ], J = [ g ], P = function(n) {
                    return !!n[_];
                }, S = function(n) {
                    return n[_];
                }, U = function(n) {
                    return delete n[_];
                }, $ = function(n, t) {
                    if (!P(n)) {
                        var e = {};
                        t.forEach((function(t) {
                            e[t] = n.getAttribute(t);
                        })), n[_] = e;
                    }
                }, q = function(n, t) {
                    if (P(n)) {
                        var e = S(n);
                        t.forEach((function(t) {
                            !function(n, t, e) {
                                e ? n.setAttribute(t, e) : n.removeAttribute(t);
                            }(n, t, e[t]);
                        }));
                    }
                }, K = function(n, t, e) {
                    N(n, t.class_applied), w(n, m), e && (t.unobserve_completed && T(n, t), C(t.callback_applied, n, e));
                }, Q = function(n, t, e) {
                    N(n, t.class_loading), w(n, v), e && (R(e, 1), C(t.callback_loading, n, e));
                }, W = function(n, t, e) {
                    e && n.setAttribute(t, e);
                }, X = function(n, t) {
                    W(n, d, y(n, t.data_sizes)), W(n, s, y(n, t.data_srcset)), W(n, u, y(n, t.data_src));
                }, Y = {
                    IMG: function(n, t) {
                        D(n, (function(n) {
                            $(n, B), X(n, t);
                        })), $(n, B), X(n, t);
                    },
                    IFRAME: function(n, t) {
                        $(n, V), W(n, u, y(n, t.data_src));
                    },
                    VIDEO: function(n, t) {
                        H(n, (function(n) {
                            $(n, V), W(n, u, y(n, t.data_src));
                        })), $(n, F), W(n, f, y(n, t.data_poster)), W(n, u, y(n, t.data_src)), n.load();
                    },
                    OBJECT: function(n, t) {
                        $(n, J), W(n, g, y(n, t.data_src));
                    }
                }, Z = [ "IMG", "IFRAME", "VIDEO", "OBJECT" ], nn = function(n, t) {
                    !t || function(n) {
                        return n.loadingCount > 0;
                    }(t) || function(n) {
                        return n.toLoadCount > 0;
                    }(t) || C(n.callback_finish, t);
                }, tn = function(n, t, e) {
                    n.addEventListener(t, e), n.llEvLisnrs[t] = e;
                }, en = function(n, t, e) {
                    n.removeEventListener(t, e);
                }, on = function(n) {
                    return !!n.llEvLisnrs;
                }, an = function(n) {
                    if (on(n)) {
                        var t = n.llEvLisnrs;
                        for (var e in t) {
                            var i = t[e];
                            en(n, e, i);
                        }
                        delete n.llEvLisnrs;
                    }
                }, rn = function(n, t, e) {
                    !function(n) {
                        delete n.llTempImage;
                    }(n), R(e, -1), function(n) {
                        n && (n.toLoadCount -= 1);
                    }(e), M(n, t.class_loading), t.unobserve_completed && T(n, e);
                }, cn = function(n, t, e) {
                    var i = z(n) || n;
                    on(i) || function(n, t, e) {
                        on(n) || (n.llEvLisnrs = {});
                        var i = "VIDEO" === n.tagName ? "loadeddata" : "load";
                        tn(n, i, t), tn(n, "error", e);
                    }(i, (function(o) {
                        !function(n, t, e, i) {
                            var o = O(t);
                            rn(t, e, i), N(t, e.class_loaded), w(t, b), C(e.callback_loaded, t, i), o || nn(e, i);
                        }(0, n, t, e), an(i);
                    }), (function(o) {
                        !function(n, t, e, i) {
                            var o = O(t);
                            rn(t, e, i), N(t, e.class_error), w(t, p), C(e.callback_error, t, i), e.restore_on_error && q(t, B), 
                            o || nn(e, i);
                        }(0, n, t, e), an(i);
                    }));
                }, ln = function(n, t, e) {
                    !function(n) {
                        return Z.indexOf(n.tagName) > -1;
                    }(n) ? function(n, t, e) {
                        !function(n) {
                            n.llTempImage = document.createElement("IMG");
                        }(n), cn(n, t, e), function(n) {
                            P(n) || (n[_] = {
                                backgroundImage: n.style.backgroundImage
                            });
                        }(n), function(n, t, e) {
                            var i = y(n, t.data_bg), o = y(n, t.data_bg_hidpi), r = a && o ? o : i;
                            r && (n.style.backgroundImage = 'url("'.concat(r, '")'), z(n).setAttribute(u, r), 
                            Q(n, t, e));
                        }(n, t, e), function(n, t, e) {
                            var i = y(n, t.data_bg_multi), o = y(n, t.data_bg_multi_hidpi), r = a && o ? o : i;
                            r && (n.style.backgroundImage = r, K(n, t, e));
                        }(n, t, e), function(n, t, e) {
                            var i = y(n, t.data_bg_set);
                            if (i) {
                                var o = i.split("|"), a = o.map((function(n) {
                                    return "image-set(".concat(n, ")");
                                }));
                                n.style.backgroundImage = a.join(), "" === n.style.backgroundImage && (a = o.map((function(n) {
                                    return "-webkit-image-set(".concat(n, ")");
                                })), n.style.backgroundImage = a.join()), K(n, t, e);
                            }
                        }(n, t, e);
                    }(n, t, e) : function(n, t, e) {
                        cn(n, t, e), function(n, t, e) {
                            var i = Y[n.tagName];
                            i && (i(n, t), Q(n, t, e));
                        }(n, t, e);
                    }(n, t, e);
                }, un = function(n) {
                    n.removeAttribute(u), n.removeAttribute(s), n.removeAttribute(d);
                }, sn = function(n) {
                    D(n, (function(n) {
                        q(n, B);
                    })), q(n, B);
                }, dn = {
                    IMG: sn,
                    IFRAME: function(n) {
                        q(n, V);
                    },
                    VIDEO: function(n) {
                        H(n, (function(n) {
                            q(n, V);
                        })), q(n, F), n.load();
                    },
                    OBJECT: function(n) {
                        q(n, J);
                    }
                }, fn = function(n, t) {
                    (function(n) {
                        var t = dn[n.tagName];
                        t ? t(n) : function(n) {
                            if (P(n)) {
                                var t = S(n);
                                n.style.backgroundImage = t.backgroundImage;
                            }
                        }(n);
                    })(n), function(n, t) {
                        L(n) || O(n) || (M(n, t.class_entered), M(n, t.class_exited), M(n, t.class_applied), 
                        M(n, t.class_loading), M(n, t.class_loaded), M(n, t.class_error));
                    }(n, t), A(n), U(n);
                }, _n = [ "IMG", "IFRAME", "VIDEO" ], gn = function(n) {
                    return n.use_native && "loading" in HTMLImageElement.prototype;
                }, vn = function(n, t, e) {
                    n.forEach((function(n) {
                        return function(n) {
                            return n.isIntersecting || n.intersectionRatio > 0;
                        }(n) ? function(n, t, e, i) {
                            var o = function(n) {
                                return x.indexOf(k(n)) >= 0;
                            }(n);
                            w(n, "entered"), N(n, e.class_entered), M(n, e.class_exited), function(n, t, e) {
                                t.unobserve_entered && T(n, e);
                            }(n, e, i), C(e.callback_enter, n, t, i), o || ln(n, e, i);
                        }(n.target, n, t, e) : function(n, t, e, i) {
                            L(n) || (N(n, e.class_exited), function(n, t, e, i) {
                                e.cancel_on_exit && function(n) {
                                    return k(n) === v;
                                }(n) && "IMG" === n.tagName && (an(n), function(n) {
                                    D(n, (function(n) {
                                        un(n);
                                    })), un(n);
                                }(n), sn(n), M(n, e.class_loading), R(i, -1), A(n), C(e.callback_cancel, n, t, i));
                            }(n, t, e, i), C(e.callback_exit, n, t, i));
                        }(n.target, n, t, e);
                    }));
                }, bn = function(n) {
                    return Array.prototype.slice.call(n);
                }, mn = function(n) {
                    return n.container.querySelectorAll(n.elements_selector);
                }, pn = function(n) {
                    return function(n) {
                        return k(n) === p;
                    }(n);
                }, hn = function(n, t) {
                    return function(n) {
                        return bn(n).filter(L);
                    }(n || mn(t));
                }, En = function(n, e) {
                    var o = c(n);
                    this._settings = o, this.loadingCount = 0, function(n, t) {
                        i && !gn(n) && (t._observer = new IntersectionObserver((function(e) {
                            vn(e, n, t);
                        }), function(n) {
                            return {
                                root: n.container === document ? null : n.container,
                                rootMargin: n.thresholds || n.threshold + "px"
                            };
                        }(n)));
                    }(o, this), function(n, e) {
                        t && (e._onlineHandler = function() {
                            !function(n, t) {
                                var e;
                                (e = mn(n), bn(e).filter(pn)).forEach((function(t) {
                                    M(t, n.class_error), A(t);
                                })), t.update();
                            }(n, e);
                        }, window.addEventListener("online", e._onlineHandler));
                    }(o, this), this.update(e);
                };
                return En.prototype = {
                    update: function(n) {
                        var t, o, a = this._settings, r = hn(n, a);
                        G(this, r.length), !e && i ? gn(a) ? function(n, t, e) {
                            n.forEach((function(n) {
                                -1 !== _n.indexOf(n.tagName) && function(n, t, e) {
                                    n.setAttribute("loading", "lazy"), cn(n, t, e), function(n, t) {
                                        var e = Y[n.tagName];
                                        e && e(n, t);
                                    }(n, t), w(n, h);
                                }(n, t, e);
                            })), G(e, 0);
                        }(r, a, this) : (o = r, function(n) {
                            n.disconnect();
                        }(t = this._observer), function(n, t) {
                            t.forEach((function(t) {
                                n.observe(t);
                            }));
                        }(t, o)) : this.loadAll(r);
                    },
                    destroy: function() {
                        this._observer && this._observer.disconnect(), t && window.removeEventListener("online", this._onlineHandler), 
                        mn(this._settings).forEach((function(n) {
                            U(n);
                        })), delete this._observer, delete this._settings, delete this._onlineHandler, delete this.loadingCount, 
                        delete this.toLoadCount;
                    },
                    loadAll: function(n) {
                        var t = this, e = this._settings;
                        hn(n, e).forEach((function(n) {
                            T(n, t), ln(n, e, t);
                        }));
                    },
                    restoreAll: function() {
                        var n = this._settings;
                        mn(n).forEach((function(t) {
                            fn(t, n);
                        }));
                    }
                }, En.load = function(n, t) {
                    var e = c(t);
                    ln(n, e);
                }, En.resetStatus = function(n) {
                    A(n);
                }, t && function(n, t) {
                    if (t) if (t.length) for (var e, i = 0; e = t[i]; i += 1) l(n, e); else l(n, t);
                }(En, window.lazyLoadOptions), En;
            }));
        }
    };
    var __webpack_module_cache__ = {};
    function __webpack_require__(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (void 0 !== cachedModule) return cachedModule.exports;
        var module = __webpack_module_cache__[moduleId] = {
            exports: {}
        };
        __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        return module.exports;
    }
    (() => {
        __webpack_require__.n = module => {
            var getter = module && module.__esModule ? () => module["default"] : () => module;
            __webpack_require__.d(getter, {
                a: getter
            });
            return getter;
        };
    })();
    (() => {
        var getProto = Object.getPrototypeOf ? obj => Object.getPrototypeOf(obj) : obj => obj.__proto__;
        var leafPrototypes;
        __webpack_require__.t = function(value, mode) {
            if (1 & mode) value = this(value);
            if (8 & mode) return value;
            if ("object" === typeof value && value) {
                if (4 & mode && value.__esModule) return value;
                if (16 & mode && "function" === typeof value.then) return value;
            }
            var ns = Object.create(null);
            __webpack_require__.r(ns);
            var def = {};
            leafPrototypes = leafPrototypes || [ null, getProto({}), getProto([]), getProto(getProto) ];
            for (var current = 2 & mode && value; "object" == typeof current && !~leafPrototypes.indexOf(current); current = getProto(current)) Object.getOwnPropertyNames(current).forEach((key => def[key] = () => value[key]));
            def["default"] = () => value;
            __webpack_require__.d(ns, def);
            return ns;
        };
    })();
    (() => {
        __webpack_require__.d = (exports, definition) => {
            for (var key in definition) if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) Object.defineProperty(exports, key, {
                enumerable: true,
                get: definition[key]
            });
        };
    })();
    (() => {
        __webpack_require__.g = function() {
            if ("object" === typeof globalThis) return globalThis;
            try {
                return this || new Function("return this")();
            } catch (e) {
                if ("object" === typeof window) return window;
            }
        }();
    })();
    (() => {
        __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
    })();
    (() => {
        __webpack_require__.r = exports => {
            if ("undefined" !== typeof Symbol && Symbol.toStringTag) Object.defineProperty(exports, Symbol.toStringTag, {
                value: "Module"
            });
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
        };
    })();
    (() => {
        "use strict";
        const flsModules = {};
        function isWebp() {
            function testWebP(callback) {
                let webP = new Image;
                webP.onload = webP.onerror = function() {
                    callback(2 == webP.height);
                };
                webP.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";
            }
            testWebP((function(support) {
                let className = true === support ? "webp" : "no-webp";
                document.documentElement.classList.add(className);
            }));
        }
        let isMobile = {
            Android: function() {
                return navigator.userAgent.match(/Android/i);
            },
            BlackBerry: function() {
                return navigator.userAgent.match(/BlackBerry/i);
            },
            iOS: function() {
                return navigator.userAgent.match(/iPhone|iPad|iPod/i);
            },
            Opera: function() {
                return navigator.userAgent.match(/Opera Mini/i);
            },
            Windows: function() {
                return navigator.userAgent.match(/IEMobile/i);
            },
            any: function() {
                return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();
            }
        };
        function addTouchClass() {
            if (isMobile.any()) document.documentElement.classList.add("touch");
        }
        function functions_getHash() {
            if (location.hash) return location.hash.replace("#", "");
        }
        function setHash(hash) {
            hash = hash ? `#${hash}` : window.location.href.split("#")[0];
            history.pushState("", "", hash);
        }
        let _slideUp = (target, duration = 500, showmore = 0) => {
            if (!target.classList.contains("_slide")) {
                target.classList.add("_slide");
                target.style.transitionProperty = "height, margin, padding";
                target.style.transitionDuration = duration + "ms";
                target.style.height = `${target.offsetHeight}px`;
                target.offsetHeight;
                target.style.overflow = "hidden";
                target.style.height = showmore ? `${showmore}px` : `0px`;
                target.style.paddingTop = 0;
                target.style.paddingBottom = 0;
                target.style.marginTop = 0;
                target.style.marginBottom = 0;
                window.setTimeout((() => {
                    target.hidden = !showmore ? true : false;
                    !showmore ? target.style.removeProperty("height") : null;
                    target.style.removeProperty("padding-top");
                    target.style.removeProperty("padding-bottom");
                    target.style.removeProperty("margin-top");
                    target.style.removeProperty("margin-bottom");
                    !showmore ? target.style.removeProperty("overflow") : null;
                    target.style.removeProperty("transition-duration");
                    target.style.removeProperty("transition-property");
                    target.classList.remove("_slide");
                    document.dispatchEvent(new CustomEvent("slideUpDone", {
                        detail: {
                            target
                        }
                    }));
                }), duration);
            }
        };
        let _slideDown = (target, duration = 500, showmore = 0) => {
            if (!target.classList.contains("_slide")) {
                target.classList.add("_slide");
                target.hidden = target.hidden ? false : null;
                showmore ? target.style.removeProperty("height") : null;
                let height = target.offsetHeight;
                target.style.overflow = "hidden";
                target.style.height = showmore ? `${showmore}px` : `0px`;
                target.style.paddingTop = 0;
                target.style.paddingBottom = 0;
                target.style.marginTop = 0;
                target.style.marginBottom = 0;
                target.offsetHeight;
                target.style.transitionProperty = "height, margin, padding";
                target.style.transitionDuration = duration + "ms";
                target.style.height = height + "px";
                target.style.removeProperty("padding-top");
                target.style.removeProperty("padding-bottom");
                target.style.removeProperty("margin-top");
                target.style.removeProperty("margin-bottom");
                window.setTimeout((() => {
                    target.style.removeProperty("height");
                    target.style.removeProperty("overflow");
                    target.style.removeProperty("transition-duration");
                    target.style.removeProperty("transition-property");
                    target.classList.remove("_slide");
                    document.dispatchEvent(new CustomEvent("slideDownDone", {
                        detail: {
                            target
                        }
                    }));
                }), duration);
            }
        };
        let _slideToggle = (target, duration = 500) => {
            if (target.hidden) return _slideDown(target, duration); else return _slideUp(target, duration);
        };
        let bodyLockStatus = true;
        let bodyLockToggle = (delay = 500) => {
            if (document.documentElement.classList.contains("lock")) bodyUnlock(delay); else bodyLock(delay);
        };
        let bodyUnlock = (delay = 500) => {
            let body = document.querySelector("body");
            if (bodyLockStatus) {
                let lock_padding = document.querySelectorAll("[data-lp]");
                const header = document.querySelector(".header_main");
                setTimeout((() => {
                    for (let index = 0; index < lock_padding.length; index++) {
                        const el = lock_padding[index];
                        el.style.paddingRight = "0px";
                    }
                    if (header) header.style.paddingRight = "0px";
                    body.style.paddingRight = "0px";
                    document.documentElement.classList.remove("lock");
                }), delay);
                bodyLockStatus = false;
                setTimeout((function() {
                    bodyLockStatus = true;
                }), delay);
            }
        };
        let bodyLock = (delay = 500) => {
            let body = document.querySelector("body");
            if (bodyLockStatus) {
                let lock_padding = document.querySelectorAll("[data-lp]");
                const header = document.querySelector(".header_main");
                if (header) header.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px";
                for (let index = 0; index < lock_padding.length; index++) {
                    const el = lock_padding[index];
                    el.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px";
                }
                body.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px";
                document.documentElement.classList.add("lock");
                bodyLockStatus = false;
                setTimeout((function() {
                    bodyLockStatus = true;
                }), delay);
            }
        };
        function spollers() {
            const spollersArray = document.querySelectorAll("[data-spollers]");
            if (spollersArray.length > 0) {
                const spollersRegular = Array.from(spollersArray).filter((function(item, index, self) {
                    return !item.dataset.spollers.split(",")[0];
                }));
                if (spollersRegular.length) initSpollers(spollersRegular);
                let mdQueriesArray = dataMediaQueries(spollersArray, "spollers");
                if (mdQueriesArray && mdQueriesArray.length) mdQueriesArray.forEach((mdQueriesItem => {
                    mdQueriesItem.matchMedia.addEventListener("change", (function() {
                        initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                    }));
                    initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                }));
                function initSpollers(spollersArray, matchMedia = false) {
                    spollersArray.forEach((spollersBlock => {
                        spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;
                        if (matchMedia.matches || !matchMedia) {
                            spollersBlock.classList.add("_spoller-init");
                            initSpollerBody(spollersBlock);
                            spollersBlock.addEventListener("click", setSpollerAction);
                        } else {
                            spollersBlock.classList.remove("_spoller-init");
                            initSpollerBody(spollersBlock, false);
                            spollersBlock.removeEventListener("click", setSpollerAction);
                        }
                    }));
                }
                function initSpollerBody(spollersBlock, hideSpollerBody = true) {
                    let spollerTitles = spollersBlock.querySelectorAll("[data-spoller]");
                    if (spollerTitles.length) {
                        spollerTitles = Array.from(spollerTitles).filter((item => item.closest("[data-spollers]") === spollersBlock));
                        spollerTitles.forEach((spollerTitle => {
                            if (hideSpollerBody) {
                                spollerTitle.removeAttribute("tabindex");
                                if (!spollerTitle.classList.contains("_spoller-active")) spollerTitle.nextElementSibling.hidden = true;
                            } else {
                                spollerTitle.setAttribute("tabindex", "-1");
                                spollerTitle.nextElementSibling.hidden = false;
                            }
                        }));
                    }
                }
                function setSpollerAction(e) {
                    const el = e.target;
                    if (el.closest("[data-spoller]")) {
                        const spollerTitle = el.closest("[data-spoller]");
                        const spollersBlock = spollerTitle.closest("[data-spollers]");
                        const oneSpoller = spollersBlock.hasAttribute("data-one-spoller");
                        const spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
                        if (!spollersBlock.querySelectorAll("._slide").length) {
                            if (oneSpoller && !spollerTitle.classList.contains("_spoller-active")) hideSpollersBody(spollersBlock);
                            spollerTitle.classList.toggle("_spoller-active");
                            _slideToggle(spollerTitle.nextElementSibling, spollerSpeed);
                        }
                        e.preventDefault();
                    }
                }
                function hideSpollersBody(spollersBlock) {
                    const spollerActiveTitle = spollersBlock.querySelector("[data-spoller]._spoller-active");
                    const spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
                    if (spollerActiveTitle && !spollersBlock.querySelectorAll("._slide").length) {
                        spollerActiveTitle.classList.remove("_spoller-active");
                        _slideUp(spollerActiveTitle.nextElementSibling, spollerSpeed);
                    }
                }
                const spollersClose = document.querySelectorAll("[data-spoller-close]");
                if (spollersClose.length) document.addEventListener("click", (function(e) {
                    const el = e.target;
                    if (!el.closest("[data-spollers]")) spollersClose.forEach((spollerClose => {
                        const spollersBlock = spollerClose.closest("[data-spollers]");
                        if (spollersBlock.classList.contains("_spoller-init")) {
                            const spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
                            spollerClose.classList.remove("_spoller-active");
                            _slideUp(spollerClose.nextElementSibling, spollerSpeed);
                        }
                    }));
                }));
            }
        }
        function tabs() {
            const tabs = document.querySelectorAll("[data-tabs]");
            let tabsActiveHash = [];
            if (tabs.length > 0) {
                const hash = functions_getHash();
                if (hash && hash.startsWith("tab-")) tabsActiveHash = hash.replace("tab-", "").split("-");
                tabs.forEach(((tabsBlock, index) => {
                    tabsBlock.classList.add("_tab-init");
                    tabsBlock.setAttribute("data-tabs-index", index);
                    tabsBlock.addEventListener("click", setTabsAction);
                    initTabs(tabsBlock);
                }));
                let mdQueriesArray = dataMediaQueries(tabs, "tabs");
                if (mdQueriesArray && mdQueriesArray.length) mdQueriesArray.forEach((mdQueriesItem => {
                    mdQueriesItem.matchMedia.addEventListener("change", (function() {
                        setTitlePosition(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                    }));
                    setTitlePosition(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                }));
            }
            function setTitlePosition(tabsMediaArray, matchMedia) {
                tabsMediaArray.forEach((tabsMediaItem => {
                    tabsMediaItem = tabsMediaItem.item;
                    let tabsTitles = tabsMediaItem.querySelector("[data-tabs-titles]");
                    let tabsTitleItems = tabsMediaItem.querySelectorAll("[data-tabs-title]");
                    let tabsContent = tabsMediaItem.querySelector("[data-tabs-body]");
                    let tabsContentItems = tabsMediaItem.querySelectorAll("[data-tabs-item]");
                    tabsTitleItems = Array.from(tabsTitleItems).filter((item => item.closest("[data-tabs]") === tabsMediaItem));
                    tabsContentItems = Array.from(tabsContentItems).filter((item => item.closest("[data-tabs]") === tabsMediaItem));
                    tabsContentItems.forEach(((tabsContentItem, index) => {
                        if (matchMedia.matches) {
                            tabsContent.append(tabsTitleItems[index]);
                            tabsContent.append(tabsContentItem);
                            tabsMediaItem.classList.add("_tab-spoller");
                        } else {
                            tabsTitles.append(tabsTitleItems[index]);
                            tabsMediaItem.classList.remove("_tab-spoller");
                        }
                    }));
                }));
            }
            function initTabs(tabsBlock) {
                let tabsTitles = tabsBlock.querySelectorAll("[data-tabs-titles]>*");
                let tabsContent = tabsBlock.querySelectorAll("[data-tabs-body]>*");
                const tabsBlockIndex = tabsBlock.dataset.tabsIndex;
                const tabsActiveHashBlock = tabsActiveHash[0] == tabsBlockIndex;
                if (tabsActiveHashBlock) {
                    const tabsActiveTitle = tabsBlock.querySelector("[data-tabs-titles]>._tab-active");
                    tabsActiveTitle ? tabsActiveTitle.classList.remove("_tab-active") : null;
                }
                if (tabsContent.length) {
                    tabsContent = Array.from(tabsContent).filter((item => item.closest("[data-tabs]") === tabsBlock));
                    tabsTitles = Array.from(tabsTitles).filter((item => item.closest("[data-tabs]") === tabsBlock));
                    tabsContent.forEach(((tabsContentItem, index) => {
                        tabsTitles[index].setAttribute("data-tabs-title", "");
                        tabsContentItem.setAttribute("data-tabs-item", "");
                        if (tabsActiveHashBlock && index == tabsActiveHash[1]) tabsTitles[index].classList.add("_tab-active");
                        tabsContentItem.hidden = !tabsTitles[index].classList.contains("_tab-active");
                    }));
                }
            }
            function setTabsStatus(tabsBlock) {
                let tabsTitles = tabsBlock.querySelectorAll("[data-tabs-title]");
                let tabsContent = tabsBlock.querySelectorAll("[data-tabs-item]");
                const tabsBlockIndex = tabsBlock.dataset.tabsIndex;
                function isTabsAnamate(tabsBlock) {
                    if (tabsBlock.hasAttribute("data-tabs-animate")) return tabsBlock.dataset.tabsAnimate > 0 ? Number(tabsBlock.dataset.tabsAnimate) : 500;
                }
                const tabsBlockAnimate = isTabsAnamate(tabsBlock);
                if (tabsContent.length > 0) {
                    const isHash = tabsBlock.hasAttribute("data-tabs-hash");
                    tabsContent = Array.from(tabsContent).filter((item => item.closest("[data-tabs]") === tabsBlock));
                    tabsTitles = Array.from(tabsTitles).filter((item => item.closest("[data-tabs]") === tabsBlock));
                    tabsContent.forEach(((tabsContentItem, index) => {
                        if (tabsTitles[index].classList.contains("_tab-active")) {
                            if (tabsBlockAnimate) _slideDown(tabsContentItem, tabsBlockAnimate); else tabsContentItem.hidden = false;
                            if (isHash && !tabsContentItem.closest(".popup")) setHash(`tab-${tabsBlockIndex}-${index}`);
                        } else if (tabsBlockAnimate) _slideUp(tabsContentItem, tabsBlockAnimate); else tabsContentItem.hidden = true;
                    }));
                }
            }
            function setTabsAction(e) {
                const el = e.target;
                if (el.closest("[data-tabs-title]")) {
                    const tabTitle = el.closest("[data-tabs-title]");
                    const tabsBlock = tabTitle.closest("[data-tabs]");
                    if (!tabTitle.classList.contains("_tab-active") && !tabsBlock.querySelector("._slide")) {
                        let tabActiveTitle = tabsBlock.querySelectorAll("[data-tabs-title]._tab-active");
                        tabActiveTitle.length ? tabActiveTitle = Array.from(tabActiveTitle).filter((item => item.closest("[data-tabs]") === tabsBlock)) : null;
                        tabActiveTitle.length ? tabActiveTitle[0].classList.remove("_tab-active") : null;
                        tabTitle.classList.add("_tab-active");
                        setTabsStatus(tabsBlock);
                    }
                    e.preventDefault();
                }
            }
        }
        function menuInit() {
            if (document.querySelector(".icon-menu")) document.addEventListener("click", (function(e) {
                if (bodyLockStatus && e.target.closest(".icon-menu")) {
                    const menuBodyActive = document.querySelector(".menu__body._active");
                    const menuLinkActive = document.querySelector(".menu__link_active");
                    const subMenuActive = document.querySelector(".sub-menu_active");
                    const menuWrap = document.querySelector(".mob-menu__menu-wrap._active");
                    const subMenuWrap = document.querySelector(".mob-submenu__wrap._active");
                    bodyLockToggle();
                    document.documentElement.classList.toggle("menu-open");
                    if (menuBodyActive) menuBodyActive.classList.remove("_active");
                    if (menuLinkActive) menuLinkActive.classList.remove("menu__link_active");
                    if (subMenuActive) subMenuActive.classList.remove("sub-menu_active");
                    if (menuWrap) menuWrap.classList.remove("_active");
                    if (subMenuWrap) subMenuWrap.classList.remove("_active");
                }
                if (bodyLockStatus && !e.target.closest(".header__mob") && !e.target.closest(".icon-menu") && !e.target.closest(".search-header") && !e.target.closest(".menu__body") && !e.target.closest(".popup") && !e.target.closest(".search-filters._active")) {
                    const menuBodyActive = document.querySelector(".menu__body._active");
                    const menuLinkActive = document.querySelector(".menu__link_active");
                    const subMenuActive = document.querySelector(".sub-menu_active");
                    const menuWrap = document.querySelector(".mob-menu__menu-wrap._active");
                    const subMenuWrap = document.querySelector(".mob-submenu__wrap._active");
                    bodyUnlock();
                    document.documentElement.classList.remove("menu-open");
                    if (menuBodyActive) menuBodyActive.classList.remove("_active");
                    if (menuLinkActive) menuLinkActive.classList.remove("menu__link_active");
                    if (subMenuActive) subMenuActive.classList.remove("sub-menu_active");
                    if (menuWrap) menuWrap.classList.remove("_active");
                    if (subMenuWrap) subMenuWrap.classList.remove("_active");
                }
            }));
        }
        function menuClose() {
            bodyUnlock();
            document.documentElement.classList.remove("menu-open");
        }
        function showMore() {
            window.addEventListener("load", (function(e) {
                const showMoreBlocks = document.querySelectorAll("[data-showmore]");
                let showMoreBlocksRegular;
                let mdQueriesArray;
                if (showMoreBlocks.length) {
                    showMoreBlocksRegular = Array.from(showMoreBlocks).filter((function(item, index, self) {
                        return !item.dataset.showmoreMedia;
                    }));
                    showMoreBlocksRegular.length ? initItems(showMoreBlocksRegular) : null;
                    document.addEventListener("click", showMoreActions);
                    window.addEventListener("resize", showMoreActions);
                    mdQueriesArray = dataMediaQueries(showMoreBlocks, "showmoreMedia");
                    if (mdQueriesArray && mdQueriesArray.length) {
                        mdQueriesArray.forEach((mdQueriesItem => {
                            mdQueriesItem.matchMedia.addEventListener("change", (function() {
                                initItems(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                            }));
                        }));
                        initItemsMedia(mdQueriesArray);
                    }
                }
                function initItemsMedia(mdQueriesArray) {
                    mdQueriesArray.forEach((mdQueriesItem => {
                        initItems(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                    }));
                }
                function initItems(showMoreBlocks, matchMedia) {
                    showMoreBlocks.forEach((showMoreBlock => {
                        initItem(showMoreBlock, matchMedia);
                    }));
                }
                function initItem(showMoreBlock, matchMedia = false) {
                    showMoreBlock = matchMedia ? showMoreBlock.item : showMoreBlock;
                    let showMoreContent = showMoreBlock.querySelectorAll("[data-showmore-content]");
                    let showMoreButton = showMoreBlock.querySelectorAll("[data-showmore-button]");
                    showMoreContent = Array.from(showMoreContent).filter((item => item.closest("[data-showmore]") === showMoreBlock))[0];
                    showMoreButton = Array.from(showMoreButton).filter((item => item.closest("[data-showmore]") === showMoreBlock))[0];
                    const hiddenHeight = getHeight(showMoreBlock, showMoreContent);
                    if (matchMedia.matches || !matchMedia) if (hiddenHeight < getOriginalHeight(showMoreContent)) {
                        _slideUp(showMoreContent, 0, hiddenHeight);
                        showMoreButton.hidden = false;
                    } else {
                        _slideDown(showMoreContent, 0, hiddenHeight);
                        showMoreButton.hidden = true;
                    } else {
                        _slideDown(showMoreContent, 0, hiddenHeight);
                        showMoreButton.hidden = true;
                    }
                }
                function getHeight(showMoreBlock, showMoreContent) {
                    let hiddenHeight = 0;
                    const showMoreType = showMoreBlock.dataset.showmore ? showMoreBlock.dataset.showmore : "size";
                    if ("items" === showMoreType) {
                        const showMoreTypeValue = showMoreContent.dataset.showmoreContent ? showMoreContent.dataset.showmoreContent : 3;
                        const showMoreItems = showMoreContent.children;
                        for (let index = 1; index < showMoreItems.length; index++) {
                            const showMoreItem = showMoreItems[index - 1];
                            hiddenHeight += showMoreItem.offsetHeight;
                            if (index == showMoreTypeValue) break;
                        }
                    } else {
                        const showMoreTypeValue = showMoreContent.dataset.showmoreContent ? showMoreContent.dataset.showmoreContent : 150;
                        hiddenHeight = showMoreTypeValue;
                    }
                    return hiddenHeight;
                }
                function getOriginalHeight(showMoreContent) {
                    let parentHidden;
                    let hiddenHeight = showMoreContent.offsetHeight;
                    showMoreContent.style.removeProperty("height");
                    if (showMoreContent.closest(`[hidden]`)) {
                        parentHidden = showMoreContent.closest(`[hidden]`);
                        parentHidden.hidden = false;
                    }
                    let originalHeight = showMoreContent.offsetHeight;
                    parentHidden ? parentHidden.hidden = true : null;
                    showMoreContent.style.height = `${hiddenHeight}px`;
                    return originalHeight;
                }
                function showMoreActions(e) {
                    const targetEvent = e.target;
                    const targetType = e.type;
                    if ("click" === targetType) {
                        if (targetEvent.closest("[data-showmore-button]")) {
                            const showMoreButton = targetEvent.closest("[data-showmore-button]");
                            const showMoreBlock = showMoreButton.closest("[data-showmore]");
                            const showMoreContent = showMoreBlock.querySelector("[data-showmore-content]");
                            const showMoreSpeed = showMoreBlock.dataset.showmoreButton ? showMoreBlock.dataset.showmoreButton : "500";
                            const hiddenHeight = getHeight(showMoreBlock, showMoreContent);
                            if (!showMoreContent.classList.contains("_slide")) {
                                showMoreBlock.classList.contains("_showmore-active") ? _slideUp(showMoreContent, showMoreSpeed, hiddenHeight) : _slideDown(showMoreContent, showMoreSpeed, hiddenHeight);
                                showMoreBlock.classList.toggle("_showmore-active");
                            }
                        }
                    } else if ("resize" === targetType) {
                        showMoreBlocksRegular && showMoreBlocksRegular.length ? initItems(showMoreBlocksRegular) : null;
                        mdQueriesArray && mdQueriesArray.length ? initItemsMedia(mdQueriesArray) : null;
                    }
                }
            }));
        }
        function elementsCounter() {
            window.addEventListener("load", (function(e) {
                const parents = document.querySelectorAll("[data-elements]");
                let elementBlocksRegular;
                let mdQueriesArray;
                if (parents.length) {
                    elementBlocksRegular = Array.from(parents).filter((function(item, index, self) {
                        return !item.dataset.elementsMedia;
                    }));
                    elementBlocksRegular.length ? initElements(elementBlocksRegular) : null;
                    mdQueriesArray = dataMediaQueries(parents, "elementsMedia");
                    if (mdQueriesArray && mdQueriesArray.length) {
                        mdQueriesArray.forEach((mdQueriesItem => {
                            mdQueriesItem.matchMedia.addEventListener("change", (function() {
                                initElements(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                            }));
                        }));
                        initElementsMedia(mdQueriesArray);
                    }
                    function initElementsMedia(mdQueriesArray) {
                        mdQueriesArray.forEach((mdQueriesItem => {
                            initElements(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                        }));
                    }
                    function initElements(elementBlocks, matchMedia) {
                        elementBlocks.forEach((elementBlock => {
                            initElement(elementBlock, matchMedia);
                        }));
                    }
                    function initElement(parent, matchMedia = false) {
                        parent = matchMedia ? parent.item : parent;
                        const count = Number(parent.dataset.elements);
                        const buttonMore = parent.querySelector("[data-elements-button]");
                        let childrensTabs = Array.from(parent.children).filter((function(item, index, self) {
                            return !item.hasAttribute("data-elements-button");
                        }));
                        let childrensTabsHidden = [];
                        for (let i = 0; i < childrensTabs.length; i++) if (i > count - 1) childrensTabsHidden.push(childrensTabs[i]);
                        if (matchMedia.matches || !matchMedia) {
                            buttonMore.style.removeProperty("display");
                            if (childrensTabsHidden.length) childrensTabsHidden.forEach((item => {
                                item.style.display = "none";
                            })); else if (!childrensTabsHidden.length) buttonMore.style.display = "none";
                        } else {
                            childrensTabsHidden.forEach((item => {
                                item.style.removeProperty("display");
                            }));
                            buttonMore.style.display = "none";
                        }
                        buttonMore.addEventListener("click", (function() {
                            childrensTabsHidden.forEach((item => {
                                item.style.removeProperty("display");
                            }));
                            this.style.display = "none";
                        }));
                    }
                }
            }));
        }
        function FLS(message) {
            setTimeout((() => {
                if (window.FLS) console.log(message);
            }), 0);
        }
        function uniqArray(array) {
            return array.filter((function(item, index, self) {
                return self.indexOf(item) === index;
            }));
        }
        function dataMediaQueries(array, dataSetValue) {
            const media = Array.from(array).filter((function(item, index, self) {
                if (item.dataset[dataSetValue]) return item.dataset[dataSetValue].split(",")[0];
            }));
            if (media.length) {
                const breakpointsArray = [];
                media.forEach((item => {
                    const params = item.dataset[dataSetValue];
                    const breakpoint = {};
                    const paramsArray = params.split(",");
                    breakpoint.value = paramsArray[0];
                    breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : "max";
                    breakpoint.item = item;
                    breakpointsArray.push(breakpoint);
                }));
                let mdQueries = breakpointsArray.map((function(item) {
                    return "(" + item.type + "-width: " + item.value + "px)," + item.value + "," + item.type;
                }));
                mdQueries = uniqArray(mdQueries);
                const mdQueriesArray = [];
                if (mdQueries.length) {
                    mdQueries.forEach((breakpoint => {
                        const paramsArray = breakpoint.split(",");
                        const mediaBreakpoint = paramsArray[1];
                        const mediaType = paramsArray[2];
                        const matchMedia = window.matchMedia(paramsArray[0]);
                        const itemsArray = breakpointsArray.filter((function(item) {
                            if (item.value === mediaBreakpoint && item.type === mediaType) return true;
                        }));
                        mdQueriesArray.push({
                            itemsArray,
                            matchMedia
                        });
                    }));
                    return mdQueriesArray;
                }
            }
        }
        class Popup {
            constructor(options) {
                let config = {
                    logging: true,
                    init: true,
                    attributeOpenButton: "data-popup",
                    attributeCloseButton: "data-close",
                    fixElementSelector: "[data-lp]",
                    youtubeAttribute: "data-popup-youtube",
                    youtubePlaceAttribute: "data-popup-youtube-place",
                    setAutoplayYoutube: true,
                    classes: {
                        popup: "popup",
                        popupContent: "popup__content",
                        popupActive: "popup_show",
                        bodyActive: "popup-show"
                    },
                    focusCatch: true,
                    closeEsc: true,
                    bodyLock: true,
                    hashSettings: {
                        location: true,
                        goHash: true
                    },
                    on: {
                        beforeOpen: function() {},
                        afterOpen: function() {},
                        beforeClose: function() {},
                        afterClose: function() {}
                    }
                };
                this.youTubeCode;
                this.isOpen = false;
                this.targetOpen = {
                    selector: false,
                    element: false
                };
                this.previousOpen = {
                    selector: false,
                    element: false
                };
                this.lastClosed = {
                    selector: false,
                    element: false
                };
                this._dataValue = false;
                this.hash = false;
                this._reopen = false;
                this._selectorOpen = false;
                this.lastFocusEl = false;
                this._focusEl = [ "a[href]", 'input:not([disabled]):not([type="hidden"]):not([aria-hidden])', "button:not([disabled]):not([aria-hidden])", "select:not([disabled]):not([aria-hidden])", "textarea:not([disabled]):not([aria-hidden])", "area[href]", "iframe", "object", "embed", "[contenteditable]", '[tabindex]:not([tabindex^="-"])' ];
                this.options = {
                    ...config,
                    ...options,
                    classes: {
                        ...config.classes,
                        ...options?.classes
                    },
                    hashSettings: {
                        ...config.hashSettings,
                        ...options?.hashSettings
                    },
                    on: {
                        ...config.on,
                        ...options?.on
                    }
                };
                this.bodyLock = false;
                this.options.init ? this.initPopups() : null;
            }
            initPopups() {
                this.popupLogging(`Проснулся`);
                this.eventsPopup();
            }
            eventsPopup() {
                document.addEventListener("click", function(e) {
                    const buttonOpen = e.target.closest(`[${this.options.attributeOpenButton}]`);
                    if (buttonOpen) {
                        e.preventDefault();
                        this._dataValue = buttonOpen.getAttribute(this.options.attributeOpenButton) ? buttonOpen.getAttribute(this.options.attributeOpenButton) : "error";
                        this.youTubeCode = buttonOpen.getAttribute(this.options.youtubeAttribute) ? buttonOpen.getAttribute(this.options.youtubeAttribute) : null;
                        if ("error" !== this._dataValue) {
                            if (!this.isOpen) this.lastFocusEl = buttonOpen;
                            this.targetOpen.selector = `${this._dataValue}`;
                            this._selectorOpen = true;
                            this.open();
                            return;
                        } else this.popupLogging(`Ой ой, не заполнен атрибут у ${buttonOpen.classList}`);
                        return;
                    }
                    const buttonClose = e.target.closest(`[${this.options.attributeCloseButton}]`);
                    if (buttonClose || !e.target.closest(`.${this.options.classes.popupContent}`) && this.isOpen) {
                        e.preventDefault();
                        this.close();
                        return;
                    }
                }.bind(this));
                document.addEventListener("keydown", function(e) {
                    if (this.options.closeEsc && 27 == e.which && "Escape" === e.code && this.isOpen) {
                        e.preventDefault();
                        this.close();
                        return;
                    }
                    if (this.options.focusCatch && 9 == e.which && this.isOpen) {
                        this._focusCatch(e);
                        return;
                    }
                }.bind(this));
                if (this.options.hashSettings.goHash) {
                    window.addEventListener("hashchange", function() {
                        if (window.location.hash) this._openToHash(); else this.close(this.targetOpen.selector);
                    }.bind(this));
                    window.addEventListener("load", function() {
                        if (window.location.hash) this._openToHash();
                    }.bind(this));
                }
            }
            open(selectorValue) {
                if (bodyLockStatus) {
                    this.bodyLock = document.documentElement.classList.contains("lock") && !this.isOpen ? true : false;
                    if (selectorValue && "string" === typeof selectorValue && "" !== selectorValue.trim()) {
                        this.targetOpen.selector = selectorValue;
                        this._selectorOpen = true;
                    }
                    if (this.isOpen) {
                        this._reopen = true;
                        this.close();
                    }
                    if (!this._selectorOpen) this.targetOpen.selector = this.lastClosed.selector;
                    if (!this._reopen) this.previousActiveElement = document.activeElement;
                    this.targetOpen.element = document.querySelector(this.targetOpen.selector);
                    if (this.targetOpen.element) {
                        if (this.youTubeCode) {
                            const codeVideo = this.youTubeCode;
                            const urlVideo = `https://www.youtube.com/embed/${codeVideo}?rel=0&showinfo=0&autoplay=1`;
                            const iframe = document.createElement("iframe");
                            iframe.setAttribute("allowfullscreen", "");
                            const autoplay = this.options.setAutoplayYoutube ? "autoplay;" : "";
                            iframe.setAttribute("allow", `${autoplay}; encrypted-media`);
                            iframe.setAttribute("src", urlVideo);
                            if (!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)) {
                                this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`, "");
                            }
                            this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(iframe);
                        }
                        if (this.options.hashSettings.location) {
                            this._getHash();
                            this._setHash();
                        }
                        this.options.on.beforeOpen(this);
                        document.dispatchEvent(new CustomEvent("beforePopupOpen", {
                            detail: {
                                popup: this
                            }
                        }));
                        this.targetOpen.element.classList.add(this.options.classes.popupActive);
                        document.documentElement.classList.add(this.options.classes.bodyActive);
                        if (!this._reopen) !this.bodyLock ? bodyLock() : null; else this._reopen = false;
                        this.targetOpen.element.setAttribute("aria-hidden", "false");
                        this.previousOpen.selector = this.targetOpen.selector;
                        this.previousOpen.element = this.targetOpen.element;
                        this._selectorOpen = false;
                        this.isOpen = true;
                        setTimeout((() => {
                            this._focusTrap();
                        }), 50);
                        this.options.on.afterOpen(this);
                        document.dispatchEvent(new CustomEvent("afterPopupOpen", {
                            detail: {
                                popup: this
                            }
                        }));
                        this.popupLogging(`Открыл попап`);
                    } else this.popupLogging(`Ой ой, такого попапа нет.Проверьте корректность ввода. `);
                }
            }
            close(selectorValue) {
                if (selectorValue && "string" === typeof selectorValue && "" !== selectorValue.trim()) this.previousOpen.selector = selectorValue;
                if (!this.isOpen || !bodyLockStatus) return;
                this.options.on.beforeClose(this);
                document.dispatchEvent(new CustomEvent("beforePopupClose", {
                    detail: {
                        popup: this
                    }
                }));
                if (this.youTubeCode) if (this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)) this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML = "";
                this.previousOpen.element.classList.remove(this.options.classes.popupActive);
                this.previousOpen.element.setAttribute("aria-hidden", "true");
                if (!this._reopen) {
                    document.documentElement.classList.remove(this.options.classes.bodyActive);
                    !this.bodyLock ? bodyUnlock() : null;
                    this.isOpen = false;
                }
                this._removeHash();
                if (this._selectorOpen) {
                    this.lastClosed.selector = this.previousOpen.selector;
                    this.lastClosed.element = this.previousOpen.element;
                }
                this.options.on.afterClose(this);
                document.dispatchEvent(new CustomEvent("afterPopupClose", {
                    detail: {
                        popup: this
                    }
                }));
                setTimeout((() => {
                    this._focusTrap();
                }), 50);
                this.popupLogging(`Закрыл попап`);
            }
            _getHash() {
                if (this.options.hashSettings.location) this.hash = this.targetOpen.selector.includes("#") ? this.targetOpen.selector : this.targetOpen.selector.replace(".", "#");
            }
            _openToHash() {
                let classInHash = document.querySelector(`.${window.location.hash.replace("#", "")}`) ? `.${window.location.hash.replace("#", "")}` : document.querySelector(`${window.location.hash}`) ? `${window.location.hash}` : null;
                const buttons = document.querySelector(`[${this.options.attributeOpenButton} = "${classInHash}"]`) ? document.querySelector(`[${this.options.attributeOpenButton} = "${classInHash}"]`) : document.querySelector(`[${this.options.attributeOpenButton} = "${classInHash.replace(".", "#")}"]`);
                if (buttons && classInHash) this.open(classInHash);
            }
            _setHash() {
                history.pushState("", "", this.hash);
            }
            _removeHash() {
                history.pushState("", "", window.location.href.split("#")[0]);
            }
            _focusCatch(e) {
                const focusable = this.targetOpen.element.querySelectorAll(this._focusEl);
                const focusArray = Array.prototype.slice.call(focusable);
                const focusedIndex = focusArray.indexOf(document.activeElement);
                if (e.shiftKey && 0 === focusedIndex) {
                    focusArray[focusArray.length - 1].focus();
                    e.preventDefault();
                }
                if (!e.shiftKey && focusedIndex === focusArray.length - 1) {
                    focusArray[0].focus();
                    e.preventDefault();
                }
            }
            _focusTrap() {
                const focusable = this.previousOpen.element.querySelectorAll(this._focusEl);
                if (!this.isOpen && this.lastFocusEl) this.lastFocusEl.focus(); else focusable[0].focus();
            }
            popupLogging(message) {
                this.options.logging ? FLS(`[Попапос]: ${message}`) : null;
            }
        }
        flsModules.popup = new Popup({});
        var smooth_scroll_polyfills_min = __webpack_require__(3002);
        let gotoblock_gotoBlock = (targetBlock, noHeader = false, speed = 500, offsetTop = 0) => {
            const targetBlockElement = document.querySelector(targetBlock);
            if (targetBlockElement) {
                let headerItem = "";
                let headerItemHeight = 0;
                if (noHeader) {
                    headerItem = "header.header";
                    const headerElement = document.querySelector(headerItem);
                    if (!headerElement.classList.contains("_header-scroll")) {
                        headerElement.style.cssText = `transition-duration: 0s;`;
                        headerElement.classList.add("_header-scroll");
                        headerItemHeight = headerElement.offsetHeight;
                        headerElement.classList.remove("_header-scroll");
                        setTimeout((() => {
                            headerElement.style.cssText = ``;
                        }), 0);
                    } else headerItemHeight = headerElement.offsetHeight;
                }
                let options = {
                    speedAsDuration: true,
                    speed,
                    header: headerItem,
                    offset: offsetTop,
                    easing: "easeOutQuad"
                };
                document.documentElement.classList.contains("menu-open") ? menuClose() : null;
                if ("undefined" !== typeof smooth_scroll_polyfills_min) (new smooth_scroll_polyfills_min).animateScroll(targetBlockElement, "", options); else {
                    let targetBlockElementPosition = targetBlockElement.getBoundingClientRect().top + scrollY;
                    targetBlockElementPosition = headerItemHeight ? targetBlockElementPosition - headerItemHeight : targetBlockElementPosition;
                    targetBlockElementPosition = offsetTop ? targetBlockElementPosition - offsetTop : targetBlockElementPosition;
                    window.scrollTo({
                        top: targetBlockElementPosition,
                        behavior: "smooth"
                    });
                }
                FLS(`[gotoBlock]: Юхуу...едем к ${targetBlock}`);
            } else FLS(`[gotoBlock]: Ой ой..Такого блока нет на странице: ${targetBlock}`);
        };
        function formFieldsInit(options = {
            viewPass: false,
            autoHeight: false
        }) {
            const formFields = document.querySelectorAll("input[placeholder],textarea[placeholder]");
            if (formFields.length) formFields.forEach((formField => {
                if (!formField.hasAttribute("data-placeholder-nohide")) formField.dataset.placeholder = formField.placeholder;
            }));
            document.body.addEventListener("focusin", (function(e) {
                const targetElement = e.target;
                if ("INPUT" === targetElement.tagName || "TEXTAREA" === targetElement.tagName) {
                    if (targetElement.dataset.placeholder) targetElement.placeholder = "";
                    if (!targetElement.hasAttribute("data-no-focus-classes")) {
                        targetElement.classList.add("_form-focus");
                        targetElement.parentElement.classList.add("_form-focus");
                    }
                    targetElement.classList.remove("_filled");
                    formValidate.removeError(targetElement);
                }
            }));
            document.body.addEventListener("focusout", (function(e) {
                const targetElement = e.target;
                if ("INPUT" === targetElement.tagName || "TEXTAREA" === targetElement.tagName) {
                    if (targetElement.dataset.placeholder) targetElement.placeholder = targetElement.dataset.placeholder;
                    if (!targetElement.hasAttribute("data-no-focus-classes")) {
                        targetElement.classList.remove("_form-focus");
                        targetElement.parentElement.classList.remove("_form-focus");
                    }
                    if (targetElement.value.length) targetElement.classList.add("_filled");
                    if (targetElement.hasAttribute("data-validate")) formValidate.validateInput(targetElement);
                }
            }));
            if (options.viewPass) document.addEventListener("click", (function(e) {
                let targetElement = e.target;
                if (targetElement.closest('[class*="__viewpass"]')) {
                    let inputType = targetElement.classList.contains("_viewpass-active") ? "password" : "text";
                    targetElement.parentElement.querySelector("input").setAttribute("type", inputType);
                    targetElement.classList.toggle("_viewpass-active");
                }
            }));
            if (options.autoHeight) {
                const textareas = document.querySelectorAll("textarea[data-autoheight]");
                if (textareas.length) {
                    textareas.forEach((textarea => {
                        const startHeight = textarea.hasAttribute("data-autoheight-min") ? Number(textarea.dataset.autoheightMin) : Number(textarea.offsetHeight);
                        const maxHeight = textarea.hasAttribute("data-autoheight-max") ? Number(textarea.dataset.autoheightMax) : 1 / 0;
                        setHeight(textarea, Math.min(startHeight, maxHeight));
                        textarea.addEventListener("input", (() => {
                            if (textarea.scrollHeight > startHeight) {
                                textarea.style.height = `auto`;
                                setHeight(textarea, Math.min(Math.max(textarea.scrollHeight, startHeight), maxHeight));
                            }
                        }));
                    }));
                    function setHeight(textarea, height) {
                        textarea.style.height = `${height}px`;
                    }
                }
            }
        }
        let formValidate = {
            getErrors(form) {
                let error = 0;
                let formRequiredItems = form.querySelectorAll("*[data-required]");
                if (formRequiredItems.length) formRequiredItems.forEach((formRequiredItem => {
                    if ((null !== formRequiredItem.offsetParent || "SELECT" === formRequiredItem.tagName) && !formRequiredItem.disabled) error += this.validateInput(formRequiredItem);
                }));
                return error;
            },
            validateInput(formRequiredItem) {
                let error = 0;
                if ("email" === formRequiredItem.dataset.required) {
                    formRequiredItem.value = formRequiredItem.value.replace(" ", "");
                    if (this.emailTest(formRequiredItem)) {
                        this.addError(formRequiredItem);
                        error++;
                    } else this.removeError(formRequiredItem);
                } else if ("tel" === formRequiredItem.dataset.required) {
                    formRequiredItem.value = formRequiredItem.value.replace(" ", "");
                    let val = formRequiredItem.value.replace(/[^\d]/g, "");
                    if (val.length < 11) {
                        this.addError(formRequiredItem);
                        error++;
                    } else this.removeError(formRequiredItem);
                } else if ("radio" === formRequiredItem.dataset.required) {
                    const inputs = formRequiredItem.querySelectorAll("input[type=radio]");
                    let checked = false;
                    inputs.forEach((input => {
                        if (input.checked) checked = true;
                    }));
                    if (!checked) {
                        this.addError(formRequiredItem);
                        error++;
                    } else this.removeError(formRequiredItem);
                    return error;
                } else if ("checkbox" === formRequiredItem.type && !formRequiredItem.checked) {
                    this.addError(formRequiredItem);
                    error++;
                } else if (!formRequiredItem.value.trim()) {
                    this.addError(formRequiredItem);
                    error++;
                } else this.removeError(formRequiredItem);
                return error;
            },
            addError(formRequiredItem) {
                formRequiredItem.classList.add("_form-error");
                formRequiredItem.parentElement.classList.add("_form-error");
                let inputError = formRequiredItem.parentElement.querySelector(".form__error");
                if (inputError) formRequiredItem.parentElement.removeChild(inputError);
                if (formRequiredItem.dataset.error) formRequiredItem.parentElement.insertAdjacentHTML("beforeend", `<div class="form__error">${formRequiredItem.dataset.error}</div>`);
            },
            removeError(formRequiredItem) {
                formRequiredItem.classList.remove("_form-error");
                formRequiredItem.parentElement.classList.remove("_form-error");
                if (formRequiredItem.parentElement.querySelector(".form__error")) formRequiredItem.parentElement.removeChild(formRequiredItem.parentElement.querySelector(".form__error"));
            },
            formClean(form) {
                form.reset();
                setTimeout((() => {
                    let inputs = form.querySelectorAll("input,textarea");
                    for (let index = 0; index < inputs.length; index++) {
                        const el = inputs[index];
                        el.parentElement.classList.remove("_form-focus");
                        el.classList.remove("_form-focus");
                        formValidate.removeError(el);
                    }
                    let checkboxes = form.querySelectorAll(".checkbox__input");
                    if (checkboxes.length > 0) for (let index = 0; index < checkboxes.length; index++) {
                        const checkbox = checkboxes[index];
                        checkbox.checked = false;
                    }
                    if (flsModules.select) {
                        let selects = form.querySelectorAll(".select");
                        if (selects.length) for (let index = 0; index < selects.length; index++) {
                            const select = selects[index].querySelector("select");
                            flsModules.select.selectBuild(select);
                        }
                    }
                }), 0);
            },
            emailTest(formRequiredItem) {
                return !/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(formRequiredItem.value);
            }
        };
        function formSubmit() {
            const forms = document.forms;
            if (forms.length) for (const form of forms) {
                form.addEventListener("submit", (function(e) {
                    const form = e.target;
                    formSubmitAction(form, e);
                }));
                form.addEventListener("reset", (function(e) {
                    const form = e.target;
                    formValidate.formClean(form);
                }));
            }
            async function formSubmitAction(form, e) {
                const error = !form.hasAttribute("data-no-validate") ? formValidate.getErrors(form) : 0;
                if (0 === error) {
                    const ajax = form.hasAttribute("data-ajax");
                    if (ajax) {
                        e.preventDefault();
                        const formAction = form.getAttribute("action") ? form.getAttribute("action").trim() : "#";
                        const formMethod = form.getAttribute("method") ? form.getAttribute("method").trim() : "GET";
                        const formData = new FormData(form);
                        form.classList.add("_sending");
                        const response = await fetch(formAction, {
                            method: formMethod,
                            body: formData
                        });
                        if (response.ok) {
                            let responseResult = await response.json();
                            form.classList.remove("_sending");
                            formSent(form, responseResult);
                        } else {
                            alert("Ошибка");
                            form.classList.remove("_sending");
                        }
                    } else if (form.hasAttribute("data-dev")) {
                        e.preventDefault();
                        formSent(form);
                    }
                } else {
                    e.preventDefault();
                    if (form.querySelector("._form-error") && form.hasAttribute("data-goto-error")) {
                        const formGoToErrorClass = form.dataset.gotoError ? form.dataset.gotoError : "._form-error";
                        gotoblock_gotoBlock(formGoToErrorClass, true, 1e3);
                    }
                }
            }
            function formSent(form, responseResult = ``) {
                document.dispatchEvent(new CustomEvent("formSent", {
                    detail: {
                        form
                    }
                }));
                setTimeout((() => {
                    if (flsModules.popup) {
                        const popup = form.dataset.popupMessage;
                        popup ? flsModules.popup.open(popup) : null;
                    }
                }), 0);
                formValidate.formClean(form);
                formLogging(`Форма отправлена!`);
            }
            function formLogging(message) {
                FLS(`[Формы]: ${message}`);
            }
        }
        class SelectConstructor {
            constructor(props, data = null) {
                let defaultConfig = {
                    init: true,
                    logging: true
                };
                this.config = Object.assign(defaultConfig, props);
                this.selectClasses = {
                    classSelect: "select",
                    classSelectBody: "select__body",
                    classSelectTitle: "select__title",
                    classSelectValue: "select__value",
                    classSelectLabel: "select__label",
                    classSelectInput: "select__input",
                    classSelectText: "select__text",
                    classSelectLink: "select__link",
                    classSelectOptions: "select__options",
                    classSelectOptionsScroll: "select__scroll",
                    classSelectOption: "select__option",
                    classSelectContent: "select__content",
                    classSelectRow: "select__row",
                    classSelectData: "select__asset",
                    classSelectDisabled: "_select-disabled",
                    classSelectTag: "_select-tag",
                    classSelectOpen: "_select-open",
                    classSelectActive: "_select-active",
                    classSelectFocus: "_select-focus",
                    classSelectMultiple: "_select-multiple",
                    classSelectCheckBox: "_select-checkbox",
                    classSelectOptionSelected: "_select-selected",
                    classSelectOptionActive: "_select-option-active",
                    classSelectPseudoLabel: "_select-pseudo-label"
                };
                this._this = this;
                if (this.config.init) {
                    const selectItems = data ? document.querySelectorAll(data) : document.querySelectorAll("select");
                    if (selectItems.length) {
                        this.selectsInit(selectItems);
                        this.setLogging(`Проснулся, построил селектов: (${selectItems.length})`);
                    } else this.setLogging("Сплю, нет ни одного select zzZZZzZZz");
                }
            }
            getSelectClass(className) {
                return `.${className}`;
            }
            getSelectElement(selectItem, className) {
                return {
                    originalSelect: selectItem.querySelector("select"),
                    selectElement: selectItem.querySelector(this.getSelectClass(className))
                };
            }
            selectsInit(selectItems) {
                selectItems.forEach(((originalSelect, index) => {
                    this.selectInit(originalSelect, index + 1);
                }));
                document.addEventListener("click", function(e) {
                    this.selectsActions(e);
                }.bind(this));
                document.addEventListener("keydown", function(e) {
                    this.selectsActions(e);
                }.bind(this));
                document.addEventListener("focusin", function(e) {
                    this.selectsActions(e);
                }.bind(this));
                document.addEventListener("focusout", function(e) {
                    this.selectsActions(e);
                }.bind(this));
            }
            selectInit(originalSelect, index) {
                const _this = this;
                let selectItem = document.createElement("div");
                selectItem.classList.add(this.selectClasses.classSelect);
                originalSelect.parentNode.insertBefore(selectItem, originalSelect);
                selectItem.appendChild(originalSelect);
                originalSelect.hidden = true;
                index ? originalSelect.dataset.id = index : null;
                if (this.getSelectPlaceholder(originalSelect)) {
                    originalSelect.dataset.placeholder = this.getSelectPlaceholder(originalSelect).value;
                    if (this.getSelectPlaceholder(originalSelect).label.show) {
                        const selectItemTitle = this.getSelectElement(selectItem, this.selectClasses.classSelectTitle).selectElement;
                        selectItemTitle.insertAdjacentHTML("afterbegin", `<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(originalSelect).label.text ? this.getSelectPlaceholder(originalSelect).label.text : this.getSelectPlaceholder(originalSelect).value}</span>`);
                    }
                }
                selectItem.insertAdjacentHTML("beforeend", `<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`);
                this.selectBuild(originalSelect);
                originalSelect.dataset.speed = originalSelect.dataset.speed ? originalSelect.dataset.speed : "150";
                originalSelect.addEventListener("change", (function(e) {
                    _this.selectChange(e);
                }));
            }
            selectBuild(originalSelect) {
                const selectItem = originalSelect.parentElement;
                selectItem.dataset.id = originalSelect.dataset.id;
                originalSelect.dataset.classModif ? selectItem.classList.add(`select_${originalSelect.dataset.classModif}`) : null;
                originalSelect.multiple ? selectItem.classList.add(this.selectClasses.classSelectMultiple) : selectItem.classList.remove(this.selectClasses.classSelectMultiple);
                originalSelect.hasAttribute("data-checkbox") && originalSelect.multiple ? selectItem.classList.add(this.selectClasses.classSelectCheckBox) : selectItem.classList.remove(this.selectClasses.classSelectCheckBox);
                this.setSelectTitleValue(selectItem, originalSelect);
                this.setOptions(selectItem, originalSelect);
                originalSelect.hasAttribute("data-search") ? this.searchActions(selectItem) : null;
                originalSelect.hasAttribute("data-open") ? this.selectAction(selectItem) : null;
                this.selectDisabled(selectItem, originalSelect);
            }
            selectsActions(e) {
                const targetElement = e.target;
                const targetType = e.type;
                if (targetElement.closest(this.getSelectClass(this.selectClasses.classSelect)) || targetElement.closest(this.getSelectClass(this.selectClasses.classSelectTag))) {
                    const selectItem = targetElement.closest(".select") ? targetElement.closest(".select") : document.querySelector(`.${this.selectClasses.classSelect}[data-id="${targetElement.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`);
                    const originalSelect = this.getSelectElement(selectItem).originalSelect;
                    if ("click" === targetType) {
                        if (!originalSelect.disabled) if (targetElement.closest(this.getSelectClass(this.selectClasses.classSelectTag))) {
                            const targetTag = targetElement.closest(this.getSelectClass(this.selectClasses.classSelectTag));
                            const optionItem = document.querySelector(`.${this.selectClasses.classSelect}[data-id="${targetTag.dataset.selectId}"] .select__option[data-value="${targetTag.dataset.value}"]`);
                            this.optionAction(selectItem, originalSelect, optionItem);
                        } else if (targetElement.closest(this.getSelectClass(this.selectClasses.classSelectTitle))) this.selectAction(selectItem); else if (targetElement.closest(this.getSelectClass(this.selectClasses.classSelectOption))) {
                            const optionItem = targetElement.closest(this.getSelectClass(this.selectClasses.classSelectOption));
                            this.optionAction(selectItem, originalSelect, optionItem);
                        }
                    } else if ("focusin" === targetType || "focusout" === targetType) {
                        if (targetElement.closest(this.getSelectClass(this.selectClasses.classSelect))) "focusin" === targetType ? selectItem.classList.add(this.selectClasses.classSelectFocus) : selectItem.classList.remove(this.selectClasses.classSelectFocus);
                    } else if ("keydown" === targetType && "Escape" === e.code) this.selectsСlose();
                } else this.selectsСlose();
            }
            selectsСlose(selectOneGroup) {
                const selectsGroup = selectOneGroup ? selectOneGroup : document;
                const selectActiveItems = selectsGroup.querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);
                if (selectActiveItems.length) selectActiveItems.forEach((selectActiveItem => {
                    this.selectСlose(selectActiveItem);
                }));
            }
            selectСlose(selectItem) {
                const originalSelect = this.getSelectElement(selectItem).originalSelect;
                const selectOptions = this.getSelectElement(selectItem, this.selectClasses.classSelectOptions).selectElement;
                if (!selectOptions.classList.contains("_slide")) {
                    selectItem.classList.remove(this.selectClasses.classSelectOpen);
                    _slideUp(selectOptions, originalSelect.dataset.speed);
                }
            }
            selectAction(selectItem) {
                const originalSelect = this.getSelectElement(selectItem).originalSelect;
                const selectOptions = this.getSelectElement(selectItem, this.selectClasses.classSelectOptions).selectElement;
                if (originalSelect.closest("[data-one-select]")) {
                    const selectOneGroup = originalSelect.closest("[data-one-select]");
                    this.selectsСlose(selectOneGroup);
                }
                if (!selectOptions.classList.contains("_slide")) {
                    selectItem.classList.toggle(this.selectClasses.classSelectOpen);
                    _slideToggle(selectOptions, originalSelect.dataset.speed);
                }
            }
            setSelectTitleValue(selectItem, originalSelect) {
                const selectItemBody = this.getSelectElement(selectItem, this.selectClasses.classSelectBody).selectElement;
                const selectItemTitle = this.getSelectElement(selectItem, this.selectClasses.classSelectTitle).selectElement;
                if (selectItemTitle) selectItemTitle.remove();
                selectItemBody.insertAdjacentHTML("afterbegin", this.getSelectTitleValue(selectItem, originalSelect));
            }
            getSelectTitleValue(selectItem, originalSelect) {
                let selectTitleValue = this.getSelectedOptionsData(originalSelect, 2).html;
                if (originalSelect.multiple && originalSelect.hasAttribute("data-tags")) {
                    selectTitleValue = this.getSelectedOptionsData(originalSelect).elements.map((option => `<span role="button" data-select-id="${selectItem.dataset.id}" data-value="${option.value}" class="_select-tag">${this.getSelectElementContent(option)}</span>`)).join("");
                    if (originalSelect.dataset.tags && document.querySelector(originalSelect.dataset.tags)) {
                        document.querySelector(originalSelect.dataset.tags).innerHTML = selectTitleValue;
                        if (originalSelect.hasAttribute("data-search")) selectTitleValue = false;
                    }
                }
                selectTitleValue = selectTitleValue.length ? selectTitleValue : originalSelect.dataset.placeholder ? originalSelect.dataset.placeholder : "";
                let pseudoAttribute = "";
                let pseudoAttributeClass = "";
                if (originalSelect.hasAttribute("data-pseudo-label")) {
                    pseudoAttribute = originalSelect.dataset.pseudoLabel ? ` data-pseudo-label="${originalSelect.dataset.pseudoLabel}"` : ` data-pseudo-label="Заполните атрибут"`;
                    pseudoAttributeClass = ` ${this.selectClasses.classSelectPseudoLabel}`;
                }
                this.getSelectedOptionsData(originalSelect).values.length ? selectItem.classList.add(this.selectClasses.classSelectActive) : selectItem.classList.remove(this.selectClasses.classSelectActive);
                if (originalSelect.hasAttribute("data-search")) return `<div class="${this.selectClasses.classSelectTitle}"><span${pseudoAttribute} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${selectTitleValue}" data-placeholder="${selectTitleValue}" class="${this.selectClasses.classSelectInput}"></span></div>`; else {
                    const customClass = this.getSelectedOptionsData(originalSelect).elements.length && this.getSelectedOptionsData(originalSelect).elements[0].dataset.class ? ` ${this.getSelectedOptionsData(originalSelect).elements[0].dataset.class}` : "";
                    return `<button type="button" class="${this.selectClasses.classSelectTitle}"><span${pseudoAttribute} class="${this.selectClasses.classSelectValue}${pseudoAttributeClass}"><span class="${this.selectClasses.classSelectContent}${customClass}">${selectTitleValue}</span></span></button>`;
                }
            }
            getSelectElementContent(selectOption) {
                const selectOptionData = selectOption.dataset.asset ? `${selectOption.dataset.asset}` : "";
                const selectOptionDataHTML = selectOptionData.indexOf("img") >= 0 ? `<img src="${selectOptionData}" alt="">` : selectOptionData;
                let selectOptionContentHTML = ``;
                selectOptionContentHTML += selectOptionData ? `<span class="${this.selectClasses.classSelectRow}">` : "";
                selectOptionContentHTML += selectOptionData ? `<span class="${this.selectClasses.classSelectData}">` : "";
                selectOptionContentHTML += selectOptionData ? selectOptionDataHTML : "";
                selectOptionContentHTML += selectOptionData ? `</span>` : "";
                selectOptionContentHTML += selectOptionData ? `<span class="${this.selectClasses.classSelectText}">` : "";
                selectOptionContentHTML += selectOption.textContent;
                selectOptionContentHTML += selectOptionData ? `</span>` : "";
                selectOptionContentHTML += selectOptionData ? `</span>` : "";
                return selectOptionContentHTML;
            }
            getSelectPlaceholder(originalSelect) {
                const selectPlaceholder = Array.from(originalSelect.options).find((option => !option.value));
                if (selectPlaceholder) return {
                    value: selectPlaceholder.textContent,
                    show: selectPlaceholder.hasAttribute("data-show"),
                    label: {
                        show: selectPlaceholder.hasAttribute("data-label"),
                        text: selectPlaceholder.dataset.label
                    }
                };
            }
            getSelectedOptionsData(originalSelect, type) {
                let selectedOptions = [];
                if (originalSelect.multiple) selectedOptions = Array.from(originalSelect.options).filter((option => option.value)).filter((option => option.selected)); else selectedOptions.push(originalSelect.options[originalSelect.selectedIndex]);
                return {
                    elements: selectedOptions.map((option => option)),
                    values: selectedOptions.filter((option => option.value)).map((option => option.value)),
                    html: selectedOptions.map((option => this.getSelectElementContent(option)))
                };
            }
            getOptions(originalSelect) {
                let selectOptionsScroll = originalSelect.hasAttribute("data-scroll") ? `data-simplebar` : "";
                let selectOptionsScrollHeight = originalSelect.dataset.scroll ? `style="max-height:${originalSelect.dataset.scroll}px"` : "";
                let selectOptions = Array.from(originalSelect.options);
                if (selectOptions.length > 0) {
                    let selectOptionsHTML = ``;
                    if (this.getSelectPlaceholder(originalSelect) && !this.getSelectPlaceholder(originalSelect).show || originalSelect.multiple) selectOptions = selectOptions.filter((option => option.value));
                    selectOptionsHTML += selectOptionsScroll ? `<div ${selectOptionsScroll} ${selectOptionsScrollHeight} class="${this.selectClasses.classSelectOptionsScroll}">` : "";
                    selectOptions.forEach((selectOption => {
                        selectOptionsHTML += this.getOption(selectOption, originalSelect);
                    }));
                    selectOptionsHTML += selectOptionsScroll ? `</div>` : "";
                    return selectOptionsHTML;
                }
            }
            getOption(selectOption, originalSelect) {
                const selectOptionSelected = selectOption.selected && originalSelect.multiple ? ` ${this.selectClasses.classSelectOptionSelected}` : "";
                const selectOptionHide = selectOption.selected && !originalSelect.hasAttribute("data-show-selected") && !originalSelect.multiple ? `hidden` : ``;
                const selectOptionClass = selectOption.dataset.class ? ` ${selectOption.dataset.class}` : "";
                const selectOptionLink = selectOption.dataset.href ? selectOption.dataset.href : false;
                const selectOptionLinkTarget = selectOption.hasAttribute("data-href-blank") ? `target="_blank"` : "";
                let selectOptionHTML = ``;
                selectOptionHTML += selectOptionLink ? `<a ${selectOptionLinkTarget} ${selectOptionHide} href="${selectOptionLink}" data-value="${selectOption.value}" class="${this.selectClasses.classSelectOption}${selectOptionClass}${selectOptionSelected}">` : `<button ${selectOptionHide} class="${this.selectClasses.classSelectOption}${selectOptionClass}${selectOptionSelected}" data-value="${selectOption.value}" type="button">`;
                selectOptionHTML += this.getSelectElementContent(selectOption);
                selectOptionHTML += selectOptionLink ? `</a>` : `</button>`;
                return selectOptionHTML;
            }
            setOptions(selectItem, originalSelect) {
                const selectItemOptions = this.getSelectElement(selectItem, this.selectClasses.classSelectOptions).selectElement;
                selectItemOptions.innerHTML = this.getOptions(originalSelect);
            }
            optionAction(selectItem, originalSelect, optionItem) {
                if (originalSelect.multiple) {
                    optionItem.classList.toggle(this.selectClasses.classSelectOptionSelected);
                    const originalSelectSelectedItems = this.getSelectedOptionsData(originalSelect).elements;
                    originalSelectSelectedItems.forEach((originalSelectSelectedItem => {
                        originalSelectSelectedItem.removeAttribute("selected");
                    }));
                    const selectSelectedItems = selectItem.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));
                    selectSelectedItems.forEach((selectSelectedItems => {
                        originalSelect.querySelector(`option[value="${selectSelectedItems.dataset.value}"]`).setAttribute("selected", "selected");
                    }));
                } else {
                    if (!originalSelect.hasAttribute("data-show-selected")) {
                        if (selectItem.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)) selectItem.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden = false;
                        optionItem.hidden = true;
                    }
                    const activeOptions = selectItem.querySelector(this.getSelectClass(this.selectClasses.classSelectOptionActive));
                    if (activeOptions) activeOptions.classList.remove(this.selectClasses.classSelectOptionActive);
                    optionItem.classList.add(this.selectClasses.classSelectOptionActive);
                    originalSelect.value = optionItem.hasAttribute("data-value") ? optionItem.dataset.value : optionItem.textContent;
                    this.selectAction(selectItem);
                }
                this.setSelectTitleValue(selectItem, originalSelect);
                this.setSelectChange(originalSelect);
            }
            selectChange(e) {
                const originalSelect = e.target;
                this.selectBuild(originalSelect);
                this.setSelectChange(originalSelect);
            }
            setSelectChange(originalSelect) {
                if (originalSelect.hasAttribute("data-validate")) formValidate.validateInput(originalSelect);
                if (originalSelect.hasAttribute("data-submit") && originalSelect.value) {
                    let tempButton = document.createElement("button");
                    tempButton.type = "submit";
                    originalSelect.closest("form").append(tempButton);
                    tempButton.click();
                    tempButton.remove();
                }
                const selectItem = originalSelect.parentElement;
                this.selectCallback(selectItem, originalSelect);
            }
            selectDisabled(selectItem, originalSelect) {
                if (originalSelect.disabled) {
                    selectItem.classList.add(this.selectClasses.classSelectDisabled);
                    this.getSelectElement(selectItem, this.selectClasses.classSelectTitle).selectElement.disabled = true;
                } else {
                    selectItem.classList.remove(this.selectClasses.classSelectDisabled);
                    this.getSelectElement(selectItem, this.selectClasses.classSelectTitle).selectElement.disabled = false;
                }
            }
            searchActions(selectItem) {
                this.getSelectElement(selectItem).originalSelect;
                const selectInput = this.getSelectElement(selectItem, this.selectClasses.classSelectInput).selectElement;
                const selectOptions = this.getSelectElement(selectItem, this.selectClasses.classSelectOptions).selectElement;
                const selectOptionsItems = selectOptions.querySelectorAll(`.${this.selectClasses.classSelectOption}`);
                const _this = this;
                selectInput.addEventListener("input", (function() {
                    selectOptionsItems.forEach((selectOptionsItem => {
                        if (selectOptionsItem.textContent.toUpperCase().indexOf(selectInput.value.toUpperCase()) >= 0) selectOptionsItem.hidden = false; else selectOptionsItem.hidden = true;
                    }));
                    true === selectOptions.hidden ? _this.selectAction(selectItem) : null;
                }));
            }
            selectCallback(selectItem, originalSelect) {
                document.dispatchEvent(new CustomEvent("selectCallback", {
                    detail: {
                        select: originalSelect
                    }
                }));
            }
            setLogging(message) {
                this.config.logging ? FLS(`[select]: ${message}`) : null;
            }
        }
        flsModules.select = new SelectConstructor({});
        var extendStatics = function(d, b) {
            extendStatics = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function(d, b) {
                d.__proto__ = b;
            } || function(d, b) {
                for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
            };
            return extendStatics(d, b);
        };
        function __extends(d, b) {
            if ("function" !== typeof b && null !== b) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
            extendStatics(d, b);
            function __() {
                this.constructor = d;
            }
            d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __);
        }
        var __assign = function() {
            __assign = Object.assign || function __assign(t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                }
                return t;
            };
            return __assign.apply(this, arguments);
        };
        function __awaiter(thisArg, _arguments, P, generator) {
            function adopt(value) {
                return value instanceof P ? value : new P((function(resolve) {
                    resolve(value);
                }));
            }
            return new (P || (P = Promise))((function(resolve, reject) {
                function fulfilled(value) {
                    try {
                        step(generator.next(value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function rejected(value) {
                    try {
                        step(generator["throw"](value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function step(result) {
                    result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
                }
                step((generator = generator.apply(thisArg, _arguments || [])).next());
            }));
        }
        function __generator(thisArg, body) {
            var f, y, t, g, _ = {
                label: 0,
                sent: function() {
                    if (1 & t[0]) throw t[1];
                    return t[1];
                },
                trys: [],
                ops: []
            };
            return g = {
                next: verb(0),
                throw: verb(1),
                return: verb(2)
            }, "function" === typeof Symbol && (g[Symbol.iterator] = function() {
                return this;
            }), g;
            function verb(n) {
                return function(v) {
                    return step([ n, v ]);
                };
            }
            function step(op) {
                if (f) throw new TypeError("Generator is already executing.");
                while (g && (g = 0, op[0] && (_ = 0)), _) try {
                    if (f = 1, y && (t = 2 & op[0] ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 
                    0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                    if (y = 0, t) op = [ 2 & op[0], t.value ];
                    switch (op[0]) {
                      case 0:
                      case 1:
                        t = op;
                        break;

                      case 4:
                        _.label++;
                        return {
                            value: op[1],
                            done: false
                        };

                      case 5:
                        _.label++;
                        y = op[1];
                        op = [ 0 ];
                        continue;

                      case 7:
                        op = _.ops.pop();
                        _.trys.pop();
                        continue;

                      default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {
                            _ = 0;
                            continue;
                        }
                        if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {
                            _.label = op[1];
                            break;
                        }
                        if (6 === op[0] && _.label < t[1]) {
                            _.label = t[1];
                            t = op;
                            break;
                        }
                        if (t && _.label < t[2]) {
                            _.label = t[2];
                            _.ops.push(op);
                            break;
                        }
                        if (t[2]) _.ops.pop();
                        _.trys.pop();
                        continue;
                    }
                    op = body.call(thisArg, _);
                } catch (e) {
                    op = [ 6, e ];
                    y = 0;
                } finally {
                    f = t = 0;
                }
                if (5 & op[0]) throw op[1];
                return {
                    value: op[0] ? op[1] : void 0,
                    done: true
                };
            }
        }
        Object.create;
        function __read(o, n) {
            var m = "function" === typeof Symbol && o[Symbol.iterator];
            if (!m) return o;
            var r, e, i = m.call(o), ar = [];
            try {
                while ((void 0 === n || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
            } catch (error) {
                e = {
                    error
                };
            } finally {
                try {
                    if (r && !r.done && (m = i["return"])) m.call(i);
                } finally {
                    if (e) throw e.error;
                }
            }
            return ar;
        }
        function __spreadArray(to, from, pack) {
            if (pack || 2 === arguments.length) for (var ar, i = 0, l = from.length; i < l; i++) if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
            return to.concat(ar || Array.prototype.slice.call(from));
        }
        Object.create;
        function Type_isNaN(value) {
            return Number(value) !== value;
        }
        function getType(value) {
            return {}.toString.call(value);
        }
        function toNumber(value) {
            if (null != value && !isNumber(value)) {
                var converted = Number(value);
                if (Type_isNaN(converted) && isString(value) && "" != value) return toNumber(value.replace(/[^0-9.\-]+/g, ""));
                return converted;
            }
            return value;
        }
        function toDate(value) {
            if (isDate(value)) return new Date(value); else if (isNumber(value)) return new Date(value); else {
                var num = Number(value);
                if (!isNumber(num)) return new Date(value); else return new Date(num);
            }
        }
        function numberToString(value) {
            if (Type_isNaN(value)) return "NaN";
            if (value === 1 / 0) return "Infinity";
            if (value === -1 / 0) return "-Infinity";
            if (0 === value && 1 / value === -1 / 0) return "-0";
            var negative = value < 0;
            value = Math.abs(value);
            var parsed = /^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec("" + value);
            var digits = parsed[1];
            var decimals = parsed[2] || "";
            var res;
            if (void 0 === parsed[3]) res = "" === decimals ? digits : digits + "." + decimals; else {
                var exponent = +parsed[3];
                if (value < 1) {
                    var zeros = exponent - 1;
                    res = "0." + repeat("0", zeros) + digits + decimals;
                } else {
                    zeros = exponent - decimals.length;
                    if (0 === zeros) res = digits + decimals; else if (zeros < 0) res = digits + decimals.slice(0, zeros) + "." + decimals.slice(zeros); else res = digits + decimals + repeat("0", zeros);
                }
            }
            return negative ? "-" + res : res;
        }
        function repeat(string, amount) {
            return new Array(amount + 1).join(string);
        }
        function isDate(value) {
            return "[object Date]" === getType(value);
        }
        function isString(value) {
            return "string" === typeof value;
        }
        function isNumber(value) {
            return "number" === typeof value && Number(value) == value;
        }
        function Type_isObject(value) {
            return "object" === typeof value && null !== value;
        }
        var PLACEHOLDER = "__§§§__";
        var PLACEHOLDER2 = "__§§§§__";
        function indexOf(array, value) {
            var length = array.length;
            for (var i = 0; i < length; ++i) if (array[i] === value) return i;
            return -1;
        }
        function any(array, test) {
            var length = array.length;
            for (var i = 0; i < length; ++i) if (test(array[i])) return true;
            return false;
        }
        function map(array, fn) {
            var length = array.length;
            var output = new Array(length);
            for (var i = 0; i < length; ++i) output[i] = fn(array[i], i);
            return output;
        }
        function each(array, fn) {
            var length = array.length;
            for (var i = 0; i < length; ++i) fn(array[i], i);
        }
        function eachReverse(array, fn) {
            var i = array.length;
            while (i > 0) {
                --i;
                fn(array[i], i);
            }
        }
        function eachContinue(array, fn) {
            var length = array.length;
            for (var i = 0; i < length; ++i) if (!fn(array[i], i)) break;
        }
        function remove(array, element) {
            var found = false;
            var index = 0;
            for (;;) {
                index = array.indexOf(element, index);
                if (-1 === index) return found; else {
                    found = true;
                    array.splice(index, 1);
                }
            }
        }
        function removeFirst(array, element) {
            var index = array.indexOf(element);
            if (-1 !== index) {
                array.splice(index, 1);
                return true;
            } else return false;
        }
        function pushOne(array, element) {
            if (-1 === array.indexOf(element)) array.push(element);
        }
        function copy(array) {
            var length = array.length;
            var output = new Array(length);
            for (var i = 0; i < length; ++i) output[i] = array[i];
            return output;
        }
        function insertIndex(array, index, value) {
            array.splice(index, 0, value);
        }
        function removeIndex(array, index) {
            array.splice(index, 1);
        }
        function findIndex(array, matches) {
            var length = array.length;
            for (var i = 0; i < length; ++i) if (matches(array[i], i)) return i;
            return -1;
        }
        function findIndexReverse(array, matches) {
            var i = array.length;
            while (i > 0) {
                --i;
                if (matches(array[i], i)) return i;
            }
            return -1;
        }
        function find(array, matches) {
            var index = findIndex(array, matches);
            if (-1 !== index) return array[index];
        }
        function findReverse(array, matches) {
            var index = findIndexReverse(array, matches);
            if (-1 !== index) return array[index];
        }
        function getSortedIndex(array, ordering) {
            var start = 0;
            var end = array.length;
            var found = false;
            while (start < end) {
                var pivot = start + end >> 1;
                var order = ordering(array[pivot]);
                if (order < 0) start = pivot + 1; else if (0 === order) {
                    found = true;
                    start = pivot + 1;
                } else end = pivot;
            }
            return {
                found,
                index: found ? start - 1 : start
            };
        }
        function getFirstSortedIndex(array, ordering) {
            var start = 0;
            var end = array.length;
            var found = false;
            while (start < end) {
                var pivot = start + end >> 1;
                var order = ordering(array[pivot]);
                if (order < 0) start = pivot + 1; else if (0 === order) {
                    found = true;
                    end = pivot;
                } else end = pivot;
            }
            return {
                found,
                index: start
            };
        }
        function keepIf(array, keep) {
            var i = array.length;
            while (i > 0) {
                --i;
                if (!keep(array[i])) array.splice(i, 1);
            }
        }
        function keys(object) {
            return Object.keys(object);
        }
        function keysOrdered(object, order) {
            return keys(object).sort(order);
        }
        function Object_copy(object) {
            return Object.assign({}, object);
        }
        function Object_each(object, f) {
            keys(object).forEach((function(key) {
                f(key, object[key]);
            }));
        }
        function Object_eachContinue(object, fn) {
            for (var key in object) if (hasKey(object, key)) if (!fn(key, object[key])) break;
        }
        function hasKey(object, key) {
            return {}.hasOwnProperty.call(object, key);
        }
        var DisposerClass = function() {
            function DisposerClass() {
                Object.defineProperty(this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._disposed = false;
            }
            Object.defineProperty(DisposerClass.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(DisposerClass.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        this._dispose();
                    }
                }
            });
            return DisposerClass;
        }();
        var Disposer = function() {
            function Disposer(dispose) {
                Object.defineProperty(this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_dispose", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._disposed = false;
                this._dispose = dispose;
            }
            Object.defineProperty(Disposer.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(Disposer.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        this._dispose();
                    }
                }
            });
            return Disposer;
        }();
        var ArrayDisposer = function(_super) {
            __extends(ArrayDisposer, _super);
            function ArrayDisposer() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_disposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                return _this;
            }
            Object.defineProperty(ArrayDisposer.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    each(this._disposers, (function(x) {
                        x.dispose();
                    }));
                }
            });
            return ArrayDisposer;
        }(DisposerClass);
        var MultiDisposer = function(_super) {
            __extends(MultiDisposer, _super);
            function MultiDisposer(disposers) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_disposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this._disposers = disposers;
                return _this;
            }
            Object.defineProperty(MultiDisposer.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    each(this._disposers, (function(x) {
                        x.dispose();
                    }));
                }
            });
            return MultiDisposer;
        }(DisposerClass);
        (function(_super) {
            __extends(MutableValueDisposer, _super);
            function MutableValueDisposer() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_disposer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_value", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(MutableValueDisposer.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (null != this._disposer) {
                        this._disposer.dispose();
                        this._disposer = void 0;
                    }
                }
            });
            Object.defineProperty(MutableValueDisposer.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._value;
                }
            });
            Object.defineProperty(MutableValueDisposer.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, disposer) {
                    if (null != this._disposer) this._disposer.dispose();
                    this._disposer = disposer;
                    this._value = value;
                }
            });
            Object.defineProperty(MutableValueDisposer.prototype, "reset", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.set(void 0, void 0);
                }
            });
        })(DisposerClass);
        var CounterDisposer = function(_super) {
            __extends(CounterDisposer, _super);
            function CounterDisposer() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_counter", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                return _this;
            }
            Object.defineProperty(CounterDisposer.prototype, "increment", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    ++this._counter;
                    return new Disposer((function() {
                        --_this._counter;
                        if (0 === _this._counter) _this.dispose();
                    }));
                }
            });
            return CounterDisposer;
        }(Disposer);
        function ready(f) {
            if ("loading" !== document.readyState) f(); else {
                var listener_1 = function() {
                    if ("loading" !== document.readyState) {
                        document.removeEventListener("readystatechange", listener_1);
                        f();
                    }
                };
                document.addEventListener("readystatechange", listener_1);
            }
        }
        function removeElement(el) {
            if (el.parentNode) el.parentNode.removeChild(el);
        }
        function addEventListener(dom, type, listener, options) {
            dom.addEventListener(type, listener, options || false);
            return new Disposer((function() {
                dom.removeEventListener(type, listener, options || false);
            }));
        }
        function onZoom(listener) {
            return addEventListener(window, "resize", (function(_ev) {
                listener();
            }));
        }
        function supports(cap) {
            switch (cap) {
              case "touchevents":
                return window.hasOwnProperty("TouchEvent");

              case "pointerevents":
                return window.hasOwnProperty("PointerEvent");

              case "mouseevents":
                return window.hasOwnProperty("MouseEvent");

              case "wheelevents":
                return window.hasOwnProperty("WheelEvent");

              case "keyboardevents":
                return window.hasOwnProperty("KeyboardEvent");
            }
            return false;
        }
        function getPointerId(event) {
            var id = event.pointerId || 0;
            return id;
        }
        function Utils_blur() {
            if (document.activeElement && document.activeElement != document.body) if (document.activeElement.blur) document.activeElement.blur(); else {
                var input = document.createElement("button");
                input.style.position = "fixed";
                input.style.top = "0px";
                input.style.left = "-10000px";
                document.body.appendChild(input);
                input.focus();
                input.blur();
                document.body.removeChild(input);
            }
        }
        function Utils_focus(el) {
            if (el) el.focus();
        }
        function getRendererEvent(key) {
            if (supports("pointerevents")) return key; else if (supports("touchevents")) switch (key) {
              case "pointerover":
                return "touchstart";

              case "pointerout":
                return "touchend";

              case "pointerdown":
                return "touchstart";

              case "pointermove":
                return "touchmove";

              case "pointerup":
                return "touchend";

              case "click":
                return "click";

              case "dblclick":
                return "dblclick";
            } else if (supports("mouseevents")) switch (key) {
              case "pointerover":
                return "mouseover";

              case "pointerout":
                return "mouseout";

              case "pointerdown":
                return "mousedown";

              case "pointermove":
                return "mousemove";

              case "pointerup":
                return "mouseup";

              case "click":
                return "click";

              case "dblclick":
                return "dblclick";
            }
            return key;
        }
        function isTouchEvent(ev) {
            if ("undefined" !== typeof Touch && ev instanceof Touch) return true; else if ("undefined" !== typeof PointerEvent && ev instanceof PointerEvent && null != ev.pointerType) switch (ev.pointerType) {
              case "touch":
              case "pen":
              case 2:
                return true;

              case "mouse":
              case 4:
                return false;

              default:
                return !(ev instanceof MouseEvent);
            } else if (null != ev.type) if (ev.type.match(/^mouse/)) return false;
            return true;
        }
        function setStyle(dom, property, value) {
            dom.style[property] = value;
        }
        function getStyle(dom, property) {
            return dom.style[property];
        }
        function contains(a, b) {
            var cursor = b;
            while (true) if (a === cursor) return true; else if (null === cursor.parentNode) if (null == cursor.host) return false; else cursor = cursor.host; else cursor = cursor.parentNode;
        }
        function isLocalEvent(event, target) {
            return event.target && contains(target.root.dom, event.target);
        }
        function setInteractive(target, interactive) {
            if (interactive) target.style.pointerEvents = "auto"; else target.style.pointerEvents = "none";
        }
        var rootStylesheet;
        function createStylesheet(element, text, nonce) {
            if (void 0 === nonce) nonce = "";
            var e = document.createElement("style");
            e.type = "text/css";
            if ("" != nonce) e.setAttribute("nonce", nonce);
            e.textContent = text;
            if (null === element) document.head.appendChild(e); else element.appendChild(e);
            return e;
        }
        function getStylesheet(element, nonce) {
            if (void 0 === nonce) nonce = "";
            if (null === element) {
                if (null == rootStylesheet) {
                    var e = document.createElement("style");
                    e.type = "text/css";
                    if ("" != nonce) e.setAttribute("nonce", nonce);
                    document.head.appendChild(e);
                    rootStylesheet = e.sheet;
                }
                return rootStylesheet;
            } else {
                e = document.createElement("style");
                e.type = "text/css";
                if ("" != nonce) e.setAttribute("nonce", nonce);
                element.appendChild(e);
                return e.sheet;
            }
        }
        function appendStylesheet(root, selector) {
            var index = root.cssRules.length;
            root.insertRule(selector + "{}", index);
            return root.cssRules[index];
        }
        (function(_super) {
            __extends(StyleRule, _super);
            function StyleRule(element, selector, styles, nonce) {
                if (void 0 === nonce) nonce = "";
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_root", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_rule", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this._root = getStylesheet(element, nonce);
                try {
                    _this._rule = appendStylesheet(_this._root, selector);
                    Object_each(styles, (function(key, value) {
                        _this.setStyle(key, value);
                    }));
                } catch (err) {
                    _this._rule = new CSSStyleRule;
                }
                return _this;
            }
            Object.defineProperty(StyleRule.prototype, "selector", {
                get: function() {
                    return this._rule.selectorText;
                },
                set: function(selector) {
                    this._rule.selectorText = selector;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(StyleRule.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var index = indexOf(this._root.cssRules, this._rule);
                    if (-1 === index) throw new Error("Could not dispose StyleRule"); else this._root.deleteRule(index);
                }
            });
            Object.defineProperty(StyleRule.prototype, "_setVendorPrefixName", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, value) {
                    var style = this._rule.style;
                    style.setProperty("-webkit-" + name, value, "");
                    style.setProperty("-moz-" + name, value, "");
                    style.setProperty("-ms-" + name, value, "");
                    style.setProperty("-o-" + name, value, "");
                    style.setProperty(name, value, "");
                }
            });
            Object.defineProperty(StyleRule.prototype, "setStyle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, value) {
                    if ("transition" === name) this._setVendorPrefixName(name, value); else this._rule.style.setProperty(name, value, "");
                }
            });
        })(DisposerClass);
        (function(_super) {
            __extends(StyleSheet, _super);
            function StyleSheet(element, text, nonce) {
                if (void 0 === nonce) nonce = "";
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_element", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this._element = createStylesheet(element, text, nonce);
                return _this;
            }
            Object.defineProperty(StyleSheet.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._element.parentNode) this._element.parentNode.removeChild(this._element);
                }
            });
        })(DisposerClass);
        function iOS() {
            return /apple/i.test(navigator.vendor) && "ontouchend" in document;
        }
        function getSafeResolution() {
            return iOS() ? 1 : void 0;
        }
        function relativeToValue(percent, full) {
            if (isNumber(percent)) return percent; else if (null != percent && isNumber(percent.value) && isNumber(full)) return full * percent.value; else return 0;
        }
        function decimalPlaces(number) {
            var match = ("" + number).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
            if (!match) return 0;
            return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));
        }
        function padString(value, len, char) {
            if (void 0 === len) len = 0;
            if (void 0 === char) char = "0";
            if ("string" !== typeof value) value = value.toString();
            return len > value.length ? Array(len - value.length + 1).join(char) + value : value;
        }
        function trimLeft(text) {
            return text.replace(/^[\s]*/, "");
        }
        function trimRight(text) {
            return text.replace(/[\s]*$/, "");
        }
        function trim(text) {
            return trimLeft(trimRight(text));
        }
        function getFormat(format) {
            if ("undefined" === typeof format) return "string";
            format = format.toLowerCase().replace(/^\[[^\]]*\]/, "");
            format = format.replace(/\[[^\]]+\]/, "");
            format = format.trim();
            var hints = format.match(/\/(date|number|duration)$/);
            if (hints) return hints[1];
            if ("number" === format) return "number";
            if ("date" === format) return "date";
            if ("duration" === format) return "duration";
            if (format.match(/[#0]/)) return "number";
            if (format.match(/[ymwdhnsqaxkzgtei]/)) return "date";
            return "string";
        }
        function cleanFormat(format) {
            return format.replace(/\/(date|number|duration)$/i, "");
        }
        function stripTags(text) {
            return text ? text.replace(/<[^>]*>/g, "") : text;
        }
        function escapeForRgex(value) {
            return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
        }
        function getYearDay(date, utc) {
            if (void 0 === utc) utc = false;
            utc;
            var start = new Date(date.getFullYear(), 0, 0);
            var diff = date.getTime() - start.getTime() + 60 * (start.getTimezoneOffset() - date.getTimezoneOffset()) * 1e3;
            var oneDay = 1e3 * 60 * 60 * 24;
            return Math.floor(diff / oneDay);
        }
        function getWeek(date, _utc) {
            if (void 0 === _utc) _utc = false;
            var d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
            var day = d.getUTCDay() || 7;
            d.setUTCDate(d.getUTCDate() + 4 - day);
            var firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
            return Math.ceil(((d.getTime() - firstDay.getTime()) / 864e5 + 1) / 7);
        }
        function getMonthWeek(date, utc) {
            if (void 0 === utc) utc = false;
            var firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);
            var currentWeek = getWeek(date, utc);
            if (1 == currentWeek) currentWeek = 53;
            return currentWeek - firstWeek + 1;
        }
        function getDayFromWeek(week, year, weekday, utc) {
            if (void 0 === weekday) weekday = 1;
            if (void 0 === utc) utc = false;
            var date = new Date(year, 0, 4, 0, 0, 0, 0);
            if (utc) date.setUTCFullYear(year);
            var day = 7 * week + weekday - ((date.getDay() || 7) + 3);
            return day;
        }
        function get12Hours(hours, base) {
            if (hours > 12) hours -= 12; else if (0 === hours) hours = 12;
            return null != base ? hours + (base - 1) : hours;
        }
        function getTimeZone(date, long, savings, utc) {
            if (void 0 === long) long = false;
            if (void 0 === savings) savings = false;
            if (void 0 === utc) utc = false;
            if (utc) return long ? "Coordinated Universal Time" : "UTC";
            var wotz = date.toLocaleString("UTC");
            var wtz = date.toLocaleString("UTC", {
                timeZoneName: long ? "long" : "short"
            }).substr(wotz.length);
            if (false === savings) wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, " ");
            return wtz;
        }
        function getTimezoneOffset(timezone) {
            var date = new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));
            var utcDate = new Date(date.toLocaleString("en-US", {
                timeZone: "UTC"
            }));
            var tzDate = new Date(date.toLocaleString("en-US", {
                timeZone: timezone
            }));
            return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;
        }
        function capitalizeFirst(text) {
            return text.charAt(0).toUpperCase() + text.slice(1);
        }
        function hslToRgb(color) {
            var r, g, b;
            var h = color.h;
            var s = color.s;
            var l = color.l;
            if (0 == s) r = g = b = l; else {
                var hue2rgb = function hue2rgb(p, q, t) {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + 6 * (q - p) * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };
                var q = l < .5 ? l * (1 + s) : l + s - l * s;
                var p = 2 * l - q;
                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }
            return {
                r: Math.round(255 * r),
                g: Math.round(255 * g),
                b: Math.round(255 * b)
            };
        }
        function rgbToHsl(color) {
            var r = color.r / 255;
            var g = color.g / 255;
            var b = color.b / 255;
            var max = Math.max(r, g, b);
            var min = Math.min(r, g, b);
            var h = 0;
            var s = 0;
            var l = (max + min) / 2;
            if (max === min) h = s = 0; else {
                var d = max - min;
                s = l > .5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                  case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;

                  case g:
                    h = (b - r) / d + 2;
                    break;

                  case b:
                    h = (r - g) / d + 4;
                    break;
                }
                h /= 6;
            }
            return {
                h,
                s,
                l
            };
        }
        function lighten(rgb, percent) {
            if (rgb) return {
                r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),
                g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),
                b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),
                a: rgb.a
            }; else return rgb;
        }
        function getLightnessStep(value, percent) {
            var base = percent > 0 ? 255 - value : value;
            return Math.round(base * percent);
        }
        function brighten(rgb, percent) {
            if (rgb) {
                var base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);
                var step = getLightnessStep(base, percent);
                return {
                    r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),
                    g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),
                    b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),
                    a: rgb.a
                };
            } else return rgb;
        }
        function isLight(color) {
            return (299 * color.r + 587 * color.g + 114 * color.b) / 1e3 >= 128;
        }
        function saturate(rgb, saturation) {
            if (void 0 === rgb || 1 == saturation) return rgb;
            var hsl = rgbToHsl(rgb);
            hsl.s = saturation;
            return hslToRgb(hsl);
        }
        function alternativeColor(color, lightAlternative, darkAlternative) {
            if (void 0 === lightAlternative) lightAlternative = {
                r: 255,
                g: 255,
                b: 255
            };
            if (void 0 === darkAlternative) darkAlternative = {
                r: 255,
                g: 255,
                b: 255
            };
            var light = lightAlternative;
            var dark = darkAlternative;
            if (isLight(darkAlternative)) {
                light = darkAlternative;
                dark = lightAlternative;
            }
            return isLight(color) ? dark : light;
        }
        function mergeTags(tags1, tags2) {
            if (!tags1) tags1 = [];
            return __spreadArray(__spreadArray([], __read(tags1), false), __read(tags2), false).filter((function(value, index, self) {
                return self.indexOf(value) === index;
            }));
        }
        function sameBounds(a, b) {
            if (!b) return false;
            if (a.left != b.left) return false;
            if (a.right != b.right) return false;
            if (a.top != b.top) return false;
            if (a.bottom != b.bottom) return false;
            return true;
        }
        var Percent = function() {
            function Percent(percent) {
                Object.defineProperty(this, "_value", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._value = percent;
            }
            Object.defineProperty(Percent.prototype, "value", {
                get: function() {
                    return this._value / 100;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Percent.prototype, "percent", {
                get: function() {
                    return this._value;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Percent.prototype, "toString", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._value + "%";
                }
            });
            Object.defineProperty(Percent.prototype, "interpolate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max) {
                    return min + this.value * (max - min);
                }
            });
            Object.defineProperty(Percent, "normalize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(percent, min, max) {
                    if (percent instanceof Percent) return percent; else if (min === max) return new Percent(0); else return new Percent(100 * Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1));
                }
            });
            return Percent;
        }();
        function percent(value) {
            return new Percent(value);
        }
        percent(0);
        var p100 = percent(100);
        var p50 = percent(50);
        var EventDispatcher = function() {
            function EventDispatcher() {
                Object.defineProperty(this, "_listeners", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_killed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_disabled", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_iterating", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_enabled", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._listeners = [];
                this._killed = [];
                this._disabled = {};
                this._iterating = 0;
                this._enabled = true;
                this._disposed = false;
            }
            Object.defineProperty(EventDispatcher.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        var a = this._listeners;
                        this._iterating = 1;
                        this._listeners = null;
                        this._disabled = null;
                        try {
                            each(a, (function(x) {
                                x.disposer.dispose();
                            }));
                        } finally {
                            this._killed = null;
                            this._iterating = null;
                        }
                    }
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "hasListeners", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return 0 !== this._listeners.length;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "hasListenersByType", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    return any(this._listeners, (function(x) {
                        return (null === x.type || x.type === type) && !x.killed;
                    }));
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "enable", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._enabled = true;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "disable", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._enabled = false;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "enableType", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    delete this._disabled[type];
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "disableType", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, amount) {
                    if (void 0 === amount) amount = 1 / 0;
                    this._disabled[type] = amount;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "_removeListener", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(listener) {
                    if (0 === this._iterating) {
                        var index = this._listeners.indexOf(listener);
                        if (-1 === index) throw new Error("Invalid state: could not remove listener");
                        this._listeners.splice(index, 1);
                    } else this._killed.push(listener);
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "_removeExistingListener", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(once, type, callback, context) {
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    this._eachListener((function(info) {
                        if (info.once === once && info.type === type && (void 0 === callback || info.callback === callback) && info.context === context) info.disposer.dispose();
                    }));
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "isEnabled", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && void 0 === this._disabled[type];
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "removeType", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    this._eachListener((function(info) {
                        if (info.type === type) info.disposer.dispose();
                    }));
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "has", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, callback, context) {
                    var index = findIndex(this._listeners, (function(info) {
                        return true !== info.once && info.type === type && (void 0 === callback || info.callback === callback) && info.context === context;
                    }));
                    return -1 !== index;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "_shouldDispatch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    var count = this._disabled[type];
                    if (!isNumber(count)) return this._enabled; else {
                        if (count <= 1) delete this._disabled[type]; else --this._disabled[type];
                        return false;
                    }
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "_eachListener", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fn) {
                    var _this = this;
                    ++this._iterating;
                    try {
                        each(this._listeners, fn);
                    } finally {
                        --this._iterating;
                        if (0 === this._iterating && 0 !== this._killed.length) {
                            each(this._killed, (function(killed) {
                                _this._removeListener(killed);
                            }));
                            this._killed.length = 0;
                        }
                    }
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "dispatch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, event) {
                    if (this._shouldDispatch(type)) this._eachListener((function(listener) {
                        if (!listener.killed && (null === listener.type || listener.type === type)) listener.dispatch(type, event);
                    }));
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "_on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(once, type, callback, context, shouldClone, dispatch) {
                    var _this = this;
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    this._removeExistingListener(once, type, callback, context);
                    var info = {
                        type,
                        callback,
                        context,
                        shouldClone,
                        dispatch,
                        killed: false,
                        once,
                        disposer: new Disposer((function() {
                            info.killed = true;
                            _this._removeListener(info);
                        }))
                    };
                    this._listeners.push(info);
                    return info;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "onAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(callback, context, shouldClone) {
                    if (void 0 === shouldClone) shouldClone = true;
                    return this._on(false, null, callback, context, shouldClone, (function(_type, event) {
                        return callback.call(context, event);
                    })).disposer;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, callback, context, shouldClone) {
                    if (void 0 === shouldClone) shouldClone = true;
                    return this._on(false, type, callback, context, shouldClone, (function(_type, event) {
                        return callback.call(context, event);
                    })).disposer;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "once", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, callback, context, shouldClone) {
                    if (void 0 === shouldClone) shouldClone = true;
                    var x = this._on(true, type, callback, context, shouldClone, (function(_type, event) {
                        x.disposer.dispose();
                        callback.call(context, event);
                    }));
                    return x.disposer;
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "off", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, callback, context) {
                    this._removeExistingListener(false, type, callback, context);
                }
            });
            Object.defineProperty(EventDispatcher.prototype, "copyFrom", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(source) {
                    var _this = this;
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    if (source === this) throw new Error("Cannot copyFrom the same TargetedEventDispatcher");
                    var disposers = [];
                    each(source._listeners, (function(x) {
                        if (!x.killed && x.shouldClone) if (null === x.type) disposers.push(_this.onAll(x.callback, x.context)); else if (x.once) disposers.push(_this.once(x.type, x.callback, x.context)); else disposers.push(_this.on(x.type, x.callback, x.context));
                    }));
                    return new MultiDisposer(disposers);
                }
            });
            return EventDispatcher;
        }();
        (function(_super) {
            __extends(TargetedEventDispatcher, _super);
            function TargetedEventDispatcher(target) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "target", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this.target = target;
                return _this;
            }
            Object.defineProperty(TargetedEventDispatcher.prototype, "copyFrom", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(source) {
                    var _this = this;
                    if (this._disposed) throw new Error("EventDispatcher is disposed");
                    if (source === this) throw new Error("Cannot copyFrom the same TargetedEventDispatcher");
                    var disposers = [];
                    each(source._listeners, (function(x) {
                        if (x.context === source.target) return;
                        if (!x.killed && x.shouldClone) if (null === x.type) disposers.push(_this.onAll(x.callback, x.context)); else if (x.once) disposers.push(_this.once(x.type, x.callback, x.context)); else disposers.push(_this.on(x.type, x.callback, x.context));
                    }));
                    return new MultiDisposer(disposers);
                }
            });
        })(EventDispatcher);
        function waitForAnimations(animations) {
            return __awaiter(this, void 0, void 0, (function() {
                var promises_1;
                return __generator(this, (function(_a) {
                    switch (_a.label) {
                      case 0:
                        if (!(void 0 !== animations)) return [ 3, 2 ];
                        promises_1 = [];
                        Object_each(animations, (function(_, animation) {
                            promises_1.push(animation.waitForStop());
                        }));
                        return [ 4, Promise.all(promises_1) ];

                      case 1:
                        _a.sent();
                        _a.label = 2;

                      case 2:
                        return [ 2 ];
                    }
                }));
            }));
        }
        function range(diff, from, to) {
            return from + diff * (to - from);
        }
        function defaultInterpolate(diff, from, to) {
            if (diff >= 1) return to; else return from;
        }
        function percentInterpolate(diff, from, to) {
            return new Percent(range(diff, from.percent, to.percent));
        }
        function colorInterpolate(diff, from, to) {
            return Color.interpolate(diff, from, to);
        }
        function getInterpolate(from, to) {
            if ("number" === typeof from && "number" === typeof to) return range;
            if (from instanceof Percent && to instanceof Percent) return percentInterpolate;
            if (from instanceof Color && to instanceof Color) return colorInterpolate;
            return defaultInterpolate;
        }
        (function() {
            function AnimationTime(entity, duration) {
                Object.defineProperty(this, "_entity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_duration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_playingDuration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(this, "_startingTime", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(this, "_current", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_from", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_to", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new EventDispatcher
                });
                Object.defineProperty(this, "easing", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._entity = entity;
                this._duration = duration;
            }
            Object.defineProperty(AnimationTime.prototype, "_stopEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var type = "stopped";
                    if (this.events.isEnabled(type)) this.events.dispatch(type, {
                        type,
                        target: this
                    });
                }
            });
            Object.defineProperty(AnimationTime.prototype, "_runAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    if (null !== this._playingDuration) if (null === this._startingTime) {
                        this._startingTime = currentTime;
                        return true;
                    } else {
                        var diff = (currentTime - this._startingTime) / this._playingDuration;
                        if (diff >= 1) {
                            this._playingDuration = null;
                            this._startingTime = null;
                            this._from = this._to;
                            this._current = this._to;
                            this._entity.markDirty();
                            this._stopEvent();
                            var type = "ended";
                            if (this.events.isEnabled(type)) this.events.dispatch(type, {
                                type,
                                target: this
                            });
                            return false;
                        } else {
                            this._current = range(diff, this._from, this._to);
                            this._entity.markDirty();
                            type = "progress";
                            if (this.events.isEnabled(type)) this.events.dispatch(type, {
                                type,
                                target: this,
                                progress: diff
                            });
                            return true;
                        }
                    } else return false;
                }
            });
            Object.defineProperty(AnimationTime.prototype, "_play", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._from = this._current;
                    if (null === this._playingDuration) {
                        this._entity._root._addAnimation(this);
                        var type = "started";
                        if (this.events.isEnabled(type)) this.events.dispatch(type, {
                            type,
                            target: this
                        });
                    } else this._startingTime = null;
                    this._playingDuration = Math.abs(this._to - this._from) * this._duration;
                }
            });
            Object.defineProperty(AnimationTime.prototype, "duration", {
                get: function() {
                    return this._duration;
                },
                set: function(value) {
                    if (this._duration !== value) {
                        this._duration = value;
                        if (0 === value) this.jumpTo(this._to); else if (this._current !== this._to) this._play();
                    }
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(AnimationTime.prototype, "current", {
                get: function() {
                    if (this.easing) return this.easing(this._current); else return this._current;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(AnimationTime.prototype, "stop", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.jumpTo(this._current);
                }
            });
            Object.defineProperty(AnimationTime.prototype, "jumpTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    if (this._current !== value) this._entity.markDirty();
                    if (null !== this._playingDuration) this._stopEvent();
                    this._playingDuration = null;
                    this._startingTime = null;
                    this._current = value;
                    this._from = value;
                    this._to = value;
                }
            });
            Object.defineProperty(AnimationTime.prototype, "tweenTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    if (this._current === value || 0 === this._duration) this.jumpTo(value); else if (this._to !== value) {
                        this._to = value;
                        this._play();
                    }
                }
            });
        })();
        function string2hex(string) {
            if ("#" === string[0]) string = string.substr(1);
            if (3 == string.length) string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);
            return parseInt(string, 16);
        }
        function rgba2hex(color) {
            color = color.replace(/[ ]/g, "");
            var matches = color.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);
            if (matches) matches.push("1"); else {
                matches = color.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i);
                if (!matches) return 0;
            }
            var hex = "";
            for (var i = 1; i <= 3; i++) {
                var val = parseInt(matches[i]).toString(16);
                if (1 == val.length) val = "0" + val;
                hex += val;
            }
            return string2hex(hex);
        }
        function Color_color(input) {
            return Color.fromAny(input);
        }
        var Color = function() {
            function Color(hex) {
                Object.defineProperty(this, "_hex", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._hex = 0 | hex;
            }
            Object.defineProperty(Color.prototype, "hex", {
                get: function() {
                    return this._hex;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Color.prototype, "r", {
                get: function() {
                    return this._hex >>> 16;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Color.prototype, "g", {
                get: function() {
                    return this._hex >> 8 & 255;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Color.prototype, "b", {
                get: function() {
                    return 255 & this._hex;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Color.prototype, "toCSS", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(alpha) {
                    if (void 0 === alpha) alpha = 1;
                    return "rgba(" + this.r + ", " + this.g + ", " + this.b + ", " + alpha + ")";
                }
            });
            Object.defineProperty(Color.prototype, "toCSSHex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return "#" + padString(this.r.toString(16), 2) + padString(this.g.toString(16), 2) + padString(this.b.toString(16), 2);
                }
            });
            Object.defineProperty(Color.prototype, "toHSL", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(alpha) {
                    if (void 0 === alpha) alpha = 1;
                    return rgbToHsl({
                        r: this.r,
                        g: this.g,
                        b: this.b,
                        a: alpha
                    });
                }
            });
            Object.defineProperty(Color, "fromHSL", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(h, s, l) {
                    var rgb = hslToRgb({
                        h,
                        s,
                        l
                    });
                    return this.fromRGB(rgb.r, rgb.g, rgb.b);
                }
            });
            Object.defineProperty(Color.prototype, "toString", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.toCSSHex();
                }
            });
            Object.defineProperty(Color, "fromHex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(hex) {
                    return new Color(hex);
                }
            });
            Object.defineProperty(Color, "fromRGB", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(r, g, b) {
                    return new Color((0 | b) + (g << 8) + (r << 16));
                }
            });
            Object.defineProperty(Color, "fromString", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(s) {
                    return new Color(string2hex(s));
                }
            });
            Object.defineProperty(Color, "fromCSS", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(s) {
                    return new Color(rgba2hex(s));
                }
            });
            Object.defineProperty(Color, "fromAny", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(s) {
                    if (isString(s)) {
                        if ("#" == s[0]) return Color.fromString(s); else if ("rgb" == s.substr(0, 3)) return Color.fromCSS(s);
                    } else if (isNumber(s)) return Color.fromHex(s); else if (s instanceof Color) return Color.fromHex(s.hex);
                    throw new Error("Unknown color syntax: " + s);
                }
            });
            Object.defineProperty(Color, "alternative", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, lightAlternative, darkAlternative) {
                    var rgb = alternativeColor({
                        r: color.r,
                        g: color.g,
                        b: color.b
                    }, lightAlternative ? {
                        r: lightAlternative.r,
                        g: lightAlternative.g,
                        b: lightAlternative.b
                    } : void 0, darkAlternative ? {
                        r: darkAlternative.r,
                        g: darkAlternative.g,
                        b: darkAlternative.b
                    } : void 0);
                    return this.fromRGB(rgb.r, rgb.g, rgb.b);
                }
            });
            Object.defineProperty(Color, "interpolate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(diff, from, to, mode) {
                    if (void 0 === mode) mode = "rgb";
                    if ("hsl" == mode) {
                        var fromHSL = from.toHSL();
                        var toHSL = to.toHSL();
                        return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));
                    } else return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));
                }
            });
            Object.defineProperty(Color, "lighten", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, percent) {
                    var rgb = lighten({
                        r: color.r,
                        g: color.g,
                        b: color.b
                    }, percent);
                    return Color.fromRGB(rgb.r, rgb.g, rgb.b);
                }
            });
            Object.defineProperty(Color, "brighten", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, percent) {
                    var rgb = brighten({
                        r: color.r,
                        g: color.g,
                        b: color.b
                    }, percent);
                    return Color.fromRGB(rgb.r, rgb.g, rgb.b);
                }
            });
            Object.defineProperty(Color, "saturate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, percent) {
                    var rgb = saturate({
                        r: color.r,
                        g: color.g,
                        b: color.b
                    }, percent);
                    return Color.fromRGB(rgb.r, rgb.g, rgb.b);
                }
            });
            return Color;
        }();
        function sleep(ms) {
            return new Promise((function(resolve, _reject) {
                setTimeout(resolve, ms);
            }));
        }
        var timeUnitDurations = {
            millisecond: 1,
            second: 1e3,
            minute: 6e4,
            hour: 36e5,
            day: 864e5,
            week: 6048e5,
            month: 365.242 / 12 * 864e5,
            year: 31536e6
        };
        function getNextUnit(unit) {
            switch (unit) {
              case "year":
                return;

              case "month":
                return "year";

              case "week":
                return "month";

              case "day":
                return "month";

              case "hour":
                return "day";

              case "minute":
                return "hour";

              case "second":
                return "minute";

              case "millisecond":
                return "second";
            }
        }
        function getDuration(unit, count) {
            if (null == count) count = 1;
            return timeUnitDurations[unit] * count;
        }
        function getIntervalDuration(interval) {
            if (interval) return timeUnitDurations[interval.timeUnit] * interval.count;
            return 0;
        }
        function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {
            var unit = interval.timeUnit;
            var count = interval.count;
            if ("hour" == unit || "minute" == unit || "second" == unit || "millisecond" == unit) return timeUnitDurations[interval.timeUnit] * interval.count; else {
                var firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, void 0, timezone).getTime();
                var lastTime = firstTime + count * getDuration(unit) * 1.05;
                lastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, void 0, timezone).getTime();
                return lastTime - firstTime;
            }
        }
        function checkChange(timeOne, timeTwo, unit, utc, timezone) {
            if (timeTwo - timeOne > getDuration(unit, 1.2)) return true;
            var dateOne = new Date(timeOne);
            var dateTwo = new Date(timeTwo);
            if (timezone) {
                dateOne = timezone.convertLocal(dateOne);
                dateTwo = timezone.convertLocal(dateTwo);
            }
            var timeZoneOffset1 = 0;
            var timeZoneOffset2 = 0;
            if (!utc && "millisecond" != unit) {
                timeZoneOffset1 = dateOne.getTimezoneOffset();
                dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);
                timeZoneOffset2 = dateTwo.getTimezoneOffset();
                dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);
            }
            var changed = false;
            switch (unit) {
              case "year":
                if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) changed = true;
                break;

              case "month":
                if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) changed = true; else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) changed = true;
                break;

              case "day":
                if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) changed = true; else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) changed = true;
                break;

              case "hour":
                if (dateOne.getUTCHours() != dateTwo.getUTCHours()) changed = true;
                break;

              case "minute":
                if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) changed = true;
                break;

              case "second":
                if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) changed = true;
                break;

              case "millisecond":
                if (dateOne.getTime() != dateTwo.getTime()) changed = true;
                break;
            }
            if (changed) return changed;
            var nextUnit = getNextUnit(unit);
            if (nextUnit) return checkChange(timeOne, timeTwo, nextUnit, utc, timezone); else return false;
        }
        function Time_add(date, unit, count, utc, timezone) {
            var timeZoneOffset = 0;
            if (!utc && "millisecond" != unit) {
                timeZoneOffset = date.getTimezoneOffset();
                if (timezone) timeZoneOffset -= timezone.offsetUTC(date);
                date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);
            }
            switch (unit) {
              case "day":
                var day = date.getUTCDate();
                date.setUTCDate(day + count);
                break;

              case "second":
                var seconds = date.getUTCSeconds();
                date.setUTCSeconds(seconds + count);
                break;

              case "millisecond":
                var milliseconds = date.getUTCMilliseconds();
                date.setUTCMilliseconds(milliseconds + count);
                break;

              case "hour":
                var hours = date.getUTCHours();
                date.setUTCHours(hours + count);
                break;

              case "minute":
                var minutes = date.getUTCMinutes();
                date.setUTCMinutes(minutes + count);
                break;

              case "year":
                var year = date.getUTCFullYear();
                date.setUTCFullYear(year + count);
                break;

              case "month":
                var month = date.getUTCMonth();
                date.setUTCMonth(month + count);
                break;

              case "week":
                var wday = date.getUTCDate();
                date.setUTCDate(wday + 7 * count);
                break;
            }
            if (!utc && "millisecond" != unit) {
                date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);
                if ("day" == unit || "week" == unit || "month" == unit || "year" == unit) {
                    var newTimeZoneOffset = date.getTimezoneOffset();
                    if (timezone) newTimeZoneOffset += timezone.offsetUTC(date);
                    if (newTimeZoneOffset != timeZoneOffset) {
                        var diff = newTimeZoneOffset - timeZoneOffset;
                        date.setUTCMinutes(date.getUTCMinutes() + diff);
                        if (date.getTimezoneOffset() != newTimeZoneOffset) date.setUTCMinutes(date.getUTCMinutes() - diff);
                    }
                }
            }
            return date;
        }
        function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {
            if (!timezone || utc) {
                var timeZoneOffset = 0;
                if (!utc && "millisecond" != unit) {
                    timeZoneOffset = date.getTimezoneOffset();
                    date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);
                }
                switch (unit) {
                  case "day":
                    var day = date.getUTCDate();
                    if (count > 1) {
                        if (firstDate) {
                            firstDate = round(firstDate, "day", 1);
                            var difference = date.getTime() - firstDate.getTime();
                            var unitCount = Math.floor(difference / getDuration("day") / count);
                            var duration = getDuration("day", unitCount * count);
                            date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration("minute"));
                        }
                    } else date.setUTCDate(day);
                    date.setUTCHours(0, 0, 0, 0);
                    break;

                  case "second":
                    var seconds = date.getUTCSeconds();
                    if (count > 1) seconds = Math.floor(seconds / count) * count;
                    date.setUTCSeconds(seconds, 0);
                    break;

                  case "millisecond":
                    if (1 == count) return date;
                    var milliseconds = date.getUTCMilliseconds();
                    milliseconds = Math.floor(milliseconds / count) * count;
                    date.setUTCMilliseconds(milliseconds);
                    break;

                  case "hour":
                    var hours = date.getUTCHours();
                    if (count > 1) hours = Math.floor(hours / count) * count;
                    date.setUTCHours(hours, 0, 0, 0);
                    break;

                  case "minute":
                    var minutes = date.getUTCMinutes();
                    milliseconds = date.getUTCMilliseconds();
                    if (count > 1) minutes = Math.floor(minutes / count) * count;
                    date.setUTCMinutes(minutes, 0, 0);
                    break;

                  case "month":
                    var month = date.getUTCMonth();
                    if (count > 1) month = Math.floor(month / count) * count;
                    date.setUTCMonth(month, 1);
                    date.setUTCHours(0, 0, 0, 0);
                    break;

                  case "year":
                    var year = date.getUTCFullYear();
                    if (count > 1) year = Math.floor(year / count) * count;
                    date.setUTCFullYear(year, 0, 1);
                    date.setUTCHours(0, 0, 0, 0);
                    break;

                  case "week":
                    var wday = date.getUTCDate();
                    var weekDay = date.getUTCDay();
                    if (!isNumber(firstDateOfWeek)) firstDateOfWeek = 1;
                    if (weekDay >= firstDateOfWeek) wday = wday - weekDay + firstDateOfWeek; else wday = wday - (7 + weekDay) + firstDateOfWeek;
                    date.setUTCDate(wday);
                    date.setUTCHours(0, 0, 0, 0);
                    break;
                }
                if (!utc && "millisecond" != unit) {
                    date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);
                    if ("day" == unit || "week" == unit || "month" == unit || "year" == unit) {
                        var newTimeZoneOffset = date.getTimezoneOffset();
                        if (newTimeZoneOffset != timeZoneOffset) {
                            var diff = newTimeZoneOffset - timeZoneOffset;
                            date.setUTCMinutes(date.getUTCMinutes() + diff);
                        }
                    }
                }
                return date;
            } else {
                if (isNaN(date.getTime())) return date;
                var tzoffset = timezone.offsetUTC(date);
                timeZoneOffset = date.getTimezoneOffset();
                var parsedDate = timezone.parseDate(date);
                year = parsedDate.year;
                month = parsedDate.month;
                day = parsedDate.day;
                var hour = parsedDate.hour;
                var minute = parsedDate.minute;
                var second = parsedDate.second;
                var millisecond = parsedDate.millisecond;
                var weekday = parsedDate.weekday;
                switch (unit) {
                  case "day":
                    if (count > 1 && firstDate) {
                        firstDate = round(firstDate, "day", 1, firstDateOfWeek, utc, void 0, timezone);
                        difference = date.getTime() - firstDate.getTime();
                        unitCount = Math.floor(difference / getDuration("day") / count);
                        duration = getDuration("day", unitCount * count);
                        date.setTime(firstDate.getTime() + duration);
                        parsedDate = timezone.parseDate(date);
                        year = parsedDate.year;
                        month = parsedDate.month;
                        day = parsedDate.day;
                    }
                    hour = 0;
                    minute = tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;

                  case "second":
                    minute += tzoffset - timeZoneOffset;
                    if (count > 1) second = Math.floor(second / count) * count;
                    millisecond = 0;
                    break;

                  case "millisecond":
                    minute += tzoffset - timeZoneOffset;
                    if (count > 1) millisecond = Math.floor(millisecond / count) * count;
                    break;

                  case "hour":
                    if (count > 1) hour = Math.floor(hour / count) * count;
                    minute = tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;

                  case "minute":
                    if (count > 1) minute = Math.floor(minute / count) * count;
                    minute += tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;

                  case "month":
                    if (count > 1) month = Math.floor(month / count) * count;
                    day = 1;
                    hour = 0;
                    minute = tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;

                  case "year":
                    if (count > 1) year = Math.floor(year / count) * count;
                    month = 0;
                    day = 1;
                    hour = 0;
                    minute = tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;

                  case "week":
                    if (!isNumber(firstDateOfWeek)) firstDateOfWeek = 1;
                    if (weekday >= firstDateOfWeek) day = day - weekday + firstDateOfWeek; else day = day - (7 + weekday) + firstDateOfWeek;
                    hour = 0;
                    minute = tzoffset - timeZoneOffset;
                    second = 0;
                    millisecond = 0;
                    break;
                }
                date = new Date(year, month, day, hour, minute, second, millisecond);
                var newOffset = date.getTimezoneOffset();
                if (newOffset != timeZoneOffset) date.setTime(date.getTime() + 6e4 * (timeZoneOffset - newOffset));
                return date;
            }
        }
        function chooseInterval(index, duration, gridCount, intervals) {
            var gridInterval = intervals[index];
            var intervalDuration = getIntervalDuration(gridInterval);
            var lastIndex = intervals.length - 1;
            if (index >= lastIndex) return __assign({}, intervals[lastIndex]);
            var count = Math.ceil(duration / intervalDuration);
            if (duration < intervalDuration && index > 0) return __assign({}, intervals[index - 1]);
            if (count <= gridCount) return __assign({}, intervals[index]); else if (index + 1 < intervals.length) return chooseInterval(index + 1, duration, gridCount, intervals); else return __assign({}, intervals[index]);
        }
        function checkBounds(index, len) {
            if (!(index >= 0 && index < len)) throw new Error("Index out of bounds: " + index);
        }
        var List = function() {
            function List(initial) {
                if (void 0 === initial) initial = [];
                Object.defineProperty(this, "_values", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new EventDispatcher
                });
                this._values = initial;
            }
            Object.defineProperty(List.prototype, "values", {
                get: function() {
                    return this._values;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(List.prototype, "contains", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    return -1 !== this._values.indexOf(value);
                }
            });
            Object.defineProperty(List.prototype, "removeValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var i = 0;
                    var length = this._values.length;
                    while (i < length) if (this._values[i] === value) {
                        this.removeIndex(i);
                        --length;
                    } else ++i;
                }
            });
            Object.defineProperty(List.prototype, "indexOf", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    return indexOf(this._values, value);
                }
            });
            Object.defineProperty(List.prototype, "length", {
                get: function() {
                    return this._values.length;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(List.prototype, "hasIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return index >= 0 && index < this._values.length;
                }
            });
            Object.defineProperty(List.prototype, "getIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return this._values[index];
                }
            });
            Object.defineProperty(List.prototype, "_onPush", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(newValue) {
                    if (this.events.isEnabled("push")) this.events.dispatch("push", {
                        type: "push",
                        target: this,
                        newValue
                    });
                }
            });
            Object.defineProperty(List.prototype, "_onInsertIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, newValue) {
                    if (this.events.isEnabled("insertIndex")) this.events.dispatch("insertIndex", {
                        type: "insertIndex",
                        target: this,
                        index,
                        newValue
                    });
                }
            });
            Object.defineProperty(List.prototype, "_onSetIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, oldValue, newValue) {
                    if (this.events.isEnabled("setIndex")) this.events.dispatch("setIndex", {
                        type: "setIndex",
                        target: this,
                        index,
                        oldValue,
                        newValue
                    });
                }
            });
            Object.defineProperty(List.prototype, "_onRemoveIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, oldValue) {
                    if (this.events.isEnabled("removeIndex")) this.events.dispatch("removeIndex", {
                        type: "removeIndex",
                        target: this,
                        index,
                        oldValue
                    });
                }
            });
            Object.defineProperty(List.prototype, "_onMoveIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(oldIndex, newIndex, value) {
                    if (this.events.isEnabled("moveIndex")) this.events.dispatch("moveIndex", {
                        type: "moveIndex",
                        target: this,
                        oldIndex,
                        newIndex,
                        value
                    });
                }
            });
            Object.defineProperty(List.prototype, "_onClear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(oldValues) {
                    if (this.events.isEnabled("clear")) this.events.dispatch("clear", {
                        type: "clear",
                        target: this,
                        oldValues
                    });
                }
            });
            Object.defineProperty(List.prototype, "setIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, value) {
                    checkBounds(index, this._values.length);
                    var oldValue = this._values[index];
                    if (oldValue !== value) {
                        this._values[index] = value;
                        this._onSetIndex(index, oldValue, value);
                    }
                    return oldValue;
                }
            });
            Object.defineProperty(List.prototype, "insertIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, value) {
                    checkBounds(index, this._values.length + 1);
                    insertIndex(this._values, index, value);
                    this._onInsertIndex(index, value);
                    return value;
                }
            });
            Object.defineProperty(List.prototype, "swap", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(a, b) {
                    var len = this._values.length;
                    checkBounds(a, len);
                    checkBounds(b, len);
                    if (a !== b) {
                        var value_a = this._values[a];
                        var value_b = this._values[b];
                        this._values[a] = value_b;
                        this._onSetIndex(a, value_a, value_b);
                        this._values[b] = value_a;
                        this._onSetIndex(b, value_b, value_a);
                    }
                }
            });
            Object.defineProperty(List.prototype, "removeIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    checkBounds(index, this._values.length);
                    var oldValue = this._values[index];
                    removeIndex(this._values, index);
                    this._onRemoveIndex(index, oldValue);
                    return oldValue;
                }
            });
            Object.defineProperty(List.prototype, "moveValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, toIndex) {
                    var index = this.indexOf(value);
                    if (-1 !== index) {
                        removeIndex(this._values, index);
                        if (null == toIndex) {
                            var toIndex_1 = this._values.length;
                            this._values.push(value);
                            this._onMoveIndex(index, toIndex_1, value);
                        } else {
                            insertIndex(this._values, toIndex, value);
                            this._onMoveIndex(index, toIndex, value);
                        }
                    } else if (null == toIndex) {
                        this._values.push(value);
                        this._onPush(value);
                    } else {
                        insertIndex(this._values, toIndex, value);
                        this._onInsertIndex(toIndex, value);
                    }
                    return value;
                }
            });
            Object.defineProperty(List.prototype, "push", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    this._values.push(value);
                    this._onPush(value);
                    return value;
                }
            });
            Object.defineProperty(List.prototype, "unshift", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    this.insertIndex(0, value);
                    return value;
                }
            });
            Object.defineProperty(List.prototype, "pushAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(values) {
                    var _this = this;
                    each(values, (function(value) {
                        _this.push(value);
                    }));
                }
            });
            Object.defineProperty(List.prototype, "copyFrom", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(source) {
                    this.pushAll(source._values);
                }
            });
            Object.defineProperty(List.prototype, "pop", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var index = this._values.length - 1;
                    return index < 0 ? void 0 : this.removeIndex(this._values.length - 1);
                }
            });
            Object.defineProperty(List.prototype, "shift", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._values.length ? this.removeIndex(0) : void 0;
                }
            });
            Object.defineProperty(List.prototype, "setAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(newArray) {
                    var _this = this;
                    var old = this._values;
                    this._values = [];
                    this._onClear(old);
                    each(newArray, (function(value) {
                        _this._values.push(value);
                        _this._onPush(value);
                    }));
                }
            });
            Object.defineProperty(List.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setAll([]);
                }
            });
            Object.defineProperty(List.prototype, Symbol.iterator, {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var length, i;
                    return __generator(this, (function(_a) {
                        switch (_a.label) {
                          case 0:
                            length = this._values.length;
                            i = 0;
                            _a.label = 1;

                          case 1:
                            if (!(i < length)) return [ 3, 4 ];
                            return [ 4, this._values[i] ];

                          case 2:
                            _a.sent();
                            _a.label = 3;

                          case 3:
                            ++i;
                            return [ 3, 1 ];

                          case 4:
                            return [ 2 ];
                        }
                    }));
                }
            });
            Object.defineProperty(List.prototype, "each", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    each(this._values, f);
                }
            });
            Object.defineProperty(List.prototype, "eachReverse", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    eachReverse(this._values, f);
                }
            });
            return List;
        }();
        var ListAutoDispose = function(_super) {
            __extends(ListAutoDispose, _super);
            function ListAutoDispose() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "autoDispose", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                return _this;
            }
            Object.defineProperty(ListAutoDispose.prototype, "_onSetIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, oldValue, newValue) {
                    if (this.autoDispose) oldValue.dispose();
                    _super.prototype._onSetIndex.call(this, index, oldValue, newValue);
                }
            });
            Object.defineProperty(ListAutoDispose.prototype, "_onRemoveIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, oldValue) {
                    if (this.autoDispose) oldValue.dispose();
                    _super.prototype._onRemoveIndex.call(this, index, oldValue);
                }
            });
            Object.defineProperty(ListAutoDispose.prototype, "_onClear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(oldValues) {
                    if (this.autoDispose) each(oldValues, (function(x) {
                        x.dispose();
                    }));
                    _super.prototype._onClear.call(this, oldValues);
                }
            });
            Object.defineProperty(ListAutoDispose.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(ListAutoDispose.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        if (this.autoDispose) each(this._values, (function(x) {
                            x.dispose();
                        }));
                    }
                }
            });
            return ListAutoDispose;
        }(List);
        var ListTemplate = function(_super) {
            __extends(ListTemplate, _super);
            function ListTemplate(template, make) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "template", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "make", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this.template = template;
                _this.make = make;
                return _this;
            }
            return ListTemplate;
        }(ListAutoDispose);
        var Children = function(_super) {
            __extends(Children, _super);
            function Children(container) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_container", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this._container = container;
                _this._events = _this.events.onAll((function(change) {
                    if ("clear" === change.type) each(change.oldValues, (function(x) {
                        _this._onRemoved(x);
                    })); else if ("push" === change.type) _this._onInserted(change.newValue); else if ("setIndex" === change.type) {
                        _this._onRemoved(change.oldValue);
                        _this._onInserted(change.newValue, change.index);
                    } else if ("insertIndex" === change.type) _this._onInserted(change.newValue, change.index); else if ("removeIndex" === change.type) _this._onRemoved(change.oldValue); else if ("moveIndex" === change.type) {
                        _this._onRemoved(change.value);
                        _this._onInserted(change.value, change.newIndex);
                    } else throw new Error("Unknown IListEvent type");
                }));
                return _this;
            }
            Object.defineProperty(Children.prototype, "_onInserted", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child, index) {
                    child._setParent(this._container, true);
                    var childrenDisplay = this._container._childrenDisplay;
                    if (void 0 === index) childrenDisplay.addChild(child._display); else childrenDisplay.addChildAt(child._display, index);
                }
            });
            Object.defineProperty(Children.prototype, "_onRemoved", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child) {
                    this._container._childrenDisplay.removeChild(child._display);
                    this._container.markDirtyBounds();
                    this._container.markDirty();
                }
            });
            Object.defineProperty(Children.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(Children.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        this._events.dispose();
                        each(this.values, (function(child) {
                            child.dispose();
                        }));
                    }
                }
            });
            return Children;
        }(List);
        function linear(t) {
            return t;
        }
        function cubic(t) {
            return t * t * t;
        }
        function out(ease) {
            return function(t) {
                return 1 - ease(1 - t);
            };
        }
        var tau = 2 * Math.PI;
        var amplitude = 1;
        var period = .3 / tau;
        Math.asin(1 / amplitude);
        var State = function() {
            function State(entity, settings) {
                Object.defineProperty(this, "_entity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_settings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_userSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                this._entity = entity;
                this._settings = settings;
            }
            Object.defineProperty(State.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._settings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(State.prototype, "setRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._settings[key] = value;
                }
            });
            Object.defineProperty(State.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._userSettings[key] = true;
                    this.setRaw(key, value);
                }
            });
            Object.defineProperty(State.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    delete this._userSettings[key];
                    delete this._settings[key];
                }
            });
            Object.defineProperty(State.prototype, "setAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(settings) {
                    var _this = this;
                    keys(settings).forEach((function(key) {
                        _this.set(key, settings[key]);
                    }));
                }
            });
            Object.defineProperty(State.prototype, "_eachSetting", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    Object_each(this._settings, f);
                }
            });
            Object.defineProperty(State.prototype, "apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var seen = {};
                    seen["stateAnimationEasing"] = true;
                    seen["stateAnimationDuration"] = true;
                    var defaultState = this._entity.states.lookup("default");
                    this._eachSetting((function(key, value) {
                        if (!seen[key]) {
                            seen[key] = true;
                            if (_this !== defaultState) if (!(key in defaultState._settings)) defaultState._settings[key] = _this._entity.get(key);
                            _this._entity.set(key, value);
                        }
                    }));
                }
            });
            Object.defineProperty(State.prototype, "applyAnimate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    var _this = this;
                    if (null == duration) duration = this._settings.stateAnimationDuration;
                    if (null == duration) duration = this.get("stateAnimationDuration", this._entity.get("stateAnimationDuration", 0));
                    var easing = this._settings.stateAnimationEasing;
                    if (null == easing) easing = this.get("stateAnimationEasing", this._entity.get("stateAnimationEasing", cubic));
                    var defaultState = this._entity.states.lookup("default");
                    var seen = {};
                    seen["stateAnimationEasing"] = true;
                    seen["stateAnimationDuration"] = true;
                    var animations = {};
                    this._eachSetting((function(key, value) {
                        if (!seen[key]) {
                            seen[key] = true;
                            if (_this != defaultState) if (!(key in defaultState._settings)) defaultState._settings[key] = _this._entity.get(key);
                            var animation = _this._entity.animate({
                                key,
                                to: value,
                                duration,
                                easing
                            });
                            if (animation) animations[key] = animation;
                        }
                    }));
                    return animations;
                }
            });
            return State;
        }();
        var States = function() {
            function States(entity) {
                Object.defineProperty(this, "_states", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_entity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._entity = entity;
            }
            Object.defineProperty(States.prototype, "lookup", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    return this._states[name];
                }
            });
            Object.defineProperty(States.prototype, "create", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, settings) {
                    var state = this._states[name];
                    if (state) {
                        state.setAll(settings);
                        return state;
                    } else {
                        var state_1 = new State(this._entity, settings);
                        this._states[name] = state_1;
                        return state_1;
                    }
                }
            });
            Object.defineProperty(States.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    delete this._states[name];
                }
            });
            Object.defineProperty(States.prototype, "apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(newState) {
                    var state = this._states[newState];
                    if (state) state.apply();
                    this._entity._applyState(newState);
                }
            });
            Object.defineProperty(States.prototype, "applyAnimate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(newState, duration) {
                    var animations;
                    var state = this._states[newState];
                    if (state) animations = state.applyAnimate(duration);
                    this._entity._applyStateAnimated(newState, duration);
                    return animations;
                }
            });
            return States;
        }();
        var Registry = function() {
            function Registry() {
                Object.defineProperty(this, "version", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: "5.2.50"
                });
                Object.defineProperty(this, "licenses", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "entitiesById", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "rootElements", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
            }
            return Registry;
        }();
        var registry = new Registry;
        function compare(left, right) {
            if (left === right) return 0; else if (left < right) return -1; else return 1;
        }
        function compareArray(left, right, f) {
            var leftLength = left.length;
            var rightLength = right.length;
            var length = Math.min(leftLength, rightLength);
            for (var i = 0; i < length; ++i) {
                var order = f(left[i], right[i]);
                if (0 !== order) return order;
            }
            return compare(leftLength, rightLength);
        }
        function compareNumber(a, b) {
            if (a === b) return 0; else if (a < b) return -1; else return 1;
        }
        var Adapters = function() {
            function Adapters(entity) {
                Object.defineProperty(this, "_entity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_callbacks", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_disabled", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                this._entity = entity;
            }
            Object.defineProperty(Adapters.prototype, "add", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var callbacks = this._callbacks[key];
                    if (void 0 === callbacks) callbacks = this._callbacks[key] = [];
                    callbacks.push(callback);
                    this._entity._markDirtyKey(key);
                    return new Disposer((function() {
                        if (removeFirst(callbacks, callback)) _this._entity._markDirtyKey(key);
                    }));
                }
            });
            Object.defineProperty(Adapters.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var callbacks = this._callbacks[key];
                    if (void 0 !== callbacks) {
                        delete this._callbacks[key];
                        if (0 !== callbacks.length) this._entity._markDirtyKey(key);
                    }
                }
            });
            Object.defineProperty(Adapters.prototype, "enable", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (this._disabled[key]) {
                        delete this._disabled[key];
                        this._entity._markDirtyKey(key);
                    }
                }
            });
            Object.defineProperty(Adapters.prototype, "disable", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (!this._disabled[key]) {
                        this._disabled[key] = true;
                        this._entity._markDirtyKey(key);
                    }
                }
            });
            Object.defineProperty(Adapters.prototype, "fold", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    if (!this._disabled[key]) {
                        var callbacks = this._callbacks[key];
                        if (void 0 !== callbacks) for (var i = 0, len = callbacks.length; i < len; ++i) value = callbacks[i](value, this._entity, key);
                    }
                    return value;
                }
            });
            return Adapters;
        }();
        var Animation = function() {
            function Animation(animation, from, to, duration, easing, loops, startingTime) {
                Object.defineProperty(this, "_animation", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_from", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_to", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_duration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_easing", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_loops", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_interpolate", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_oldTime", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_time", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_stopped", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_playing", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new EventDispatcher
                });
                this._animation = animation;
                this._from = from;
                this._to = to;
                this._duration = duration;
                this._easing = easing;
                this._loops = loops;
                this._interpolate = getInterpolate(from, to);
                this._oldTime = startingTime;
            }
            Object.defineProperty(Animation.prototype, "to", {
                get: function() {
                    return this._to;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Animation.prototype, "from", {
                get: function() {
                    return this._from;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Animation.prototype, "playing", {
                get: function() {
                    return this._playing;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Animation.prototype, "stopped", {
                get: function() {
                    return this._stopped;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Animation.prototype, "stop", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._stopped) {
                        this._stopped = true;
                        this._playing = false;
                        if (this.events.isEnabled("stopped")) this.events.dispatch("stopped", {
                            type: "stopped",
                            target: this
                        });
                    }
                }
            });
            Object.defineProperty(Animation.prototype, "pause", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._playing = false;
                    this._oldTime = null;
                }
            });
            Object.defineProperty(Animation.prototype, "play", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._stopped && !this._playing) {
                        this._playing = true;
                        this._animation._startAnimation();
                    }
                }
            });
            Object.defineProperty(Animation.prototype, "percentage", {
                get: function() {
                    return this._time / this._duration;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Animation.prototype, "waitForStop", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    return new Promise((function(resolve, _reject) {
                        if (_this._stopped) resolve(); else {
                            var listener = function() {
                                stopped_1.dispose();
                                resolve();
                            };
                            var stopped_1 = _this.events.on("stopped", listener);
                        }
                    }));
                }
            });
            Object.defineProperty(Animation.prototype, "_checkEnded", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._loops > 1) {
                        --this._loops;
                        return false;
                    } else return true;
                }
            });
            Object.defineProperty(Animation.prototype, "_run", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    if (null !== this._oldTime) {
                        this._time += currentTime - this._oldTime;
                        if (this._time > this._duration) this._time = this._duration;
                    }
                    this._oldTime = currentTime;
                }
            });
            Object.defineProperty(Animation.prototype, "_reset", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    this._oldTime = currentTime;
                    this._time = 0;
                }
            });
            Object.defineProperty(Animation.prototype, "_value", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(diff) {
                    return this._interpolate(this._easing(diff), this._from, this._to);
                }
            });
            return Animation;
        }();
        var counter = 0;
        var Settings = function() {
            function Settings(settings) {
                Object.defineProperty(this, "uid", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: ++counter
                });
                Object.defineProperty(this, "_settings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_privateSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_settingEvents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_privateSettingEvents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_prevSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_prevPrivateSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_animatingSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_animatingPrivateSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_userProperties", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                this._settings = settings;
            }
            Object.defineProperty(Settings.prototype, "_checkDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    keys(this._settings).forEach((function(key) {
                        _this._userProperties[key] = true;
                        _this._markDirtyKey(key);
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "resetUserSettings", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._userProperties = {};
                }
            });
            Object.defineProperty(Settings.prototype, "_runAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    var _this = this;
                    if (!this.isDisposed()) {
                        var playing_1 = false;
                        Object_each(this._animatingSettings, (function(key, animation) {
                            if (animation._stopped) _this._stopAnimation(key); else if (animation._playing) {
                                animation._run(currentTime);
                                var diff = animation.percentage;
                                if (diff >= 1) if (animation._checkEnded()) _this.set(key, animation._value(1)); else {
                                    playing_1 = true;
                                    animation._reset(currentTime);
                                    _this._set(key, animation._value(1));
                                } else {
                                    playing_1 = true;
                                    _this._set(key, animation._value(diff));
                                }
                            }
                        }));
                        Object_each(this._animatingPrivateSettings, (function(key, animation) {
                            if (animation._stopped) _this._stopAnimationPrivate(key); else if (animation._playing) {
                                animation._run(currentTime);
                                var diff = animation.percentage;
                                if (diff >= 1) if (animation._checkEnded()) _this.setPrivate(key, animation._value(1)); else {
                                    playing_1 = true;
                                    animation._reset(currentTime);
                                    _this._setPrivate(key, animation._value(1));
                                } else {
                                    playing_1 = true;
                                    _this._setPrivate(key, animation._value(diff));
                                }
                            }
                        }));
                        return playing_1;
                    } else return false;
                }
            });
            Object.defineProperty(Settings.prototype, "_markDirtyKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_key) {
                    this.markDirty();
                }
            });
            Object.defineProperty(Settings.prototype, "_markDirtyPrivateKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_key) {
                    this.markDirty();
                }
            });
            Object.defineProperty(Settings.prototype, "on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var events = this._settingEvents[key];
                    if (void 0 === events) events = this._settingEvents[key] = [];
                    events.push(callback);
                    return new Disposer((function() {
                        removeFirst(events, callback);
                        if (0 === events.length) delete _this._settingEvents[key];
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "onPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var events = this._privateSettingEvents[key];
                    if (void 0 === events) events = this._privateSettingEvents[key] = [];
                    events.push(callback);
                    return new Disposer((function() {
                        removeFirst(events, callback);
                        if (0 === events.length) delete _this._privateSettingEvents[key];
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "getRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._settings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(Settings.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    return this.getRaw(key, fallback);
                }
            });
            Object.defineProperty(Settings.prototype, "_sendKeyEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var _this = this;
                    var events = this._settingEvents[key];
                    if (void 0 !== events) each(events, (function(callback) {
                        callback(value, _this, key);
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "_sendPrivateKeyEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var _this = this;
                    var events = this._privateSettingEvents[key];
                    if (void 0 !== events) each(events, (function(callback) {
                        callback(value, _this, key);
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "_setRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, old, value) {
                    this._prevSettings[key] = old;
                    this._sendKeyEvent(key, value);
                }
            });
            Object.defineProperty(Settings.prototype, "setRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var old = this._settings[key];
                    this._settings[key] = value;
                    if (old !== value) this._setRaw(key, old, value);
                }
            });
            Object.defineProperty(Settings.prototype, "_set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var old = this._settings[key];
                    this._settings[key] = value;
                    if (old !== value) {
                        this._setRaw(key, old, value);
                        this._markDirtyKey(key);
                    }
                }
            });
            Object.defineProperty(Settings.prototype, "_stopAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var animation = this._animatingSettings[key];
                    if (animation) {
                        delete this._animatingSettings[key];
                        animation.stop();
                    }
                }
            });
            Object.defineProperty(Settings.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._set(key, value);
                    this._stopAnimation(key);
                    return value;
                }
            });
            Object.defineProperty(Settings.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (key in this._settings) {
                        this._prevSettings[key] = this._settings[key];
                        delete this._settings[key];
                        this._sendKeyEvent(key, void 0);
                        this._markDirtyKey(key);
                    }
                    this._stopAnimation(key);
                }
            });
            Object.defineProperty(Settings.prototype, "removeAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    each(keys(this._settings), (function(key) {
                        _this.remove(key);
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "getPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._privateSettings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(Settings.prototype, "_setPrivateRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, old, value) {
                    this._prevPrivateSettings[key] = old;
                    this._sendPrivateKeyEvent(key, value);
                }
            });
            Object.defineProperty(Settings.prototype, "setPrivateRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var old = this._privateSettings[key];
                    this._privateSettings[key] = value;
                    if (old !== value) this._setPrivateRaw(key, old, value);
                }
            });
            Object.defineProperty(Settings.prototype, "_setPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var old = this._privateSettings[key];
                    this._privateSettings[key] = value;
                    if (old !== value) {
                        this._setPrivateRaw(key, old, value);
                        this._markDirtyPrivateKey(key);
                    }
                }
            });
            Object.defineProperty(Settings.prototype, "_stopAnimationPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var animation = this._animatingPrivateSettings[key];
                    if (animation) {
                        animation.stop();
                        delete this._animatingPrivateSettings[key];
                    }
                }
            });
            Object.defineProperty(Settings.prototype, "setPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._setPrivate(key, value);
                    this._stopAnimationPrivate(key);
                    return value;
                }
            });
            Object.defineProperty(Settings.prototype, "removePrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (key in this._privateSettings) {
                        this._prevPrivateSettings[key] = this._privateSettings[key];
                        delete this._privateSettings[key];
                        this._markDirtyPrivateKey(key);
                    }
                    this._stopAnimationPrivate(key);
                }
            });
            Object.defineProperty(Settings.prototype, "setAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(settings) {
                    var _this = this;
                    Object_each(settings, (function(key, value) {
                        _this.set(key, value);
                    }));
                }
            });
            Object.defineProperty(Settings.prototype, "animate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(options) {
                    var key = options.key;
                    var to = options.to;
                    var duration = options.duration || 0;
                    var loops = options.loops || 1;
                    var from = void 0 === options.from ? this.get(key) : options.from;
                    var easing = void 0 === options.easing ? linear : options.easing;
                    if (0 === duration) this.set(key, to); else if (void 0 === from || from === to) this.set(key, to); else {
                        this.set(key, from);
                        var animation_1 = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());
                        this._startAnimation();
                        return animation_1;
                    }
                    var animation = new Animation(this, from, to, duration, easing, loops, null);
                    animation.stop();
                    return animation;
                }
            });
            Object.defineProperty(Settings.prototype, "animatePrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(options) {
                    var key = options.key;
                    var to = options.to;
                    var duration = options.duration || 0;
                    var loops = options.loops || 1;
                    var from = void 0 === options.from ? this.getPrivate(key) : options.from;
                    var easing = void 0 === options.easing ? linear : options.easing;
                    if (0 === duration) this.setPrivate(key, to); else if (void 0 === from || from === to) this.setPrivate(key, to); else {
                        this.setPrivate(key, from);
                        var animation_2 = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());
                        this._startAnimation();
                        return animation_2;
                    }
                    var animation = new Animation(this, from, to, duration, easing, loops, null);
                    animation.stop();
                    return animation;
                }
            });
            Object.defineProperty(Settings.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Settings.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(Settings.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        this._dispose();
                    }
                }
            });
            return Settings;
        }();
        var Entity = function(_super) {
            __extends(Entity, _super);
            function Entity(root, settings, isReal, templates) {
                if (void 0 === templates) templates = [];
                var _this = _super.call(this, settings) || this;
                Object.defineProperty(_this, "_root", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_user_id", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "states", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new States(_this)
                });
                Object.defineProperty(_this, "adapters", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Adapters(_this)
                });
                Object.defineProperty(_this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._createEvents()
                });
                Object.defineProperty(_this, "_userPrivateProperties", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_dirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_dirtyPrivate", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_template", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_templates", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_internalTemplates", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_defaultThemes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_templateDisposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_disposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_runSetup", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "_disposerProperties", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                if (!isReal) throw new Error("You cannot use `new Class()`, instead use `Class.new()`");
                _this._root = root;
                _this._internalTemplates = templates;
                if (settings.id) _this._registerId(settings.id);
                return _this;
            }
            Object.defineProperty(Entity, "new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(root, settings, template) {
                    var x = new this(root, settings, true);
                    x._template = template;
                    x._afterNew();
                    return x;
                }
            });
            Object.defineProperty(Entity, "_new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(root, settings, templates) {
                    if (void 0 === templates) templates = [];
                    var x = new this(root, settings, true, templates);
                    x._afterNew();
                    return x;
                }
            });
            Object.defineProperty(Entity.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._checkDirty();
                    var shouldApply = false;
                    var template = this._template;
                    if (template) {
                        shouldApply = true;
                        template._setObjectTemplate(this);
                    }
                    each(this._internalTemplates, (function(template) {
                        shouldApply = true;
                        template._setObjectTemplate(_this);
                    }));
                    if (shouldApply) this._applyTemplates(false);
                    this.states.create("default", {});
                    this._setDefaults();
                }
            });
            Object.defineProperty(Entity.prototype, "_afterNewApplyThemes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._checkDirty();
                    var template = this._template;
                    if (template) template._setObjectTemplate(this);
                    each(this._internalTemplates, (function(template) {
                        template._setObjectTemplate(_this);
                    }));
                    this.states.create("default", {});
                    this._setDefaults();
                    this._applyThemes();
                }
            });
            Object.defineProperty(Entity.prototype, "_createEvents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return new EventDispatcher;
                }
            });
            Object.defineProperty(Entity.prototype, "classNames", {
                get: function() {
                    return this.constructor.classNames;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Entity.prototype, "className", {
                get: function() {
                    return this.constructor.className;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Entity.prototype, "_setDefaults", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Entity.prototype, "_setDefault", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    if (!(key in this._settings)) _super.prototype.set.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "_setRawDefault", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    if (!(key in this._settings)) _super.prototype.setRaw.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    keys(this._dirty).forEach((function(key) {
                        _this._dirty[key] = false;
                    }));
                    keys(this._dirtyPrivate).forEach((function(key) {
                        _this._dirtyPrivate[key] = false;
                    }));
                }
            });
            Object.defineProperty(Entity.prototype, "isDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    return !!this._dirty[key];
                }
            });
            Object.defineProperty(Entity.prototype, "isPrivateDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    return !!this._dirtyPrivate[key];
                }
            });
            Object.defineProperty(Entity.prototype, "_markDirtyKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    this._dirty[key] = true;
                    _super.prototype._markDirtyKey.call(this, key);
                }
            });
            Object.defineProperty(Entity.prototype, "_markDirtyPrivateKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    this._dirtyPrivate[key] = true;
                    _super.prototype._markDirtyKey.call(this, key);
                }
            });
            Object.defineProperty(Entity.prototype, "isType", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type) {
                    return -1 !== this.classNames.indexOf(type);
                }
            });
            Object.defineProperty(Entity.prototype, "_pushPropertyDisposer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, disposer) {
                    var disposers = this._disposerProperties[key];
                    if (void 0 === disposers) disposers = this._disposerProperties[key] = [];
                    disposers.push(disposer);
                    return disposer;
                }
            });
            Object.defineProperty(Entity.prototype, "_disposeProperty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var disposers = this._disposerProperties[key];
                    if (void 0 !== disposers) {
                        each(disposers, (function(disposer) {
                            disposer.dispose();
                        }));
                        delete this._disposerProperties[key];
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "template", {
                get: function() {
                    return this._template;
                },
                set: function(value) {
                    var template = this._template;
                    if (template !== value) {
                        this._template = value;
                        if (template) template._removeObjectTemplate(this);
                        if (value) value._setObjectTemplate(this);
                        this._applyTemplates();
                    }
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Entity.prototype, "markDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._root._addDirtyEntity(this);
                }
            });
            Object.defineProperty(Entity.prototype, "_startAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._root._addAnimation(this);
                }
            });
            Object.defineProperty(Entity.prototype, "_animationTime", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._root.animationTime;
                }
            });
            Object.defineProperty(Entity.prototype, "_applyState", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_name) {}
            });
            Object.defineProperty(Entity.prototype, "_applyStateAnimated", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_name, _duration) {}
            });
            Object.defineProperty(Entity.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this.adapters.fold(key, this._settings[key]);
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(Entity.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._userProperties[key] = true;
                    return _super.prototype.set.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "setRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._userProperties[key] = true;
                    _super.prototype.setRaw.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "_setSoft", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    if (!this._userProperties[key]) return _super.prototype.set.call(this, key, value);
                    return value;
                }
            });
            Object.defineProperty(Entity.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    delete this._userProperties[key];
                    this._removeTemplateProperty(key);
                }
            });
            Object.defineProperty(Entity.prototype, "setPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._userPrivateProperties[key] = true;
                    return _super.prototype.setPrivate.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "setPrivateRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._userPrivateProperties[key] = true;
                    _super.prototype.setPrivateRaw.call(this, key, value);
                }
            });
            Object.defineProperty(Entity.prototype, "removePrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    delete this._userPrivateProperties[key];
                    this._removeTemplatePrivateProperty(key);
                }
            });
            Object.defineProperty(Entity.prototype, "_setTemplateProperty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(template, key, value) {
                    if (!this._userProperties[key]) {
                        var match = this._findTemplateByKey(key);
                        if (template === match) _super.prototype.set.call(this, key, value);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_setTemplatePrivateProperty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(template, key, value) {
                    if (!this._userPrivateProperties[key]) {
                        var match = this._findTemplateByPrivateKey(key);
                        if (template === match) _super.prototype.setPrivate.call(this, key, value);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_removeTemplateProperty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (!this._userProperties[key]) {
                        var match = this._findTemplateByKey(key);
                        if (match) _super.prototype.set.call(this, key, match._settings[key]); else _super.prototype.remove.call(this, key);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_removeTemplatePrivateProperty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (!this._userPrivateProperties[key]) {
                        var match = this._findTemplateByPrivateKey(key);
                        if (match) _super.prototype.setPrivate.call(this, key, match._privateSettings[key]); else _super.prototype.removePrivate.call(this, key);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_walkParents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    f(this._root._rootContainer);
                    f(this);
                }
            });
            Object.defineProperty(Entity.prototype, "_applyStateByKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    var other = this.states.create(name, {});
                    var seen = {};
                    this._eachTemplate((function(template) {
                        var state = template.states.lookup(name);
                        if (state) state._apply(other, seen);
                    }));
                    Object_each(other._settings, (function(key) {
                        if (!seen[key] && !other._userSettings[key]) other.remove(key);
                    }));
                }
            });
            Object.defineProperty(Entity.prototype, "_applyTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(template, state) {
                    var _this = this;
                    this._templateDisposers.push(template._apply(this, state));
                    Object_each(template._settings, (function(key, value) {
                        if (!state.settings[key] && !_this._userProperties[key]) {
                            state.settings[key] = true;
                            _super.prototype.set.call(_this, key, value);
                        }
                    }));
                    Object_each(template._privateSettings, (function(key, value) {
                        if (!state.privateSettings[key] && !_this._userPrivateProperties[key]) {
                            state.privateSettings[key] = true;
                            _super.prototype.setPrivate.call(_this, key, value);
                        }
                    }));
                    if (this._runSetup && template.setup) {
                        this._runSetup = false;
                        template.setup(this);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_findStaticTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    if (this._template) if (f(this._template)) return this._template;
                }
            });
            Object.defineProperty(Entity.prototype, "_eachTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    this._findStaticTemplate((function(template) {
                        f(template);
                        return false;
                    }));
                    eachReverse(this._internalTemplates, f);
                    each(this._templates, f);
                }
            });
            Object.defineProperty(Entity.prototype, "_applyTemplates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(remove) {
                    var _this = this;
                    if (void 0 === remove) remove = true;
                    if (remove) this._disposeTemplates();
                    var state = {
                        settings: {},
                        privateSettings: {},
                        states: {}
                    };
                    this._eachTemplate((function(template) {
                        _this._applyTemplate(template, state);
                    }));
                    if (remove) {
                        Object_each(this._settings, (function(key) {
                            if (!_this._userProperties[key] && !state.settings[key]) _super.prototype.remove.call(_this, key);
                        }));
                        Object_each(this._privateSettings, (function(key) {
                            if (!_this._userPrivateProperties[key] && !state.privateSettings[key]) _super.prototype.removePrivate.call(_this, key);
                        }));
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_findTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    var value = this._findStaticTemplate(f);
                    if (void 0 === value) {
                        var value_1 = findReverse(this._internalTemplates, f);
                        if (void 0 === value_1) return find(this._templates, f); else return value_1;
                    } else return value;
                }
            });
            Object.defineProperty(Entity.prototype, "_findTemplateByKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    return this._findTemplate((function(template) {
                        return key in template._settings;
                    }));
                }
            });
            Object.defineProperty(Entity.prototype, "_findTemplateByPrivateKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    return this._findTemplate((function(template) {
                        return key in template._privateSettings;
                    }));
                }
            });
            Object.defineProperty(Entity.prototype, "_disposeTemplates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    each(this._templateDisposers, (function(disposer) {
                        disposer.dispose();
                    }));
                    this._templateDisposers.length = 0;
                }
            });
            Object.defineProperty(Entity.prototype, "_removeTemplates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    each(this._templates, (function(template) {
                        template._removeObjectTemplate(_this);
                    }));
                    this._templates.length = 0;
                }
            });
            Object.defineProperty(Entity.prototype, "_applyThemes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var isConnected = false;
                    var defaults = [];
                    var themes = [];
                    var themeTags = new Set;
                    var tags = this.get("themeTagsSelf");
                    if (tags) each(tags, (function(tag) {
                        themeTags.add(tag);
                    }));
                    this._walkParents((function(entity) {
                        if (entity === _this._root._rootContainer) isConnected = true;
                        if (entity._defaultThemes.length > 0) defaults.push(entity._defaultThemes);
                        var theme = entity.get("themes");
                        if (theme) themes.push(theme);
                        var tags = entity.get("themeTags");
                        if (tags) each(tags, (function(tag) {
                            themeTags.add(tag);
                        }));
                    }));
                    themes = defaults.concat(themes);
                    this._removeTemplates();
                    if (isConnected) eachReverse(this.classNames, (function(name) {
                        var allRules = [];
                        each(themes, (function(themes) {
                            each(themes, (function(theme) {
                                var rules = theme._lookupRules(name);
                                if (rules) eachReverse(rules, (function(rule) {
                                    var matches = rule.tags.every((function(tag) {
                                        return themeTags.has(tag);
                                    }));
                                    if (matches) {
                                        var result = getFirstSortedIndex(allRules, (function(x) {
                                            var order = compare(rule.tags.length, x.tags.length);
                                            if (0 === order) return compareArray(rule.tags, x.tags, compare); else return order;
                                        }));
                                        allRules.splice(result.index, 0, rule);
                                    }
                                }));
                            }));
                        }));
                        each(allRules, (function(rule) {
                            _this._templates.push(rule.template);
                            rule.template._setObjectTemplate(_this);
                        }));
                    }));
                    this._applyTemplates();
                    if (isConnected) this._runSetup = false;
                    return isConnected;
                }
            });
            Object.defineProperty(Entity.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Entity.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.isDirty("id")) {
                        var id = this.get("id");
                        if (id) this._registerId(id);
                        var prevId = this._prevSettings.id;
                        if (prevId) delete registry.entitiesById[prevId];
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_registerId", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(id) {
                    if (registry.entitiesById[id] && registry.entitiesById[id] !== this) throw new Error('An entity with id "' + id + '" already exists.');
                    registry.entitiesById[id] = this;
                }
            });
            Object.defineProperty(Entity.prototype, "_afterChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Entity.prototype, "addDisposer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(disposer) {
                    this._disposers.push(disposer);
                    return disposer;
                }
            });
            Object.defineProperty(Entity.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._dispose.call(this);
                    var template = this._template;
                    if (template) template._removeObjectTemplate(this);
                    each(this._internalTemplates, (function(template) {
                        template._removeObjectTemplate(_this);
                    }));
                    this._removeTemplates();
                    this._disposeTemplates();
                    this.events.dispose();
                    this._disposers.forEach((function(x) {
                        x.dispose();
                    }));
                    Object_each(this._disposerProperties, (function(_, disposers) {
                        each(disposers, (function(disposer) {
                            disposer.dispose();
                        }));
                    }));
                    var id = this.get("id");
                    if (id) delete registry.entitiesById[id];
                }
            });
            Object.defineProperty(Entity.prototype, "setTimeout", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fn, delay) {
                    var _this = this;
                    var id = setTimeout((function() {
                        _this.removeDispose(disposer);
                        fn();
                    }), delay);
                    var disposer = new Disposer((function() {
                        clearTimeout(id);
                    }));
                    this._disposers.push(disposer);
                    return disposer;
                }
            });
            Object.defineProperty(Entity.prototype, "removeDispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    if (!this.isDisposed()) {
                        var index = indexOf(this._disposers, target);
                        if (index > -1) this._disposers.splice(index, 1);
                    }
                    target.dispose();
                }
            });
            Object.defineProperty(Entity.prototype, "hasTag", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tag) {
                    return -1 !== indexOf(this.get("themeTags", []), tag);
                }
            });
            Object.defineProperty(Entity.prototype, "addTag", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tag) {
                    if (!this.hasTag(tag)) {
                        var tags = this.get("themeTags", []);
                        tags.push(tag);
                        this.set("themeTags", tags);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "removeTag", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tag) {
                    if (this.hasTag(tag)) {
                        var tags = this.get("themeTags", []);
                        remove(tags, tag);
                        this.set("themeTags", tags);
                    }
                }
            });
            Object.defineProperty(Entity.prototype, "_t", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text, locale) {
                    var _a;
                    var rest = [];
                    for (var _i = 2; _i < arguments.length; _i++) rest[_i - 2] = arguments[_i];
                    return (_a = this._root.language).translate.apply(_a, __spreadArray([ text, locale ], __read(rest), false));
                }
            });
            Object.defineProperty(Entity.prototype, "root", {
                get: function() {
                    return this._root;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Entity, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Entity"
            });
            Object.defineProperty(Entity, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: [ "Entity" ]
            });
            return Entity;
        }(Settings);
        var TemplateState = function() {
            function TemplateState(name, template, settings) {
                Object.defineProperty(this, "_settings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_name", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_template", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._name = name;
                this._template = template;
                this._settings = settings;
            }
            Object.defineProperty(TemplateState.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._settings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(TemplateState.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._settings[key] = value;
                    this._template._stateChanged(this._name);
                }
            });
            Object.defineProperty(TemplateState.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    delete this._settings[key];
                    this._template._stateChanged(this._name);
                }
            });
            Object.defineProperty(TemplateState.prototype, "setAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(settings) {
                    var _this = this;
                    keys(settings).forEach((function(key) {
                        _this._settings[key] = settings[key];
                    }));
                    this._template._stateChanged(this._name);
                }
            });
            Object.defineProperty(TemplateState.prototype, "_apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(other, seen) {
                    Object_each(this._settings, (function(key, value) {
                        if (!seen[key] && !other._userSettings[key]) {
                            seen[key] = true;
                            other.setRaw(key, value);
                        }
                    }));
                }
            });
            return TemplateState;
        }();
        var TemplateStates = function() {
            function TemplateStates(template) {
                Object.defineProperty(this, "_template", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_states", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                this._template = template;
            }
            Object.defineProperty(TemplateStates.prototype, "lookup", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    return this._states[name];
                }
            });
            Object.defineProperty(TemplateStates.prototype, "create", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, settings) {
                    var state = this._states[name];
                    if (state) {
                        state.setAll(settings);
                        return state;
                    } else {
                        var state_1 = new TemplateState(name, this._template, settings);
                        this._states[name] = state_1;
                        this._template._stateChanged(name);
                        return state_1;
                    }
                }
            });
            Object.defineProperty(TemplateStates.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    delete this._states[name];
                    this._template._stateChanged(name);
                }
            });
            Object.defineProperty(TemplateStates.prototype, "_apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity, state) {
                    Object_each(this._states, (function(key, value) {
                        var seen = state.states[key];
                        if (null == seen) seen = state.states[key] = {};
                        var other = entity.states.create(key, {});
                        value._apply(other, seen);
                    }));
                }
            });
            return TemplateStates;
        }();
        var TemplateAdapters = function() {
            function TemplateAdapters() {
                Object.defineProperty(this, "_callbacks", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
            }
            Object.defineProperty(TemplateAdapters.prototype, "add", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var callbacks = this._callbacks[key];
                    if (void 0 === callbacks) callbacks = this._callbacks[key] = [];
                    callbacks.push(callback);
                    return new Disposer((function() {
                        removeFirst(callbacks, callback);
                        if (0 === callbacks.length) delete _this._callbacks[key];
                    }));
                }
            });
            Object.defineProperty(TemplateAdapters.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var callbacks = this._callbacks[key];
                    if (void 0 !== callbacks) delete this._callbacks[key];
                }
            });
            Object.defineProperty(TemplateAdapters.prototype, "_apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity) {
                    var disposers = [];
                    Object_each(this._callbacks, (function(key, callbacks) {
                        each(callbacks, (function(callback) {
                            disposers.push(entity.adapters.add(key, callback));
                        }));
                    }));
                    return new MultiDisposer(disposers);
                }
            });
            return TemplateAdapters;
        }();
        var Template = function() {
            function Template(settings, isReal) {
                Object.defineProperty(this, "_settings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_privateSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_settingEvents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_privateSettingEvents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_entities", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "states", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new TemplateStates(this)
                });
                Object.defineProperty(this, "adapters", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new TemplateAdapters
                });
                Object.defineProperty(this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new EventDispatcher
                });
                Object.defineProperty(this, "setup", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                if (!isReal) throw new Error("You cannot use `new Class()`, instead use `Class.new()`");
                this._settings = settings;
            }
            Object.defineProperty(Template, "new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(settings) {
                    return new Template(settings, true);
                }
            });
            Object.defineProperty(Template.prototype, "get", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._settings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(Template.prototype, "setRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._settings[key] = value;
                }
            });
            Object.defineProperty(Template.prototype, "set", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var _this = this;
                    if (this._settings[key] !== value) {
                        this.setRaw(key, value);
                        this._entities.forEach((function(entity) {
                            entity._setTemplateProperty(_this, key, value);
                        }));
                    }
                }
            });
            Object.defineProperty(Template.prototype, "remove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (key in this._settings) {
                        delete this._settings[key];
                        this._entities.forEach((function(entity) {
                            entity._removeTemplateProperty(key);
                        }));
                    }
                }
            });
            Object.defineProperty(Template.prototype, "removeAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    Object_each(this._settings, (function(key, _value) {
                        _this.remove(key);
                    }));
                }
            });
            Object.defineProperty(Template.prototype, "getPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, fallback) {
                    var value = this._privateSettings[key];
                    if (void 0 !== value) return value; else return fallback;
                }
            });
            Object.defineProperty(Template.prototype, "setPrivateRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    this._privateSettings[key] = value;
                    return value;
                }
            });
            Object.defineProperty(Template.prototype, "setPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var _this = this;
                    if (this._privateSettings[key] !== value) {
                        this.setPrivateRaw(key, value);
                        this._entities.forEach((function(entity) {
                            entity._setTemplatePrivateProperty(_this, key, value);
                        }));
                    }
                    return value;
                }
            });
            Object.defineProperty(Template.prototype, "removePrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    if (key in this._privateSettings) {
                        delete this._privateSettings[key];
                        this._entities.forEach((function(entity) {
                            entity._removeTemplatePrivateProperty(key);
                        }));
                    }
                }
            });
            Object.defineProperty(Template.prototype, "setAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var _this = this;
                    Object_each(value, (function(key, value) {
                        _this.set(key, value);
                    }));
                }
            });
            Object.defineProperty(Template.prototype, "on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var events = this._settingEvents[key];
                    if (void 0 === events) events = this._settingEvents[key] = [];
                    events.push(callback);
                    return new Disposer((function() {
                        removeFirst(events, callback);
                        if (0 === events.length) delete _this._settingEvents[key];
                    }));
                }
            });
            Object.defineProperty(Template.prototype, "onPrivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback) {
                    var _this = this;
                    var events = this._privateSettingEvents[key];
                    if (void 0 === events) events = this._privateSettingEvents[key] = [];
                    events.push(callback);
                    return new Disposer((function() {
                        removeFirst(events, callback);
                        if (0 === events.length) delete _this._privateSettingEvents[key];
                    }));
                }
            });
            Object.defineProperty(Template.prototype, "_apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity, state) {
                    var disposers = [];
                    Object_each(this._settingEvents, (function(key, events) {
                        each(events, (function(event) {
                            disposers.push(entity.on(key, event));
                        }));
                    }));
                    Object_each(this._privateSettingEvents, (function(key, events) {
                        each(events, (function(event) {
                            disposers.push(entity.onPrivate(key, event));
                        }));
                    }));
                    this.states._apply(entity, state);
                    disposers.push(this.adapters._apply(entity));
                    disposers.push(entity.events.copyFrom(this.events));
                    return new MultiDisposer(disposers);
                }
            });
            Object.defineProperty(Template.prototype, "_setObjectTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity) {
                    this._entities.push(entity);
                }
            });
            Object.defineProperty(Template.prototype, "_removeObjectTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity) {
                    remove(this._entities, entity);
                }
            });
            Object.defineProperty(Template.prototype, "_stateChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    this._entities.forEach((function(entity) {
                        entity._applyStateByKey(name);
                    }));
                }
            });
            return Template;
        }();
        var PI = Math.PI;
        var RADIANS = PI / 180;
        var DEGREES = 180 / PI;
        function Math_round(value, precision, floor) {
            if (!isNumber(precision) || precision <= 0) {
                var rounded = Math.round(value);
                if (floor) if (rounded - value == .5) rounded--;
                return rounded;
            } else {
                var d = Math.pow(10, precision);
                return Math.round(value * d) / d;
            }
        }
        function ceil(value, precision) {
            if (!isNumber(precision) || precision <= 0) return Math.ceil(value); else {
                var d = Math.pow(10, precision);
                return Math.ceil(value * d) / d;
            }
        }
        function fitToRange(value, min, max) {
            return Math.min(Math.max(value, min), max);
        }
        function sin(angle) {
            return Math.sin(RADIANS * angle);
        }
        function cos(angle) {
            return Math.cos(RADIANS * angle);
        }
        function normalizeAngle(value) {
            value %= 360;
            if (value < 0) value += 360;
            return value;
        }
        function getArcBounds(cx, cy, startAngle, endAngle, radius) {
            var minX = Number.MAX_VALUE;
            var minY = Number.MAX_VALUE;
            var maxX = -Number.MAX_VALUE;
            var maxY = -Number.MAX_VALUE;
            var bpoints = [];
            bpoints.push(getArcPoint(radius, startAngle));
            bpoints.push(getArcPoint(radius, endAngle));
            var fromAngle = Math.min(90 * Math.floor(startAngle / 90), 90 * Math.floor(endAngle / 90));
            var toAngle = Math.max(90 * Math.ceil(startAngle / 90), 90 * Math.ceil(endAngle / 90));
            for (var angle = fromAngle; angle <= toAngle; angle += 90) if (angle >= startAngle && angle <= endAngle) bpoints.push(getArcPoint(radius, angle));
            for (var i = 0; i < bpoints.length; i++) {
                var pt = bpoints[i];
                if (pt.x < minX) minX = pt.x;
                if (pt.y < minY) minY = pt.y;
                if (pt.x > maxX) maxX = pt.x;
                if (pt.y > maxY) maxY = pt.y;
            }
            return {
                left: cx + minX,
                top: cy + minY,
                right: cx + maxX,
                bottom: cy + maxY
            };
        }
        function getArcPoint(radius, arc) {
            return {
                x: radius * cos(arc),
                y: radius * sin(arc)
            };
        }
        var SpriteEventDispatcher = function(_super) {
            __extends(SpriteEventDispatcher, _super);
            function SpriteEventDispatcher(sprite) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_sprite", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_rendererDisposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_dispatchParents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                _this._sprite = sprite;
                return _this;
            }
            Object.defineProperty(SpriteEventDispatcher.prototype, "_makePointerEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, event) {
                    return {
                        type: key,
                        originalEvent: event.event,
                        point: event.point,
                        simulated: event.simulated,
                        native: event.native,
                        target: this._sprite
                    };
                }
            });
            Object.defineProperty(SpriteEventDispatcher.prototype, "_onRenderer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, dispatch) {
                    var _this = this;
                    this._sprite.set("interactive", true);
                    this._sprite._display.interactive = true;
                    var events = this._rendererDisposers[key];
                    if (void 0 === events) {
                        var disposer_1 = this._sprite._display.on(key, (function(e) {
                            dispatch.call(_this, e);
                        }));
                        events = this._rendererDisposers[key] = new CounterDisposer((function() {
                            delete _this._rendererDisposers[key];
                            disposer_1.dispose();
                        }));
                    }
                    return events.increment();
                }
            });
            Object.defineProperty(SpriteEventDispatcher.prototype, "_on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(once, type, callback, context, shouldClone, dispatch) {
                    var info = _super.prototype._on.call(this, once, type, callback, context, shouldClone, dispatch);
                    var rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];
                    if (void 0 !== rendererEvent) info.disposer = new MultiDisposer([ info.disposer, this._onRenderer(type, rendererEvent) ]);
                    return info;
                }
            });
            Object.defineProperty(SpriteEventDispatcher.prototype, "stopParentDispatch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._dispatchParents = false;
                }
            });
            Object.defineProperty(SpriteEventDispatcher.prototype, "dispatchParents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(type, event) {
                    var old = this._dispatchParents;
                    this._dispatchParents = true;
                    try {
                        this.dispatch(type, event);
                        if (this._dispatchParents && this._sprite.parent) this._sprite.parent.events.dispatchParents(type, event);
                    } finally {
                        this._dispatchParents = old;
                    }
                }
            });
            Object.defineProperty(SpriteEventDispatcher, "RENDERER_EVENTS", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: {
                    click: function(event) {
                        if (this.isEnabled("click") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent("click", event))) this.dispatch("click", this._makePointerEvent("click", event));
                    },
                    rightclick: function(event) {
                        if (this.isEnabled("rightclick")) this.dispatch("rightclick", this._makePointerEvent("rightclick", event));
                    },
                    middleclick: function(event) {
                        if (this.isEnabled("middleclick")) this.dispatch("middleclick", this._makePointerEvent("middleclick", event));
                    },
                    dblclick: function(event) {
                        this.dispatchParents("dblclick", this._makePointerEvent("dblclick", event));
                    },
                    pointerover: function(event) {
                        if (this.isEnabled("pointerover")) this.dispatch("pointerover", this._makePointerEvent("pointerover", event));
                    },
                    pointerout: function(event) {
                        if (this.isEnabled("pointerout")) this.dispatch("pointerout", this._makePointerEvent("pointerout", event));
                    },
                    pointerdown: function(event) {
                        this.dispatchParents("pointerdown", this._makePointerEvent("pointerdown", event));
                    },
                    pointerup: function(event) {
                        if (this.isEnabled("pointerup")) this.dispatch("pointerup", this._makePointerEvent("pointerup", event));
                    },
                    globalpointerup: function(event) {
                        if (this.isEnabled("globalpointerup")) this.dispatch("globalpointerup", this._makePointerEvent("globalpointerup", event));
                    },
                    globalpointermove: function(event) {
                        if (this.isEnabled("globalpointermove")) this.dispatch("globalpointermove", this._makePointerEvent("globalpointermove", event));
                    },
                    wheel: function(event) {
                        this.dispatchParents("wheel", {
                            type: "wheel",
                            target: this._sprite,
                            originalEvent: event.event,
                            point: event.point
                        });
                    }
                }
            });
            return SpriteEventDispatcher;
        }(EventDispatcher);
        var Sprite = function(_super) {
            __extends(Sprite, _super);
            function Sprite() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_adjustedLocalBounds", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    }
                });
                Object.defineProperty(_this, "_localBounds", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    }
                });
                Object.defineProperty(_this, "_parent", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_dataItem", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_templateField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_sizeDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_isDragging", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dragEvent", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_dragPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_isHidden", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_isShowing", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_isHiding", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_isDown", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_downPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downPoints", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_toggleDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_dragDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_tooltipDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_hoverDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_focusDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_tooltipMoveDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_tooltipPointerDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_statesHandled", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                return _this;
            }
            Object.defineProperty(Sprite.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setPrivateRaw("visible", true);
                    _super.prototype._afterNew.call(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "_markDirtyKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    _super.prototype._markDirtyKey.call(this, key);
                    if ("x" == key || "y" == key || "dx" == key || "dy" == key) {
                        this.markDirtyBounds();
                        this._addPercentagePositionChildren();
                        this.markDirtyPosition();
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_markDirtyPrivateKey", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    _super.prototype._markDirtyPrivateKey.call(this, key);
                    if ("x" == key || "y" == key) this.markDirtyPosition();
                }
            });
            Object.defineProperty(Sprite.prototype, "_removeTemplateField", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._templateField) this._templateField._removeObjectTemplate(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "_createEvents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return new SpriteEventDispatcher(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "_processTemplateField", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var template;
                    var field = this.get("templateField");
                    if (field) {
                        var dataItem = this.dataItem;
                        if (dataItem) {
                            var context = dataItem.dataContext;
                            if (context) {
                                template = context[field];
                                if (!(template instanceof Template) && template) template = Template["new"](template);
                            }
                        }
                    }
                    if (this._templateField !== template) {
                        this._removeTemplateField();
                        this._templateField = template;
                        if (template) template._setObjectTemplate(this);
                        this._applyTemplates();
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_setDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var oldDataItem = this._dataItem;
                    this._dataItem = dataItem;
                    this._processTemplateField();
                    var eventType = "dataitemchanged";
                    if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                        type: eventType,
                        target: this,
                        oldDataItem,
                        newDataItem: dataItem
                    });
                }
            });
            Object.defineProperty(Sprite.prototype, "dataItem", {
                get: function() {
                    if (this._dataItem) return this._dataItem; else {
                        var parent_1 = this._parent;
                        while (parent_1) if (parent_1._dataItem) return parent_1._dataItem; else parent_1 = parent_1._parent;
                    }
                },
                set: function(value) {
                    this._setDataItem(value);
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Sprite.prototype, "_addPercentageSizeChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var parent = this.parent;
                    if (parent) if (this.get("width") instanceof Percent || this.get("height") instanceof Percent) pushOne(parent._percentageSizeChildren, this); else removeFirst(parent._percentageSizeChildren, this);
                }
            });
            Object.defineProperty(Sprite.prototype, "_addPercentagePositionChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var parent = this.parent;
                    if (parent) if (this.get("x") instanceof Percent || this.get("y") instanceof Percent) pushOne(parent._percentagePositionChildren, this); else removeFirst(parent._percentagePositionChildren, this);
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirtyPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._root._addDirtyPosition(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "updatePivotPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var bounds = this._localBounds;
                    if (bounds) {
                        var centerX = this.get("centerX");
                        if (null != centerX) this._display.pivot.x = bounds.left + relativeToValue(centerX, bounds.right - bounds.left);
                        var centerY = this.get("centerY");
                        if (null != centerY) this._display.pivot.y = bounds.top + relativeToValue(centerY, bounds.bottom - bounds.top);
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._beforeChanged.call(this);
                    this._handleStates();
                    if (this.isDirty("tooltip")) {
                        var previous = this._prevSettings.tooltip;
                        if (previous) previous.dispose();
                    }
                    if (this.isDirty("layer") || this.isDirty("layerMargin")) {
                        this._display.setLayer(this.get("layer"), this.get("layerMargin"));
                        this.markDirtyLayer();
                    }
                    if (this.isDirty("tooltipPosition")) {
                        var tooltipMoveDp = this._tooltipMoveDp;
                        if (tooltipMoveDp) {
                            tooltipMoveDp.dispose();
                            this._tooltipMoveDp = void 0;
                        }
                        var tooltipPointerDp = this._tooltipPointerDp;
                        if (tooltipPointerDp) {
                            tooltipPointerDp.dispose();
                            this._tooltipPointerDp = void 0;
                        }
                        if ("pointer" == this.get("tooltipPosition")) this._tooltipPointerDp = new MultiDisposer([ this.events.on("pointerover", (function() {
                            _this._tooltipMoveDp = _this.events.on("globalpointermove", (function(e) {
                                _this.showTooltip(e.point);
                            }));
                        })), this.events.on("pointerout", (function() {
                            var tooltipMoveDp = _this._tooltipMoveDp;
                            if (tooltipMoveDp) {
                                tooltipMoveDp.dispose();
                                _this._tooltipMoveDp = void 0;
                            }
                        })) ]);
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_handleStates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._statesHandled) {
                        if (this.isDirty("active")) {
                            if (this.get("active")) {
                                this.states.applyAnimate("active");
                                this.set("ariaChecked", true);
                            } else {
                                if (!this.isHidden()) this.states.applyAnimate("default");
                                this.set("ariaChecked", false);
                            }
                            this.markDirtyAccessibility();
                        }
                        if (this.isDirty("disabled")) {
                            if (this.get("disabled")) {
                                this.states.applyAnimate("disabled");
                                this.set("ariaChecked", false);
                            } else {
                                if (!this.isHidden()) this.states.applyAnimate("default");
                                this.set("ariaChecked", true);
                            }
                            this.markDirtyAccessibility();
                        }
                        this._statesHandled = true;
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._changed.call(this);
                    var display = this._display;
                    var events = this.events;
                    if (this.isDirty("draggable")) {
                        var draggable = this.get("draggable");
                        if (draggable) {
                            this.set("interactive", true);
                            this._dragDp = new MultiDisposer([ events.on("pointerdown", (function(ev) {
                                _this.dragStart(ev);
                            })), events.on("globalpointermove", (function(ev) {
                                _this.dragMove(ev);
                            })), events.on("globalpointerup", (function(ev) {
                                _this.dragStop(ev);
                            })) ]);
                        } else if (this._dragDp) {
                            this._dragDp.dispose();
                            this._dragDp = void 0;
                        }
                        display.cancelTouch = draggable ? true : false;
                    }
                    if (this.isDirty("tooltipText") || this.isDirty("tooltipHTML") || this.isDirty("showTooltipOn")) {
                        var tooltipText = this.get("tooltipText");
                        var tooltipHTML = this.get("tooltipHTML");
                        var showTooltipOn = this.get("showTooltipOn", "hover");
                        if (this._tooltipDp) {
                            this._tooltipDp.dispose();
                            this._tooltipDp = void 0;
                        }
                        if (tooltipText || tooltipHTML) if ("click" == showTooltipOn) this._tooltipDp = new MultiDisposer([ events.on("click", (function() {
                            _this.setTimeout((function() {
                                return _this.showTooltip();
                            }), 10);
                        })), addEventListener(document, "click", (function(_ev) {
                            _this.hideTooltip();
                        })) ]); else if ("always" == showTooltipOn) ; else this._tooltipDp = new MultiDisposer([ events.on("pointerover", (function() {
                            _this.showTooltip();
                        })), events.on("pointerout", (function() {
                            _this.hideTooltip();
                        })) ]);
                    }
                    if (this.isDirty("toggleKey")) {
                        var toggleKey_1 = this.get("toggleKey");
                        if (toggleKey_1 && "none" != toggleKey_1) this._toggleDp = events.on("click", (function() {
                            if (!_this._isDragging) _this.set(toggleKey_1, !_this.get(toggleKey_1));
                        })); else if (this._toggleDp) {
                            this._toggleDp.dispose();
                            this._toggleDp = void 0;
                        }
                    }
                    if (this.isDirty("opacity")) display.alpha = Math.max(0, this.get("opacity", 1));
                    if (this.isDirty("rotation")) {
                        this.markDirtyBounds();
                        display.angle = this.get("rotation", 0);
                    }
                    if (this.isDirty("scale")) {
                        this.markDirtyBounds();
                        display.scale = this.get("scale", 0);
                    }
                    if (this.isDirty("centerX") || this.isDirty("centerY")) {
                        this.markDirtyBounds();
                        this.updatePivotPoint();
                    }
                    if (this.isDirty("visible") || this.isPrivateDirty("visible") || this.isDirty("forceHidden")) {
                        if (!this.get("visible") || !this.getPrivate("visible") || this.get("forceHidden")) {
                            display.visible = false;
                            this.hideTooltip();
                        } else display.visible = true;
                        this.markDirtyBounds();
                        if (this.get("focusable")) this.markDirtyAccessibility();
                    }
                    if (this.isDirty("width") || this.isDirty("height")) {
                        this.markDirtyBounds();
                        this._addPercentageSizeChildren();
                        var parent_2 = this.parent;
                        if (parent_2) if (this.isDirty("width") && this.get("width") instanceof Percent || this.isDirty("height") && this.get("height") instanceof Percent) {
                            parent_2.markDirty();
                            parent_2._prevWidth = 0;
                        }
                        this._sizeDirty = true;
                    }
                    if (this.isDirty("maxWidth") || this.isDirty("maxHeight") || this.isPrivateDirty("width") || this.isPrivateDirty("height") || this.isDirty("minWidth") || this.isDirty("minHeight") || this.isPrivateDirty("maxWidth") || this.isPrivateDirty("maxHeight") || this.isPrivateDirty("minWidth") || this.isPrivateDirty("minHeight")) {
                        this.markDirtyBounds();
                        this._sizeDirty = true;
                    }
                    if (this._sizeDirty) this._updateSize();
                    if (this.isDirty("wheelable")) {
                        var wheelable = this.get("wheelable");
                        if (wheelable) this.set("interactive", true);
                        display.wheelable = wheelable ? true : false;
                    }
                    if (this.isDirty("tabindexOrder") || this.isDirty("focusableGroup")) if (this.get("focusable")) this._root._registerTabindexOrder(this); else this._root._unregisterTabindexOrder(this);
                    if (this.isDirty("filter")) display.filter = this.get("filter");
                    if (this.isDirty("cursorOverStyle")) display.cursorOverStyle = this.get("cursorOverStyle");
                    if (this.isDirty("hoverOnFocus")) if (this.get("hoverOnFocus")) this._focusDp = new MultiDisposer([ events.on("focus", (function() {
                        _this.showTooltip();
                    })), events.on("blur", (function() {
                        _this.hideTooltip();
                    })) ]); else if (this._focusDp) {
                        this._focusDp.dispose();
                        this._focusDp = void 0;
                    }
                    if (this.isDirty("focusable")) {
                        if (this.get("focusable")) this._root._registerTabindexOrder(this); else this._root._unregisterTabindexOrder(this);
                        this.markDirtyAccessibility();
                    }
                    if (this.isDirty("role") || this.isDirty("ariaLive") || this.isDirty("ariaChecked") || this.isDirty("ariaHidden") || this.isDirty("ariaOrientation") || this.isDirty("ariaValueNow") || this.isDirty("ariaValueMin") || this.isDirty("ariaValueMax") || this.isDirty("ariaValueText") || this.isDirty("ariaLabel") || this.isDirty("ariaControls")) this.markDirtyAccessibility();
                    if (this.isDirty("exportable")) display.exportable = this.get("exportable");
                    if (this.isDirty("interactive")) {
                        var events_1 = this.events;
                        if (this.get("interactive")) this._hoverDp = new MultiDisposer([ events_1.on("click", (function(ev) {
                            if (isTouchEvent(ev.originalEvent)) if (!_this.getPrivate("touchHovering")) _this.setTimeout((function() {
                                _this._handleOver();
                                if (_this.get("tooltipText") || _this.get("tooltipHTML")) _this.showTooltip();
                                _this.setPrivateRaw("touchHovering", true);
                                _this.events.dispatch("pointerover", {
                                    type: "pointerover",
                                    target: ev.target,
                                    originalEvent: ev.originalEvent,
                                    point: ev.point,
                                    simulated: ev.simulated
                                });
                            }), 10);
                        })), events_1.on("globalpointerup", (function(ev) {
                            if (isTouchEvent(ev.originalEvent)) {
                                if (_this.getPrivate("touchHovering")) {
                                    _this._handleOut();
                                    if (_this.get("tooltipText") || _this.get("tooltipHTML")) _this.hideTooltip();
                                }
                                _this.setPrivateRaw("touchHovering", false);
                                _this.events.dispatch("pointerout", {
                                    type: "pointerout",
                                    target: ev.target,
                                    originalEvent: ev.originalEvent,
                                    point: ev.point,
                                    simulated: ev.simulated
                                });
                            }
                            if (_this._isDown) _this._handleUp(ev);
                        })), events_1.on("pointerover", (function() {
                            _this._handleOver();
                        })), events_1.on("pointerout", (function() {
                            _this._handleOut();
                        })), events_1.on("pointerdown", (function(e) {
                            _this._handleDown(e);
                        })) ]); else {
                            this._display.interactive = false;
                            if (this._hoverDp) {
                                this._hoverDp.dispose();
                                this._hoverDp = void 0;
                            }
                        }
                    }
                    if (this.isDirty("forceInactive")) this._display.inactive = this.get("forceInactive", false);
                    if ("always" == this.get("showTooltipOn") && this._display.visible) this.showTooltip();
                }
            });
            Object.defineProperty(Sprite.prototype, "dragStart", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    this._dragEvent = e;
                    this.events.stopParentDispatch();
                }
            });
            Object.defineProperty(Sprite.prototype, "dragStop", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    this._dragEvent = void 0;
                    this._dragPoint = void 0;
                    this.events.stopParentDispatch();
                    if (this._isDragging) {
                        this._isDragging = false;
                        var type = "dragstop";
                        if (this.events.isEnabled(type)) this.events.dispatch(type, {
                            type,
                            target: this,
                            originalEvent: e.originalEvent,
                            point: e.point,
                            simulated: e.simulated
                        });
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_handleOver", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.isHidden()) if (this.get("active") && this.states.lookup("hoverActive")) this.states.applyAnimate("hoverActive"); else if (this.get("disabled") && this.states.lookup("hoverDisabled")) this.states.applyAnimate("hoverDisabled"); else this.states.applyAnimate("hover");
                }
            });
            Object.defineProperty(Sprite.prototype, "_handleOut", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.isHidden()) if (this.get("active") && this.states.lookup("active")) this.states.applyAnimate("active"); else if (this.get("disabled") && this.states.lookup("disabled")) this.states.applyAnimate("disabled"); else if (this.states.lookup("hover") || this.states.lookup("hoverActive")) this.states.applyAnimate("default");
                }
            });
            Object.defineProperty(Sprite.prototype, "_handleUp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    if (!this.isHidden()) {
                        if (this.get("active") && this.states.lookup("active")) this.states.applyAnimate("active"); else if (this.get("disabled") && this.states.lookup("disabled")) this.states.applyAnimate("disabled"); else if (this.states.lookup("down")) if (this.isHover()) this.states.applyAnimate("hover"); else this.states.applyAnimate("default");
                        this._downPoint = void 0;
                        var pointerId = getPointerId(e.originalEvent);
                        delete this._downPoints[pointerId];
                        if (0 == keys(this._downPoints).length) this._isDown = false;
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_hasMoved", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    var pointerId = getPointerId(e.originalEvent);
                    var downPoint = this._downPoints[pointerId];
                    if (downPoint) {
                        var x = Math.abs(downPoint.x - e.point.x);
                        var y = Math.abs(downPoint.y - e.point.y);
                        return x > 5 || y > 5;
                    }
                    return false;
                }
            });
            Object.defineProperty(Sprite.prototype, "_hasDown", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return keys(this._downPoints).length > 0;
                }
            });
            Object.defineProperty(Sprite.prototype, "_handleDown", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    var parent = this.parent;
                    if (parent && !this.get("draggable")) parent._handleDown(e);
                    if (this.get("interactive") && !this.isHidden()) {
                        if (this.states.lookup("down")) this.states.applyAnimate("down");
                        this._downPoint = {
                            x: e.point.x,
                            y: e.point.y
                        };
                        this._isDown = true;
                        var pointerId = getPointerId(e.originalEvent);
                        this._downPoints[pointerId] = {
                            x: e.point.x,
                            y: e.point.y
                        };
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "dragMove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(e) {
                    var dragEvent = this._dragEvent;
                    if (dragEvent) {
                        if (dragEvent.simulated && !e.simulated) return true;
                        var angle = 0;
                        var parent_3 = this.parent;
                        while (null != parent_3) {
                            angle += parent_3.get("rotation", 0);
                            parent_3 = parent_3.parent;
                        }
                        var x = e.point.x - dragEvent.point.x;
                        var y = e.point.y - dragEvent.point.y;
                        var events = this.events;
                        if (dragEvent.simulated && !this._isDragging) {
                            this._isDragging = true;
                            this._dragEvent = e;
                            this._dragPoint = {
                                x: this.x(),
                                y: this.y()
                            };
                            var type = "dragstart";
                            if (events.isEnabled(type)) events.dispatch(type, {
                                type,
                                target: this,
                                originalEvent: e.originalEvent,
                                point: e.point,
                                simulated: e.simulated
                            });
                        }
                        if (this._isDragging) {
                            var dragPoint = this._dragPoint;
                            this.set("x", dragPoint.x + x * cos(angle) + y * sin(angle));
                            this.set("y", dragPoint.y + y * cos(angle) - x * sin(angle));
                            type = "dragged";
                            if (events.isEnabled(type)) events.dispatch(type, {
                                type,
                                target: this,
                                originalEvent: e.originalEvent,
                                point: e.point,
                                simulated: e.simulated
                            });
                        } else if (Math.hypot(x, y) > 5) {
                            this._isDragging = true;
                            this._dragEvent = e;
                            this._dragPoint = {
                                x: this.x(),
                                y: this.y()
                            };
                            type = "dragstart";
                            if (events.isEnabled(type)) events.dispatch(type, {
                                type,
                                target: this,
                                originalEvent: e.originalEvent,
                                point: e.point,
                                simulated: e.simulated
                            });
                        }
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_updateSize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Sprite.prototype, "_getBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._localBounds = this._display.getLocalBounds();
                }
            });
            Object.defineProperty(Sprite.prototype, "depth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var self = this.parent;
                    var depth = 0;
                    while (true) if (self) {
                        ++depth;
                        self = self.parent;
                    } else return depth;
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirtySize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._sizeDirty = true;
                    this.markDirty();
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirtyBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var display = this._display;
                    if (this.get("isMeasured")) {
                        this._root._addDirtyBounds(this);
                        display.isMeasured = true;
                        display.invalidateBounds();
                        var parent_4 = this.parent;
                        if (parent_4 && "absolute" != this.get("position")) if (null == parent_4.get("width") || null == parent_4.get("height") || parent_4.get("layout")) parent_4.markDirtyBounds();
                        if (this.get("focusable") && this.isFocus()) this.markDirtyAccessibility();
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirtyAccessibility", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._root._invalidateAccessibility(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirtyLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._display.markDirtyLayer(true);
                }
            });
            Object.defineProperty(Sprite.prototype, "markDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.markDirty.call(this);
                    this.markDirtyLayer();
                }
            });
            Object.defineProperty(Sprite.prototype, "_updateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var oldBounds = this._adjustedLocalBounds;
                    var newBounds;
                    if (!this.get("visible") || !this.getPrivate("visible") || this.get("forceHidden")) {
                        newBounds = {
                            left: 0,
                            right: 0,
                            top: 0,
                            bottom: 0
                        };
                        this._localBounds = newBounds;
                        this._adjustedLocalBounds = newBounds;
                    } else {
                        this._getBounds();
                        this._fixMinBounds(this._localBounds);
                        this.updatePivotPoint();
                        this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);
                        newBounds = this._adjustedLocalBounds;
                    }
                    if (!oldBounds || oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom) {
                        var eventType = "boundschanged";
                        if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                            type: eventType,
                            target: this
                        });
                        if (this.parent) {
                            this.parent.markDirty();
                            this.parent.markDirtyBounds();
                        }
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_fixMinBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    var minWidth = this.get("minWidth", this.getPrivate("minWidth"));
                    var minHeight = this.get("minHeight", this.getPrivate("minHeight"));
                    if (isNumber(minWidth)) if (bounds.right - bounds.left < minWidth) bounds.right = bounds.left + minWidth;
                    if (isNumber(minHeight)) if (bounds.bottom - bounds.top < minHeight) bounds.bottom = bounds.top + minHeight;
                    var privateWidth = this.getPrivate("width");
                    var privateHeight = this.getPrivate("height");
                    if (isNumber(privateWidth)) bounds.right = bounds.left + privateWidth;
                    if (isNumber(privateHeight)) bounds.bottom = bounds.top + privateHeight;
                }
            });
            Object.defineProperty(Sprite.prototype, "_removeParent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parent) {
                    if (parent) {
                        parent.children.removeValue(this);
                        removeFirst(parent._percentageSizeChildren, this);
                        removeFirst(parent._percentagePositionChildren, this);
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._sizeDirty = false;
                    this._statesHandled = false;
                }
            });
            Object.defineProperty(Sprite.prototype, "hover", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.showTooltip();
                    this._handleOver();
                }
            });
            Object.defineProperty(Sprite.prototype, "unhover", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.hideTooltip();
                    this._handleOut();
                }
            });
            Object.defineProperty(Sprite.prototype, "showTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    var tooltip = this.getTooltip();
                    var tooltipText = this.get("tooltipText");
                    var tooltipHTML = this.get("tooltipHTML");
                    if ((tooltipText || tooltipHTML) && tooltip) {
                        var tooltipPosition = this.get("tooltipPosition");
                        var tooltipTarget = this.getPrivate("tooltipTarget", this);
                        if ("fixed" == tooltipPosition || !point) {
                            this._display._setMatrix();
                            point = this.toGlobal(tooltipTarget._getTooltipPoint());
                        }
                        tooltip.set("pointTo", point);
                        tooltip.set("tooltipTarget", tooltipTarget);
                        if (!tooltip.get("x")) tooltip.set("x", point.x);
                        if (!tooltip.get("y")) tooltip.set("y", point.y);
                        if (tooltipText) tooltip.label.set("text", tooltipText);
                        if (tooltipHTML) tooltip.label.set("html", tooltipHTML);
                        var dataItem = this.dataItem;
                        if (dataItem) tooltip.label._setDataItem(dataItem);
                        if ("always" == this.get("showTooltipOn") && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {
                            this.hideTooltip();
                            return;
                        }
                        tooltip.label.text.markDirtyText();
                        var promise = tooltip.show();
                        this.setPrivateRaw("showingTooltip", true);
                        return promise;
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "hideTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.getTooltip();
                    if (tooltip) if (tooltip.get("tooltipTarget") == this.getPrivate("tooltipTarget", this)) {
                        var timeout = tooltip.get("keepTargetHover") && 0 == tooltip.get("stateAnimationDuration", 0) ? 400 : void 0;
                        var promise = tooltip.hide(timeout);
                        this.setPrivateRaw("showingTooltip", false);
                        return promise;
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "_getTooltipPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var bounds = this._localBounds;
                    if (bounds) {
                        var x = 0;
                        var y = 0;
                        if (!this.get("isMeasured")) {
                            x = relativeToValue(this.get("tooltipX", 0), this.width());
                            y = relativeToValue(this.get("tooltipY", 0), this.height());
                        } else {
                            x = bounds.left + relativeToValue(this.get("tooltipX", 0), bounds.right - bounds.left);
                            y = bounds.top + relativeToValue(this.get("tooltipY", 0), bounds.bottom - bounds.top);
                        }
                        return {
                            x,
                            y
                        };
                    }
                    return {
                        x: 0,
                        y: 0
                    };
                }
            });
            Object.defineProperty(Sprite.prototype, "getTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.get("tooltip");
                    if (!tooltip) {
                        var parent_5 = this.parent;
                        if (parent_5) return parent_5.getTooltip();
                    } else return tooltip;
                }
            });
            Object.defineProperty(Sprite.prototype, "_updatePosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var parent = this.parent;
                    var dx = this.get("dx", 0);
                    var dy = this.get("dy", 0);
                    var x = this.get("x");
                    var _x = this.getPrivate("x");
                    var xx = 0;
                    var yy = 0;
                    var position = this.get("position");
                    if (x instanceof Percent) if (parent) x = parent.innerWidth() * x.value + parent.get("paddingLeft", 0); else x = 0;
                    if (isNumber(x)) xx = x + dx; else if (null != _x) xx = _x; else if (parent) if ("relative" == position) xx = parent.get("paddingLeft", 0) + dx;
                    var y = this.get("y");
                    var _y = this.getPrivate("y");
                    if (y instanceof Percent) if (parent) y = parent.innerHeight() * y.value + parent.get("paddingTop", 0); else y = 0;
                    if (isNumber(y)) yy = y + dy; else if (null != _y) yy = _y; else if (parent) if ("relative" == position) yy = parent.get("paddingTop", 0) + dy;
                    var display = this._display;
                    if (display.x != xx || display.y != yy) {
                        display.invalidateBounds();
                        display.x = xx;
                        display.y = yy;
                        var eventType = "positionchanged";
                        if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                            type: eventType,
                            target: this
                        });
                    }
                    if (this.getPrivate("showingTooltip")) this.showTooltip();
                }
            });
            Object.defineProperty(Sprite.prototype, "x", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var x = this.get("x");
                    var _x = this.getPrivate("x");
                    var parent = this.parent;
                    if (parent) if (x instanceof Percent) return relativeToValue(x, parent.innerWidth()) + parent.get("paddingLeft", 0); else if (!isNumber(x)) if (null != _x) return _x; else return parent.get("paddingLeft", this._display.x); else return x;
                    return this._display.x;
                }
            });
            Object.defineProperty(Sprite.prototype, "y", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _y = this.getPrivate("y");
                    if (null != _y) return _y;
                    var y = this.get("y");
                    var parent = this.parent;
                    if (parent) if (y instanceof Percent) return relativeToValue(y, parent.innerHeight()) + parent.get("paddingTop", 0); else if (!isNumber(y)) if (null != _y) return _y; else return parent.get("paddingTop", this._display.y); else return y;
                    return this._display.y;
                }
            });
            Object.defineProperty(Sprite.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._dispose.call(this);
                    this._display.dispose();
                    this._removeTemplateField();
                    this._removeParent(this.parent);
                    this._root._removeFocusElement(this);
                    var tooltip = this.get("tooltip");
                    if (tooltip) tooltip.dispose();
                    this.markDirty();
                }
            });
            Object.defineProperty(Sprite.prototype, "adjustedLocalBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._fixMinBounds(this._adjustedLocalBounds);
                    return this._adjustedLocalBounds;
                }
            });
            Object.defineProperty(Sprite.prototype, "localBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._localBounds;
                }
            });
            Object.defineProperty(Sprite.prototype, "bounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var bounds = this._adjustedLocalBounds;
                    var x = this.x();
                    var y = this.y();
                    return {
                        left: bounds.left + x,
                        right: bounds.right + x,
                        top: bounds.top + y,
                        bottom: bounds.bottom + y
                    };
                }
            });
            Object.defineProperty(Sprite.prototype, "globalBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var bounds = this.localBounds();
                    var p0 = this.toGlobal({
                        x: bounds.left,
                        y: bounds.top
                    });
                    var p1 = this.toGlobal({
                        x: bounds.right,
                        y: bounds.top
                    });
                    var p2 = this.toGlobal({
                        x: bounds.right,
                        y: bounds.bottom
                    });
                    var p3 = this.toGlobal({
                        x: bounds.left,
                        y: bounds.bottom
                    });
                    return {
                        left: Math.min(p0.x, p1.x, p2.x, p3.x),
                        top: Math.min(p0.y, p1.y, p2.y, p3.y),
                        right: Math.max(p0.x, p1.x, p2.x, p3.x),
                        bottom: Math.max(p0.y, p1.y, p2.y, p3.y)
                    };
                }
            });
            Object.defineProperty(Sprite.prototype, "_onShow", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_duration) {}
            });
            Object.defineProperty(Sprite.prototype, "_onHide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_duration) {}
            });
            Object.defineProperty(Sprite.prototype, "appear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration, delay) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var _this = this;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                return [ 4, this.hide(0) ];

                              case 1:
                                _a.sent();
                                if (delay) return [ 2, new Promise((function(success, _error) {
                                    _this.setTimeout((function() {
                                        success(_this.show(duration));
                                    }), delay);
                                })) ]; else return [ 2, this.show(duration) ];
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Sprite.prototype, "show", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var animations;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                if (!!this._isShowing) return [ 3, 2 ];
                                this._isHidden = false;
                                this._isShowing = true;
                                this._isHiding = false;
                                if (this.states.lookup("default").get("visible")) this.set("visible", true);
                                this._onShow(duration);
                                animations = this.states.applyAnimate("default", duration);
                                return [ 4, waitForAnimations(animations) ];

                              case 1:
                                _a.sent();
                                this._isShowing = false;
                                _a.label = 2;

                              case 2:
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Sprite.prototype, "hide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var state, animations;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                if (!(!this._isHiding && !this._isHidden)) return [ 3, 2 ];
                                this._isHiding = true;
                                this._isShowing = false;
                                state = this.states.lookup("hidden");
                                if (!state) state = this.states.create("hidden", {
                                    opacity: 0,
                                    visible: false
                                });
                                this._isHidden = true;
                                this._onHide(duration);
                                animations = this.states.applyAnimate("hidden", duration);
                                return [ 4, waitForAnimations(animations) ];

                              case 1:
                                _a.sent();
                                this._isHiding = false;
                                _a.label = 2;

                              case 2:
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Sprite.prototype, "isHidden", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isHidden;
                }
            });
            Object.defineProperty(Sprite.prototype, "isShowing", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isShowing;
                }
            });
            Object.defineProperty(Sprite.prototype, "isHiding", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isHiding;
                }
            });
            Object.defineProperty(Sprite.prototype, "isHover", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._display.hovering();
                }
            });
            Object.defineProperty(Sprite.prototype, "isFocus", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._root.focused(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "isDragging", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isDragging;
                }
            });
            Object.defineProperty(Sprite.prototype, "isVisible", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.get("visible") && this.getPrivate("visible") && !this.get("forceHidden")) return true;
                    return false;
                }
            });
            Object.defineProperty(Sprite.prototype, "isVisibleDeep", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._parent ? this._parent.isVisibleDeep() && this.isVisible() : this.isVisible();
                }
            });
            Object.defineProperty(Sprite.prototype, "compositeOpacity", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var opacity = this.get("opacity", 1);
                    return this._parent ? this._parent.compositeOpacity() * opacity : opacity;
                }
            });
            Object.defineProperty(Sprite.prototype, "width", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var width = this.get("width");
                    var maxWidth = this.get("maxWidth", this.getPrivate("maxWidth"));
                    var minWidth = this.get("minWidth", this.getPrivate("minWidth"));
                    var privateWidth = this.getPrivate("width");
                    var w = 0;
                    if (isNumber(privateWidth)) w = privateWidth; else if (null == width) {
                        if (this._adjustedLocalBounds) w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;
                    } else if (width instanceof Percent) {
                        var parent_6 = this.parent;
                        if (parent_6) w = parent_6.innerWidth() * width.value; else w = this._root.width() * width.value;
                    } else if (isNumber(width)) w = width;
                    if (isNumber(minWidth)) w = Math.max(minWidth, w);
                    if (isNumber(maxWidth)) w = Math.min(maxWidth, w);
                    return w;
                }
            });
            Object.defineProperty(Sprite.prototype, "maxWidth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var maxWidth = this.get("maxWidth", this.getPrivate("maxWidth"));
                    if (isNumber(maxWidth)) return maxWidth; else {
                        var width = this.get("width");
                        if (isNumber(width)) return width;
                    }
                    var parent = this.parent;
                    if (parent) return parent.innerWidth();
                    return this._root.width();
                }
            });
            Object.defineProperty(Sprite.prototype, "maxHeight", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var maxHeight = this.get("maxHeight", this.getPrivate("maxHeight"));
                    if (isNumber(maxHeight)) return maxHeight; else {
                        var height = this.get("height");
                        if (isNumber(height)) return height;
                    }
                    var parent = this.parent;
                    if (parent) return parent.innerHeight();
                    return this._root.height();
                }
            });
            Object.defineProperty(Sprite.prototype, "height", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var height = this.get("height");
                    var maxHeight = this.get("maxHeight", this.getPrivate("maxHeight"));
                    var minHeight = this.get("minHeight", this.getPrivate("minHeight"));
                    var privateHeight = this.getPrivate("height");
                    var h = 0;
                    if (isNumber(privateHeight)) h = privateHeight; else if (null == height) {
                        if (this._adjustedLocalBounds) h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;
                    } else if (height instanceof Percent) {
                        var parent_7 = this.parent;
                        if (parent_7) h = parent_7.innerHeight() * height.value; else h = this._root.height() * height.value;
                    } else if (isNumber(height)) h = height;
                    if (isNumber(minHeight)) h = Math.max(minHeight, h);
                    if (isNumber(maxHeight)) h = Math.min(maxHeight, h);
                    return h;
                }
            });
            Object.defineProperty(Sprite.prototype, "_findStaticTemplate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    if (this._templateField && f(this._templateField)) return this._templateField;
                    return _super.prototype._findStaticTemplate.call(this, f);
                }
            });
            Object.defineProperty(Sprite.prototype, "_walkParents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    if (this._parent) this._walkParent(f);
                }
            });
            Object.defineProperty(Sprite.prototype, "_walkParent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    if (this._parent) this._parent._walkParent(f);
                    f(this);
                }
            });
            Object.defineProperty(Sprite.prototype, "parent", {
                get: function() {
                    return this._parent;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Sprite.prototype, "_setParent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parent, updateChildren) {
                    if (void 0 === updateChildren) updateChildren = false;
                    var prevParent = this._parent;
                    if (parent !== prevParent) {
                        this.markDirtyBounds();
                        parent.markDirty();
                        this._parent = parent;
                        if (updateChildren) {
                            this._removeParent(prevParent);
                            if (parent) {
                                this._addPercentageSizeChildren();
                                this._addPercentagePositionChildren();
                            }
                        }
                        this.markDirtyPosition();
                        this._applyThemes();
                    }
                }
            });
            Object.defineProperty(Sprite.prototype, "getNumberFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.get("numberFormatter", this._root.numberFormatter);
                }
            });
            Object.defineProperty(Sprite.prototype, "getDateFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.get("dateFormatter", this._root.dateFormatter);
                }
            });
            Object.defineProperty(Sprite.prototype, "getDurationFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.get("durationFormatter", this._root.durationFormatter);
                }
            });
            Object.defineProperty(Sprite.prototype, "toGlobal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    return this._display.toGlobal(point);
                }
            });
            Object.defineProperty(Sprite.prototype, "toLocal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    return this._display.toLocal(point);
                }
            });
            Object.defineProperty(Sprite.prototype, "_getDownPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var id = this._getDownPointId();
                    if (id) return this._downPoints[id];
                }
            });
            Object.defineProperty(Sprite.prototype, "_getDownPointId", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._downPoints) return keysOrdered(this._downPoints, (function(a, b) {
                        if (a > b) return 1;
                        if (a < b) return -1;
                        return 0;
                    }))[0];
                }
            });
            Object.defineProperty(Sprite.prototype, "toFront", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var parent = this.parent;
                    if (parent) parent.children.moveValue(this, parent.children.length - 1);
                }
            });
            Object.defineProperty(Sprite.prototype, "toBack", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var parent = this.parent;
                    if (parent) parent.children.moveValue(this, 0);
                }
            });
            Object.defineProperty(Sprite, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Sprite"
            });
            Object.defineProperty(Sprite, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Entity.classNames.concat([ Sprite.className ])
            });
            return Sprite;
        }(Entity);
        var Pattern = function(_super) {
            __extends(Pattern, _super);
            function Pattern() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_display", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeGraphics()
                });
                Object.defineProperty(_this, "_backgroundDisplay", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeGraphics()
                });
                Object.defineProperty(_this, "_clear", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_pattern", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(Pattern.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterNewApplyThemes.call(this);
                }
            });
            Object.defineProperty(Pattern.prototype, "pattern", {
                get: function() {
                    return this._pattern;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Pattern.prototype, "_draw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Pattern.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("repetition") || this.isDirty("width") || this.isDirty("height") || this.isDirty("rotation") || this.isDirty("color") || this.isDirty("strokeWidth") || this.isDirty("strokeDasharray") || this.isDirty("strokeDashoffset") || this.isDirty("colorOpacity") || this.isDirty("fill") || this.isDirty("fillOpacity")) this._clear = true;
                }
            });
            Object.defineProperty(Pattern.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this._clear) {
                        var repetition = this.get("repetition", "");
                        var width = this.get("width", 100);
                        var height = this.get("height", 100);
                        var fill = this.get("fill");
                        var fillOpacity = this.get("fillOpacity", 1);
                        this._display.clear();
                        this._backgroundDisplay.clear();
                        if (fill && fillOpacity > 0) {
                            this._backgroundDisplay.beginFill(fill, fillOpacity);
                            this._backgroundDisplay.drawRect(0, 0, width, height);
                            this._backgroundDisplay.endFill();
                        }
                        this._display.angle = this.get("rotation", 0);
                        this._draw();
                        this._pattern = this._root._renderer.createPattern(this._display, this._backgroundDisplay, repetition, width, height);
                    }
                }
            });
            Object.defineProperty(Pattern, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Pattern"
            });
            Object.defineProperty(Pattern, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Entity.classNames.concat([ Pattern.className ])
            });
            return Pattern;
        }(Entity);
        var PicturePattern = function(_super) {
            __extends(PicturePattern, _super);
            function PicturePattern() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_image", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(PicturePattern.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    this._clear = true;
                    if (this.isDirty("src")) this._load();
                }
            });
            Object.defineProperty(PicturePattern.prototype, "_draw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._draw.call(this);
                    var image = this._image;
                    if (image) {
                        var patternWidth = this.get("width", 100);
                        var patternHeight = this.get("height", 100);
                        var fit = this.get("fit", "image");
                        var width = 0;
                        var height = 0;
                        if ("pattern" == fit) {
                            width = patternWidth;
                            height = patternHeight;
                        } else {
                            width = image.width;
                            height = image.height;
                            if ("image" == fit) {
                                this.set("width", width);
                                this.set("height", height);
                            }
                        }
                        var centered = this.get("centered", true);
                        var x = 0;
                        var y = 0;
                        if (centered) {
                            x = patternWidth / 2 - width / 2;
                            y = patternHeight / 2 - height / 2;
                        }
                        this._display.image(image, width, height, x, y);
                    }
                }
            });
            Object.defineProperty(PicturePattern.prototype, "_load", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var src = this.get("src");
                    if (src) {
                        var image_1 = new Image;
                        image_1.src = src;
                        image_1.decode().then((function() {
                            _this._image = image_1;
                            _this._draw();
                            if (_this.events.isEnabled("loaded")) _this.events.dispatch("loaded", {
                                type: "loaded",
                                target: _this
                            });
                        })).catch((function(_error) {}));
                    }
                }
            });
            Object.defineProperty(PicturePattern, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "PicturePattern"
            });
            Object.defineProperty(PicturePattern, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Pattern.classNames.concat([ PicturePattern.className ])
            });
            return PicturePattern;
        }(Pattern);
        var BlendMode;
        (function(BlendMode) {
            BlendMode["ADD"] = "lighter";
            BlendMode["COLOR"] = "color";
            BlendMode["COLOR_BURN"] = "color-burn";
            BlendMode["COLOR_DODGE"] = "color-dodge";
            BlendMode["DARKEN"] = "darken";
            BlendMode["DIFFERENCE"] = "difference";
            BlendMode["DST_OVER"] = "destination-over";
            BlendMode["EXCLUSION"] = "exclusion";
            BlendMode["HARD_LIGHT"] = "hard-light";
            BlendMode["HUE"] = "hue";
            BlendMode["LIGHTEN"] = "lighten";
            BlendMode["LUMINOSITY"] = "luminosity";
            BlendMode["MULTIPLY"] = "multiply";
            BlendMode["NORMAL"] = "source-over";
            BlendMode["OVERLAY"] = "overlay";
            BlendMode["SATURATION"] = "saturation";
            BlendMode["SCREEN"] = "screen";
            BlendMode["SOFT_LIGHT"] = "soft-light";
            BlendMode["SRC_ATOP"] = "source-atop";
            BlendMode["XOR"] = "xor";
        })(BlendMode || (BlendMode = {}));
        var visualSettings = [ "fill", "fillOpacity", "stroke", "strokeWidth", "strokeOpacity", "fillPattern", "strokePattern", "fillGradient", "strokeGradient", "strokeDasharray", "strokeDashoffset" ];
        var Graphics = function(_super) {
            __extends(Graphics, _super);
            function Graphics() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_display", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeGraphics()
                });
                Object.defineProperty(_this, "_clear", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                return _this;
            }
            Object.defineProperty(Graphics.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("draw") || this.isDirty("svgPath")) this.markDirtyBounds();
                    if (this.isDirty("fill") || this.isDirty("stroke") || this.isDirty("visible") || this.isDirty("forceHidden") || this.isDirty("scale") || this.isDirty("fillGradient") || this.isDirty("strokeGradient") || this.isDirty("fillPattern") || this.isDirty("strokePattern") || this.isDirty("fillOpacity") || this.isDirty("strokeOpacity") || this.isDirty("strokeWidth") || this.isDirty("draw") || this.isDirty("blendMode") || this.isDirty("strokeDasharray") || this.isDirty("strokeDashoffset") || this.isDirty("svgPath") || this.isDirty("lineJoin") || this.isDirty("shadowColor") || this.isDirty("shadowBlur") || this.isDirty("shadowOffsetX") || this.isDirty("shadowOffsetY")) this._clear = true;
                    if (this.isDirty("fillGradient")) {
                        var gradient = this.get("fillGradient");
                        if (gradient) {
                            this._display.isMeasured = true;
                            var gradientTarget = gradient.get("target");
                            if (gradientTarget) {
                                this._disposers.push(gradientTarget.events.on("boundschanged", (function() {
                                    _this._markDirtyKey("fill");
                                })));
                                this._disposers.push(gradientTarget.events.on("positionchanged", (function() {
                                    _this._markDirtyKey("fill");
                                })));
                            }
                        }
                    }
                    if (this.isDirty("strokeGradient")) {
                        gradient = this.get("strokeGradient");
                        if (gradient) {
                            this._display.isMeasured = true;
                            gradientTarget = gradient.get("target");
                            if (gradientTarget) {
                                this._disposers.push(gradientTarget.events.on("boundschanged", (function() {
                                    _this._markDirtyKey("stroke");
                                })));
                                this._disposers.push(gradientTarget.events.on("positionchanged", (function() {
                                    _this._markDirtyKey("stroke");
                                })));
                            }
                        }
                    }
                }
            });
            Object.defineProperty(Graphics.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this._clear) {
                        this.markDirtyBounds();
                        this.markDirtyLayer();
                        this._display.clear();
                        var strokeDasharray = this.get("strokeDasharray");
                        if (isNumber(strokeDasharray)) if (strokeDasharray < .5) strokeDasharray = [ 0 ]; else strokeDasharray = [ strokeDasharray ];
                        this._display.setLineDash(strokeDasharray);
                        var strokeDashoffset = this.get("strokeDashoffset");
                        if (strokeDashoffset) this._display.setLineDashOffset(strokeDashoffset);
                        var blendMode = this.get("blendMode", BlendMode.NORMAL);
                        this._display.blendMode = blendMode;
                        var draw = this.get("draw");
                        if (draw) draw(this._display, this);
                        var svgPath = this.get("svgPath");
                        if (null != svgPath) this._display.svgPath(svgPath);
                    }
                }
            });
            Object.defineProperty(Graphics.prototype, "_afterChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterChanged.call(this);
                    if (this._clear) {
                        var fill_1 = this.get("fill");
                        var fillGradient = this.get("fillGradient");
                        var fillPattern = this.get("fillPattern");
                        var fillOpacity_1 = this.get("fillOpacity");
                        var stroke_1 = this.get("stroke");
                        var strokeGradient = this.get("strokeGradient");
                        var strokePattern = this.get("strokePattern");
                        var shadowColor = this.get("shadowColor");
                        var shadowBlur = this.get("shadowBlur");
                        var shadowOffsetX = this.get("shadowOffsetX");
                        var shadowOffsetY = this.get("shadowOffsetY");
                        var shadowOpacity = this.get("shadowOpacity");
                        if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);
                        if (fillPattern) {
                            var changed = false;
                            if (fill_1 && (!fillPattern.get("fill") || fillPattern.get("fillInherited"))) {
                                fillPattern.set("fill", fill_1);
                                fillPattern.set("fillInherited", true);
                                changed = true;
                            }
                            if (stroke_1 && (!fillPattern.get("color") || fillPattern.get("colorInherited"))) {
                                fillPattern.set("color", stroke_1);
                                fillPattern.set("colorInherited", true);
                                changed = true;
                            }
                            if (changed) fillPattern._changed();
                            var pattern = fillPattern.pattern;
                            if (pattern) {
                                this._display.beginFill(pattern, fillOpacity_1);
                                this._display.endFill();
                                if (fillPattern instanceof PicturePattern) fillPattern.events.once("loaded", (function() {
                                    _this._clear = true;
                                    _this.markDirty();
                                }));
                            }
                        } else if (fillGradient) {
                            if (fill_1) {
                                var stops = fillGradient.get("stops", []);
                                if (stops.length) each(stops, (function(stop) {
                                    if ((!stop.color || stop.colorInherited) && fill_1) {
                                        stop.color = fill_1;
                                        stop.colorInherited = true;
                                    }
                                    if (null == stop.opacity || stop.opacityInherited) {
                                        stop.opacity = fillOpacity_1;
                                        stop.opacityInherited = true;
                                    }
                                }));
                            }
                            var gradient = fillGradient.getFill(this);
                            if (gradient) {
                                this._display.beginFill(gradient, fillOpacity_1);
                                this._display.endFill();
                            }
                        } else if (fill_1) {
                            this._display.beginFill(fill_1, fillOpacity_1);
                            this._display.endFill();
                        }
                        if (stroke_1 || strokeGradient || strokePattern) {
                            var strokeOpacity_1 = this.get("strokeOpacity");
                            var strokeWidth = this.get("strokeWidth", 1);
                            if (this.get("nonScalingStroke")) strokeWidth /= this.get("scale", 1);
                            var lineJoin = this.get("lineJoin");
                            if (strokePattern) {
                                changed = false;
                                if (stroke_1 && (!strokePattern.get("color") || strokePattern.get("colorInherited"))) {
                                    strokePattern.set("color", stroke_1);
                                    strokePattern.set("colorInherited", true);
                                    changed = true;
                                }
                                if (changed) strokePattern._changed();
                                pattern = strokePattern.pattern;
                                if (pattern) {
                                    this._display.lineStyle(strokeWidth, pattern, strokeOpacity_1, lineJoin);
                                    this._display.endStroke();
                                    if (strokePattern instanceof PicturePattern) strokePattern.events.once("loaded", (function() {
                                        _this._clear = true;
                                        _this.markDirty();
                                    }));
                                }
                            } else if (strokeGradient) {
                                stops = strokeGradient.get("stops", []);
                                if (stops.length) each(stops, (function(stop) {
                                    if ((!stop.color || stop.colorInherited) && stroke_1) {
                                        stop.color = stroke_1;
                                        stop.colorInherited = true;
                                    }
                                    if (null == stop.opacity || stop.opacityInherited) {
                                        stop.opacity = strokeOpacity_1;
                                        stop.opacityInherited = true;
                                    }
                                }));
                                gradient = strokeGradient.getFill(this);
                                if (gradient) {
                                    this._display.lineStyle(strokeWidth, gradient, strokeOpacity_1, lineJoin);
                                    this._display.endStroke();
                                }
                            } else if (stroke_1) {
                                this._display.lineStyle(strokeWidth, stroke_1, strokeOpacity_1, lineJoin);
                                this._display.endStroke();
                            }
                        }
                    }
                    this._clear = false;
                }
            });
            Object.defineProperty(Graphics, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Graphics"
            });
            Object.defineProperty(Graphics, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Sprite.classNames.concat([ Graphics.className ])
            });
            return Graphics;
        }(Sprite);
        var Rectangle = function(_super) {
            __extends(Rectangle, _super);
            function Rectangle() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Rectangle.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("width") || this.isDirty("height") || this.isPrivateDirty("width") || this.isPrivateDirty("height")) this._clear = true;
                }
            });
            Object.defineProperty(Rectangle.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this._clear && !this.get("draw")) this._draw();
                }
            });
            Object.defineProperty(Rectangle.prototype, "_draw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._display.drawRect(0, 0, this.width(), this.height());
                }
            });
            Object.defineProperty(Rectangle.prototype, "_updateSize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.markDirty();
                    this._clear = true;
                }
            });
            Object.defineProperty(Rectangle, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Rectangle"
            });
            Object.defineProperty(Rectangle, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Graphics.classNames.concat([ Rectangle.className ])
            });
            return Rectangle;
        }(Graphics);
        function eachChildren(container, f) {
            if (container.get("reverseChildren", false)) container.children.eachReverse(f); else container.children.each(f);
        }
        var Layout = function(_super) {
            __extends(Layout, _super);
            function Layout() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Layout, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Layout"
            });
            Object.defineProperty(Layout, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Entity.classNames.concat([ Layout.className ])
            });
            return Layout;
        }(Entity);
        var HorizontalLayout = function(_super) {
            __extends(HorizontalLayout, _super);
            function HorizontalLayout() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(HorizontalLayout.prototype, "updateContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(container) {
                    var paddingLeft = container.get("paddingLeft", 0);
                    var availableWidth = container.innerWidth();
                    var totalPercent = 0;
                    eachChildren(container, (function(child) {
                        if (child.isVisible()) if ("relative" == child.get("position")) {
                            var childWidth = child.get("width");
                            if (childWidth instanceof Percent) {
                                totalPercent += childWidth.value;
                                var w = availableWidth * childWidth.value;
                                var minWidth = child.get("minWidth", child.getPrivate("minWidth", -1 / 0));
                                if (minWidth > w) {
                                    availableWidth -= minWidth;
                                    totalPercent -= childWidth.value;
                                }
                                var maxWidth = child.get("maxWidth", child.getPrivate("maxWidth", 1 / 0));
                                if (w > maxWidth) {
                                    availableWidth -= maxWidth;
                                    totalPercent -= childWidth.value;
                                }
                            } else {
                                if (!isNumber(childWidth)) childWidth = child.width();
                                availableWidth -= childWidth + child.get("marginLeft", 0) + child.get("marginRight", 0);
                            }
                        }
                    }));
                    if (availableWidth < 0) availableWidth = .01;
                    eachChildren(container, (function(child) {
                        if (child.isVisible()) if ("relative" == child.get("position")) {
                            var childWidth = child.get("width");
                            if (childWidth instanceof Percent) {
                                var privateWidth = availableWidth * childWidth.value / totalPercent - child.get("marginLeft", 0) - child.get("marginRight", 0);
                                var minWidth = child.get("minWidth", child.getPrivate("minWidth", -1 / 0));
                                var maxWidth = child.get("maxWidth", child.getPrivate("maxWidth", 1 / 0));
                                privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);
                                child.setPrivate("width", privateWidth);
                            }
                        }
                    }));
                    var prevX = paddingLeft;
                    eachChildren(container, (function(child) {
                        if ("relative" == child.get("position")) if (child.isVisible()) {
                            var bounds = child.adjustedLocalBounds();
                            var marginLeft = child.get("marginLeft", 0);
                            var marginRight = child.get("marginRight", 0);
                            var maxWidth = child.get("maxWidth");
                            var left = bounds.left;
                            var right = bounds.right;
                            if (maxWidth) if (right - left > maxWidth) right = left + maxWidth;
                            var x = prevX + marginLeft - left;
                            child.setPrivate("x", x);
                            prevX = x + right + marginRight;
                        } else child.setPrivate("x", void 0);
                    }));
                }
            });
            Object.defineProperty(HorizontalLayout, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "HorizontalLayout"
            });
            Object.defineProperty(HorizontalLayout, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Layout.classNames.concat([ HorizontalLayout.className ])
            });
            return HorizontalLayout;
        }(Layout);
        var VerticalLayout = function(_super) {
            __extends(VerticalLayout, _super);
            function VerticalLayout() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(VerticalLayout.prototype, "updateContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(container) {
                    var paddingTop = container.get("paddingTop", 0);
                    var availableHeight = container.innerHeight();
                    var totalPercent = 0;
                    eachChildren(container, (function(child) {
                        if (child.isVisible()) if ("relative" == child.get("position")) {
                            var childHeight = child.get("height");
                            if (childHeight instanceof Percent) {
                                totalPercent += childHeight.value;
                                var h = availableHeight * childHeight.value;
                                var minHeight = child.get("minHeight", child.getPrivate("minHeight", -1 / 0));
                                if (minHeight > h) {
                                    availableHeight -= minHeight;
                                    totalPercent -= childHeight.value;
                                }
                                var maxHeight = child.get("maxHeight", child.getPrivate("maxHeight", 1 / 0));
                                if (h > maxHeight) {
                                    availableHeight -= maxHeight;
                                    totalPercent -= childHeight.value;
                                }
                            } else {
                                if (!isNumber(childHeight)) childHeight = child.height();
                                availableHeight -= childHeight + child.get("marginTop", 0) + child.get("marginBottom", 0);
                            }
                        }
                    }));
                    if (availableHeight < 0) availableHeight = .01;
                    eachChildren(container, (function(child) {
                        if (child.isVisible()) if ("relative" == child.get("position")) {
                            var childHeight = child.get("height");
                            if (childHeight instanceof Percent) {
                                var privateHeight = availableHeight * childHeight.value / totalPercent - child.get("marginTop", 0) - child.get("marginBottom", 0);
                                var minHeight = child.get("minHeight", child.getPrivate("minHeight", -1 / 0));
                                var maxHeight = child.get("maxHeight", child.getPrivate("maxHeight", 1 / 0));
                                privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);
                                child.setPrivate("height", privateHeight);
                            }
                        }
                    }));
                    var prevY = paddingTop;
                    eachChildren(container, (function(child) {
                        if ("relative" == child.get("position")) if (child.isVisible()) {
                            var bounds = child.adjustedLocalBounds();
                            var marginTop = child.get("marginTop", 0);
                            var top_1 = bounds.top;
                            var bottom = bounds.bottom;
                            var maxHeight = child.get("maxHeight");
                            if (maxHeight) if (bottom - top_1 > maxHeight) bottom = top_1 + maxHeight;
                            var marginBottom = child.get("marginBottom", 0);
                            var y = prevY + marginTop - top_1;
                            child.setPrivate("y", y);
                            prevY = y + bottom + marginBottom;
                        } else child.setPrivate("y", void 0);
                    }));
                }
            });
            Object.defineProperty(VerticalLayout, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "VerticalLayout"
            });
            Object.defineProperty(VerticalLayout, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Layout.classNames.concat([ VerticalLayout.className ])
            });
            return VerticalLayout;
        }(Layout);
        var GridLayout = function(_super) {
            __extends(GridLayout, _super);
            function GridLayout() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(GridLayout.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._setRawDefault("maxColumns", Number.MAX_VALUE);
                    _super.prototype._afterNew.call(this);
                }
            });
            Object.defineProperty(GridLayout.prototype, "updateContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(container) {
                    var paddingLeft = container.get("paddingLeft", 0);
                    var paddingRight = container.get("paddingRight", 0);
                    var paddingTop = container.get("paddingTop", 0);
                    var availableWidth = container.maxWidth() - paddingLeft - paddingRight;
                    var minCellWidth = availableWidth;
                    var maxCellWidth = 1;
                    eachChildren(container, (function(child) {
                        if (child.get("visible") && child.getPrivate("visible") && !child.get("forceHidden")) if ("absolute" != child.get("position")) {
                            var childWidth = child.width();
                            if (childWidth < minCellWidth) minCellWidth = childWidth;
                            if (childWidth > maxCellWidth) maxCellWidth = childWidth;
                        }
                    }));
                    minCellWidth = fitToRange(minCellWidth, 1, availableWidth);
                    maxCellWidth = fitToRange(maxCellWidth, 1, availableWidth);
                    var columnCount = 1;
                    if (this.get("fixedWidthGrid")) columnCount = availableWidth / maxCellWidth; else columnCount = availableWidth / minCellWidth;
                    columnCount = Math.max(1, Math.floor(columnCount));
                    columnCount = Math.min(this.get("maxColumns", Number.MAX_VALUE), columnCount);
                    var columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);
                    var prevY = paddingTop;
                    var column = 0;
                    var maxColumnHeight = 0;
                    columnCount = columnWidths.length;
                    var prevX = paddingLeft;
                    eachChildren(container, (function(child) {
                        if ("relative" == child.get("position") && child.isVisible()) {
                            var marginTop = child.get("marginTop", 0);
                            var marginBottom = child.get("marginBottom", 0);
                            var bounds = child.adjustedLocalBounds();
                            var marginLeft = child.get("marginLeft", 0);
                            var marginRight = child.get("marginRight", 0);
                            var x = prevX + marginLeft - bounds.left;
                            var y = prevY + marginTop - bounds.top;
                            child.setPrivate("x", x);
                            child.setPrivate("y", y);
                            prevX += columnWidths[column] + marginRight;
                            maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);
                            column++;
                            if (column >= columnCount) {
                                column = 0;
                                prevX = paddingLeft;
                                prevY += maxColumnHeight;
                            }
                        }
                    }));
                }
            });
            Object.defineProperty(GridLayout.prototype, "getColumnWidths", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(container, columnCount, maxCellWidth, availableWidth) {
                    var _this = this;
                    var totalWidth = 0;
                    var columnWidths = [];
                    var column = 0;
                    eachChildren(container, (function(child) {
                        var bounds = child.adjustedLocalBounds();
                        if ("absolute" != child.get("position") && child.isVisible()) {
                            if (_this.get("fixedWidthGrid")) columnWidths[column] = maxCellWidth; else columnWidths[column] = Math.max(0 | columnWidths[column], bounds.right - bounds.left + child.get("marginLeft", 0) + child.get("marginRight", 0));
                            if (column < container.children.length - 1) {
                                column++;
                                if (column == columnCount) column = 0;
                            }
                        }
                    }));
                    each(columnWidths, (function(w) {
                        totalWidth += w;
                    }));
                    if (totalWidth > availableWidth) if (columnCount > 2) {
                        columnCount -= 1;
                        return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);
                    } else return [ availableWidth ];
                    return columnWidths;
                }
            });
            Object.defineProperty(GridLayout, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "GridLayout"
            });
            Object.defineProperty(GridLayout, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Layout.classNames.concat([ GridLayout.className ])
            });
            return GridLayout;
        }(Layout);
        var TextFormatter = function() {
            function TextFormatter() {}
            Object.defineProperty(TextFormatter, "escape", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.replace(/\[\[/g, this.prefix + "1").replace(/([^\/\]]{1})\]\]/g, "$1" + this.prefix + "2").replace(/\]\]/g, this.prefix + "2").replace(/\{\{/g, this.prefix + "3").replace(/\}\}/g, this.prefix + "4").replace(/\'\'/g, this.prefix + "5");
                }
            });
            Object.defineProperty(TextFormatter, "unescape", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.replace(new RegExp(this.prefix + "1", "g"), "[[").replace(new RegExp(this.prefix + "2", "g"), "]]").replace(new RegExp(this.prefix + "3", "g"), "{{").replace(new RegExp(this.prefix + "4", "g"), "}}").replace(new RegExp(this.prefix + "5", "g"), "''");
                }
            });
            Object.defineProperty(TextFormatter, "cleanUp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.replace(/\[\[/g, "[").replace(/\]\]/g, "]").replace(/\{\{/g, "{").replace(/\}\}/g, "}").replace(/\'\'/g, "'");
                }
            });
            Object.defineProperty(TextFormatter, "chunk", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text, quotedBlocks, noFormatting) {
                    if (void 0 === quotedBlocks) quotedBlocks = false;
                    if (void 0 === noFormatting) noFormatting = false;
                    var res = [];
                    text = this.escape(text);
                    var chunks = quotedBlocks ? text.split("'") : [ text ];
                    for (var i = 0; i < chunks.length; i++) {
                        var chunk = chunks[i];
                        if ("" === chunk) continue;
                        if (i % 2 === 0) {
                            chunk = chunk.replace(/\]\[/g, "]" + PLACEHOLDER + "[");
                            chunk = chunk.replace(/\[\]/g, "[ ]");
                            var chunks2 = chunk.split(/[\[\]]+/);
                            for (var i2 = 0; i2 < chunks2.length; i2++) {
                                var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));
                                if (chunk2 === PLACEHOLDER) continue;
                                if ("" === chunk2) continue;
                                if (i2 % 2 === 0) res.push({
                                    type: "value",
                                    text: chunk2
                                }); else res.push({
                                    type: noFormatting ? "value" : "format",
                                    text: "[" + chunk2 + "]"
                                });
                            }
                        } else {
                            chunks2 = chunk.split(/[\[\]]+/);
                            for (i2 = 0; i2 < chunks2.length; i2++) {
                                chunk2 = this.cleanUp(this.unescape(chunks2[i2]));
                                if ("" === chunk2) continue;
                                if (i2 % 2 === 0) res.push({
                                    type: "text",
                                    text: chunk2
                                }); else if (this.isImage(chunk2)) res.push({
                                    type: "image",
                                    text: "[" + chunk2 + "]"
                                }); else res.push({
                                    type: "format",
                                    text: "[" + chunk2 + "]"
                                });
                            }
                        }
                    }
                    return res;
                }
            });
            Object.defineProperty(TextFormatter, "isImage", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.match(/img[ ]?:/) ? true : false;
                }
            });
            Object.defineProperty(TextFormatter, "getTextStyle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(style) {
                    var format = {};
                    if ("" == style || "[ ]" == style) return {};
                    var q = style.match(/('[^']*')|("[^"]*")/gi);
                    if (q) for (var i = 0; i < q.length; i++) style = style.replace(q[i], q[i].replace(/['"]*/g, "").replace(/[ ]+/g, "+"));
                    var b = style.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);
                    if (!b) return {};
                    for (i = 0; i < b.length; i++) if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) format.fontWeight = b[i]; else if (b[i].match(/^(underline|line-through)$/i)) format.textDecoration = b[i]; else if ("/" == b[i]) ; else if (!b[i].match(/:/)) format.fill = Color.fromString(b[i]); else {
                        var p = b[i].replace("+", " ").split(/:[ ]*/);
                        format[p[0]] = p[1];
                    }
                    return format;
                }
            });
            Object.defineProperty(TextFormatter, "prefix", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "__amcharts__"
            });
            return TextFormatter;
        }();
        function populateString(target, string) {
            if (null != string) {
                string = "" + string;
                string = TextFormatter.escape(string);
                var tags = string.match(/\{([^}]+)\}/g);
                var i = void 0;
                if (tags) for (i = 0; i < tags.length; i++) {
                    var tag = tags[i].replace(/\{([^}]+)\}/, "$1");
                    var value = getTagValue(target, tag, "");
                    if (null == value) value = "";
                    string = string.split(tags[i]).join(value);
                }
                string = TextFormatter.unescape(string);
            } else string = "";
            return string;
        }
        function getTagValue(target, tagName, format) {
            var value;
            var dataItem = target.dataItem;
            var parts = [];
            var reg = /([^.]+)\(([^)]*)\)|([^.]+)/g;
            var matches;
            while (true) {
                matches = reg.exec(tagName);
                if (null === matches) break;
                if (matches[3]) {
                    parts.push({
                        prop: matches[3]
                    });
                    var dateFields = target.getDateFormatter().get("dateFields", []);
                    var numericFields = target.getNumberFormatter().get("numericFields", []);
                    var durationFields = target.getDurationFormatter().get("durationFields", []);
                    if (-1 !== dateFields.indexOf(matches[3])) parts.push({
                        method: "formatDate",
                        params: []
                    }); else if (-1 !== numericFields.indexOf(matches[3])) parts.push({
                        method: "formatNumber",
                        params: []
                    }); else if (-1 !== durationFields.indexOf(matches[3])) parts.push({
                        method: "formatDuration",
                        params: []
                    });
                } else {
                    var params = [];
                    if ("" != trim(matches[2])) {
                        var reg2 = /'([^']*)'|"([^"]*)"|([0-9\-]+)/g;
                        var matches2 = void 0;
                        while (true) {
                            matches2 = reg2.exec(matches[2]);
                            if (null === matches2) break;
                            params.push(matches2[1] || matches2[2] || matches2[3]);
                        }
                    }
                    parts.push({
                        method: matches[1],
                        params
                    });
                }
            }
            if (dataItem) {
                value = getTagValueFromObject(target, parts, dataItem._settings);
                if (null == value || Type_isObject(value)) value = getTagValueFromObject(target, parts, dataItem);
                var dataContext = dataItem.dataContext;
                if (null == value && dataContext) {
                    value = getTagValueFromObject(target, parts, dataContext);
                    if (null == value) value = getTagValueFromObject(target, [ {
                        prop: tagName
                    } ], dataContext);
                    if (null == value && dataContext.dataContext) value = getTagValueFromObject(target, parts, dataContext.dataContext);
                }
                if (null == value && dataItem.component && dataItem.component.dataItem !== dataItem) value = getTagValue(dataItem.component, tagName, format);
            }
            if (null == value) value = getTagValueFromObject(target, parts, target);
            if (null == value && target.parent) value = getTagValue(target.parent, tagName, format);
            return value;
        }
        function getCustomDataValue(target, prop) {
            var customData = target.getPrivate("customData");
            if (Type_isObject(customData)) return customData[prop];
        }
        function getTagValueFromObject(target, parts, object, format) {
            var current = object;
            var formatApplied = false;
            for (var i = 0, len = parts.length; i < len; i++) {
                var part = parts[i];
                if (part.prop) {
                    if (current instanceof Sprite) {
                        var tmp = current.get(part.prop);
                        if (null == tmp) tmp = current.getPrivate(part.prop);
                        if (null == tmp) tmp = getCustomDataValue(current, part.prop);
                        if (null == tmp) tmp = current[part.prop];
                        current = tmp;
                    } else if (current.get) {
                        tmp = current.get(part.prop);
                        if (null == tmp) tmp = current[part.prop];
                        current = tmp;
                    } else current = current[part.prop];
                    if (null == current) return;
                } else switch (part.method) {
                  case "formatNumber":
                    var numberValue = toNumber(current);
                    if (null != numberValue) {
                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || void 0);
                        formatApplied = true;
                    }
                    break;

                  case "formatDate":
                    var dateValue = toDate(current);
                    if (!isDate(dateValue) || Type_isNaN(dateValue.getTime())) return;
                    if (null != dateValue) {
                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || void 0);
                        formatApplied = true;
                    }
                    break;

                  case "formatDuration":
                    var durationValue = toNumber(current);
                    if (null != durationValue) {
                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || void 0, part.params[1] || void 0);
                        formatApplied = true;
                    }
                    break;

                  case "urlEncode":
                  case "encodeURIComponent":
                    current = encodeURIComponent(current);
                    break;

                  default:
                    if (current[part.method]) current[part.method].apply(object, part.params);
                    break;
                }
            }
            if (!formatApplied) {
                var formatParts = [ {
                    method: "",
                    params: format
                } ];
                if (null == format) {
                    if (isNumber(current)) {
                        formatParts[0].method = "formatNumber";
                        formatParts[0].params = "";
                    } else if (isDate(current)) {
                        formatParts[0].method = "formatDate";
                        formatParts[0].params = "";
                    }
                } else {
                    var formatterType = getFormat(format);
                    if ("number" === formatterType) formatParts[0].method = "formatNumber"; else if ("date" === formatterType) formatParts[0].method = "formatDate"; else if ("duration" === formatterType) formatParts[0].method = "formatDuration";
                }
                if (formatParts[0].method) current = getTagValueFromObject(target, formatParts, current);
            }
            return current;
        }
        var Container = function(_super) {
            __extends(Container, _super);
            function Container() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_display", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeContainer()
                });
                Object.defineProperty(_this, "_childrenDisplay", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeContainer()
                });
                Object.defineProperty(_this, "children", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Children(_this)
                });
                Object.defineProperty(_this, "_percentageSizeChildren", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_percentagePositionChildren", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_prevWidth", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_prevHeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_contentWidth", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_contentHeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_contentMask", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_vsbd0", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_vsbd1", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(Container.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterNew.call(this);
                    this._display.addChild(this._childrenDisplay);
                }
            });
            Object.defineProperty(Container.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    eachReverse(this.allChildren(), (function(child) {
                        child.dispose();
                    }));
                    if (this.getPrivate("htmlElement")) this._root._removeHTMLContent(this);
                    _super.prototype._dispose.call(this);
                }
            });
            Object.defineProperty(Container.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this.isDirty("interactiveChildren")) this._display.interactiveChildren = this.get("interactiveChildren", false);
                    if (this.isDirty("layout")) {
                        this._prevWidth = 0;
                        this._prevHeight = 0;
                        this.markDirtyBounds();
                        if (this._prevSettings.layout) this.children.each((function(child) {
                            child.removePrivate("x");
                            child.removePrivate("y");
                        }));
                    }
                    if (this.isDirty("paddingTop") || this.isDirty("paddingBottom") || this.isDirty("paddingLeft") || this.isDirty("paddingRight")) this.children.each((function(child) {
                        child.markDirtyPosition();
                    }));
                    if (this.isDirty("maskContent")) {
                        var childrenDisplay = this._childrenDisplay;
                        var contentMask = this._contentMask;
                        if (this.get("maskContent")) {
                            if (!contentMask) {
                                contentMask = Rectangle["new"](this._root, {
                                    width: this.width() + .5,
                                    height: this.height() + .5
                                });
                                this._contentMask = contentMask;
                                childrenDisplay.addChildAt(contentMask._display, 0);
                                childrenDisplay.mask = contentMask._display;
                            }
                        } else if (contentMask) {
                            childrenDisplay.removeChild(contentMask._display);
                            childrenDisplay.mask = null;
                            contentMask.dispose();
                            this._contentMask = void 0;
                        }
                    }
                }
            });
            Object.defineProperty(Container.prototype, "_updateSize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._updateSize.call(this);
                    each(this._percentageSizeChildren, (function(child) {
                        child._updateSize();
                    }));
                    each(this._percentagePositionChildren, (function(child) {
                        child.markDirtyPosition();
                        child._updateSize();
                    }));
                    this.updateBackground();
                }
            });
            Object.defineProperty(Container.prototype, "updateBackground", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var background = this.get("background");
                    var bounds = this._localBounds;
                    if (bounds && !this.isHidden()) {
                        var x = bounds.left;
                        var y = bounds.top;
                        var w = bounds.right - x;
                        var h = bounds.bottom - y;
                        var maxWidth = this.get("maxWidth");
                        var maxHeight = this.get("maxHeight");
                        if (maxHeight) if (h > maxHeight) h = maxHeight;
                        if (maxWidth) if (w > maxWidth) w = maxWidth;
                        var width = this.width();
                        var height = this.height();
                        if (background) {
                            background.setAll({
                                width: w,
                                height: h,
                                x,
                                y
                            });
                            if (this._display.interactive) background._display.interactive = true;
                        }
                        var contentMask = this._contentMask;
                        if (contentMask) contentMask.setAll({
                            width: width + .5,
                            height: height + .5
                        });
                        var verticalScrollbar = this.get("verticalScrollbar");
                        if (verticalScrollbar) {
                            verticalScrollbar.set("height", height);
                            verticalScrollbar.set("x", width - verticalScrollbar.width() - verticalScrollbar.get("marginRight", 0));
                            verticalScrollbar.set("end", verticalScrollbar.get("start", 0) + height / this._contentHeight);
                            var bg = verticalScrollbar.get("background");
                            if (bg) bg.setAll({
                                width: verticalScrollbar.width(),
                                height
                            });
                            var visible = true;
                            if (this._contentHeight <= height) visible = false;
                            verticalScrollbar.setPrivate("visible", visible);
                        }
                    }
                }
            });
            Object.defineProperty(Container.prototype, "_applyThemes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (_super.prototype._applyThemes.call(this)) {
                        this.eachChildren((function(child) {
                            child._applyThemes();
                        }));
                        return true;
                    } else return false;
                }
            });
            Object.defineProperty(Container.prototype, "_applyState", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name) {
                    _super.prototype._applyState.call(this, name);
                    if (this.get("setStateOnChildren")) this.eachChildren((function(child) {
                        child.states.apply(name);
                    }));
                }
            });
            Object.defineProperty(Container.prototype, "_applyStateAnimated", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, duration) {
                    _super.prototype._applyStateAnimated.call(this, name, duration);
                    if (this.get("setStateOnChildren")) this.eachChildren((function(child) {
                        child.states.applyAnimate(name, duration);
                    }));
                }
            });
            Object.defineProperty(Container.prototype, "innerWidth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.width() - this.get("paddingRight", 0) - this.get("paddingLeft", 0);
                }
            });
            Object.defineProperty(Container.prototype, "innerHeight", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.height() - this.get("paddingTop", 0) - this.get("paddingBottom", 0);
                }
            });
            Object.defineProperty(Container.prototype, "_getBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var width = this.get("width");
                    var height = this.get("height");
                    var pWidth = this.getPrivate("width");
                    var pHeight = this.getPrivate("height");
                    var bounds = {
                        left: 0,
                        top: 0,
                        right: this.width(),
                        bottom: this.height()
                    };
                    var layout = this.get("layout");
                    var horizontal = false;
                    var vertical = false;
                    if (layout instanceof HorizontalLayout || layout instanceof GridLayout) horizontal = true;
                    if (layout instanceof VerticalLayout) vertical = true;
                    if ((null != width || null != pWidth) && (null != height || null != pHeight) && !this.get("verticalScrollbar")) ; else {
                        var m = Number.MAX_VALUE;
                        var l_1 = m;
                        var r_1 = -m;
                        var t_1 = m;
                        var b_1 = -m;
                        var paddingLeft = this.get("paddingLeft", 0);
                        var paddingTop = this.get("paddingTop", 0);
                        var paddingRight = this.get("paddingRight", 0);
                        var paddingBottom = this.get("paddingBottom", 0);
                        this.children.each((function(child) {
                            if ("absolute" != child.get("position") && child.get("isMeasured")) {
                                var childBounds = child.adjustedLocalBounds();
                                var childX = child.x();
                                var childY = child.y();
                                var cl = childX + childBounds.left;
                                var cr = childX + childBounds.right;
                                var ct = childY + childBounds.top;
                                var cb = childY + childBounds.bottom;
                                if (horizontal) {
                                    cl -= child.get("marginLeft", 0);
                                    cr += child.get("marginRight", 0);
                                }
                                if (vertical) {
                                    ct -= child.get("marginTop", 0);
                                    cb += child.get("marginBottom", 0);
                                }
                                if (cl < l_1) l_1 = cl;
                                if (cr > r_1) r_1 = cr;
                                if (ct < t_1) t_1 = ct;
                                if (cb > b_1) b_1 = cb;
                            }
                        }));
                        if (l_1 == m) l_1 = 0;
                        if (r_1 == -m) r_1 = 0;
                        if (t_1 == m) t_1 = 0;
                        if (b_1 == -m) b_1 = 0;
                        bounds.left = l_1 - paddingLeft;
                        bounds.top = t_1 - paddingTop;
                        bounds.right = r_1 + paddingRight;
                        bounds.bottom = b_1 + paddingBottom;
                    }
                    this._contentWidth = bounds.right - bounds.left;
                    this._contentHeight = bounds.bottom - bounds.top;
                    if (isNumber(width)) {
                        bounds.left = 0;
                        bounds.right = width;
                    }
                    if (isNumber(pWidth)) {
                        bounds.left = 0;
                        bounds.right = pWidth;
                    }
                    if (isNumber(height)) {
                        bounds.top = 0;
                        bounds.bottom = height;
                    }
                    if (isNumber(pHeight)) {
                        bounds.top = 0;
                        bounds.bottom = pHeight;
                    }
                    this._localBounds = bounds;
                }
            });
            Object.defineProperty(Container.prototype, "_updateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var layout = this.get("layout");
                    if (layout) layout.updateContainer(this);
                    _super.prototype._updateBounds.call(this);
                    this.updateBackground();
                }
            });
            Object.defineProperty(Container.prototype, "markDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.markDirty.call(this);
                    this._root._addDirtyParent(this);
                }
            });
            Object.defineProperty(Container.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var innerWidth = this.innerWidth();
                    var innerHeight = this.innerHeight();
                    if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {
                        var layout = this.get("layout");
                        var horizontal_1 = false;
                        var vertical_1 = false;
                        if (layout) {
                            if (layout instanceof HorizontalLayout || layout instanceof GridLayout) horizontal_1 = true;
                            if (layout instanceof VerticalLayout) vertical_1 = true;
                        }
                        each(this._percentageSizeChildren, (function(child) {
                            if (!horizontal_1) {
                                var width = child.get("width");
                                if (width instanceof Percent) child.setPrivate("width", width.value * innerWidth);
                            }
                            if (!vertical_1) {
                                var height = child.get("height");
                                if (height instanceof Percent) child.setPrivate("height", height.value * innerHeight);
                            }
                        }));
                        each(this._percentagePositionChildren, (function(child) {
                            child.markDirtyPosition();
                            child.markDirtyBounds();
                        }));
                        this._prevWidth = innerWidth;
                        this._prevHeight = innerHeight;
                        this._sizeDirty = true;
                        this.updateBackground();
                    }
                    this._handleStates();
                }
            });
            Object.defineProperty(Container.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (this.isDirty("html")) {
                        var html = this.get("html");
                        if (html && "" !== html) this._root._setHTMLContent(this, populateString(this, this.get("html", ""))); else this._root._removeHTMLContent(this);
                        this._root._positionHTMLElement(this);
                    }
                    if (this.isDirty("verticalScrollbar")) {
                        var verticalScrollbar_1 = this.get("verticalScrollbar");
                        if (verticalScrollbar_1) {
                            verticalScrollbar_1._setParent(this);
                            verticalScrollbar_1.children.removeValue(verticalScrollbar_1.startGrip);
                            verticalScrollbar_1.children.removeValue(verticalScrollbar_1.endGrip);
                            this.set("maskContent", true);
                            this.set("paddingRight", verticalScrollbar_1.width() + verticalScrollbar_1.get("marginRight", 0) + verticalScrollbar_1.get("marginLeft", 0));
                            var background = this.get("background");
                            if (!background) background = this.set("background", Rectangle["new"](this._root, {
                                themeTags: [ "background" ],
                                fillOpacity: 0,
                                fill: this._root.interfaceColors.get("alternativeBackground")
                            }));
                            this._vsbd0 = this.events.on("wheel", (function(event) {
                                var wheelEvent = event.originalEvent;
                                if (isLocalEvent(wheelEvent, _this)) wheelEvent.preventDefault(); else return;
                                var shiftY = wheelEvent.deltaY / 5e3;
                                var start = verticalScrollbar_1.get("start", 0);
                                var end = verticalScrollbar_1.get("end", 1);
                                if (start + shiftY > 0 && end + shiftY < 1) {
                                    verticalScrollbar_1.set("start", start + shiftY);
                                    verticalScrollbar_1.set("end", end + shiftY);
                                }
                            }));
                            this._disposers.push(this._vsbd0);
                            this._vsbd1 = verticalScrollbar_1.events.on("rangechanged", (function() {
                                var h = _this._contentHeight;
                                var childrenDisplay = _this._childrenDisplay;
                                var contentMask = _this._contentMask;
                                childrenDisplay.y = -verticalScrollbar_1.get("start") * h;
                                childrenDisplay.markDirtyLayer();
                                if (contentMask) {
                                    contentMask._display.y = -childrenDisplay.y;
                                    childrenDisplay.mask = contentMask._display;
                                }
                            }));
                            this._disposers.push(this._vsbd1);
                            this._display.addChild(verticalScrollbar_1._display);
                        } else {
                            var previous = this._prevSettings.verticalScrollbar;
                            if (previous) {
                                this._display.removeChild(previous._display);
                                if (this._vsbd0) this._vsbd0.dispose();
                                if (this._vsbd1) this._vsbd1.dispose();
                                var childrenDisplay = this._childrenDisplay;
                                childrenDisplay.y = 0;
                                this.setPrivate("height", void 0);
                                this.set("maskContent", false);
                                this.set("paddingRight", void 0);
                            }
                        }
                    }
                    if (this.isDirty("background")) {
                        previous = this._prevSettings["background"];
                        if (previous) this._display.removeChild(previous._display);
                        background = this.get("background");
                        if (background instanceof Sprite) {
                            background.set("isMeasured", false);
                            background._setParent(this);
                            this._display.addChildAt(background._display, 0);
                        }
                    }
                    if (this.isDirty("mask")) {
                        var mask = this.get("mask");
                        previous = this._prevSettings["mask"];
                        if (previous) {
                            this._display.removeChild(previous._display);
                            if (previous != mask) previous.dispose();
                        }
                        if (mask) {
                            var parent = mask.parent;
                            if (parent) parent.children.removeValue(mask);
                            mask._setParent(this);
                            this._display.addChildAt(mask._display, 0);
                            this._childrenDisplay.mask = mask._display;
                        }
                    }
                }
            });
            Object.defineProperty(Container.prototype, "_processTemplateField", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._processTemplateField.call(this);
                    this.children.each((function(child) {
                        child._processTemplateField();
                    }));
                }
            });
            Object.defineProperty(Container.prototype, "walkChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    this.children.each((function(child) {
                        if (child instanceof Container) child.walkChildren(f);
                        f(child);
                    }));
                }
            });
            Object.defineProperty(Container.prototype, "eachChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    var background = this.get("background");
                    if (background) f(background);
                    var verticalScrollbar = this.get("verticalScrollbar");
                    if (verticalScrollbar) f(verticalScrollbar);
                    var mask = this.get("mask");
                    if (mask) f(mask);
                    this.children.values.forEach((function(child) {
                        f(child);
                    }));
                }
            });
            Object.defineProperty(Container.prototype, "allChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var output = [];
                    this.eachChildren((function(x) {
                        output.push(x);
                    }));
                    return output;
                }
            });
            Object.defineProperty(Container.prototype, "_setDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var updated = dataItem !== this._dataItem;
                    _super.prototype._setDataItem.call(this, dataItem);
                    var html = this.get("html", "");
                    if (html && "" !== html && updated) this._root._setHTMLContent(this, populateString(this, html));
                }
            });
            Object.defineProperty(Container, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Container"
            });
            Object.defineProperty(Container, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Sprite.classNames.concat([ Container.className ])
            });
            return Container;
        }(Sprite);
        var Text = function(_super) {
            __extends(Text, _super);
            function Text() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "textStyle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeTextStyle()
                });
                Object.defineProperty(_this, "_display", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._root._renderer.makeText("", _this.textStyle)
                });
                Object.defineProperty(_this, "_textStyles", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ "textAlign", "fontFamily", "fontSize", "fontStyle", "fontWeight", "fontStyle", "fontVariant", "textDecoration", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "shadowOpacity", "lineHeight", "baselineRatio", "direction", "textBaseline", "oversizedBehavior", "breakWords", "ellipsis", "minScale" ]
                });
                Object.defineProperty(_this, "_originalScale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(Text.prototype, "_updateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.get("text")) {
                        var newBounds = {
                            left: 0,
                            right: 0,
                            top: 0,
                            bottom: 0
                        };
                        this._adjustedLocalBounds = newBounds;
                    } else _super.prototype._updateBounds.call(this);
                }
            });
            Object.defineProperty(Text.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._changed.call(this);
                    this._display.clear();
                    var textStyle = this.textStyle;
                    if (this.isDirty("opacity")) {
                        var opacity = this.get("opacity", 1);
                        this._display.alpha = opacity;
                    }
                    if (this.isDirty("text") || this.isDirty("populateText")) {
                        this._display.text = this._getText();
                        this.markDirtyBounds();
                        if ("tooltip" == this.get("role")) this._root.updateTooltip(this);
                    }
                    if (this.isDirty("width")) {
                        textStyle.wordWrapWidth = this.width();
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("oversizedBehavior")) {
                        textStyle.oversizedBehavior = this.get("oversizedBehavior", "none");
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("breakWords")) {
                        textStyle.breakWords = this.get("breakWords", false);
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("ellipsis")) {
                        textStyle.ellipsis = this.get("ellipsis");
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("ignoreFormatting")) {
                        textStyle.ignoreFormatting = this.get("ignoreFormatting", false);
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("minScale")) {
                        textStyle.minScale = this.get("minScale", 0);
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("fill")) {
                        var fill = this.get("fill");
                        if (fill) textStyle.fill = fill;
                    }
                    if (this.isDirty("fillOpacity")) {
                        var fillOpacity = this.get("fillOpacity", 1);
                        if (fillOpacity) textStyle.fillOpacity = fillOpacity;
                    }
                    if (this.isDirty("maxWidth") || this.isPrivateDirty("maxWidth")) {
                        textStyle.maxWidth = this.get("maxWidth", this.getPrivate("maxWidth"));
                        this.markDirtyBounds();
                    }
                    if (this.isDirty("maxHeight") || this.isPrivateDirty("maxHeight")) {
                        textStyle.maxHeight = this.get("maxHeight", this.getPrivate("maxHeight"));
                        this.markDirtyBounds();
                    }
                    each(this._textStyles, (function(styleName) {
                        if (_this._dirty[styleName]) {
                            textStyle[styleName] = _this.get(styleName);
                            _this.markDirtyBounds();
                        }
                    }));
                    textStyle["fontSize"] = this.get("fontSize");
                    textStyle["fontFamily"] = this.get("fontFamily");
                    this._display.style = textStyle;
                    if (this.isDirty("role") && "tooltip" == this.get("role")) this._root.updateTooltip(this);
                }
            });
            Object.defineProperty(Text.prototype, "_getText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var text = this.get("text", "");
                    return this.get("populateText") ? populateString(this, text) : text;
                }
            });
            Object.defineProperty(Text.prototype, "markDirtyText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._display.text = this._getText();
                    if ("tooltip" == this.get("role")) this._root.updateTooltip(this);
                    this.markDirtyBounds();
                    this.markDirty();
                }
            });
            Object.defineProperty(Text.prototype, "_setDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    _super.prototype._setDataItem.call(this, dataItem);
                    if (this.get("populateText")) this.markDirtyText();
                }
            });
            Object.defineProperty(Text.prototype, "getNumberFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.parent) return this.parent.getNumberFormatter(); else return _super.prototype.getNumberFormatter.call(this);
                }
            });
            Object.defineProperty(Text.prototype, "getDateFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.parent) return this.parent.getDateFormatter(); else return _super.prototype.getDateFormatter.call(this);
                }
            });
            Object.defineProperty(Text.prototype, "getDurationFormatter", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.parent) return this.parent.getDurationFormatter(); else return _super.prototype.getDurationFormatter.call(this);
                }
            });
            Object.defineProperty(Text, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Text"
            });
            Object.defineProperty(Text, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Sprite.classNames.concat([ Text.className ])
            });
            return Text;
        }(Sprite);
        var Native = function() {
            function Native() {
                var _this = this;
                Object.defineProperty(this, "_observer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_targets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                this._observer = new ResizeObserver((function(entries) {
                    each(entries, (function(entry) {
                        each(_this._targets, (function(x) {
                            if (x.target === entry.target) x.callback();
                        }));
                    }));
                }));
            }
            Object.defineProperty(Native.prototype, "addTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target, callback) {
                    this._observer.observe(target, {
                        box: "border-box"
                    });
                    this._targets.push({
                        target,
                        callback
                    });
                }
            });
            Object.defineProperty(Native.prototype, "removeTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    this._observer.unobserve(target);
                    keepIf(this._targets, (function(x) {
                        return x.target !== target;
                    }));
                }
            });
            return Native;
        }();
        var Raf = function() {
            function Raf() {
                Object.defineProperty(this, "_timer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(this, "_targets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
            }
            Object.defineProperty(Raf.prototype, "addTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target, callback) {
                    var _this = this;
                    if (null === this._timer) {
                        var lastTime_1 = null;
                        var loop_1 = function() {
                            var currentTime = Date.now();
                            if (null === lastTime_1 || currentTime > lastTime_1 + Raf.delay) {
                                lastTime_1 = currentTime;
                                each(_this._targets, (function(x) {
                                    var newSize = x.target.getBoundingClientRect();
                                    if (newSize.width !== x.size.width || newSize.height !== x.size.height) {
                                        x.size = newSize;
                                        x.callback();
                                    }
                                }));
                            }
                            if (0 === _this._targets.length) _this._timer = null; else _this._timer = requestAnimationFrame(loop_1);
                        };
                        this._timer = requestAnimationFrame(loop_1);
                    }
                    var size = {
                        width: 0,
                        height: 0,
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        x: 0,
                        y: 0
                    };
                    this._targets.push({
                        target,
                        callback,
                        size
                    });
                }
            });
            Object.defineProperty(Raf.prototype, "removeTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    keepIf(this._targets, (function(x) {
                        return x.target !== target;
                    }));
                    if (0 === this._targets.length) if (null !== this._timer) {
                        cancelAnimationFrame(this._timer);
                        this._timer = null;
                    }
                }
            });
            Object.defineProperty(Raf, "delay", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: 200
            });
            return Raf;
        }();
        var observer = null;
        function makeSensor() {
            if (null === observer) if ("undefined" !== typeof ResizeObserver) observer = new Native; else observer = new Raf;
            return observer;
        }
        var ResizeSensor = function() {
            function ResizeSensor(element, callback) {
                Object.defineProperty(this, "_sensor", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_element", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_listener", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_disposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                this._sensor = makeSensor();
                this._element = element;
                this._listener = onZoom(callback);
                this._sensor.addTarget(element, callback);
            }
            Object.defineProperty(ResizeSensor.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._disposed;
                }
            });
            Object.defineProperty(ResizeSensor.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._disposed) {
                        this._disposed = true;
                        this._sensor.removeTarget(this._element);
                        this._listener.dispose();
                    }
                }
            });
            Object.defineProperty(ResizeSensor.prototype, "sensor", {
                get: function() {
                    return this._sensor;
                },
                enumerable: false,
                configurable: true
            });
            return ResizeSensor;
        }();
        var InterfaceColors = function(_super) {
            __extends(InterfaceColors, _super);
            function InterfaceColors() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(InterfaceColors, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "InterfaceColors"
            });
            Object.defineProperty(InterfaceColors, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Entity.classNames.concat([ InterfaceColors.className ])
            });
            return InterfaceColors;
        }(Entity);
        var Label = function(_super) {
            __extends(Label, _super);
            function Label() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_text", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_textKeys", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ "text", "fill", "fillOpacity", "textAlign", "fontFamily", "fontSize", "fontStyle", "fontWeight", "fontStyle", "fontVariant", "textDecoration", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "shadowOpacity", "lineHeight", "baselineRatio", "direction", "textBaseline", "oversizedBehavior", "breakWords", "ellipsis", "minScale", "populateText", "role", "ignoreFormatting" ]
                });
                return _this;
            }
            Object.defineProperty(Label.prototype, "text", {
                get: function() {
                    return this._text;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Label.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterNew.call(this);
                    this._makeText();
                    each(this._textKeys, (function(property) {
                        var propValue = _this.get(property);
                        if (void 0 != propValue) _this._text.set(property, propValue);
                    }));
                    if ("" !== this.get("html", "")) this._text.set("text", "");
                    this.onPrivate("maxWidth", (function() {
                        _this._setMaxDimentions();
                    }));
                    this.onPrivate("maxHeight", (function() {
                        _this._setMaxDimentions();
                    }));
                }
            });
            Object.defineProperty(Label.prototype, "_makeText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._text = this.children.push(Text["new"](this._root, {}));
                }
            });
            Object.defineProperty(Label.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._updateChildren.call(this);
                    each(this._textKeys, (function(property) {
                        _this._text.set(property, _this.get(property));
                    }));
                    if (this.isDirty("maxWidth")) this._setMaxDimentions();
                    if (this.isDirty("maxHeight")) this._setMaxDimentions();
                    if (this.isDirty("rotation")) this._setMaxDimentions();
                    if ("" !== this.get("html", "")) this._text.set("text", ""); else this._text.set("text", this.get("text"));
                    if (this.isDirty("textAlign") || this.isDirty("width")) {
                        var textAlign = this.get("textAlign");
                        var x = void 0;
                        if (null != this.get("width")) if ("right" == textAlign) x = p100; else if ("center" == textAlign) x = p50; else x = 0; else if ("left" == textAlign || "start" == textAlign) x = this.get("paddingLeft"); else if ("right" == textAlign || "end" == textAlign) x = -this.get("paddingRight");
                        this.text.set("x", x);
                    }
                }
            });
            Object.defineProperty(Label.prototype, "_setMaxDimentions", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var rotation = this.get("rotation");
                    var vertical = 90 == rotation || 270 == rotation || -90 == rotation;
                    var maxWidth = this.get("maxWidth", this.getPrivate("maxWidth", 1 / 0));
                    if (isNumber(maxWidth)) this.text.set(vertical ? "maxHeight" : "maxWidth", maxWidth - this.get("paddingLeft", 0) - this.get("paddingRight", 0)); else this.text.set(vertical ? "maxHeight" : "maxWidth", void 0);
                    var maxHeight = this.get("maxHeight", this.getPrivate("maxHeight", 1 / 0));
                    if (isNumber(maxHeight)) this.text.set(vertical ? "maxWidth" : "maxHeight", maxHeight - this.get("paddingTop", 0) - this.get("paddingBottom", 0)); else this.text.set(vertical ? "maxWidth" : "maxHeight", void 0);
                }
            });
            Object.defineProperty(Label.prototype, "_setDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    _super.prototype._setDataItem.call(this, dataItem);
                    this._markDirtyKey("text");
                    if (this.text.get("populateText")) this.text.markDirtyText();
                }
            });
            Object.defineProperty(Label.prototype, "getText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._text._getText();
                }
            });
            Object.defineProperty(Label, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Label"
            });
            Object.defineProperty(Label, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Container.classNames.concat([ Label.className ])
            });
            return Label;
        }(Container);
        var PointedRectangle = function(_super) {
            __extends(PointedRectangle, _super);
            function PointedRectangle() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(PointedRectangle.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("pointerBaseWidth") || this.isDirty("cornerRadius") || this.isDirty("pointerLength") || this.isDirty("pointerX") || this.isDirty("pointerY") || this.isDirty("width") || this.isDirty("height")) this._clear = true;
                }
            });
            Object.defineProperty(PointedRectangle.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this._clear) {
                        this.markDirtyBounds();
                        var w = this.width();
                        var h = this.height();
                        if (w > 0 && h > 0) {
                            var cr = this.get("cornerRadius", 8);
                            cr = fitToRange(cr, 0, Math.min(w / 2, h / 2));
                            var x = this.get("pointerX", 0);
                            var y = this.get("pointerY", 0);
                            var bwh = this.get("pointerBaseWidth", 15) / 2;
                            var xtl = 0;
                            var ytl = 0;
                            var xtr = w;
                            var ytr = 0;
                            var xbr = w;
                            var ybr = h;
                            var xbl = 0;
                            var ybl = h;
                            var d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);
                            var d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);
                            var display = this._display;
                            display.moveTo(cr, 0);
                            if (d1 > 0 && d2 > 0) {
                                var stemX = Math.round(fitToRange(x, cr + bwh, w - bwh - cr));
                                y = fitToRange(y, -1 / 0, 0);
                                display.lineTo(stemX - bwh, 0);
                                display.lineTo(x, y);
                                display.lineTo(stemX + bwh, 0);
                            }
                            display.lineTo(w - cr, 0);
                            display.arcTo(w, 0, w, cr, cr);
                            if (d1 > 0 && d2 < 0) {
                                var stemY = Math.round(fitToRange(y, cr + bwh, h - bwh - cr));
                                x = fitToRange(x, w, 1 / 0);
                                display.lineTo(w, cr);
                                display.lineTo(w, Math.max(stemY - bwh, cr));
                                display.lineTo(x, y);
                                display.lineTo(w, stemY + bwh);
                            }
                            display.lineTo(w, h - cr);
                            display.arcTo(w, h, w - cr, h, cr);
                            if (d1 < 0 && d2 < 0) {
                                stemX = Math.round(fitToRange(x, cr + bwh, w - bwh - cr));
                                y = fitToRange(y, h, 1 / 0);
                                display.lineTo(w - cr, h);
                                display.lineTo(stemX + bwh, h);
                                display.lineTo(x, y);
                                display.lineTo(stemX - bwh, h);
                            }
                            display.lineTo(cr, h);
                            display.arcTo(0, h, 0, h - cr, cr);
                            if (d1 < 0 && d2 > 0) {
                                stemY = Math.round(fitToRange(y, cr + bwh, h - cr - bwh));
                                x = fitToRange(x, -1 / 0, 0);
                                display.lineTo(0, h - cr);
                                display.lineTo(0, stemY + bwh);
                                display.lineTo(x, y);
                                display.lineTo(0, Math.max(stemY - bwh, cr));
                            }
                            display.lineTo(0, cr);
                            display.arcTo(0, 0, cr, 0, cr);
                            display.closePath();
                        }
                    }
                }
            });
            Object.defineProperty(PointedRectangle, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "PointedRectangle"
            });
            Object.defineProperty(PointedRectangle, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Graphics.classNames.concat([ PointedRectangle.className ])
            });
            return PointedRectangle;
        }(Graphics);
        var Tooltip = function(_super) {
            __extends(Tooltip, _super);
            function Tooltip(root, settings, isReal, templates) {
                if (void 0 === templates) templates = [];
                var _this = _super.call(this, root, settings, isReal, templates) || this;
                Object.defineProperty(_this, "_arrangeDisposer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_fx", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_fy", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_label", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_fillDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_strokeDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_labelDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_w", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_h", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_keepHoverDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(Tooltip.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "tooltip" ]);
                    _super.prototype._afterNew.call(this);
                    this.set("background", PointedRectangle["new"](this._root, {
                        themeTags: [ "tooltip", "background" ]
                    }));
                    this._label = this.children.push(Label["new"](this._root, {}));
                    this._disposers.push(this._label.events.on("boundschanged", (function() {
                        _this._updateBackground();
                    })));
                    this.on("bounds", (function() {
                        _this._updateBackground();
                    }));
                    this._updateTextColor();
                    this._root.tooltipContainer.children.push(this);
                    this.hide(0);
                    this._root._tooltips.push(this);
                }
            });
            Object.defineProperty(Tooltip.prototype, "label", {
                get: function() {
                    return this._label;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Tooltip.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.dispose.call(this);
                    remove(this._root._tooltips, this);
                }
            });
            Object.defineProperty(Tooltip.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._updateChildren.call(this);
                    var labelText = this.get("labelText");
                    if (null != labelText) this.label.set("text", this.get("labelText"));
                    var labelHTML = this.get("labelHTML");
                    if (null != labelHTML) this.label.set("html", this.get("labelHTML"));
                }
            });
            Object.defineProperty(Tooltip.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._changed.call(this);
                    if (this.isDirty("pointTo")) this._updateBackground();
                    if (this.isDirty("tooltipTarget")) this.updateBackgroundColor();
                    if (this.isDirty("keepTargetHover")) {
                        var keephover = this.get("keepTargetHover");
                        if (keephover) {
                            var bg = this.get("background");
                            this._keepHoverDp = new MultiDisposer([ bg.events.on("pointerover", (function(_ev) {
                                var target = _this.get("tooltipTarget");
                                if (target) {
                                    if (target.parent && target.parent.getPrivate("tooltipTarget") == target) target = target.parent;
                                    target.hover();
                                }
                            })), bg.events.on("pointerout", (function(_ev) {
                                var target = _this.get("tooltipTarget");
                                if (target) {
                                    if (target.parent && target.parent.getPrivate("tooltipTarget") == target) target = target.parent;
                                    target.unhover();
                                }
                            })) ]);
                        } else if (this._keepHoverDp) {
                            this._keepHoverDp.dispose();
                            this._keepHoverDp = void 0;
                        }
                    }
                }
            });
            Object.defineProperty(Tooltip.prototype, "_onShow", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._onShow.call(this);
                    this.updateBackgroundColor();
                }
            });
            Object.defineProperty(Tooltip.prototype, "updateBackgroundColor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var tooltipTarget = this.get("tooltipTarget");
                    var background = this.get("background");
                    var fill;
                    var stroke;
                    if (tooltipTarget && background) {
                        fill = tooltipTarget.get("fill");
                        stroke = tooltipTarget.get("stroke");
                        if (null == fill) fill = stroke;
                        if (this.get("getFillFromSprite")) {
                            if (this._fillDp) this._fillDp.dispose();
                            if (null != fill) background.set("fill", fill);
                            this._fillDp = tooltipTarget.on("fill", (function(fill) {
                                if (null != fill) {
                                    background.set("fill", fill);
                                    _this._updateTextColor(fill);
                                }
                            }));
                        }
                        if (this.get("getStrokeFromSprite")) {
                            if (this._strokeDp) this._strokeDp.dispose();
                            if (null != fill) background.set("stroke", fill);
                            this._strokeDp = tooltipTarget.on("fill", (function(fill) {
                                if (null != fill) background.set("stroke", fill);
                            }));
                        }
                        if (this.get("getLabelFillFromSprite")) {
                            if (this._labelDp) this._labelDp.dispose();
                            if (null != fill) this.label.set("fill", fill);
                            this._labelDp = tooltipTarget.on("fill", (function(fill) {
                                if (null != fill) _this.label.set("fill", fill);
                            }));
                        }
                    }
                    this._updateTextColor(fill);
                }
            });
            Object.defineProperty(Tooltip.prototype, "_updateTextColor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fill) {
                    if (this.get("autoTextColor")) {
                        if (null == fill) fill = this.get("background").get("fill");
                        if (null == fill) fill = this._root.interfaceColors.get("background");
                        if (fill instanceof Color) this.label.set("fill", Color.alternative(fill, this._root.interfaceColors.get("alternativeText"), this._root.interfaceColors.get("text")));
                    }
                }
            });
            Object.defineProperty(Tooltip.prototype, "_setDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    _super.prototype._setDataItem.call(this, dataItem);
                    this.label._setDataItem(dataItem);
                }
            });
            Object.defineProperty(Tooltip.prototype, "_updateBackground", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.updateBackground.call(this);
                    var parent = this._root.container;
                    if (parent) {
                        var cw = .5;
                        var ch = .5;
                        var centerX = this.get("centerX");
                        if (centerX instanceof Percent) cw = centerX.value;
                        var centerY = this.get("centerY");
                        if (centerY instanceof Percent) ch = centerY.value;
                        var parentW = parent.width();
                        var parentH = parent.height();
                        var tooltipContainer = this.parent;
                        var xx = 0;
                        var yy = 0;
                        if (tooltipContainer) {
                            xx = tooltipContainer.x();
                            yy = tooltipContainer.y();
                            var layerMargin = tooltipContainer.get("layerMargin");
                            if (layerMargin) {
                                xx += layerMargin.left || 0;
                                yy += layerMargin.top || 0;
                                parentW += (layerMargin.left || 0) + (layerMargin.right || 0);
                                parentH += (layerMargin.top || 0) + (layerMargin.bottom || 0);
                            }
                        }
                        var bounds = this.get("bounds", {
                            left: -xx,
                            top: -yy,
                            right: parentW - xx,
                            bottom: parentH - yy
                        });
                        this._updateBounds();
                        var w = this.width();
                        var h = this.height();
                        if (0 === w) w = this._w;
                        if (0 === h) h = this._h;
                        var pointTo = this.get("pointTo", {
                            x: parentW / 2,
                            y: parentH / 2
                        });
                        var x = pointTo.x;
                        var y = pointTo.y;
                        var pointerOrientation = this.get("pointerOrientation");
                        var background = this.get("background");
                        var pointerLength = 0;
                        var bgStrokeSizeY = 0;
                        var bgStrokeSizeX = 0;
                        if (background instanceof PointedRectangle) {
                            pointerLength = background.get("pointerLength", 0);
                            bgStrokeSizeY = background.get("strokeWidth", 0) / 2;
                            bgStrokeSizeX = bgStrokeSizeY;
                        }
                        var pointerX = 0;
                        var pointerY = 0;
                        var boundsW = bounds.right - bounds.left;
                        var boundsH = bounds.bottom - bounds.top;
                        if ("horizontal" == pointerOrientation || "left" == pointerOrientation || "right" == pointerOrientation) {
                            bgStrokeSizeY = 0;
                            if ("horizontal" == pointerOrientation) if (x > bounds.left + boundsW / 2) {
                                x -= w * (1 - cw) + pointerLength;
                                bgStrokeSizeX *= -1;
                            } else x += w * cw + pointerLength; else if ("left" == pointerOrientation) x += w * (1 - cw) + pointerLength; else {
                                x -= w * cw + pointerLength;
                                bgStrokeSizeX *= -1;
                            }
                        } else {
                            bgStrokeSizeX = 0;
                            if ("vertical" == pointerOrientation) if (y > bounds.top + h / 2 + pointerLength) y -= h * (1 - ch) + pointerLength; else {
                                y += h * ch + pointerLength;
                                bgStrokeSizeY *= -1;
                            } else if ("down" == pointerOrientation) y -= h * (1 - ch) + pointerLength; else {
                                y += h * ch + pointerLength;
                                bgStrokeSizeY *= -1;
                            }
                        }
                        x = fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;
                        y = fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;
                        pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;
                        pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;
                        this._fx = x;
                        this._fy = y;
                        var animationDuration = this.get("animationDuration", 0);
                        if (animationDuration > 0 && this.get("visible") && this.get("opacity") > .1) {
                            var animationEasing = this.get("animationEasing");
                            this.animate({
                                key: "x",
                                to: x,
                                duration: animationDuration,
                                easing: animationEasing
                            });
                            this.animate({
                                key: "y",
                                to: y,
                                duration: animationDuration,
                                easing: animationEasing
                            });
                        } else {
                            this.set("x", x);
                            this.set("y", y);
                        }
                        if (background instanceof PointedRectangle) {
                            background.set("pointerX", pointerX);
                            background.set("pointerY", pointerY);
                        }
                        if (w > 0) this._w = w;
                        if (h > 0) this._h = h;
                    }
                }
            });
            Object.defineProperty(Tooltip, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Tooltip"
            });
            Object.defineProperty(Tooltip, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Container.classNames.concat([ Tooltip.className ])
            });
            return Tooltip;
        }(Container);
        var NumberFormatter = function(_super) {
            __extends(NumberFormatter, _super);
            function NumberFormatter() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(NumberFormatter.prototype, "_setDefaults", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._setDefault("negativeBase", 0);
                    this._setDefault("numberFormat", "#,###.#####");
                    this._setDefault("smallNumberThreshold", 1);
                    var bns = "_big_number_suffix_";
                    var sns = "_small_number_suffix_";
                    var bs = "_byte_suffix_";
                    this._setDefault("bigNumberPrefixes", [ {
                        number: 1e3,
                        suffix: this._t(bns + "3")
                    }, {
                        number: 1e6,
                        suffix: this._t(bns + "6")
                    }, {
                        number: 1e9,
                        suffix: this._t(bns + "9")
                    }, {
                        number: 1e12,
                        suffix: this._t(bns + "12")
                    }, {
                        number: 1e15,
                        suffix: this._t(bns + "15")
                    }, {
                        number: 1e18,
                        suffix: this._t(bns + "18")
                    }, {
                        number: 1e21,
                        suffix: this._t(bns + "21")
                    }, {
                        number: 1e24,
                        suffix: this._t(bns + "24")
                    } ]);
                    this._setDefault("smallNumberPrefixes", [ {
                        number: 1e-24,
                        suffix: this._t(sns + "24")
                    }, {
                        number: 1e-21,
                        suffix: this._t(sns + "21")
                    }, {
                        number: 1e-18,
                        suffix: this._t(sns + "18")
                    }, {
                        number: 1e-15,
                        suffix: this._t(sns + "15")
                    }, {
                        number: 1e-12,
                        suffix: this._t(sns + "12")
                    }, {
                        number: 1e-9,
                        suffix: this._t(sns + "9")
                    }, {
                        number: 1e-6,
                        suffix: this._t(sns + "6")
                    }, {
                        number: .001,
                        suffix: this._t(sns + "3")
                    } ]);
                    this._setDefault("bytePrefixes", [ {
                        number: 1,
                        suffix: this._t(bs + "B")
                    }, {
                        number: 1024,
                        suffix: this._t(bs + "KB")
                    }, {
                        number: 1048576,
                        suffix: this._t(bs + "MB")
                    }, {
                        number: 1073741824,
                        suffix: this._t(bs + "GB")
                    }, {
                        number: 1099511627776,
                        suffix: this._t(bs + "TB")
                    }, {
                        number: 0x4000000000000,
                        suffix: this._t(bs + "PB")
                    } ]);
                    _super.prototype._setDefaults.call(this);
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "format", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, format, precision) {
                    if (null == format || isString(format) && "number" === format.toLowerCase()) format = this.get("numberFormat", "");
                    var formatted;
                    var source = Number(value);
                    if (Type_isObject(format)) try {
                        if (this.get("intlLocales")) return new Intl.NumberFormat(this.get("intlLocales"), format).format(source); else return new Intl.NumberFormat(void 0, format).format(source);
                    } catch (e) {
                        return "Invalid";
                    } else {
                        format = cleanFormat(format);
                        var info = this.parseFormat(format, this._root.language);
                        var details = void 0;
                        if (source > this.get("negativeBase")) details = info.positive; else if (source < this.get("negativeBase")) details = info.negative; else details = info.zero;
                        if (null != precision && !details.mod) {
                            details = Object_copy(details);
                            details.decimals.active = 0 == source ? 0 : precision;
                        }
                        formatted = details.template.split(PLACEHOLDER).join(this.applyFormat(source, details));
                    }
                    return formatted;
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "parseFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(format, language) {
                    var _this = this;
                    var thousandSeparator = language.translateEmpty("_thousandSeparator");
                    var decimalSeparator = language.translateEmpty("_decimalSeparator");
                    var info = {
                        positive: {
                            thousands: {
                                active: -1,
                                passive: -1,
                                interval: -1,
                                separator: thousandSeparator
                            },
                            decimals: {
                                active: -1,
                                passive: -1,
                                separator: decimalSeparator
                            },
                            template: "",
                            source: "",
                            parsed: false
                        },
                        negative: {
                            thousands: {
                                active: -1,
                                passive: -1,
                                interval: -1,
                                separator: thousandSeparator
                            },
                            decimals: {
                                active: -1,
                                passive: -1,
                                separator: decimalSeparator
                            },
                            template: "",
                            source: "",
                            parsed: false
                        },
                        zero: {
                            thousands: {
                                active: -1,
                                passive: -1,
                                interval: -1,
                                separator: thousandSeparator
                            },
                            decimals: {
                                active: -1,
                                passive: -1,
                                separator: decimalSeparator
                            },
                            template: "",
                            source: "",
                            parsed: false
                        }
                    };
                    format = format.replace("||", PLACEHOLDER2);
                    var parts = format.split("|");
                    info.positive.source = parts[0];
                    if ("undefined" === typeof parts[2]) info.zero = info.positive; else info.zero.source = parts[2];
                    if ("undefined" === typeof parts[1]) info.negative = info.positive; else info.negative.source = parts[1];
                    Object_each(info, (function(_part, item) {
                        if (item.parsed) return;
                        var partFormat = item.source;
                        if ("number" === partFormat.toLowerCase()) partFormat = _this.get("numberFormat", "#,###.#####");
                        var chunks = TextFormatter.chunk(partFormat, true);
                        for (var i = 0; i < chunks.length; i++) {
                            var chunk = chunks[i];
                            chunk.text = chunk.text.replace(PLACEHOLDER2, "|");
                            if ("value" === chunk.type) {
                                var matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);
                                if (matches) if (null === matches || "" === matches[0]) item.template += chunk.text; else {
                                    var mods = matches[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);
                                    if (mods) {
                                        item.mod = mods[0].toLowerCase();
                                        item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%‰!]{1}$/) ? true : false;
                                    }
                                    var a = matches[0].split(".");
                                    if ("" === a[0]) ; else {
                                        item.thousands.active = (a[0].match(/0/g) || []).length;
                                        item.thousands.passive = (a[0].match(/\#/g) || []).length + item.thousands.active;
                                        var b = a[0].split(",");
                                        if (1 === b.length) ; else {
                                            item.thousands.interval = (b.pop() || "").length;
                                            if (0 === item.thousands.interval) item.thousands.interval = -1;
                                        }
                                    }
                                    if ("undefined" === typeof a[1]) ; else {
                                        item.decimals.active = (a[1].match(/0/g) || []).length;
                                        item.decimals.passive = (a[1].match(/\#/g) || []).length + item.decimals.active;
                                    }
                                    item.template += chunk.text.split(matches[0]).join(PLACEHOLDER);
                                }
                            } else item.template += chunk.text;
                        }
                        item.parsed = true;
                    }));
                    return info;
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "applyFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, details) {
                    var negative = value < 0;
                    value = Math.abs(value);
                    var prefix = "", suffix = "";
                    var mods = details.mod ? details.mod.split("") : [];
                    if (-1 !== mods.indexOf("b")) {
                        var a_1 = this.applyPrefix(value, this.get("bytePrefixes"), -1 !== mods.indexOf("!"));
                        value = a_1[0];
                        prefix = a_1[1];
                        suffix = a_1[2];
                        if (details.modSpacing) suffix = " " + suffix;
                    } else if (-1 !== mods.indexOf("a")) {
                        var a_2 = this.applyPrefix(value, value < this.get("smallNumberThreshold") ? this.get("smallNumberPrefixes") : this.get("bigNumberPrefixes"), -1 !== mods.indexOf("!"));
                        value = a_2[0];
                        prefix = a_2[1];
                        suffix = a_2[2];
                        if (details.modSpacing) suffix = " " + suffix;
                    } else if (-1 !== mods.indexOf("p")) {
                        var ol = Math.min(value.toString().length + 2, 21);
                        value = parseFloat(value.toPrecision(ol));
                        prefix = this._root.language.translate("_percentPrefix");
                        suffix = this._root.language.translate("_percentSuffix");
                        if ("" == prefix && "" == suffix) suffix = "%";
                    } else if (-1 !== mods.indexOf("%")) {
                        ol = Math.min(value.toString().length + 2, 21);
                        value *= 100;
                        value = parseFloat(value.toPrecision(ol));
                        suffix = "%";
                    } else if (-1 !== mods.indexOf("‰")) {
                        ol = Math.min(value.toString().length + 3, 21);
                        value *= 1e3;
                        value = parseFloat(value.toPrecision(ol));
                        suffix = "‰";
                    }
                    if (-1 !== mods.indexOf("e")) {
                        var exp = void 0;
                        if (details.decimals.passive >= 0) exp = value.toExponential(details.decimals.passive).split("e"); else exp = value.toExponential().split("e");
                        value = Number(exp[0]);
                        suffix = "e" + exp[1];
                        if (details.modSpacing) suffix = " " + suffix;
                    } else if (0 === details.decimals.passive) value = Math.round(value); else if (details.decimals.passive > 0) {
                        var d = Math.pow(10, details.decimals.passive);
                        value = Math.round(value * d) / d;
                    }
                    var res = "";
                    var a = numberToString(value).split(".");
                    var ints = a[0];
                    if (ints.length < details.thousands.active) ints = Array(details.thousands.active - ints.length + 1).join("0") + ints;
                    if (details.thousands.interval > 0) {
                        var ip = [];
                        var intsr = ints.split("").reverse().join("");
                        for (var i = 0, len = ints.length; i <= len; i += details.thousands.interval) {
                            var c = intsr.substr(i, details.thousands.interval).split("").reverse().join("");
                            if ("" !== c) ip.unshift(c);
                        }
                        ints = ip.join(details.thousands.separator);
                    }
                    res += ints;
                    if (1 === a.length) a.push("");
                    var decs = a[1];
                    if (decs.length < details.decimals.active) decs += Array(details.decimals.active - decs.length + 1).join("0");
                    if ("" !== decs) res += details.decimals.separator + decs;
                    if ("" === res) res = "0";
                    if (0 !== value && negative && -1 === mods.indexOf("s")) res = "-" + res;
                    if (prefix) res = prefix + res;
                    if (suffix) res += suffix;
                    return res;
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "applyPrefix", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, prefixes, force) {
                    if (void 0 === force) force = false;
                    var newvalue = value;
                    var prefix = "";
                    var suffix = "";
                    var applied = false;
                    var k = 1;
                    for (var i = 0, len = prefixes.length; i < len; i++) if (prefixes[i].number <= value) {
                        if (0 === prefixes[i].number) newvalue = 0; else {
                            newvalue = value / prefixes[i].number;
                            k = prefixes[i].number;
                        }
                        prefix = prefixes[i].prefix;
                        suffix = prefixes[i].suffix;
                        applied = true;
                    }
                    if (!applied && force && prefixes.length && 0 != value) {
                        newvalue = value / prefixes[0].number;
                        prefix = prefixes[0].prefix;
                        suffix = prefixes[0].suffix;
                        applied = true;
                    }
                    if (applied) newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, "").length, 21)));
                    return [ newvalue, prefix, suffix ];
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "escape", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.replace("||", PLACEHOLDER2);
                }
            });
            Object.defineProperty(NumberFormatter.prototype, "unescape", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    return text.replace(PLACEHOLDER2, "|");
                }
            });
            return NumberFormatter;
        }(Entity);
        function parseDate(timezone, date) {
            var year = 0;
            var month = 0;
            var day = 1;
            var hour = 0;
            var minute = 0;
            var second = 0;
            var millisecond = 0;
            var weekday = 0;
            timezone.formatToParts(date).forEach((function(x) {
                switch (x.type) {
                  case "year":
                    year = +x.value;
                    break;

                  case "month":
                    month = +x.value - 1;
                    break;

                  case "day":
                    day = +x.value;
                    break;

                  case "hour":
                    hour = +x.value;
                    break;

                  case "minute":
                    minute = +x.value;
                    break;

                  case "second":
                    second = +x.value;
                    break;

                  case "fractionalSecond":
                    millisecond = +x.value;
                    break;

                  case "weekday":
                    switch (x.value) {
                      case "Sun":
                        weekday = 0;
                        break;

                      case "Mon":
                        weekday = 1;
                        break;

                      case "Tue":
                        weekday = 2;
                        break;

                      case "Wed":
                        weekday = 3;
                        break;

                      case "Thu":
                        weekday = 4;
                        break;

                      case "Fri":
                        weekday = 5;
                        break;

                      case "Sat":
                        weekday = 6;
                        break;
                    }
                }
            }));
            if (24 === hour) hour = 0;
            return {
                year,
                month,
                day,
                hour,
                minute,
                second,
                millisecond,
                weekday
            };
        }
        function toUTCDate(timezone, date) {
            var _a = parseDate(timezone, date), year = _a.year, month = _a.month, day = _a.day, hour = _a.hour, minute = _a.minute, second = _a.second, millisecond = _a.millisecond;
            return Date.UTC(year, month, day, hour, minute, second, millisecond);
        }
        var Timezone = function() {
            function Timezone(timezone, isReal) {
                Object.defineProperty(this, "_utc", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_dtf", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "name", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                if (!isReal) throw new Error("You cannot use `new Class()`, instead use `Class.new()`");
                this.name = timezone;
                this._utc = new Intl.DateTimeFormat("UTC", {
                    hour12: false,
                    timeZone: "UTC",
                    year: "numeric",
                    month: "2-digit",
                    day: "2-digit",
                    hour: "2-digit",
                    minute: "2-digit",
                    second: "2-digit",
                    weekday: "short",
                    fractionalSecondDigits: 3
                });
                this._dtf = new Intl.DateTimeFormat("UTC", {
                    hour12: false,
                    timeZone: timezone,
                    year: "numeric",
                    month: "2-digit",
                    day: "2-digit",
                    hour: "2-digit",
                    minute: "2-digit",
                    second: "2-digit",
                    weekday: "short",
                    fractionalSecondDigits: 3
                });
            }
            Object.defineProperty(Timezone, "new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(timezone) {
                    return new this(timezone, true);
                }
            });
            Object.defineProperty(Timezone.prototype, "convertLocal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date) {
                    var offset = this.offsetUTC(date);
                    var userOffset = date.getTimezoneOffset();
                    var output = new Date(date);
                    output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));
                    var newUserOffset = output.getTimezoneOffset();
                    if (userOffset != newUserOffset) output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);
                    return output;
                }
            });
            Object.defineProperty(Timezone.prototype, "offsetUTC", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date) {
                    var utc = toUTCDate(this._utc, date);
                    var dtf = toUTCDate(this._dtf, date);
                    return (utc - dtf) / 6e4;
                }
            });
            Object.defineProperty(Timezone.prototype, "parseDate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date) {
                    return parseDate(this._dtf, date);
                }
            });
            return Timezone;
        }();
        var DateFormatter = function(_super) {
            __extends(DateFormatter, _super);
            function DateFormatter() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(DateFormatter.prototype, "_setDefaults", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._setDefault("capitalize", true);
                    this._setDefault("dateFormat", "yyyy-MM-dd");
                    _super.prototype._setDefaults.call(this);
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                }
            });
            Object.defineProperty(DateFormatter.prototype, "format", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(source, format) {
                    if ("undefined" === typeof format || "" === format) format = this.get("dateFormat", "yyyy-MM-dd");
                    var formatted;
                    var date = source;
                    if (Type_isObject(format)) try {
                        var locales = this.get("intlLocales");
                        if (locales) return new Intl.DateTimeFormat(locales, format).format(date); else return new Intl.DateTimeFormat(void 0, format).format(date);
                    } catch (e) {
                        return "Invalid";
                    }
                    var info = this.parseFormat(format);
                    var timezone = this._root.timezone;
                    if (timezone && !this._root.utc) date = timezone.convertLocal(date);
                    if (!isNumber(date.getTime())) return "Invalid date";
                    formatted = this.applyFormat(date, info);
                    if (this.get("capitalize")) formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());
                    return formatted;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "applyFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date, info) {
                    var res = info.template;
                    var fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();
                    if (this._root.utc) {
                        fullYear = date.getUTCFullYear();
                        month = date.getUTCMonth();
                        weekday = date.getUTCDay();
                        day = date.getUTCDate();
                        hours = date.getUTCHours();
                        minutes = date.getUTCMinutes();
                        seconds = date.getUTCSeconds();
                        milliseconds = date.getUTCMilliseconds();
                    } else {
                        fullYear = date.getFullYear();
                        month = date.getMonth();
                        weekday = date.getDay();
                        day = date.getDate();
                        hours = date.getHours();
                        minutes = date.getMinutes();
                        seconds = date.getSeconds();
                        milliseconds = date.getMilliseconds();
                    }
                    for (var i = 0, len = info.parts.length; i < len; i++) {
                        var value = "";
                        switch (info.parts[i]) {
                          case "G":
                            value = this._t(fullYear < 0 ? "_era_bc" : "_era_ad");
                            break;

                          case "yyyy":
                            value = Math.abs(fullYear).toString();
                            if (fullYear < 0) value += this._t("_era_bc");
                            break;

                          case "yyy":
                          case "yy":
                          case "y":
                            value = Math.abs(fullYear).toString().substr(-info.parts[i].length);
                            if (fullYear < 0) value += this._t("_era_bc");
                            break;

                          case "YYYY":
                          case "YYY":
                          case "YY":
                          case "Y":
                            var week = getWeek(date);
                            var year = fullYear;
                            if (1 == week && weekday > 4) year--;
                            if ("YYYY" == info.parts[i]) value = Math.abs(year).toString(); else value = Math.abs(year).toString().substr(-info.parts[i].length);
                            if (year < 0) value += this._t("_era_bc");
                            break;

                          case "u":
                            break;

                          case "q":
                            value = "" + Math.ceil((date.getMonth() + 1) / 3);
                            break;

                          case "MMMMM":
                            value = this._t(this._getMonth(month)).substr(0, 1);
                            break;

                          case "MMMM":
                            value = this._t(this._getMonth(month));
                            break;

                          case "MMM":
                            value = this._t(this._getShortMonth(month));
                            break;

                          case "MM":
                            value = padString(month + 1, 2, "0");
                            break;

                          case "M":
                            value = (month + 1).toString();
                            break;

                          case "ww":
                            value = padString(getWeek(date, this._root.utc), 2, "0");
                            break;

                          case "w":
                            value = getWeek(date, this._root.utc).toString();
                            break;

                          case "W":
                            value = getMonthWeek(date, this._root.utc).toString();
                            break;

                          case "dd":
                            value = padString(day, 2, "0");
                            break;

                          case "d":
                            value = day.toString();
                            break;

                          case "DD":
                          case "DDD":
                            value = padString(getYearDay(date, this._root.utc).toString(), info.parts[i].length, "0");
                            break;

                          case "D":
                            value = getYearDay(date, this._root.utc).toString();
                            break;

                          case "F":
                            break;

                          case "g":
                            break;

                          case "t":
                            value = this._root.language.translateFunc("_dateOrd").call(this, day);
                            break;

                          case "E":
                            value = (weekday || 7).toString();
                            break;

                          case "EE":
                            value = padString((weekday || 7).toString(), 2, "0");
                            break;

                          case "EEE":
                          case "eee":
                            value = this._t(this._getShortWeekday(weekday));
                            break;

                          case "EEEE":
                          case "eeee":
                            value = this._t(this._getWeekday(weekday));
                            break;

                          case "EEEEE":
                          case "eeeee":
                            value = this._t(this._getShortWeekday(weekday)).substr(0, 1);
                            break;

                          case "e":
                          case "ee":
                            value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();
                            if ("ee" == info.parts[i]) value = padString(value, 2, "0");
                            break;

                          case "a":
                            if (hours >= 12) value = this._t("PM"); else value = this._t("AM");
                            break;

                          case "aa":
                            if (hours >= 12) value = this._t("P.M."); else value = this._t("A.M.");
                            break;

                          case "aaa":
                            if (hours >= 12) value = this._t("P"); else value = this._t("A");
                            break;

                          case "h":
                            value = get12Hours(hours).toString();
                            break;

                          case "hh":
                            value = padString(get12Hours(hours), 2, "0");
                            break;

                          case "H":
                            value = hours.toString();
                            break;

                          case "HH":
                            value = padString(hours, 2, "0");
                            break;

                          case "K":
                            value = get12Hours(hours, 0).toString();
                            break;

                          case "KK":
                            value = padString(get12Hours(hours, 0), 2, "0");
                            break;

                          case "k":
                            value = (hours + 1).toString();
                            break;

                          case "kk":
                            value = padString(hours + 1, 2, "0");
                            break;

                          case "m":
                            value = minutes.toString();
                            break;

                          case "mm":
                            value = padString(minutes, 2, "0");
                            break;

                          case "s":
                            value = seconds.toString();
                            break;

                          case "ss":
                            value = padString(seconds, 2, "0");
                            break;

                          case "S":
                          case "SS":
                          case "SSS":
                            value = Math.round(milliseconds / 1e3 * Math.pow(10, info.parts[i].length)).toString();
                            break;

                          case "x":
                            value = timestamp.toString();
                            break;

                          case "n":
                          case "nn":
                          case "nnn":
                            value = padString(milliseconds, info.parts[i].length, "0");
                            break;

                          case "z":
                            value = getTimeZone(date, false, false, this._root.utc);
                            break;

                          case "zz":
                            value = getTimeZone(date, true, false, this._root.utc);
                            break;

                          case "zzz":
                            value = getTimeZone(date, false, true, this._root.utc);
                            break;

                          case "zzzz":
                            value = getTimeZone(date, true, true, this._root.utc);
                            break;

                          case "Z":
                          case "ZZ":
                            var timezone = this._root.utc ? "UTC" : this._root.timezone;
                            if (timezone instanceof Timezone) timezone = timezone.name;
                            var offset = timezone ? getTimezoneOffset(timezone) : date.getTimezoneOffset();
                            var tz = Math.abs(offset) / 60;
                            var tzh = Math.floor(tz);
                            var tzm = 60 * tz - 60 * tzh;
                            if (this._root.utc) {
                                tzh = 0;
                                tzm = 0;
                            }
                            if ("Z" == info.parts[i]) {
                                value = "GMT";
                                value += offset > 0 ? "-" : "+";
                                value += padString(tzh, 2) + ":" + padString(tzm, 2);
                            } else {
                                value = offset > 0 ? "-" : "+";
                                value += padString(tzh, 2) + padString(tzm, 2);
                            }
                            break;

                          case "i":
                            value = date.toISOString();
                            break;

                          case "I":
                            value = date.toUTCString();
                            break;
                        }
                        res = res.replace(PLACEHOLDER, value);
                    }
                    return res;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "parseFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(format) {
                    var info = {
                        template: "",
                        parts: []
                    };
                    var chunks = TextFormatter.chunk(format, true);
                    for (var i = 0; i < chunks.length; i++) {
                        var chunk = chunks[i];
                        if ("value" === chunk.type) {
                            if (chunk.text.match(/^date$/i)) {
                                var dateFormat = this.get("dateFormat", "yyyy-MM-dd");
                                if (!isString(dateFormat)) dateFormat = "yyyy-MM-dd";
                                chunk.text = dateFormat;
                            }
                            var matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);
                            if (matches) for (var x = 0; x < matches.length; x++) {
                                info.parts.push(matches[x]);
                                chunk.text = chunk.text.replace(matches[x], PLACEHOLDER);
                            }
                        }
                        info.template += chunk.text;
                    }
                    return info;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_months", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_getMonth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return this._months()[index];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_shortMonths", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return [ "Jan", "Feb", "Mar", "Apr", "May(short)", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_getShortMonth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return this._shortMonths()[index];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_weekdays", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_getWeekday", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return this._weekdays()[index];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_shortWeekdays", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "_getShortWeekday", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    return this._shortWeekdays()[index];
                }
            });
            Object.defineProperty(DateFormatter.prototype, "parse", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(source, format) {
                    if (source instanceof Date) return source;
                    if (isNumber(source)) return new Date(source);
                    if (!isString(source)) source = source.toString();
                    var res;
                    var reg = "";
                    format = cleanFormat(format);
                    format = format.substr(0, source.length);
                    var info = this.parseFormat(format);
                    var parsedIndexes = {
                        year: -1,
                        year3: -1,
                        year2: -1,
                        year1: -1,
                        month: -1,
                        monthShort: -1,
                        monthLong: -1,
                        weekdayShort: -1,
                        weekdayLong: -1,
                        day: -1,
                        yearDay: -1,
                        week: -1,
                        hourBase0: -1,
                        hour12Base0: -1,
                        hourBase1: -1,
                        hour12Base1: -1,
                        minute: -1,
                        second: -1,
                        millisecond: -1,
                        millisecondDigits: -1,
                        am: -1,
                        zone: -1,
                        timestamp: -1,
                        iso: -1
                    };
                    var resValues = {
                        year: 1970,
                        month: 0,
                        day: 1,
                        hour: 0,
                        minute: 0,
                        second: 0,
                        millisecond: 0,
                        timestamp: null,
                        offset: 0,
                        utc: this._root.utc
                    };
                    var indexAdjust = 0;
                    var index = 0;
                    for (var i = 0; i < info.parts.length; i++) {
                        index = i + indexAdjust + 1;
                        switch (info.parts[i]) {
                          case "yyyy":
                          case "YYYY":
                            reg += "([0-9]{4})";
                            parsedIndexes.year = index;
                            break;

                          case "yyy":
                          case "YYY":
                            reg += "([0-9]{3})";
                            parsedIndexes.year3 = index;
                            break;

                          case "yy":
                          case "YY":
                            reg += "([0-9]{2})";
                            parsedIndexes.year2 = index;
                            break;

                          case "y":
                          case "Y":
                            reg += "([0-9]{1})";
                            parsedIndexes.year1 = index;
                            break;

                          case "MMMM":
                            reg += "(" + this.getStringList(this._months()).join("|") + ")";
                            parsedIndexes.monthLong = index;
                            break;

                          case "MMM":
                            reg += "(" + this.getStringList(this._shortMonths()).join("|") + ")";
                            parsedIndexes.monthShort = index;
                            break;

                          case "MM":
                          case "M":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.month = index;
                            break;

                          case "ww":
                          case "w":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.week = index;
                            break;

                          case "dd":
                          case "d":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.day = index;
                            break;

                          case "DDD":
                          case "DD":
                          case "D":
                            reg += "([0-9]{3}|[0-9]{2}|[0-9]{1})";
                            parsedIndexes.yearDay = index;
                            break;

                          case "dddd":
                            reg += "(" + this.getStringList(this._weekdays()).join("|") + ")";
                            parsedIndexes.weekdayLong = index;
                            break;

                          case "ddd":
                            reg += "(" + this.getStringList(this._shortWeekdays()).join("|") + ")";
                            parsedIndexes.weekdayShort = index;
                            break;

                          case "aaa":
                          case "aa":
                          case "a":
                            reg += "(" + this.getStringList([ "AM", "PM", "A.M.", "P.M.", "A", "P" ]).join("|") + ")";
                            parsedIndexes.am = index;
                            break;

                          case "hh":
                          case "h":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.hour12Base1 = index;
                            break;

                          case "HH":
                          case "H":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.hourBase0 = index;
                            break;

                          case "KK":
                          case "K":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.hour12Base0 = index;
                            break;

                          case "kk":
                          case "k":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.hourBase1 = index;
                            break;

                          case "mm":
                          case "m":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.minute = index;
                            break;

                          case "ss":
                          case "s":
                            reg += "([0-9]{2}|[0-9]{1})";
                            parsedIndexes.second = index;
                            break;

                          case "SSS":
                          case "SS":
                          case "S":
                            reg += "([0-9]{3}|[0-9]{2}|[0-9]{1})";
                            parsedIndexes.millisecond = index;
                            parsedIndexes.millisecondDigits = info.parts[i].length;
                            break;

                          case "nnn":
                          case "nn":
                          case "n":
                            reg += "([0-9]{3}|[0-9]{2}|[0-9]{1})";
                            parsedIndexes.millisecond = index;
                            break;

                          case "x":
                            reg += "([0-9]{1,})";
                            parsedIndexes.timestamp = index;
                            break;

                          case "Z":
                            reg += "GMT([-+]+[0-9]{2}:[0-9]{2})";
                            parsedIndexes.zone = index;
                            break;

                          case "ZZ":
                            reg += "([\\-+]+[0-9]{2}[0-9]{2})";
                            parsedIndexes.zone = index;
                            break;

                          case "i":
                            reg += "([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)";
                            parsedIndexes.iso = index;
                            indexAdjust += 7;
                            break;

                          case "G":
                          case "YYYY":
                          case "YYY":
                          case "YY":
                          case "Y":
                          case "MMMMM":
                          case "W":
                          case "EEEEE":
                          case "EEEE":
                          case "EEE":
                          case "EE":
                          case "E":
                          case "eeeee":
                          case "eeee":
                          case "eee":
                          case "ee":
                          case "e":
                          case "zzzz":
                          case "zzz":
                          case "zz":
                          case "z":
                          case "t":
                            indexAdjust--;
                            break;
                        }
                        reg += "[^0-9]*";
                    }
                    var regex = new RegExp(reg);
                    var matches = source.match(regex);
                    if (matches) {
                        if (parsedIndexes.year > -1) resValues.year = parseInt(matches[parsedIndexes.year]);
                        if (parsedIndexes.year3 > -1) {
                            var val = parseInt(matches[parsedIndexes.year3]);
                            val += 1e3;
                            resValues.year = val;
                        }
                        if (parsedIndexes.year2 > -1) {
                            val = parseInt(matches[parsedIndexes.year2]);
                            if (val > 50) val += 1e3; else val += 2e3;
                            resValues.year = val;
                        }
                        if (parsedIndexes.year1 > -1) {
                            val = parseInt(matches[parsedIndexes.year1]);
                            val = 10 * Math.floor((new Date).getFullYear() / 10) + val;
                            resValues.year = val;
                        }
                        if (parsedIndexes.monthLong > -1) resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);
                        if (parsedIndexes.monthShort > -1) resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);
                        if (parsedIndexes.month > -1) resValues.month = parseInt(matches[parsedIndexes.month]) - 1;
                        if (parsedIndexes.week > -1 && -1 === parsedIndexes.day) {
                            resValues.month = 0;
                            resValues.day = getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);
                        }
                        if (parsedIndexes.day > -1) resValues.day = parseInt(matches[parsedIndexes.day]);
                        if (parsedIndexes.yearDay > -1) {
                            resValues.month = 0;
                            resValues.day = parseInt(matches[parsedIndexes.yearDay]);
                        }
                        if (parsedIndexes.hourBase0 > -1) resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);
                        if (parsedIndexes.hourBase1 > -1) resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;
                        if (parsedIndexes.hour12Base0 > -1) {
                            val = parseInt(matches[parsedIndexes.hour12Base0]);
                            if (11 == val) val = 0;
                            if (parsedIndexes.am > -1 && !this.isAm(matches[parsedIndexes.am])) val += 12;
                            resValues.hour = val;
                        }
                        if (parsedIndexes.hour12Base1 > -1) {
                            val = parseInt(matches[parsedIndexes.hour12Base1]);
                            if (12 == val) val = 0;
                            if (parsedIndexes.am > -1 && !this.isAm(matches[parsedIndexes.am])) val += 12;
                            resValues.hour = val;
                        }
                        if (parsedIndexes.minute > -1) resValues.minute = parseInt(matches[parsedIndexes.minute]);
                        if (parsedIndexes.second > -1) resValues.second = parseInt(matches[parsedIndexes.second]);
                        if (parsedIndexes.millisecond > -1) {
                            val = parseInt(matches[parsedIndexes.millisecond]);
                            if (2 == parsedIndexes.millisecondDigits) val *= 10; else if (1 == parsedIndexes.millisecondDigits) val *= 100;
                            resValues.millisecond = val;
                        }
                        if (parsedIndexes.timestamp > -1) {
                            resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);
                            var ts = new Date(resValues.timestamp);
                            resValues.year = ts.getUTCFullYear();
                            resValues.month = ts.getUTCMonth();
                            resValues.day = ts.getUTCDate();
                            resValues.hour = ts.getUTCHours();
                            resValues.minute = ts.getUTCMinutes();
                            resValues.second = ts.getUTCSeconds();
                            resValues.millisecond = ts.getUTCMilliseconds();
                        }
                        if (parsedIndexes.zone > -1) resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);
                        if (parsedIndexes.iso > -1) {
                            resValues.year = toNumber(matches[parsedIndexes.iso + 0]);
                            resValues.month = toNumber(matches[parsedIndexes.iso + 1]) - 1;
                            resValues.day = toNumber(matches[parsedIndexes.iso + 2]);
                            resValues.hour = toNumber(matches[parsedIndexes.iso + 3]);
                            resValues.minute = toNumber(matches[parsedIndexes.iso + 4]);
                            resValues.second = toNumber(matches[parsedIndexes.iso + 5]);
                            resValues.millisecond = toNumber(matches[parsedIndexes.iso + 6]);
                            if ("Z" == matches[parsedIndexes.iso + 7] || "z" == matches[parsedIndexes.iso + 7]) resValues.utc = true; else if ("" != matches[parsedIndexes.iso + 7]) resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);
                        }
                        if (resValues.utc) res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond)); else res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);
                    } else res = new Date(source);
                    return res;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "resolveTimezoneOffset", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date, zone) {
                    var value = zone.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);
                    if (value) {
                        var match = zone.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);
                        var dir = match[1];
                        var hour = match[2];
                        var minute = match[3];
                        var offset = 60 * parseInt(hour) + parseInt(minute);
                        if ("+" == dir) offset *= -1;
                        var originalOffset = (date || new Date).getTimezoneOffset();
                        var diff = offset - originalOffset;
                        return diff;
                    }
                    return 0;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "resolveMonth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var month = this._months().indexOf(value);
                    if (month > -1) return month;
                    if (!this._root.language.isDefault()) {
                        month = this._root.language.translateAll(this._months()).indexOf(value);
                        if (month > -1) return month;
                    }
                    return 0;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "resolveShortMonth", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var month = this._shortMonths().indexOf(value);
                    if (month > -1) return month;
                    month = this._months().indexOf(value);
                    if (month > -1) return month;
                    if (this._root.language && !this._root.language.isDefault()) {
                        month = this._root.language.translateAll(this._shortMonths()).indexOf(value);
                        if (month > -1) return month;
                    }
                    return 0;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "isAm", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var list = this.getStringList([ "AM", "A.M.", "A" ]);
                    return list.indexOf(value.toUpperCase()) > -1;
                }
            });
            Object.defineProperty(DateFormatter.prototype, "getStringList", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(list) {
                    var res = [];
                    for (var i = 0; i < list.length; i++) if (this._root.language) res.push(escapeForRgex(this._t(list[i]))); else res.push(escapeForRgex(list[i]));
                    return res;
                }
            });
            return DateFormatter;
        }(Entity);
        var DurationFormatter = function(_super) {
            __extends(DurationFormatter, _super);
            function DurationFormatter() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_unitAliases", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {
                        Y: "y",
                        D: "d",
                        H: "h",
                        K: "h",
                        k: "h",
                        n: "S"
                    }
                });
                return _this;
            }
            Object.defineProperty(DurationFormatter.prototype, "_setDefaults", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var dmillisecond = "_duration_millisecond";
                    var dsecond = "_duration_second";
                    var dminute = "_duration_minute";
                    var dhour = "_duration_hour";
                    var dday = "_duration_day";
                    var dweek = "_duration_week";
                    var dmonth = "_duration_month";
                    var dyear = "_duration_year";
                    var asecond = "_second";
                    var aminute = "_minute";
                    var ahour = "_hour";
                    var aday = "_day";
                    var aweek = "_week";
                    var amonth = "_week";
                    var ayear = "_year";
                    this._setDefault("negativeBase", 0);
                    this._setDefault("baseUnit", "second");
                    this._setDefault("durationFormats", {
                        millisecond: {
                            millisecond: this._t(dmillisecond),
                            second: this._t(dmillisecond + asecond),
                            minute: this._t(dmillisecond + aminute),
                            hour: this._t(dmillisecond + ahour),
                            day: this._t(dmillisecond + aday),
                            week: this._t(dmillisecond + aweek),
                            month: this._t(dmillisecond + amonth),
                            year: this._t(dmillisecond + ayear)
                        },
                        second: {
                            second: this._t(dsecond),
                            minute: this._t(dsecond + aminute),
                            hour: this._t(dsecond + ahour),
                            day: this._t(dsecond + aday),
                            week: this._t(dsecond + aweek),
                            month: this._t(dsecond + amonth),
                            year: this._t(dsecond + ayear)
                        },
                        minute: {
                            minute: this._t(dminute),
                            hour: this._t(dminute + ahour),
                            day: this._t(dminute + aday),
                            week: this._t(dminute + aweek),
                            month: this._t(dminute + amonth),
                            year: this._t(dminute + ayear)
                        },
                        hour: {
                            hour: this._t(dhour),
                            day: this._t(dhour + aday),
                            week: this._t(dhour + aweek),
                            month: this._t(dhour + amonth),
                            year: this._t(dhour + ayear)
                        },
                        day: {
                            day: this._t(dday),
                            week: this._t(dday + aweek),
                            month: this._t(dday + amonth),
                            year: this._t(dday + ayear)
                        },
                        week: {
                            week: this._t(dweek),
                            month: this._t(dweek + amonth),
                            year: this._t(dweek + ayear)
                        },
                        month: {
                            month: this._t(dmonth),
                            year: this._t(dmonth + ayear)
                        },
                        year: {
                            year: this._t(dyear)
                        }
                    });
                    _super.prototype._setDefaults.call(this);
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "format", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, format, base) {
                    var baseUnit = base || this.get("baseUnit");
                    if ("undefined" === typeof format || "" === format) if (null != this.get("durationFormat")) format = this.get("durationFormat"); else format = this.getFormat(toNumber(value), void 0, baseUnit);
                    format = cleanFormat(format);
                    var info = this.parseFormat(format, baseUnit);
                    var source = Number(value);
                    var details;
                    if (source > this.get("negativeBase")) details = info.positive; else if (source < this.get("negativeBase")) details = info.negative; else details = info.zero;
                    var formatted = this.applyFormat(source, details);
                    if ("" !== details.color) formatted = "[" + details.color + "]" + formatted + "[/]";
                    return formatted;
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "parseFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(format, base) {
                    var _this = this;
                    var baseUnit = base || this.get("baseUnit");
                    var info = {
                        positive: {
                            color: "",
                            template: "",
                            parts: [],
                            source: "",
                            baseUnit,
                            parsed: false,
                            absolute: false
                        },
                        negative: {
                            color: "",
                            template: "",
                            parts: [],
                            source: "",
                            baseUnit,
                            parsed: false,
                            absolute: false
                        },
                        zero: {
                            color: "",
                            template: "",
                            parts: [],
                            source: "",
                            baseUnit,
                            parsed: false,
                            absolute: false
                        }
                    };
                    format = format.replace("||", PLACEHOLDER2);
                    var parts = format.split("|");
                    info.positive.source = parts[0];
                    if ("undefined" === typeof parts[2]) info.zero = info.positive; else info.zero.source = parts[2];
                    if ("undefined" === typeof parts[1]) info.negative = info.positive; else info.negative.source = parts[1];
                    Object_each(info, (function(_part, item) {
                        if (item.parsed) return;
                        var partFormat = item.source;
                        var dirs = [];
                        dirs = item.source.match(/^\[([^\]]*)\]/);
                        if (dirs && dirs.length && "" !== dirs[0]) {
                            partFormat = item.source.substr(dirs[0].length);
                            item.color = dirs[1];
                        }
                        var chunks = TextFormatter.chunk(partFormat, true);
                        for (var i = 0; i < chunks.length; i++) {
                            var chunk = chunks[i];
                            chunk.text = chunk.text.replace(PLACEHOLDER2, "|");
                            if ("value" === chunk.type) {
                                if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {
                                    item.absolute = true;
                                    chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, "$1");
                                }
                                var matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);
                                if (matches) for (var x = 0; x < matches.length; x++) {
                                    if (null == matches[x]) matches[x] = _this._unitAliases[matches[x]];
                                    item.parts.push(matches[x]);
                                    chunk.text = chunk.text.replace(matches[x], PLACEHOLDER);
                                }
                            }
                            item.template += chunk.text;
                        }
                        item.parsed = true;
                    }));
                    return info;
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "applyFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, details) {
                    var negative = !details.absolute && value < this.get("negativeBase");
                    value = Math.abs(value);
                    var tstamp = this.toTimeStamp(value, details.baseUnit);
                    var res = details.template;
                    for (var i = 0, len = details.parts.length; i < len; i++) {
                        var part = details.parts[i];
                        var unit = this._toTimeUnit(part.substr(0, 1));
                        var digits = part.length;
                        var ints = Math.floor(tstamp / this._getUnitValue(unit));
                        res = res.replace(PLACEHOLDER, padString(ints, digits, "0"));
                        tstamp -= ints * this._getUnitValue(unit);
                    }
                    if (negative) res = "-" + res;
                    return res;
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "toTimeStamp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, baseUnit) {
                    return value * this._getUnitValue(baseUnit);
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "_toTimeUnit", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(code) {
                    switch (code) {
                      case "S":
                        return "millisecond";

                      case "s":
                        return "second";

                      case "m":
                        return "minute";

                      case "h":
                        return "hour";

                      case "d":
                        return "day";

                      case "w":
                        return "week";

                      case "M":
                        return "month";

                      case "y":
                        return "year";
                    }
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "getFormat", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, maxValue, baseUnit) {
                    if (null != this.get("durationFormat")) return this.get("durationFormat");
                    if (!baseUnit) baseUnit = this.get("baseUnit");
                    if (null != maxValue && value != maxValue) {
                        value = Math.abs(value);
                        maxValue = Math.abs(maxValue);
                        var maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);
                        return this.get("durationFormats")[baseUnit][maxUnit];
                    } else {
                        var unit = this.getValueUnit(value, baseUnit);
                        return this.get("durationFormats")[baseUnit][unit];
                    }
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "getValueUnit", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, baseUnit) {
                    if (!baseUnit) baseUnit = this.get("baseUnit");
                    var currentUnit;
                    var ms = this.getMilliseconds(value, baseUnit);
                    Object_eachContinue(this._getUnitValues(), (function(key, val) {
                        if (key == baseUnit || currentUnit) {
                            var num = ms / val;
                            if (num <= 1) {
                                if (!currentUnit) currentUnit = key;
                                return false;
                            }
                            currentUnit = key;
                        }
                        return true;
                    }));
                    return currentUnit;
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "getMilliseconds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, baseUnit) {
                    if (!baseUnit) baseUnit = this.get("baseUnit");
                    return value * this._getUnitValue(baseUnit);
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "_getUnitValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(timeUnit) {
                    return this._getUnitValues()[timeUnit];
                }
            });
            Object.defineProperty(DurationFormatter.prototype, "_getUnitValues", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return {
                        millisecond: 1,
                        second: 1e3,
                        minute: 6e4,
                        hour: 36e5,
                        day: 864e5,
                        week: 6048e5,
                        month: 2592e6,
                        year: 31536e6
                    };
                }
            });
            return DurationFormatter;
        }(Entity);
        const en = {
            firstDayOfWeek: 1,
            _decimalSeparator: ".",
            _thousandSeparator: ",",
            _percentPrefix: null,
            _percentSuffix: "%",
            _big_number_suffix_3: "k",
            _big_number_suffix_6: "M",
            _big_number_suffix_9: "G",
            _big_number_suffix_12: "T",
            _big_number_suffix_15: "P",
            _big_number_suffix_18: "E",
            _big_number_suffix_21: "Z",
            _big_number_suffix_24: "Y",
            _small_number_suffix_3: "m",
            _small_number_suffix_6: "μ",
            _small_number_suffix_9: "n",
            _small_number_suffix_12: "p",
            _small_number_suffix_15: "f",
            _small_number_suffix_18: "a",
            _small_number_suffix_21: "z",
            _small_number_suffix_24: "y",
            _byte_suffix_B: "B",
            _byte_suffix_KB: "KB",
            _byte_suffix_MB: "MB",
            _byte_suffix_GB: "GB",
            _byte_suffix_TB: "TB",
            _byte_suffix_PB: "PB",
            _date: "yyyy-MM-dd",
            _date_millisecond: "mm:ss SSS",
            _date_millisecond_full: "HH:mm:ss SSS",
            _date_second: "HH:mm:ss",
            _date_second_full: "HH:mm:ss",
            _date_minute: "HH:mm",
            _date_minute_full: "HH:mm - MMM dd, yyyy",
            _date_hour: "HH:mm",
            _date_hour_full: "HH:mm - MMM dd, yyyy",
            _date_day: "MMM dd",
            _date_day_full: "MMM dd, yyyy",
            _date_week: "ww",
            _date_week_full: "MMM dd, yyyy",
            _date_month: "MMM",
            _date_month_full: "MMM, yyyy",
            _date_year: "yyyy",
            _duration_millisecond: "SSS",
            _duration_millisecond_second: "ss.SSS",
            _duration_millisecond_minute: "mm:ss SSS",
            _duration_millisecond_hour: "hh:mm:ss SSS",
            _duration_millisecond_day: "d'd' mm:ss SSS",
            _duration_millisecond_week: "d'd' mm:ss SSS",
            _duration_millisecond_month: "M'm' dd'd' mm:ss SSS",
            _duration_millisecond_year: "y'y' MM'm' dd'd' mm:ss SSS",
            _duration_second: "ss",
            _duration_second_minute: "mm:ss",
            _duration_second_hour: "hh:mm:ss",
            _duration_second_day: "d'd' hh:mm:ss",
            _duration_second_week: "d'd' hh:mm:ss",
            _duration_second_month: "M'm' dd'd' hh:mm:ss",
            _duration_second_year: "y'y' MM'm' dd'd' hh:mm:ss",
            _duration_minute: "mm",
            _duration_minute_hour: "hh:mm",
            _duration_minute_day: "d'd' hh:mm",
            _duration_minute_week: "d'd' hh:mm",
            _duration_minute_month: "M'm' dd'd' hh:mm",
            _duration_minute_year: "y'y' MM'm' dd'd' hh:mm",
            _duration_hour: "hh'h'",
            _duration_hour_day: "d'd' hh'h'",
            _duration_hour_week: "d'd' hh'h'",
            _duration_hour_month: "M'm' dd'd' hh'h'",
            _duration_hour_year: "y'y' MM'm' dd'd' hh'h'",
            _duration_day: "d'd'",
            _duration_day_week: "d'd'",
            _duration_day_month: "M'm' dd'd'",
            _duration_day_year: "y'y' MM'm' dd'd'",
            _duration_week: "w'w'",
            _duration_week_month: "w'w'",
            _duration_week_year: "w'w'",
            _duration_month: "M'm'",
            _duration_month_year: "y'y' MM'm'",
            _duration_year: "y'y'",
            _era_ad: "AD",
            _era_bc: "BC",
            A: "",
            P: "",
            AM: "",
            PM: "",
            "A.M.": "",
            "P.M.": "",
            January: "",
            February: "",
            March: "",
            April: "",
            May: "",
            June: "",
            July: "",
            August: "",
            September: "",
            October: "",
            November: "",
            December: "",
            Jan: "",
            Feb: "",
            Mar: "",
            Apr: "",
            "May(short)": "May",
            Jun: "",
            Jul: "",
            Aug: "",
            Sep: "",
            Oct: "",
            Nov: "",
            Dec: "",
            Sunday: "",
            Monday: "",
            Tuesday: "",
            Wednesday: "",
            Thursday: "",
            Friday: "",
            Saturday: "",
            Sun: "",
            Mon: "",
            Tue: "",
            Wed: "",
            Thu: "",
            Fri: "",
            Sat: "",
            _dateOrd: function(day) {
                var res = "th";
                if (day < 11 || day > 13) switch (day % 10) {
                  case 1:
                    res = "st";
                    break;

                  case 2:
                    res = "nd";
                    break;

                  case 3:
                    res = "rd";
                    break;
                }
                return res;
            },
            "Zoom Out": "",
            Play: "",
            Stop: "",
            Legend: "",
            "Press ENTER to toggle": "",
            Loading: "",
            Home: "",
            Chart: "",
            "Serial chart": "",
            "X/Y chart": "",
            "Pie chart": "",
            "Gauge chart": "",
            "Radar chart": "",
            "Sankey diagram": "",
            "Flow diagram": "",
            "Chord diagram": "",
            "TreeMap chart": "",
            "Force directed tree": "",
            "Sliced chart": "",
            Series: "",
            "Candlestick Series": "",
            "OHLC Series": "",
            "Column Series": "",
            "Line Series": "",
            "Pie Slice Series": "",
            "Funnel Series": "",
            "Pyramid Series": "",
            "X/Y Series": "",
            Map: "",
            "Press ENTER to zoom in": "",
            "Press ENTER to zoom out": "",
            "Use arrow keys to zoom in and out": "",
            "Use plus and minus keys on your keyboard to zoom in and out": "",
            Export: "",
            Image: "",
            Data: "",
            Print: "",
            "Press ENTER or use arrow keys to navigate": "",
            "Press ENTER to open": "",
            "Press ENTER to print.": "",
            "Press ENTER to export as %1.": "",
            "(Press ESC to close this message)": "",
            "Image Export Complete": "",
            "Export operation took longer than expected. Something might have gone wrong.": "",
            "Saved from": "",
            PNG: "",
            JPG: "",
            GIF: "",
            SVG: "",
            PDF: "",
            JSON: "",
            CSV: "",
            XLSX: "",
            HTML: "",
            "Use TAB to select grip buttons or left and right arrows to change selection": "",
            "Use left and right arrows to move selection": "",
            "Use left and right arrows to move left selection": "",
            "Use left and right arrows to move right selection": "",
            "Use TAB select grip buttons or up and down arrows to change selection": "",
            "Use up and down arrows to move selection": "",
            "Use up and down arrows to move lower selection": "",
            "Use up and down arrows to move upper selection": "",
            "From %1 to %2": "",
            "From %1": "",
            "To %1": "",
            "No parser available for file: %1": "",
            "Error parsing file: %1": "",
            "Unable to load file: %1": "",
            "Invalid date": "",
            Close: "",
            Minimize: ""
        };
        var Language = function(_super) {
            __extends(Language, _super);
            function Language() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Language.prototype, "_setDefaults", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setPrivate("defaultLocale", en);
                    _super.prototype._setDefaults.call(this);
                }
            });
            Object.defineProperty(Language.prototype, "translate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(prompt, locale) {
                    var rest = [];
                    for (var _i = 2; _i < arguments.length; _i++) rest[_i - 2] = arguments[_i];
                    if (!locale) locale = this._root.locale || this.getPrivate("defaultLocale");
                    var translation = prompt;
                    var value = locale[prompt];
                    if (null === value) translation = ""; else if (null != value) {
                        if (value) translation = value;
                    } else if (locale !== this.getPrivate("defaultLocale")) return this.translate.apply(this, __spreadArray([ prompt, this.getPrivate("defaultLocale") ], __read(rest), false));
                    if (rest.length) for (var len = rest.length, i = 0; i < len; ++i) translation = translation.split("%" + (i + 1)).join(rest[i]);
                    return translation;
                }
            });
            Object.defineProperty(Language.prototype, "translateAny", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(prompt, locale) {
                    var rest = [];
                    for (var _i = 2; _i < arguments.length; _i++) rest[_i - 2] = arguments[_i];
                    return this.translate.apply(this, __spreadArray([ prompt, locale ], __read(rest), false));
                }
            });
            Object.defineProperty(Language.prototype, "setTranslationAny", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(prompt, translation, locale) {
                    var localeTarget = locale || this._root.locale;
                    localeTarget[prompt] = translation;
                }
            });
            Object.defineProperty(Language.prototype, "translateEmpty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(prompt, locale) {
                    var rest = [];
                    for (var _i = 2; _i < arguments.length; _i++) rest[_i - 2] = arguments[_i];
                    var translation = this.translate.apply(this, __spreadArray([ prompt, locale ], __read(rest), false));
                    return translation == prompt ? "" : translation;
                }
            });
            Object.defineProperty(Language.prototype, "translateFunc", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(prompt, locale) {
                    if (this._root.locale[prompt]) return this._root.locale[prompt];
                    if (locale !== this.getPrivate("defaultLocale")) return this.translateFunc(prompt, this.getPrivate("defaultLocale"));
                    return function() {
                        return "";
                    };
                }
            });
            Object.defineProperty(Language.prototype, "translateAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(list, locale) {
                    var _this = this;
                    if (!this.isDefault()) return map(list, (function(x) {
                        return _this.translate(x, locale);
                    })); else return list;
                }
            });
            Object.defineProperty(Language.prototype, "isDefault", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.getPrivate("defaultLocale") === this._root.locale;
                }
            });
            return Language;
        }(Entity);
        var Theme = function() {
            function Theme(root, isReal) {
                Object.defineProperty(this, "_root", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_rules", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                this._root = root;
                if (!isReal) throw new Error("You cannot use `new Class()`, instead use `Class.new()`");
            }
            Object.defineProperty(Theme, "new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(root) {
                    var x = new this(root, true);
                    x.setupDefaultRules();
                    return x;
                }
            });
            Object.defineProperty(Theme.prototype, "setupDefaultRules", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Theme.prototype, "_lookupRules", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(themeClass) {
                    return this._rules[themeClass];
                }
            });
            Object.defineProperty(Theme.prototype, "ruleRaw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(themeClass, themeTags) {
                    if (void 0 === themeTags) themeTags = [];
                    var rules = this._rules[themeClass];
                    if (!rules) rules = this._rules[themeClass] = [];
                    themeTags.sort(compare);
                    var _a = getSortedIndex(rules, (function(x) {
                        var order = compare(x.tags.length, themeTags.length);
                        if (0 === order) return compareArray(x.tags, themeTags, compare); else return order;
                    })), index = _a.index, found = _a.found;
                    if (found) return rules[index].template; else {
                        var template = Template["new"]({});
                        rules.splice(index, 0, {
                            tags: themeTags,
                            template
                        });
                        return template;
                    }
                }
            });
            Object.defineProperty(Theme.prototype, "rule", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(themeClass, themeTags) {
                    if (void 0 === themeTags) themeTags = [];
                    return this.ruleRaw(themeClass, themeTags);
                }
            });
            return Theme;
        }();
        function setColor(rule, key, ic, name) {
            rule.set(key, ic.get(name));
            ic.on(name, (function(value) {
                rule.set(key, value);
            }));
        }
        var DefaultTheme = function(_super) {
            __extends(DefaultTheme, _super);
            function DefaultTheme() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(DefaultTheme.prototype, "setupDefaultRules", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.setupDefaultRules.call(this);
                    var language = this._root.language;
                    var ic = this._root.interfaceColors;
                    var horizontalLayout = this._root.horizontalLayout;
                    var verticalLayout = this._root.verticalLayout;
                    var r = this.rule.bind(this);
                    r("InterfaceColors").setAll({
                        stroke: Color.fromHex(15066597),
                        fill: Color.fromHex(15987699),
                        primaryButton: Color.fromHex(6788316),
                        primaryButtonHover: Color.fromHex(6779356),
                        primaryButtonDown: Color.fromHex(6872182),
                        primaryButtonActive: Color.fromHex(6872182),
                        primaryButtonText: Color.fromHex(16777215),
                        primaryButtonStroke: Color.fromHex(16777215),
                        secondaryButton: Color.fromHex(14277081),
                        secondaryButtonHover: Color.fromHex(10724259),
                        secondaryButtonDown: Color.fromHex(9276813),
                        secondaryButtonActive: Color.fromHex(15132390),
                        secondaryButtonText: Color.fromHex(0),
                        secondaryButtonStroke: Color.fromHex(16777215),
                        grid: Color.fromHex(0),
                        background: Color.fromHex(16777215),
                        alternativeBackground: Color.fromHex(0),
                        text: Color.fromHex(0),
                        alternativeText: Color.fromHex(16777215),
                        disabled: Color.fromHex(11382189),
                        positive: Color.fromHex(5288704),
                        negative: Color.fromHex(11730944)
                    });
                    var rule = r("ColorSet");
                    rule.setAll({
                        passOptions: {
                            hue: .05,
                            saturation: 0,
                            lightness: 0
                        },
                        colors: [ Color.fromHex(6797276) ],
                        step: 1,
                        reuse: false,
                        startIndex: 0
                    });
                    rule.setPrivate("currentStep", 0);
                    rule.setPrivate("currentPass", 0);
                    r("Entity").setAll({
                        stateAnimationDuration: 0,
                        stateAnimationEasing: out(cubic)
                    });
                    r("Component").setAll({
                        interpolationDuration: 0,
                        interpolationEasing: out(cubic)
                    });
                    r("Sprite").setAll({
                        visible: true,
                        scale: 1,
                        opacity: 1,
                        rotation: 0,
                        position: "relative",
                        tooltipX: p50,
                        tooltipY: p50,
                        tooltipPosition: "fixed",
                        isMeasured: true
                    });
                    r("Sprite").states.create("default", {
                        visible: true,
                        opacity: 1
                    });
                    r("Container").setAll({
                        interactiveChildren: true,
                        setStateOnChildren: false
                    });
                    r("Graphics").setAll({
                        strokeWidth: 1
                    });
                    r("Chart").setAll({
                        width: p100,
                        height: p100,
                        interactiveChildren: false
                    });
                    r("Sprite", [ "horizontal", "center" ]).setAll({
                        centerX: p50,
                        x: p50
                    });
                    r("Sprite", [ "vertical", "center" ]).setAll({
                        centerY: p50,
                        y: p50
                    });
                    r("Container", [ "horizontal", "layout" ]).setAll({
                        layout: horizontalLayout
                    });
                    r("Container", [ "vertical", "layout" ]).setAll({
                        layout: verticalLayout
                    });
                    r("Pattern").setAll({
                        repetition: "repeat",
                        width: 50,
                        height: 50,
                        rotation: 0,
                        fillOpacity: 1
                    });
                    r("LinePattern").setAll({
                        gap: 6,
                        colorOpacity: 1,
                        width: 49,
                        height: 49
                    });
                    r("RectanglePattern").setAll({
                        gap: 6,
                        checkered: false,
                        centered: true,
                        maxWidth: 5,
                        maxHeight: 5,
                        width: 48,
                        height: 48,
                        strokeWidth: 0
                    });
                    r("CirclePattern").setAll({
                        gap: 5,
                        checkered: false,
                        centered: false,
                        radius: 3,
                        strokeWidth: 0,
                        width: 45,
                        height: 45
                    });
                    r("LinearGradient").setAll({
                        rotation: 90
                    });
                    r("Legend").setAll({
                        fillField: "fill",
                        strokeField: "stroke",
                        nameField: "name",
                        layout: GridLayout["new"](this._root, {}),
                        layer: 30,
                        clickTarget: "itemContainer"
                    });
                    r("Container", [ "legend", "item", "itemcontainer" ]).setAll({
                        paddingLeft: 5,
                        paddingRight: 5,
                        paddingBottom: 5,
                        paddingTop: 5,
                        layout: horizontalLayout,
                        setStateOnChildren: true,
                        interactiveChildren: false,
                        ariaChecked: true,
                        focusable: true,
                        ariaLabel: language.translate("Press ENTER to toggle"),
                        role: "checkbox"
                    });
                    rule = r("Rectangle", [ "legend", "item", "background" ]);
                    rule.setAll({
                        fillOpacity: 0
                    });
                    setColor(rule, "fill", ic, "background");
                    r("Container", [ "legend", "marker" ]).setAll({
                        setStateOnChildren: true,
                        centerY: p50,
                        paddingLeft: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingTop: 0,
                        width: 18,
                        height: 18
                    });
                    r("RoundedRectangle", [ "legend", "marker", "rectangle" ]).setAll({
                        width: p100,
                        height: p100,
                        cornerRadiusBL: 3,
                        cornerRadiusTL: 3,
                        cornerRadiusBR: 3,
                        cornerRadiusTR: 3
                    });
                    rule = r("RoundedRectangle", [ "legend", "marker", "rectangle" ]).states.create("disabled", {});
                    setColor(rule, "fill", ic, "disabled");
                    setColor(rule, "stroke", ic, "disabled");
                    r("Label", [ "legend", "label" ]).setAll({
                        centerY: p50,
                        marginLeft: 5,
                        paddingRight: 0,
                        paddingLeft: 0,
                        paddingTop: 0,
                        paddingBottom: 0,
                        populateText: true
                    });
                    rule = r("Label", [ "legend", "label" ]).states.create("disabled", {});
                    setColor(rule, "fill", ic, "disabled");
                    r("Label", [ "legend", "value", "label" ]).setAll({
                        centerY: p50,
                        marginLeft: 5,
                        paddingRight: 0,
                        paddingLeft: 0,
                        paddingTop: 0,
                        paddingBottom: 0,
                        width: 50,
                        centerX: p100,
                        populateText: true
                    });
                    rule = r("Label", [ "legend", "value", "label" ]).states.create("disabled", {});
                    setColor(rule, "fill", ic, "disabled");
                    r("HeatLegend").setAll({
                        stepCount: 1
                    });
                    r("RoundedRectangle", [ "heatlegend", "marker" ]).setAll({
                        cornerRadiusTR: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusBL: 0
                    });
                    r("RoundedRectangle", [ "vertical", "heatlegend", "marker" ]).setAll({
                        height: p100,
                        width: 15
                    });
                    r("RoundedRectangle", [ "horizontal", "heatlegend", "marker" ]).setAll({
                        width: p100,
                        height: 15
                    });
                    r("HeatLegend", [ "vertical" ]).setAll({
                        height: p100
                    });
                    r("HeatLegend", [ "horizontal" ]).setAll({
                        width: p100
                    });
                    r("Label", [ "heatlegend", "start" ]).setAll({
                        paddingLeft: 5,
                        paddingRight: 5,
                        paddingTop: 5,
                        paddingBottom: 5
                    });
                    r("Label", [ "heatlegend", "end" ]).setAll({
                        paddingLeft: 5,
                        paddingRight: 5,
                        paddingTop: 5,
                        paddingBottom: 5
                    });
                    rule = r("Label");
                    rule.setAll({
                        paddingTop: 8,
                        paddingBottom: 8,
                        paddingLeft: 10,
                        paddingRight: 10,
                        fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',
                        fontSize: "1em",
                        populateText: false
                    });
                    setColor(rule, "fill", ic, "text");
                    r("RadialLabel").setAll({
                        textType: "regular",
                        centerY: p50,
                        centerX: p50,
                        inside: false,
                        radius: 0,
                        baseRadius: p100,
                        orientation: "auto",
                        textAlign: "center"
                    });
                    r("RoundedRectangle").setAll({
                        cornerRadiusTL: 8,
                        cornerRadiusBL: 8,
                        cornerRadiusTR: 8,
                        cornerRadiusBR: 8
                    });
                    r("PointedRectangle").setAll({
                        pointerBaseWidth: 15,
                        pointerLength: 10,
                        cornerRadius: 8
                    });
                    r("Slice").setAll({
                        shiftRadius: 0,
                        dRadius: 0,
                        dInnerRadius: 0
                    });
                    rule = r("Tick");
                    rule.setAll({
                        strokeOpacity: .15,
                        isMeasured: false,
                        length: 4.5,
                        position: "absolute"
                    });
                    setColor(rule, "stroke", ic, "grid");
                    r("Bullet").setAll({
                        locationX: .5,
                        locationY: .5
                    });
                    r("Tooltip").setAll({
                        position: "absolute",
                        getFillFromSprite: true,
                        getStrokeFromSprite: false,
                        autoTextColor: true,
                        paddingTop: 9,
                        paddingBottom: 8,
                        paddingLeft: 10,
                        paddingRight: 10,
                        marginBottom: 5,
                        pointerOrientation: "vertical",
                        centerX: p50,
                        centerY: p50,
                        animationEasing: out(cubic),
                        exportable: false
                    });
                    rule = r("PointedRectangle", [ "tooltip", "background" ]);
                    rule.setAll({
                        strokeOpacity: .9,
                        cornerRadius: 4,
                        pointerLength: 4,
                        pointerBaseWidth: 8,
                        fillOpacity: .9,
                        stroke: Color.fromHex(16777215)
                    });
                    rule = r("Label", [ "tooltip" ]);
                    rule.setAll({
                        role: "tooltip",
                        populateText: true,
                        paddingRight: 0,
                        paddingTop: 0,
                        paddingLeft: 0,
                        paddingBottom: 0
                    });
                    setColor(rule, "fill", ic, "alternativeText");
                    r("Button").setAll({
                        paddingTop: 8,
                        paddingBottom: 8,
                        paddingLeft: 10,
                        paddingRight: 10,
                        interactive: true,
                        layout: horizontalLayout,
                        interactiveChildren: false,
                        setStateOnChildren: true,
                        focusable: true
                    });
                    r("Button").states.create("hover", {});
                    r("Button").states.create("down", {
                        stateAnimationDuration: 0
                    });
                    r("Button").states.create("active", {});
                    rule = r("RoundedRectangle", [ "button", "background" ]);
                    setColor(rule, "fill", ic, "primaryButton");
                    setColor(rule, "stroke", ic, "primaryButtonStroke");
                    rule = r("RoundedRectangle", [ "button", "background" ]).states.create("hover", {});
                    setColor(rule, "fill", ic, "primaryButtonHover");
                    rule = r("RoundedRectangle", [ "button", "background" ]).states.create("down", {
                        stateAnimationDuration: 0
                    });
                    setColor(rule, "fill", ic, "primaryButtonDown");
                    rule = r("RoundedRectangle", [ "button", "background" ]).states.create("active", {});
                    setColor(rule, "fill", ic, "primaryButtonActive");
                    rule = r("Graphics", [ "button", "icon" ]);
                    setColor(rule, "stroke", ic, "primaryButtonText");
                    rule = r("Label", [ "button" ]);
                    setColor(rule, "fill", ic, "primaryButtonText");
                    r("Button", [ "zoom" ]).setAll({
                        paddingTop: 18,
                        paddingBottom: 18,
                        paddingLeft: 12,
                        paddingRight: 12,
                        centerX: 46,
                        centerY: -10,
                        y: 0,
                        x: p100,
                        role: "button",
                        ariaLabel: language.translate("Zoom Out"),
                        layer: 30
                    });
                    rule = r("RoundedRectangle", [ "background", "button", "zoom" ]);
                    rule.setAll({
                        cornerRadiusBL: 40,
                        cornerRadiusBR: 40,
                        cornerRadiusTL: 40,
                        cornerRadiusTR: 40
                    });
                    setColor(rule, "fill", ic, "primaryButton");
                    rule = r("RoundedRectangle", [ "background", "button", "zoom" ]).states.create("hover", {});
                    setColor(rule, "fill", ic, "primaryButtonHover");
                    rule = r("RoundedRectangle", [ "background", "button", "zoom" ]).states.create("down", {
                        stateAnimationDuration: 0
                    });
                    setColor(rule, "fill", ic, "primaryButtonDown");
                    rule = r("Graphics", [ "icon", "button", "zoom" ]);
                    rule.setAll({
                        strokeOpacity: .7,
                        draw: function(display) {
                            display.moveTo(0, 0);
                            display.lineTo(12, 0);
                        }
                    });
                    setColor(rule, "stroke", ic, "primaryButtonText");
                    r("Button", [ "resize" ]).setAll({
                        paddingTop: 9,
                        paddingBottom: 9,
                        paddingLeft: 13,
                        paddingRight: 13,
                        draggable: true,
                        centerX: p50,
                        centerY: p50,
                        position: "absolute",
                        role: "slider",
                        ariaValueMin: "0",
                        ariaValueMax: "100",
                        ariaLabel: language.translate("Use up and down arrows to move selection")
                    });
                    rule = r("RoundedRectangle", [ "background", "resize", "button" ]);
                    rule.setAll({
                        cornerRadiusBL: 40,
                        cornerRadiusBR: 40,
                        cornerRadiusTL: 40,
                        cornerRadiusTR: 40
                    });
                    setColor(rule, "fill", ic, "secondaryButton");
                    setColor(rule, "stroke", ic, "secondaryButtonStroke");
                    rule = r("RoundedRectangle", [ "background", "resize", "button" ]).states.create("hover", {});
                    setColor(rule, "fill", ic, "secondaryButtonHover");
                    rule = r("RoundedRectangle", [ "background", "resize", "button" ]).states.create("down", {
                        stateAnimationDuration: 0
                    });
                    setColor(rule, "fill", ic, "secondaryButtonDown");
                    rule = r("Graphics", [ "resize", "button", "icon" ]);
                    rule.setAll({
                        strokeOpacity: .7,
                        draw: function(display) {
                            display.moveTo(0, 0);
                            display.lineTo(0, 12);
                            display.moveTo(4, 0);
                            display.lineTo(4, 12);
                        }
                    });
                    setColor(rule, "stroke", ic, "secondaryButtonText");
                    r("Button", [ "resize", "vertical" ]).setAll({
                        rotation: 90,
                        cursorOverStyle: "ns-resize"
                    });
                    r("Button", [ "resize", "horizontal" ]).setAll({
                        cursorOverStyle: "ew-resize"
                    });
                    r("Button", [ "play" ]).setAll({
                        paddingTop: 13,
                        paddingBottom: 13,
                        paddingLeft: 14,
                        paddingRight: 14,
                        ariaLabel: language.translate("Play"),
                        toggleKey: "active"
                    });
                    rule = r("RoundedRectangle", [ "play", "background" ]);
                    rule.setAll({
                        strokeOpacity: .5,
                        cornerRadiusBL: 100,
                        cornerRadiusBR: 100,
                        cornerRadiusTL: 100,
                        cornerRadiusTR: 100
                    });
                    setColor(rule, "fill", ic, "primaryButton");
                    rule = r("Graphics", [ "play", "icon" ]);
                    rule.setAll({
                        stateAnimationDuration: 0,
                        dx: 1,
                        draw: function(display) {
                            display.moveTo(0, -5);
                            display.lineTo(8, 0);
                            display.lineTo(0, 5);
                            display.lineTo(0, -5);
                        }
                    });
                    setColor(rule, "fill", ic, "primaryButtonText");
                    r("Graphics", [ "play", "icon" ]).states.create("default", {
                        stateAnimationDuration: 0
                    });
                    r("Graphics", [ "play", "icon" ]).states.create("active", {
                        stateAnimationDuration: 0,
                        draw: function(display) {
                            display.moveTo(-4, -5);
                            display.lineTo(-1, -5);
                            display.lineTo(-1, 5);
                            display.lineTo(-4, 5);
                            display.lineTo(-4, -5);
                            display.moveTo(4, -5);
                            display.lineTo(1, -5);
                            display.lineTo(1, 5);
                            display.lineTo(4, 5);
                            display.lineTo(4, -5);
                        }
                    });
                    r("Button", [ "switch" ]).setAll({
                        paddingTop: 4,
                        paddingBottom: 4,
                        paddingLeft: 4,
                        paddingRight: 4,
                        ariaLabel: language.translate("Press ENTER to toggle"),
                        toggleKey: "active",
                        width: 40,
                        height: 24,
                        layout: null
                    });
                    rule = r("RoundedRectangle", [ "switch", "background" ]);
                    rule.setAll({
                        strokeOpacity: .5,
                        cornerRadiusBL: 100,
                        cornerRadiusBR: 100,
                        cornerRadiusTL: 100,
                        cornerRadiusTR: 100
                    });
                    setColor(rule, "fill", ic, "primaryButton");
                    rule = r("Circle", [ "switch", "icon" ]);
                    rule.setAll({
                        radius: 8,
                        centerY: 0,
                        centerX: 0,
                        dx: 0
                    });
                    setColor(rule, "fill", ic, "primaryButtonText");
                    r("Graphics", [ "switch", "icon" ]).states.create("active", {
                        dx: 16
                    });
                    r("Scrollbar").setAll({
                        start: 0,
                        end: 1,
                        layer: 30,
                        animationEasing: out(cubic)
                    });
                    r("Scrollbar", [ "vertical" ]).setAll({
                        marginRight: 13,
                        marginLeft: 13,
                        minWidth: 12,
                        height: p100
                    });
                    r("Scrollbar", [ "horizontal" ]).setAll({
                        marginTop: 13,
                        marginBottom: 13,
                        minHeight: 12,
                        width: p100
                    });
                    this.rule("Button", [ "scrollbar" ]).setAll({
                        exportable: false
                    });
                    rule = r("RoundedRectangle", [ "scrollbar", "main", "background" ]);
                    rule.setAll({
                        cornerRadiusTL: 8,
                        cornerRadiusBL: 8,
                        cornerRadiusTR: 8,
                        cornerRadiusBR: 8,
                        fillOpacity: .8
                    });
                    setColor(rule, "fill", ic, "fill");
                    rule = r("RoundedRectangle", [ "scrollbar", "thumb" ]);
                    rule.setAll({
                        role: "slider",
                        ariaLive: "polite",
                        position: "absolute",
                        draggable: true
                    });
                    setColor(rule, "fill", ic, "secondaryButton");
                    rule = r("RoundedRectangle", [ "scrollbar", "thumb" ]).states.create("hover", {});
                    setColor(rule, "fill", ic, "secondaryButtonHover");
                    rule = r("RoundedRectangle", [ "scrollbar", "thumb" ]).states.create("down", {
                        stateAnimationDuration: 0
                    });
                    setColor(rule, "fill", ic, "secondaryButtonDown");
                    r("RoundedRectangle", [ "scrollbar", "thumb", "vertical" ]).setAll({
                        x: p50,
                        width: p100,
                        centerX: p50,
                        ariaLabel: language.translate("Use up and down arrows to move selection")
                    });
                    r("RoundedRectangle", [ "scrollbar", "thumb", "horizontal" ]).setAll({
                        y: p50,
                        centerY: p50,
                        height: p100,
                        ariaLabel: language.translate("Use left and right arrows to move selection")
                    });
                    rule = r("PointedRectangle", [ "axis", "tooltip", "background" ]);
                    rule.setAll({
                        cornerRadius: 0
                    });
                    setColor(rule, "fill", ic, "alternativeBackground");
                    r("Label", [ "axis", "tooltip" ]).setAll({
                        role: void 0
                    });
                    r("Label", [ "axis", "tooltip", "y" ]).setAll({
                        textAlign: "right"
                    });
                    r("Label", [ "axis", "tooltip", "y", "opposite" ]).setAll({
                        textAlign: "left"
                    });
                    r("Label", [ "axis", "tooltip", "x" ]).setAll({
                        textAlign: "center"
                    });
                    r("Tooltip", [ "categoryaxis" ]).setAll({
                        labelText: "{category}"
                    });
                    r("Star").setAll({
                        spikes: 5,
                        innerRadius: 5,
                        radius: 10
                    });
                    r("Tooltip", [ "stock" ]).setAll({
                        paddingTop: 6,
                        paddingBottom: 5,
                        paddingLeft: 7,
                        paddingRight: 7
                    });
                    r("PointedRectangle", [ "tooltip", "stock", "axis" ]).setAll({
                        pointerLength: 0,
                        pointerBaseWidth: 0,
                        cornerRadius: 3
                    });
                    r("Label", [ "tooltip", "stock" ]).setAll({
                        fontSize: "0.8em"
                    });
                    r("SpriteResizer").setAll({
                        rotationStep: 10
                    });
                    rule = r("Container", [ "resizer", "grip" ]);
                    rule.states.create("hover", {});
                    rule = r("RoundedRectangle", [ "resizer", "grip" ]);
                    rule.setAll({
                        strokeOpacity: .7,
                        strokeWidth: 1,
                        fillOpacity: 1,
                        width: 12,
                        height: 12
                    });
                    setColor(rule, "fill", ic, "background");
                    setColor(rule, "stroke", ic, "alternativeBackground");
                    rule = r("RoundedRectangle", [ "resizer", "grip", "outline" ]);
                    rule.setAll({
                        strokeOpacity: 0,
                        fillOpacity: 0,
                        width: 20,
                        height: 20
                    });
                    rule.states.create("hover", {
                        fillOpacity: .3
                    });
                    setColor(rule, "fill", ic, "alternativeBackground");
                    r("RoundedRectangle", [ "resizer", "grip", "left" ]).setAll({
                        cornerRadiusBL: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusTR: 0
                    });
                    r("RoundedRectangle", [ "resizer", "grip", "right" ]).setAll({
                        cornerRadiusBL: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusTR: 0
                    });
                    rule = r("Rectangle", [ "resizer", "rectangle" ]);
                    rule.setAll({
                        strokeDasharray: [ 2, 2 ],
                        strokeOpacity: .5,
                        strokeWidth: 1
                    });
                    setColor(rule, "stroke", ic, "alternativeBackground");
                }
            });
            return DefaultTheme;
        }(Theme);
        var Matrix = function() {
            function Matrix(a, b, c, d, tx, ty) {
                if (void 0 === a) a = 1;
                if (void 0 === b) b = 0;
                if (void 0 === c) c = 0;
                if (void 0 === d) d = 1;
                if (void 0 === tx) tx = 0;
                if (void 0 === ty) ty = 0;
                Object.defineProperty(this, "a", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "b", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "c", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "d", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "tx", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "ty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this.a = a;
                this.b = b;
                this.c = c;
                this.d = d;
                this.tx = tx;
                this.ty = ty;
            }
            Object.defineProperty(Matrix.prototype, "setTransform", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y, pivotX, pivotY, rotation, scale) {
                    if (void 0 === scale) scale = 1;
                    this.a = Math.cos(rotation) * scale;
                    this.b = Math.sin(rotation) * scale;
                    this.c = -Math.sin(rotation) * scale;
                    this.d = Math.cos(rotation) * scale;
                    this.tx = x - (pivotX * this.a + pivotY * this.c);
                    this.ty = y - (pivotX * this.b + pivotY * this.d);
                }
            });
            Object.defineProperty(Matrix.prototype, "apply", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(origin) {
                    return {
                        x: this.a * origin.x + this.c * origin.y + this.tx,
                        y: this.b * origin.x + this.d * origin.y + this.ty
                    };
                }
            });
            Object.defineProperty(Matrix.prototype, "applyInverse", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(origin) {
                    var id = 1 / (this.a * this.d + this.c * -this.b);
                    return {
                        x: this.d * id * origin.x + -this.c * id * origin.y + (this.ty * this.c - this.tx * this.d) * id,
                        y: this.a * id * origin.y + -this.b * id * origin.x + (-this.ty * this.a + this.tx * this.b) * id
                    };
                }
            });
            Object.defineProperty(Matrix.prototype, "append", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(matrix) {
                    var a1 = this.a;
                    var b1 = this.b;
                    var c1 = this.c;
                    var d1 = this.d;
                    this.a = matrix.a * a1 + matrix.b * c1;
                    this.b = matrix.a * b1 + matrix.b * d1;
                    this.c = matrix.c * a1 + matrix.d * c1;
                    this.d = matrix.c * b1 + matrix.d * d1;
                    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
                    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;
                }
            });
            Object.defineProperty(Matrix.prototype, "prepend", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(matrix) {
                    var tx1 = this.tx;
                    if (1 !== matrix.a || 0 !== matrix.b || 0 !== matrix.c || 1 !== matrix.d) {
                        var a1 = this.a;
                        var c1 = this.c;
                        this.a = a1 * matrix.a + this.b * matrix.c;
                        this.b = a1 * matrix.b + this.b * matrix.d;
                        this.c = c1 * matrix.a + this.d * matrix.c;
                        this.d = c1 * matrix.b + this.d * matrix.d;
                    }
                    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;
                    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;
                }
            });
            Object.defineProperty(Matrix.prototype, "copyFrom", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(matrix) {
                    this.a = matrix.a;
                    this.b = matrix.b;
                    this.c = matrix.c;
                    this.d = matrix.d;
                    this.tx = matrix.tx;
                    this.ty = matrix.ty;
                }
            });
            return Matrix;
        }();
        var _slicedToArray = function() {
            function sliceIterator(arr, i) {
                var _arr = [];
                var _n = true;
                var _d = false;
                var _e = void 0;
                try {
                    for (var _s, _i = arr[Symbol.iterator](); !(_n = (_s = _i.next()).done); _n = true) {
                        _arr.push(_s.value);
                        if (i && _arr.length === i) break;
                    }
                } catch (err) {
                    _d = true;
                    _e = err;
                } finally {
                    try {
                        if (!_n && _i["return"]) _i["return"]();
                    } finally {
                        if (_d) throw _e;
                    }
                }
                return _arr;
            }
            return function(arr, i) {
                if (Array.isArray(arr)) return arr; else if (Symbol.iterator in Object(arr)) return sliceIterator(arr, i); else throw new TypeError("Invalid attempt to destructure non-iterable instance");
            };
        }();
        var TAU = 2 * Math.PI;
        var mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {
            var x = _ref.x, y = _ref.y;
            x *= rx;
            y *= ry;
            var xp = cosphi * x - sinphi * y;
            var yp = sinphi * x + cosphi * y;
            return {
                x: xp + centerx,
                y: yp + centery
            };
        };
        var approxUnitArc = function approxUnitArc(ang1, ang2) {
            var a = 1.5707963267948966 === ang2 ? .551915024494 : -1.5707963267948966 === ang2 ? -.551915024494 : 4 / 3 * Math.tan(ang2 / 4);
            var x1 = Math.cos(ang1);
            var y1 = Math.sin(ang1);
            var x2 = Math.cos(ang1 + ang2);
            var y2 = Math.sin(ang1 + ang2);
            return [ {
                x: x1 - y1 * a,
                y: y1 + x1 * a
            }, {
                x: x2 + y2 * a,
                y: y2 - x2 * a
            }, {
                x: x2,
                y: y2
            } ];
        };
        var vectorAngle = function vectorAngle(ux, uy, vx, vy) {
            var sign = ux * vy - uy * vx < 0 ? -1 : 1;
            var dot = ux * vx + uy * vy;
            if (dot > 1) dot = 1;
            if (dot < -1) dot = -1;
            return sign * Math.acos(dot);
        };
        var getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {
            var rxsq = Math.pow(rx, 2);
            var rysq = Math.pow(ry, 2);
            var pxpsq = Math.pow(pxp, 2);
            var pypsq = Math.pow(pyp, 2);
            var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;
            if (radicant < 0) radicant = 0;
            radicant /= rxsq * pypsq + rysq * pxpsq;
            radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);
            var centerxp = radicant * rx / ry * pyp;
            var centeryp = radicant * -ry / rx * pxp;
            var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;
            var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;
            var vx1 = (pxp - centerxp) / rx;
            var vy1 = (pyp - centeryp) / ry;
            var vx2 = (-pxp - centerxp) / rx;
            var vy2 = (-pyp - centeryp) / ry;
            var ang1 = vectorAngle(1, 0, vx1, vy1);
            var ang2 = vectorAngle(vx1, vy1, vx2, vy2);
            if (0 === sweepFlag && ang2 > 0) ang2 -= TAU;
            if (1 === sweepFlag && ang2 < 0) ang2 += TAU;
            return [ centerx, centery, ang1, ang2 ];
        };
        var arcToBezier = function arcToBezier(_ref2) {
            var px = _ref2.px, py = _ref2.py, cx = _ref2.cx, cy = _ref2.cy, rx = _ref2.rx, ry = _ref2.ry, _ref2$xAxisRotation = _ref2.xAxisRotation, xAxisRotation = void 0 === _ref2$xAxisRotation ? 0 : _ref2$xAxisRotation, _ref2$largeArcFlag = _ref2.largeArcFlag, largeArcFlag = void 0 === _ref2$largeArcFlag ? 0 : _ref2$largeArcFlag, _ref2$sweepFlag = _ref2.sweepFlag, sweepFlag = void 0 === _ref2$sweepFlag ? 0 : _ref2$sweepFlag;
            var curves = [];
            if (0 === rx || 0 === ry) return [];
            var sinphi = Math.sin(xAxisRotation * TAU / 360);
            var cosphi = Math.cos(xAxisRotation * TAU / 360);
            var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;
            var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;
            if (0 === pxp && 0 === pyp) return [];
            rx = Math.abs(rx);
            ry = Math.abs(ry);
            var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);
            if (lambda > 1) {
                rx *= Math.sqrt(lambda);
                ry *= Math.sqrt(lambda);
            }
            var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp), _getArcCenter2 = _slicedToArray(_getArcCenter, 4), centerx = _getArcCenter2[0], centery = _getArcCenter2[1], ang1 = _getArcCenter2[2], ang2 = _getArcCenter2[3];
            var ratio = Math.abs(ang2) / (TAU / 4);
            if (Math.abs(1 - ratio) < 1e-7) ratio = 1;
            var segments = Math.max(Math.ceil(ratio), 1);
            ang2 /= segments;
            for (var i = 0; i < segments; i++) {
                curves.push(approxUnitArc(ang1, ang2));
                ang1 += ang2;
            }
            return curves.map((function(curve) {
                var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery), x1 = _mapToEllipse.x, y1 = _mapToEllipse.y;
                var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery), x2 = _mapToEllipse2.x, y2 = _mapToEllipse2.y;
                var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery), x = _mapToEllipse3.x, y = _mapToEllipse3.y;
                return {
                    x1,
                    y1,
                    x2,
                    y2,
                    x,
                    y
                };
            }));
        };
        const modules = arcToBezier;
        function checkArgs(name, actual, expected) {
            if (actual !== expected) throw new Error("Required " + expected + " arguments for " + name + " but got " + actual);
        }
        function checkMinArgs(name, actual, expected) {
            if (actual < expected) throw new Error("Required at least " + expected + " arguments for " + name + " but got " + actual);
        }
        function checkEvenArgs(name, actual, expected) {
            checkMinArgs(name, actual, expected);
            if (actual % expected !== 0) throw new Error("Arguments for " + name + " must be in pairs of " + expected);
        }
        function splitArcFlags(args) {
            for (var i = 0; i < args.length; i += 7) {
                var index = i + 3;
                var flag = args[index];
                if (flag.length > 1) {
                    var a = /^([01])([01])(.*)$/.exec(flag);
                    if (null !== a) {
                        args.splice(index, 0, a[1]);
                        ++index;
                        args.splice(index, 0, a[2]);
                        ++index;
                        if (a[3].length > 0) args[index] = a[3]; else args.splice(index, 1);
                    }
                }
                ++index;
                flag = args[index];
                if (flag.length > 1) {
                    a = /^([01])(.+)$/.exec(flag);
                    if (null !== a) {
                        args.splice(index, 0, a[1]);
                        ++index;
                        args[index] = a[2];
                    }
                }
            }
        }
        function assertBinary(value) {
            if (0 === value || 1 === value) return value; else throw new Error("Flag must be 0 or 1");
        }
        function distributeId(id) {
            var rgb = [ 0, 0, 0 ];
            for (var i = 0; i < 24; i++) {
                rgb[i % 3] <<= 1;
                rgb[i % 3] |= 1 & id;
                id >>= 1;
            }
            return (0 | rgb[2]) + (rgb[1] << 8) + (rgb[0] << 16);
        }
        function eachTargets(hitTarget, f) {
            for (;;) {
                if (hitTarget.interactive) if (!f(hitTarget)) break;
                if (hitTarget._parent) hitTarget = hitTarget._parent; else break;
            }
        }
        function onPointerEvent(element, name, f) {
            return addEventListener(element, getRendererEvent(name), (function(event) {
                var touches = event.touches;
                if (touches) {
                    if (0 == touches.length) touches = event.changedTouches;
                    f(copy(touches));
                } else f([ event ]);
            }));
        }
        function isTainted(image) {
            var canvas = document.createElement("canvas");
            canvas.width = 1;
            canvas.height = 1;
            var context = canvas.getContext("2d", {
                willReadFrequently: true
            });
            context.drawImage(image, 0, 0, 1, 1);
            try {
                context.getImageData(0, 0, 1, 1);
                return false;
            } catch (err) {
                console.warn('Image "' + image.src + '" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors');
                return true;
            }
        }
        function clearCanvas(view) {
            view.width = 0;
            view.height = 0;
            view.style.width = "0px";
            view.style.height = "0px";
        }
        var CanvasPivot = function() {
            function CanvasPivot() {
                Object.defineProperty(this, "_x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
            }
            Object.defineProperty(CanvasPivot.prototype, "x", {
                get: function() {
                    return this._x;
                },
                set: function(value) {
                    this._x = value;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(CanvasPivot.prototype, "y", {
                get: function() {
                    return this._y;
                },
                set: function(value) {
                    this._y = value;
                },
                enumerable: false,
                configurable: true
            });
            return CanvasPivot;
        }();
        var CanvasDisplayObject = function(_super) {
            __extends(CanvasDisplayObject, _super);
            function CanvasDisplayObject(renderer) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "_layer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "mask", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(_this, "visible", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "exportable", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "interactive", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "inactive", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "wheelable", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "cancelTouch", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "isMeasured", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "buttonMode", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "alpha", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "compoundAlpha", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "angle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "scale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "pivot", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new CanvasPivot
                });
                Object.defineProperty(_this, "filter", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "cursorOverStyle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_replacedCursorStyle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_localMatrix", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Matrix
                });
                Object.defineProperty(_this, "_matrix", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Matrix
                });
                Object.defineProperty(_this, "_uMatrix", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Matrix
                });
                Object.defineProperty(_this, "_renderer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_parent", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_localBounds", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_bounds", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_colorId", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this._renderer = renderer;
                return _this;
            }
            Object.defineProperty(CanvasDisplayObject.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._renderer._removeObject(this);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "getCanvas", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.getLayer().view;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "getLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var self = this;
                    for (;;) if (self._layer) return self._layer; else if (self._parent) self = self._parent; else return this._renderer.defaultLayer;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "setLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(order, margin) {
                    if (null == order) this._layer = void 0; else {
                        var visible = true;
                        this._layer = this._renderer.getLayer(order, visible);
                        this._layer.visible = visible;
                        this._layer.margin = margin;
                        if (margin) setInteractive(this._layer.view, false);
                        this._renderer._ghostLayer.setMargin(this._renderer.layers);
                        if (this._parent) this._parent.registerChildLayer(this._layer);
                        this._renderer.resizeLayer(this._layer);
                        this._renderer.resizeGhost();
                    }
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "markDirtyLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.getLayer().dirty = true;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.invalidateBounds();
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "invalidateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._localBounds = void 0;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_bounds) {}
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_getColorId", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (void 0 === this._colorId) this._colorId = this._renderer.paintId(this);
                    return this._colorId;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_isInteractive", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return false == this.inactive && (this.interactive || this._renderer._forceInteractive > 0);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_isInteractiveMask", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isInteractive();
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "contains", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child) {
                    for (;;) if (child === this) return true; else if (child._parent) child = child._parent; else return false;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "toGlobal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    return this._matrix.apply(point);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "toLocal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    return this._matrix.applyInverse(point);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "getLocalMatrix", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);
                    return this._uMatrix;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "getLocalBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._localBounds) {
                        var bn = 1e7;
                        this._localBounds = {
                            left: bn,
                            top: bn,
                            right: -bn,
                            bottom: -bn
                        };
                        this._addBounds(this._localBounds);
                    }
                    return this._localBounds;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "getAdjustedBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    this._setMatrix();
                    var matrix = this.getLocalMatrix();
                    var p0 = matrix.apply({
                        x: bounds.left,
                        y: bounds.top
                    });
                    var p1 = matrix.apply({
                        x: bounds.right,
                        y: bounds.top
                    });
                    var p2 = matrix.apply({
                        x: bounds.right,
                        y: bounds.bottom
                    });
                    var p3 = matrix.apply({
                        x: bounds.left,
                        y: bounds.bottom
                    });
                    return {
                        left: Math.min(p0.x, p1.x, p2.x, p3.x),
                        top: Math.min(p0.y, p1.y, p2.y, p3.y),
                        right: Math.max(p0.x, p1.x, p2.x, p3.x),
                        bottom: Math.max(p0.y, p1.y, p2.y, p3.y)
                    };
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "on", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, callback, context) {
                    if (this.interactive) return this._renderer._addEvent(this, key, callback, context); else return new Disposer((function() {}));
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_setMatrix", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);
                    this._matrix.copyFrom(this._localMatrix);
                    if (this._parent) this._matrix.prepend(this._parent._matrix);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_transform", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, resolution) {
                    var m = this._matrix;
                    context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, m.tx * resolution, m.ty * resolution);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_transformMargin", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, resolution, margin) {
                    var m = this._matrix;
                    context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, (m.tx + margin.left) * resolution, (m.ty + margin.top) * resolution);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_transformLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, resolution, layer) {
                    if (layer.margin) this._transformMargin(context, layer.scale || resolution, layer.margin); else this._transform(context, layer.scale || resolution);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    var _this = this;
                    if (this.visible && (false !== this.exportable || !this._renderer._omitTainted)) {
                        this._setMatrix();
                        var resolution_1 = this._renderer.resolution;
                        var layers = this._renderer.layers;
                        var ghostLayer = this._renderer._ghostLayer;
                        var ghostContext = ghostLayer.context;
                        var mask_1 = this.mask;
                        if (mask_1) mask_1._setMatrix();
                        each(layers, (function(layer) {
                            if (layer) {
                                var context = layer.context;
                                context.save();
                                if (mask_1) {
                                    mask_1._transformLayer(context, resolution_1, layer);
                                    mask_1._runPath(context);
                                    context.clip();
                                }
                                context.globalAlpha = _this.compoundAlpha * _this.alpha;
                                _this._transformLayer(context, resolution_1, layer);
                                if (_this.filter) context.filter = _this.filter;
                            }
                        }));
                        ghostContext.save();
                        if (mask_1 && this._isInteractiveMask()) {
                            mask_1._transformMargin(ghostContext, resolution_1, ghostLayer.margin);
                            mask_1._runPath(ghostContext);
                            ghostContext.clip();
                        }
                        this._transformMargin(ghostContext, resolution_1, ghostLayer.margin);
                        this._render(parentLayer);
                        ghostContext.restore();
                        each(layers, (function(layer) {
                            if (layer) layer.context.restore();
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    if (false === this.exportable) {
                        var layer = this._layer || parentLayer;
                        layer.tainted = true;
                    }
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "hovering", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._renderer._hovering.has(this);
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "dragging", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    return this._renderer._dragging.some((function(x) {
                        return x.value === _this;
                    }));
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.getLayer().dirty = true;
                }
            });
            Object.defineProperty(CanvasDisplayObject.prototype, "shouldCancelTouch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var renderer = this._renderer;
                    if (renderer.tapToActivate && !renderer._touchActive) return false;
                    if (this.cancelTouch) return true; else if (this._parent) return this._parent.shouldCancelTouch();
                    return false;
                }
            });
            return CanvasDisplayObject;
        }(DisposerClass);
        var CanvasContainer = function(_super) {
            __extends(CanvasContainer, _super);
            function CanvasContainer() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "interactiveChildren", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "_childLayers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_children", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                return _this;
            }
            Object.defineProperty(CanvasContainer.prototype, "_isInteractiveMask", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.interactiveChildren || _super.prototype._isInteractiveMask.call(this);
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "addChild", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child) {
                    child._parent = this;
                    this._children.push(child);
                    if (child._layer) this.registerChildLayer(child._layer);
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "addChildAt", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child, index) {
                    child._parent = this;
                    this._children.splice(index, 0, child);
                    if (child._layer) this.registerChildLayer(child._layer);
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "removeChild", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(child) {
                    child._parent = void 0;
                    removeFirst(this._children, child);
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    var _this = this;
                    _super.prototype._render.call(this, parentLayer);
                    var renderer = this._renderer;
                    if (this.interactive && this.interactiveChildren) ++renderer._forceInteractive;
                    var layer = this._layer || parentLayer;
                    each(this._children, (function(child) {
                        child.compoundAlpha = _this.compoundAlpha * _this.alpha;
                        child.render(layer);
                    }));
                    if (this.interactive && this.interactiveChildren) --renderer._forceInteractive;
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "registerChildLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer) {
                    if (!this._childLayers) this._childLayers = [];
                    pushOne(this._childLayers, layer);
                    if (this._parent) this._parent.registerChildLayer(layer);
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "markDirtyLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(deep) {
                    if (void 0 === deep) deep = false;
                    _super.prototype.markDirtyLayer.call(this);
                    if (deep && this._childLayers) each(this._childLayers, (function(layer) {
                        return layer.dirty = true;
                    }));
                }
            });
            Object.defineProperty(CanvasContainer.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.dispose.call(this);
                    if (this._childLayers) each(this._childLayers, (function(layer) {
                        layer.dirty = true;
                    }));
                }
            });
            return CanvasContainer;
        }(CanvasDisplayObject);
        function setPoint(bounds, point) {
            bounds.left = Math.min(bounds.left, point.x);
            bounds.top = Math.min(bounds.top, point.y);
            bounds.right = Math.max(bounds.right, point.x);
            bounds.bottom = Math.max(bounds.bottom, point.y);
        }
        var Op = function() {
            function Op() {}
            Object.defineProperty(Op.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_context, _forceColor) {}
            });
            Object.defineProperty(Op.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_context) {}
            });
            Object.defineProperty(Op.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_bounds) {}
            });
            return Op;
        }();
        var BeginFill = function(_super) {
            __extends(BeginFill, _super);
            function BeginFill(color) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "color", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: color
                });
                return _this;
            }
            Object.defineProperty(BeginFill.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, forceColor) {
                    if (void 0 !== forceColor) context.fillStyle = forceColor; else context.fillStyle = this.color;
                }
            });
            return BeginFill;
        }(Op);
        var EndFill = function(_super) {
            __extends(EndFill, _super);
            function EndFill(clearShadow) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "clearShadow", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: clearShadow
                });
                return _this;
            }
            Object.defineProperty(EndFill.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, _forceColor) {
                    context.fill();
                    if (this.clearShadow) {
                        context.shadowColor = "";
                        context.shadowBlur = 0;
                        context.shadowOffsetX = 0;
                        context.shadowOffsetY = 0;
                    }
                }
            });
            return EndFill;
        }(Op);
        var EndStroke = function(_super) {
            __extends(EndStroke, _super);
            function EndStroke() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(EndStroke.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, _forceColor) {
                    context.stroke();
                }
            });
            return EndStroke;
        }(Op);
        var LineStyle = function(_super) {
            __extends(LineStyle, _super);
            function LineStyle(width, color, lineJoin) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: width
                });
                Object.defineProperty(_this, "color", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: color
                });
                Object.defineProperty(_this, "lineJoin", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: lineJoin
                });
                return _this;
            }
            Object.defineProperty(LineStyle.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, forceColor) {
                    if (void 0 !== forceColor) context.strokeStyle = forceColor; else context.strokeStyle = this.color;
                    context.lineWidth = this.width;
                    if (this.lineJoin) context.lineJoin = this.lineJoin;
                }
            });
            return LineStyle;
        }(Op);
        var LineDash = function(_super) {
            __extends(LineDash, _super);
            function LineDash(dash) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "dash", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: dash
                });
                return _this;
            }
            Object.defineProperty(LineDash.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, _forceColor) {
                    context.setLineDash(this.dash);
                }
            });
            return LineDash;
        }(Op);
        var LineDashOffset = function(_super) {
            __extends(LineDashOffset, _super);
            function LineDashOffset(dashOffset) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "dashOffset", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: dashOffset
                });
                return _this;
            }
            Object.defineProperty(LineDashOffset.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, _forceColor) {
                    context.lineDashOffset = this.dashOffset;
                }
            });
            return LineDashOffset;
        }(Op);
        var DrawRect = function(_super) {
            __extends(DrawRect, _super);
            function DrawRect(x, y, width, height) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                Object.defineProperty(_this, "width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: width
                });
                Object.defineProperty(_this, "height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: height
                });
                return _this;
            }
            Object.defineProperty(DrawRect.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.rect(this.x, this.y, this.width, this.height);
                }
            });
            Object.defineProperty(DrawRect.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    var l = this.x;
                    var t = this.y;
                    var r = l + this.width;
                    var b = t + this.height;
                    setPoint(bounds, {
                        x: l,
                        y: t
                    });
                    setPoint(bounds, {
                        x: r,
                        y: t
                    });
                    setPoint(bounds, {
                        x: l,
                        y: b
                    });
                    setPoint(bounds, {
                        x: r,
                        y: b
                    });
                }
            });
            return DrawRect;
        }(Op);
        var DrawCircle = function(_super) {
            __extends(DrawCircle, _super);
            function DrawCircle(x, y, radius) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                Object.defineProperty(_this, "radius", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: radius
                });
                return _this;
            }
            Object.defineProperty(DrawCircle.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.moveTo(this.x + this.radius, this.y);
                    context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);
                }
            });
            Object.defineProperty(DrawCircle.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.x - this.radius,
                        y: this.y - this.radius
                    });
                    setPoint(bounds, {
                        x: this.x + this.radius,
                        y: this.y + this.radius
                    });
                }
            });
            return DrawCircle;
        }(Op);
        var DrawEllipse = function(_super) {
            __extends(DrawEllipse, _super);
            function DrawEllipse(x, y, radiusX, radiusY) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                Object.defineProperty(_this, "radiusX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: radiusX
                });
                Object.defineProperty(_this, "radiusY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: radiusY
                });
                return _this;
            }
            Object.defineProperty(DrawEllipse.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, 2 * Math.PI);
                }
            });
            Object.defineProperty(DrawEllipse.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.x - this.radiusX,
                        y: this.y - this.radiusY
                    });
                    setPoint(bounds, {
                        x: this.x + this.radiusX,
                        y: this.y + this.radiusY
                    });
                }
            });
            return DrawEllipse;
        }(Op);
        var Arc = function(_super) {
            __extends(Arc, _super);
            function Arc(cx, cy, radius, startAngle, endAngle, anticlockwise) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "cx", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cx
                });
                Object.defineProperty(_this, "cy", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cy
                });
                Object.defineProperty(_this, "radius", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: radius
                });
                Object.defineProperty(_this, "startAngle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: startAngle
                });
                Object.defineProperty(_this, "endAngle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: endAngle
                });
                Object.defineProperty(_this, "anticlockwise", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: anticlockwise
                });
                return _this;
            }
            Object.defineProperty(Arc.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    if (this.radius > 0) context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);
                }
            });
            Object.defineProperty(Arc.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    var arcBounds = getArcBounds(this.cx, this.cy, this.startAngle * DEGREES, this.endAngle * DEGREES, this.radius);
                    setPoint(bounds, {
                        x: arcBounds.left,
                        y: arcBounds.top
                    });
                    setPoint(bounds, {
                        x: arcBounds.right,
                        y: arcBounds.bottom
                    });
                }
            });
            return Arc;
        }(Op);
        var ArcTo = function(_super) {
            __extends(ArcTo, _super);
            function ArcTo(x1, y1, x2, y2, radius) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x1", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x1
                });
                Object.defineProperty(_this, "y1", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y1
                });
                Object.defineProperty(_this, "x2", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x2
                });
                Object.defineProperty(_this, "y2", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y2
                });
                Object.defineProperty(_this, "radius", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: radius
                });
                return _this;
            }
            Object.defineProperty(ArcTo.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    if (this.radius > 0) context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);
                }
            });
            Object.defineProperty(ArcTo.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_bounds) {}
            });
            return ArcTo;
        }(Op);
        var LineTo = function(_super) {
            __extends(LineTo, _super);
            function LineTo(x, y) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                return _this;
            }
            Object.defineProperty(LineTo.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.lineTo(this.x, this.y);
                }
            });
            Object.defineProperty(LineTo.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.x,
                        y: this.y
                    });
                }
            });
            return LineTo;
        }(Op);
        var MoveTo = function(_super) {
            __extends(MoveTo, _super);
            function MoveTo(x, y) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                return _this;
            }
            Object.defineProperty(MoveTo.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.moveTo(this.x, this.y);
                }
            });
            Object.defineProperty(MoveTo.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.x,
                        y: this.y
                    });
                }
            });
            return MoveTo;
        }(Op);
        var ClosePath = function(_super) {
            __extends(ClosePath, _super);
            function ClosePath() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(ClosePath.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.closePath();
                }
            });
            return ClosePath;
        }(Op);
        var BezierCurveTo = function(_super) {
            __extends(BezierCurveTo, _super);
            function BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "cpX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpX
                });
                Object.defineProperty(_this, "cpY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpY
                });
                Object.defineProperty(_this, "cpX2", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpX2
                });
                Object.defineProperty(_this, "cpY2", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpY2
                });
                Object.defineProperty(_this, "toX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: toX
                });
                Object.defineProperty(_this, "toY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: toY
                });
                return _this;
            }
            Object.defineProperty(BezierCurveTo.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);
                }
            });
            Object.defineProperty(BezierCurveTo.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.cpX,
                        y: this.cpY
                    });
                    setPoint(bounds, {
                        x: this.cpX2,
                        y: this.cpY2
                    });
                    setPoint(bounds, {
                        x: this.toX,
                        y: this.toY
                    });
                }
            });
            return BezierCurveTo;
        }(Op);
        var QuadraticCurveTo = function(_super) {
            __extends(QuadraticCurveTo, _super);
            function QuadraticCurveTo(cpX, cpY, toX, toY) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "cpX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpX
                });
                Object.defineProperty(_this, "cpY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: cpY
                });
                Object.defineProperty(_this, "toX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: toX
                });
                Object.defineProperty(_this, "toY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: toY
                });
                return _this;
            }
            Object.defineProperty(QuadraticCurveTo.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);
                }
            });
            Object.defineProperty(QuadraticCurveTo.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.cpX,
                        y: this.cpY
                    });
                    setPoint(bounds, {
                        x: this.toX,
                        y: this.toY
                    });
                }
            });
            return QuadraticCurveTo;
        }(Op);
        var Shadow = function(_super) {
            __extends(Shadow, _super);
            function Shadow(color, blur, offsetX, offsetY, opacity) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "color", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: color
                });
                Object.defineProperty(_this, "blur", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: blur
                });
                Object.defineProperty(_this, "offsetX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: offsetX
                });
                Object.defineProperty(_this, "offsetY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: offsetY
                });
                Object.defineProperty(_this, "opacity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: opacity
                });
                return _this;
            }
            Object.defineProperty(Shadow.prototype, "colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, _forceColor) {
                    if (this.opacity) context.fillStyle = this.color;
                    context.shadowColor = this.color;
                    context.shadowBlur = this.blur;
                    context.shadowOffsetX = this.offsetX;
                    context.shadowOffsetY = this.offsetY;
                }
            });
            return Shadow;
        }(Op);
        var GraphicsImage = function(_super) {
            __extends(GraphicsImage, _super);
            function GraphicsImage(image, width, height, x, y) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "image", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: image
                });
                Object.defineProperty(_this, "width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: width
                });
                Object.defineProperty(_this, "height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: height
                });
                Object.defineProperty(_this, "x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: x
                });
                Object.defineProperty(_this, "y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: y
                });
                return _this;
            }
            Object.defineProperty(GraphicsImage.prototype, "path", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.drawImage(this.image, this.x, this.y, this.width, this.height);
                }
            });
            Object.defineProperty(GraphicsImage.prototype, "addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    setPoint(bounds, {
                        x: this.x,
                        y: this.y
                    });
                    setPoint(bounds, {
                        x: this.width,
                        y: this.height
                    });
                }
            });
            return GraphicsImage;
        }(Op);
        var CanvasGraphics = function(_super) {
            __extends(CanvasGraphics, _super);
            function CanvasGraphics() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_operations", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "blendMode", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: BlendMode.NORMAL
                });
                Object.defineProperty(_this, "_hasShadows", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_fillAlpha", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_strokeAlpha", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(CanvasGraphics.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.clear.call(this);
                    this._operations.length = 0;
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "_pushOp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(op) {
                    this._operations.push(op);
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "beginFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, alpha) {
                    if (void 0 === alpha) alpha = 1;
                    this._fillAlpha = alpha;
                    if (color) if (color instanceof Color) this._pushOp(new BeginFill(color.toCSS(alpha))); else {
                        this.isMeasured = true;
                        this._pushOp(new BeginFill(color));
                    } else this._pushOp(new BeginFill("rgba(0, 0, 0, " + alpha + ")"));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "endFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._pushOp(new EndFill(this._hasShadows));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "endStroke", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._pushOp(new EndStroke);
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "lineStyle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(width, color, alpha, lineJoin) {
                    if (void 0 === width) width = 0;
                    if (void 0 === alpha) alpha = 1;
                    this._strokeAlpha = alpha;
                    if (color) if (color instanceof Color) this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin)); else this._pushOp(new LineStyle(width, color, lineJoin)); else this._pushOp(new LineStyle(width, "rgba(0, 0, 0, " + alpha + ")", lineJoin));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "setLineDash", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dash) {
                    this._pushOp(new LineDash(dash ? dash : []));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "setLineDashOffset", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dashOffset) {
                    if (void 0 === dashOffset) dashOffset = 0;
                    this._pushOp(new LineDashOffset(dashOffset));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "drawRect", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y, width, height) {
                    this._pushOp(new DrawRect(x, y, width, height));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "drawCircle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y, radius) {
                    this._pushOp(new DrawCircle(x, y, radius));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "drawEllipse", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y, radiusX, radiusY) {
                    this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "arc", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(cx, cy, radius, startAngle, endAngle, anticlockwise) {
                    if (void 0 === anticlockwise) anticlockwise = false;
                    this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "arcTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x1, y1, x2, y2, radius) {
                    this._pushOp(new ArcTo(x1, y1, x2, y2, radius));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "lineTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y) {
                    this._pushOp(new LineTo(x, y));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "moveTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x, y) {
                    this._pushOp(new MoveTo(x, y));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "bezierCurveTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(cpX, cpY, cpX2, cpY2, toX, toY) {
                    this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "quadraticCurveTo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(cpX, cpY, toX, toY) {
                    this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "closePath", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._pushOp(new ClosePath);
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "shadow", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(color, blur, offsetX, offsetY, opacity) {
                    if (void 0 === blur) blur = 0;
                    if (void 0 === offsetX) offsetX = 0;
                    if (void 0 === offsetY) offsetY = 0;
                    this._hasShadows = true;
                    this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "image", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(image, width, height, x, y) {
                    this._pushOp(new GraphicsImage(image, width, height, x, y));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "svgPath", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(path) {
                    var _this = this;
                    var x = 0;
                    var y = 0;
                    var cpx = null;
                    var cpy = null;
                    var qcpx = null;
                    var qcpy = null;
                    var SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;
                    var ARGS_REGEXP = /[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;
                    var match;
                    while (null !== (match = SEGMENTS_REGEXP.exec(path))) {
                        var name_1 = match[1];
                        var rest = match[2];
                        var args = [];
                        while (null !== (match = ARGS_REGEXP.exec(rest))) args.push(match[1]);
                        if ("S" !== name_1 && "s" !== name_1 && "C" !== name_1 && "c" !== name_1) {
                            cpx = null;
                            cpy = null;
                        }
                        if ("Q" !== name_1 && "q" !== name_1 && "T" !== name_1 && "t" !== name_1) {
                            qcpx = null;
                            qcpy = null;
                        }
                        switch (name_1) {
                          case "M":
                            checkEvenArgs(name_1, args.length, 2);
                            x = +args[0];
                            y = +args[1];
                            this.moveTo(x, y);
                            for (var i = 2; i < args.length; i += 2) {
                                x = +args[i];
                                y = +args[i + 1];
                                this.lineTo(x, y);
                            }
                            break;

                          case "m":
                            checkEvenArgs(name_1, args.length, 2);
                            x += +args[0];
                            y += +args[1];
                            this.moveTo(x, y);
                            for (i = 2; i < args.length; i += 2) {
                                x += +args[i];
                                y += +args[i + 1];
                                this.lineTo(x, y);
                            }
                            break;

                          case "L":
                            checkEvenArgs(name_1, args.length, 2);
                            for (i = 0; i < args.length; i += 2) {
                                x = +args[i];
                                y = +args[i + 1];
                                this.lineTo(x, y);
                            }
                            break;

                          case "l":
                            checkEvenArgs(name_1, args.length, 2);
                            for (i = 0; i < args.length; i += 2) {
                                x += +args[i];
                                y += +args[i + 1];
                                this.lineTo(x, y);
                            }
                            break;

                          case "H":
                            checkMinArgs(name_1, args.length, 1);
                            for (i = 0; i < args.length; ++i) {
                                x = +args[i];
                                this.lineTo(x, y);
                            }
                            break;

                          case "h":
                            checkMinArgs(name_1, args.length, 1);
                            for (i = 0; i < args.length; ++i) {
                                x += +args[i];
                                this.lineTo(x, y);
                            }
                            break;

                          case "V":
                            checkMinArgs(name_1, args.length, 1);
                            for (i = 0; i < args.length; ++i) {
                                y = +args[i];
                                this.lineTo(x, y);
                            }
                            break;

                          case "v":
                            checkMinArgs(name_1, args.length, 1);
                            for (i = 0; i < args.length; ++i) {
                                y += +args[i];
                                this.lineTo(x, y);
                            }
                            break;

                          case "C":
                            checkEvenArgs(name_1, args.length, 6);
                            for (i = 0; i < args.length; i += 6) {
                                var x1 = +args[i];
                                var y1 = +args[i + 1];
                                cpx = +args[i + 2];
                                cpy = +args[i + 3];
                                x = +args[i + 4];
                                y = +args[i + 5];
                                this.bezierCurveTo(x1, y1, cpx, cpy, x, y);
                            }
                            break;

                          case "c":
                            checkEvenArgs(name_1, args.length, 6);
                            for (i = 0; i < args.length; i += 6) {
                                x1 = +args[i] + x;
                                y1 = +args[i + 1] + y;
                                cpx = +args[i + 2] + x;
                                cpy = +args[i + 3] + y;
                                x += +args[i + 4];
                                y += +args[i + 5];
                                this.bezierCurveTo(x1, y1, cpx, cpy, x, y);
                            }
                            break;

                          case "S":
                            checkEvenArgs(name_1, args.length, 4);
                            if (null === cpx || null === cpy) {
                                cpx = x;
                                cpy = y;
                            }
                            for (i = 0; i < args.length; i += 4) {
                                x1 = 2 * x - cpx;
                                y1 = 2 * y - cpy;
                                cpx = +args[i];
                                cpy = +args[i + 1];
                                x = +args[i + 2];
                                y = +args[i + 3];
                                this.bezierCurveTo(x1, y1, cpx, cpy, x, y);
                            }
                            break;

                          case "s":
                            checkEvenArgs(name_1, args.length, 4);
                            if (null === cpx || null === cpy) {
                                cpx = x;
                                cpy = y;
                            }
                            for (i = 0; i < args.length; i += 4) {
                                x1 = 2 * x - cpx;
                                y1 = 2 * y - cpy;
                                cpx = +args[i] + x;
                                cpy = +args[i + 1] + y;
                                x += +args[i + 2];
                                y += +args[i + 3];
                                this.bezierCurveTo(x1, y1, cpx, cpy, x, y);
                            }
                            break;

                          case "Q":
                            checkEvenArgs(name_1, args.length, 4);
                            for (i = 0; i < args.length; i += 4) {
                                qcpx = +args[i];
                                qcpy = +args[i + 1];
                                x = +args[i + 2];
                                y = +args[i + 3];
                                this.quadraticCurveTo(qcpx, qcpy, x, y);
                            }
                            break;

                          case "q":
                            checkEvenArgs(name_1, args.length, 4);
                            for (i = 0; i < args.length; i += 4) {
                                qcpx = +args[i] + x;
                                qcpy = +args[i + 1] + y;
                                x += +args[i + 2];
                                y += +args[i + 3];
                                this.quadraticCurveTo(qcpx, qcpy, x, y);
                            }
                            break;

                          case "T":
                            checkEvenArgs(name_1, args.length, 2);
                            if (null === qcpx || null === qcpy) {
                                qcpx = x;
                                qcpy = y;
                            }
                            for (i = 0; i < args.length; i += 2) {
                                qcpx = 2 * x - qcpx;
                                qcpy = 2 * y - qcpy;
                                x = +args[i];
                                y = +args[i + 1];
                                this.quadraticCurveTo(qcpx, qcpy, x, y);
                            }
                            break;

                          case "t":
                            checkEvenArgs(name_1, args.length, 2);
                            if (null === qcpx || null === qcpy) {
                                qcpx = x;
                                qcpy = y;
                            }
                            for (i = 0; i < args.length; i += 2) {
                                qcpx = 2 * x - qcpx;
                                qcpy = 2 * y - qcpy;
                                x += +args[i];
                                y += +args[i + 1];
                                this.quadraticCurveTo(qcpx, qcpy, x, y);
                            }
                            break;

                          case "A":
                          case "a":
                            var relative = "a" === name_1;
                            splitArcFlags(args);
                            checkEvenArgs(name_1, args.length, 7);
                            for (i = 0; i < args.length; i += 7) {
                                var cx = +args[i + 5];
                                var cy = +args[i + 6];
                                if (relative) {
                                    cx += x;
                                    cy += y;
                                }
                                var bs = modules({
                                    px: x,
                                    py: y,
                                    rx: +args[i],
                                    ry: +args[i + 1],
                                    xAxisRotation: +args[i + 2],
                                    largeArcFlag: assertBinary(+args[i + 3]),
                                    sweepFlag: assertBinary(+args[i + 4]),
                                    cx,
                                    cy
                                });
                                each(bs, (function(b) {
                                    _this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);
                                    x = b.x;
                                    y = b.y;
                                }));
                            }
                            break;

                          case "Z":
                          case "z":
                            checkArgs(name_1, args.length, 0);
                            this.closePath();
                            break;
                        }
                    }
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "_runPath", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    context.beginPath();
                    each(this._operations, (function(op) {
                        op.path(context);
                    }));
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    _super.prototype._render.call(this, parentLayer);
                    var layer = this._layer || parentLayer;
                    var layerDirty = layer.dirty;
                    var interactive = this._isInteractive();
                    if (layerDirty || interactive) {
                        var context_1 = layer.context;
                        var ghostContext_1 = this._renderer._ghostLayer.context;
                        if (layerDirty) {
                            context_1.globalCompositeOperation = this.blendMode;
                            context_1.beginPath();
                        }
                        var color_1;
                        if (interactive) {
                            ghostContext_1.beginPath();
                            color_1 = this._getColorId();
                        }
                        each(this._operations, (function(op) {
                            if (layerDirty) {
                                op.path(context_1);
                                op.colorize(context_1, void 0);
                            }
                            if (interactive) {
                                op.path(ghostContext_1);
                                op.colorize(ghostContext_1, color_1);
                            }
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "renderDetached", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    if (this.visible) {
                        this._setMatrix();
                        context.save();
                        var mask = this.mask;
                        if (mask) {
                            mask._setMatrix();
                            mask._transform(context, 1);
                            mask._runPath(context);
                            context.clip();
                        }
                        context.globalAlpha = this.compoundAlpha * this.alpha;
                        this._transform(context, 1);
                        if (this.filter) context.filter = this.filter;
                        context.globalCompositeOperation = this.blendMode;
                        context.beginPath();
                        each(this._operations, (function(op) {
                            op.path(context);
                            op.colorize(context, void 0);
                        }));
                        context.restore();
                    }
                }
            });
            Object.defineProperty(CanvasGraphics.prototype, "_addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    if (this.visible && this.isMeasured) each(this._operations, (function(op) {
                        op.addBounds(bounds);
                    }));
                }
            });
            return CanvasGraphics;
        }(CanvasDisplayObject);
        var CanvasText = function(_super) {
            __extends(CanvasText, _super);
            function CanvasText(renderer, text, style) {
                var _this = _super.call(this, renderer) || this;
                Object.defineProperty(_this, "text", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "style", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "resolution", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_textInfo", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_textVisible", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "_originalScale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                _this.text = text;
                _this.style = style;
                return _this;
            }
            Object.defineProperty(CanvasText.prototype, "invalidateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.invalidateBounds.call(this);
                    this._textInfo = void 0;
                }
            });
            Object.defineProperty(CanvasText.prototype, "_shared", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context) {
                    if (this.style.textAlign) context.textAlign = this.style.textAlign;
                    if (this.style.direction) context.direction = this.style.direction;
                    if (this.style.textBaseline) context.textBaseline = this.style.textBaseline;
                }
            });
            Object.defineProperty(CanvasText.prototype, "_prerender", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer, ignoreGhost, ignoreFontWeight) {
                    if (void 0 === ignoreGhost) ignoreGhost = false;
                    if (void 0 === ignoreFontWeight) ignoreFontWeight = false;
                    _super.prototype._render.call(this, layer);
                    var context = layer.context;
                    var ghostContext = this._renderer._ghostLayer.context;
                    var style = this.style;
                    var fontStyle = this._getFontStyle(void 0, ignoreFontWeight);
                    context.font = fontStyle;
                    if (this._isInteractive() && !ignoreGhost) ghostContext.font = fontStyle;
                    if (style.fill) if (style.fill instanceof Color) context.fillStyle = style.fill.toCSS(void 0 != style.fillOpacity ? style.fillOpacity : 1); else context.fillStyle = style.fill;
                    if (style.shadowColor) layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);
                    if (style.shadowBlur) layer.context.shadowBlur = style.shadowBlur;
                    if (style.shadowOffsetX) layer.context.shadowOffsetX = style.shadowOffsetX;
                    if (style.shadowOffsetY) layer.context.shadowOffsetY = style.shadowOffsetY;
                    this._shared(context);
                    if (this._isInteractive() && !ignoreGhost) {
                        ghostContext.fillStyle = this._getColorId();
                        this._shared(ghostContext);
                    }
                }
            });
            Object.defineProperty(CanvasText.prototype, "_getFontStyle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(style2, ignoreFontWeight) {
                    if (void 0 === ignoreFontWeight) ignoreFontWeight = false;
                    var style = this.style;
                    var fontStyle = [];
                    if (style2 && style2.fontVariant) fontStyle.push(style2.fontVariant); else if (style.fontVariant) fontStyle.push(style.fontVariant);
                    if (!ignoreFontWeight) if (style2 && style2.fontWeight) fontStyle.push(style2.fontWeight); else if (style.fontWeight) fontStyle.push(style.fontWeight);
                    if (style2 && style2.fontStyle) fontStyle.push(style2.fontStyle); else if (style.fontStyle) fontStyle.push(style.fontStyle);
                    if (style2 && style2.fontSize) {
                        if (isNumber(style2.fontSize)) style2.fontSize = style2.fontSize + "px";
                        fontStyle.push(style2.fontSize);
                    } else if (style.fontSize) {
                        if (isNumber(style.fontSize)) style.fontSize = style.fontSize + "px";
                        fontStyle.push(style.fontSize);
                    }
                    if (style2 && style2.fontFamily) fontStyle.push(style2.fontFamily); else if (style.fontFamily) fontStyle.push(style.fontFamily); else if (fontStyle.length) fontStyle.push("Arial");
                    return fontStyle.join(" ");
                }
            });
            Object.defineProperty(CanvasText.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    var _this = this;
                    var layer = this._layer || parentLayer;
                    if (!this._textInfo) this._measure(layer);
                    if (this._textVisible) {
                        var interactive_1 = this._isInteractive();
                        var context_2 = layer.context;
                        var layerDirty_1 = layer.dirty;
                        var ghostContext_2 = this._renderer._ghostLayer.context;
                        context_2.save();
                        ghostContext_2.save();
                        this._prerender(layer);
                        each(this._textInfo, (function(line, _index) {
                            each(line.textChunks, (function(chunk, _index) {
                                if (chunk.style) {
                                    context_2.save();
                                    ghostContext_2.save();
                                    context_2.font = chunk.style;
                                    if (_this._isInteractive()) ghostContext_2.font = chunk.style;
                                }
                                if (chunk.fill) {
                                    context_2.save();
                                    context_2.fillStyle = chunk.fill.toCSS();
                                }
                                if (layerDirty_1) context_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);
                                if ("underline" == chunk.textDecoration || "line-through" == chunk.textDecoration) {
                                    var thickness = 1;
                                    var offset = 1;
                                    var fontSize = chunk.height;
                                    var offsetX = chunk.offsetX;
                                    switch (_this.style.textAlign) {
                                      case "right":
                                      case "end":
                                        offsetX -= chunk.width;
                                        break;

                                      case "center":
                                        offsetX -= chunk.width / 2;
                                        break;
                                    }
                                    if (chunk.style) {
                                        var format = TextFormatter.getTextStyle(chunk.style);
                                        switch (format.fontWeight) {
                                          case "bolder":
                                          case "bold":
                                          case "700":
                                          case "800":
                                          case "900":
                                            thickness = 2;
                                            break;
                                        }
                                    }
                                    if (fontSize) offset = fontSize / 20;
                                    var y = void 0;
                                    if ("line-through" == chunk.textDecoration) y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2; else y = thickness + 1.5 * offset + line.offsetY + chunk.offsetY;
                                    context_2.save();
                                    context_2.beginPath();
                                    if (chunk.fill) context_2.strokeStyle = chunk.fill.toCSS(); else if (_this.style.fill && _this.style.fill instanceof Color) context_2.strokeStyle = _this.style.fill.toCSS();
                                    context_2.lineWidth = thickness * offset;
                                    context_2.moveTo(offsetX, y);
                                    context_2.lineTo(offsetX + chunk.width, y);
                                    context_2.stroke();
                                    context_2.restore();
                                }
                                if (interactive_1 && _this.interactive) ghostContext_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);
                                if (chunk.fill) context_2.restore();
                                if (chunk.style) {
                                    context_2.restore();
                                    ghostContext_2.restore();
                                }
                            }));
                        }));
                        context_2.restore();
                        ghostContext_2.restore();
                    }
                }
            });
            Object.defineProperty(CanvasText.prototype, "_addBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    if (this.visible && this.isMeasured) {
                        var x = this._measure(this.getLayer());
                        setPoint(bounds, {
                            x: x.left,
                            y: x.top
                        });
                        setPoint(bounds, {
                            x: x.right,
                            y: x.bottom
                        });
                    }
                }
            });
            Object.defineProperty(CanvasText.prototype, "_ignoreFontWeight", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return /apple/i.test(navigator.vendor);
                }
            });
            Object.defineProperty(CanvasText.prototype, "_measure", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer) {
                    var _this = this;
                    var context = layer.context;
                    var ghostContext = this._renderer._ghostLayer.context;
                    var rtl = "rtl" == this.style.direction;
                    this._textInfo = [];
                    var oversizedBehavior = this.style.oversizedBehavior;
                    var maxWidth = this.style.maxWidth;
                    var truncate = isNumber(maxWidth) && "truncate" == oversizedBehavior;
                    var wrap = isNumber(maxWidth) && ("wrap" == oversizedBehavior || "wrap-no-break" == oversizedBehavior);
                    context.save();
                    ghostContext.save();
                    this._prerender(layer, true, this._ignoreFontWeight());
                    var refText = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";
                    var lines = this.text.toString().replace(/\r/g, "").split(/\n/);
                    var styleRestored = true;
                    var minX = 0;
                    var maxX = 0;
                    var offsetY = 0;
                    var currentStyle;
                    each(lines, (function(line, _index) {
                        var chunks;
                        if ("" == line) chunks = [ {
                            type: "value",
                            text: ""
                        } ]; else chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);
                        var _loop_1 = function() {
                            var lineInfo = {
                                offsetY,
                                ascent: 0,
                                width: 0,
                                height: 0,
                                left: 0,
                                right: 0,
                                textChunks: []
                            };
                            var metrics = _this._measureText(refText, context);
                            var height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                            lineInfo.height = height;
                            lineInfo.ascent = metrics.actualBoundingBoxAscent;
                            var currentFormat;
                            var currentDecoration = _this.style.textDecoration;
                            var currentFill;
                            var currentChunkWidth;
                            var skipFurtherText = false;
                            var firstTextChunk = true;
                            var leftoverChunks = [];
                            var currentVerticalAlign;
                            eachContinue(chunks, (function(chunk, index) {
                                if ("format" == chunk.type) if ("[/]" == chunk.text) {
                                    if (!styleRestored) {
                                        context.restore();
                                        ghostContext.restore();
                                        styleRestored = true;
                                    }
                                    currentFill = void 0;
                                    currentStyle = void 0;
                                    currentChunkWidth = void 0;
                                    currentDecoration = _this.style.textDecoration;
                                    currentVerticalAlign = void 0;
                                    currentFormat = chunk.text;
                                } else {
                                    if (!styleRestored) {
                                        context.restore();
                                        ghostContext.restore();
                                    }
                                    var format = TextFormatter.getTextStyle(chunk.text);
                                    var fontStyle = _this._getFontStyle(format);
                                    context.save();
                                    ghostContext.save();
                                    context.font = fontStyle;
                                    currentStyle = fontStyle;
                                    currentFormat = chunk.text;
                                    if (format.textDecoration) currentDecoration = format.textDecoration;
                                    if (format.fill) currentFill = format.fill;
                                    if (format.width) currentChunkWidth = toNumber(format.width);
                                    if (format.verticalAlign) currentVerticalAlign = format.verticalAlign;
                                    styleRestored = false;
                                    var metrics_1 = _this._measureText(refText, context);
                                    var height_1 = metrics_1.actualBoundingBoxAscent + metrics_1.actualBoundingBoxDescent;
                                    if (height_1 > lineInfo.height) lineInfo.height = height_1;
                                    if (metrics_1.actualBoundingBoxAscent > lineInfo.ascent) lineInfo.ascent = metrics_1.actualBoundingBoxAscent;
                                } else if ("value" == chunk.type && !skipFurtherText) {
                                    var metrics_2 = _this._measureText(chunk.text, context);
                                    var chunkWidth = metrics_2.actualBoundingBoxLeft + metrics_2.actualBoundingBoxRight;
                                    if (truncate) {
                                        var breakWords = firstTextChunk || _this.style.breakWords || false;
                                        var ellipsis = _this.style.ellipsis || "";
                                        var ellipsisMetrics = _this._measureText(ellipsis, context);
                                        var ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;
                                        if (lineInfo.width + chunkWidth > maxWidth) {
                                            var excessWidth = maxWidth - lineInfo.width - ellipsisWidth;
                                            chunk.text = _this._truncateText(context, chunk.text, excessWidth, breakWords);
                                            chunk.text += ellipsis;
                                            skipFurtherText = true;
                                        }
                                    } else if (wrap) if (lineInfo.width + chunkWidth > maxWidth) {
                                        excessWidth = maxWidth - lineInfo.width;
                                        var tmpText = _this._truncateText(context, chunk.text, excessWidth, false, firstTextChunk && "wrap-no-break" != _this.style.oversizedBehavior);
                                        if ("" == tmpText) {
                                            _this._textVisible = true;
                                            return false;
                                        }
                                        leftoverChunks = chunks.slice(index + 1);
                                        if (trim(tmpText) != trim(chunk.text)) {
                                            leftoverChunks.unshift({
                                                type: "value",
                                                text: chunk.text.substr(tmpText.length)
                                            });
                                            if (currentFormat) leftoverChunks.unshift({
                                                type: "format",
                                                text: currentFormat
                                            });
                                        }
                                        chunk.text = trim(tmpText);
                                        chunks = [];
                                        skipFurtherText = true;
                                    }
                                    var leftBoundMod = 1;
                                    var rightBoundMod = 1;
                                    if (currentStyle && currentChunkWidth && currentChunkWidth > chunkWidth) {
                                        var boundsMod = chunkWidth / currentChunkWidth;
                                        switch (_this.style.textAlign) {
                                          case "right":
                                          case "end":
                                            leftBoundMod = boundsMod;
                                            break;

                                          case "center":
                                            leftBoundMod = boundsMod;
                                            rightBoundMod = boundsMod;
                                            break;

                                          default:
                                            rightBoundMod = boundsMod;
                                        }
                                        chunkWidth = currentChunkWidth;
                                    }
                                    var chunkHeight = metrics_2.actualBoundingBoxAscent + metrics_2.actualBoundingBoxDescent;
                                    if (chunkHeight > lineInfo.height) lineInfo.height = chunkHeight;
                                    if (metrics_2.actualBoundingBoxAscent > lineInfo.ascent) lineInfo.ascent = metrics_2.actualBoundingBoxAscent;
                                    lineInfo.width += chunkWidth;
                                    lineInfo.left += metrics_2.actualBoundingBoxLeft / leftBoundMod;
                                    lineInfo.right += metrics_2.actualBoundingBoxRight / rightBoundMod;
                                    lineInfo.textChunks.push({
                                        style: currentStyle,
                                        fill: currentFill,
                                        text: chunk.text,
                                        width: chunkWidth,
                                        height: chunkHeight,
                                        left: metrics_2.actualBoundingBoxLeft,
                                        right: metrics_2.actualBoundingBoxRight,
                                        ascent: metrics_2.actualBoundingBoxAscent,
                                        offsetX: 0,
                                        offsetY: 0,
                                        textDecoration: currentDecoration,
                                        verticalAlign: currentVerticalAlign
                                    });
                                    firstTextChunk = false;
                                }
                                if (leftoverChunks) ;
                                return true;
                            }));
                            if (_this.style.lineHeight instanceof Percent) {
                                lineInfo.height *= _this.style.lineHeight.value;
                                lineInfo.ascent *= _this.style.lineHeight.value;
                            } else {
                                lineInfo.height *= _this.style.lineHeight || 1.2;
                                lineInfo.ascent *= _this.style.lineHeight || 1.2;
                            }
                            if (minX < lineInfo.left) minX = lineInfo.left;
                            if (maxX < lineInfo.right) maxX = lineInfo.right;
                            _this._textInfo.push(lineInfo);
                            offsetY += lineInfo.height;
                            chunks = leftoverChunks || [];
                        };
                        while (chunks.length > 0) _loop_1();
                    }));
                    if (!styleRestored) {
                        context.restore();
                        ghostContext.restore();
                    }
                    each(this._textInfo, (function(lineInfo, _index) {
                        var currentChunkOffset = 0;
                        each(lineInfo.textChunks, (function(chunk) {
                            chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;
                            chunk.offsetY += lineInfo.height - lineInfo.height * (_this.style.baselineRatio || .19);
                            currentChunkOffset += chunk.width;
                            if (chunk.verticalAlign) switch (chunk.verticalAlign) {
                              case "super":
                                chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;
                                break;

                              case "sub":
                                chunk.offsetY += chunk.height / 2;
                                break;
                            }
                        }));
                    }));
                    var bounds = {
                        left: rtl ? -maxX : -minX,
                        top: 0,
                        right: rtl ? minX : maxX,
                        bottom: offsetY
                    };
                    if ("none" !== oversizedBehavior) {
                        var ratio = this._fitRatio(bounds);
                        if (ratio < 1) if ("fit" == oversizedBehavior) if (isNumber(this.style.minScale) && ratio < this.style.minScale) this._textVisible = false; else {
                            if (!this._originalScale || 1 == this._originalScale) this._originalScale = this.scale;
                            this.scale = ratio;
                            this._textVisible = true;
                        } else if ("hide" == oversizedBehavior) this._textVisible = false; else {
                            switch (this.style.textAlign) {
                              case "right":
                              case "end":
                                bounds.left = -maxWidth;
                                bounds.right = 0;
                                break;

                              case "center":
                                bounds.left = -maxWidth / 2;
                                bounds.right = maxWidth / 2;
                                break;

                              default:
                                bounds.left = 0;
                                bounds.right = maxWidth;
                            }
                            this.scale = this._originalScale || 1;
                            this._originalScale = void 0;
                            this._textVisible = true;
                        } else {
                            this.scale = this._originalScale || 1;
                            this._originalScale = void 0;
                            this._textVisible = true;
                        }
                    }
                    context.restore();
                    ghostContext.restore();
                    return bounds;
                }
            });
            Object.defineProperty(CanvasText.prototype, "_fitRatio", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bounds) {
                    var maxW = this.style.maxWidth;
                    var maxH = this.style.maxHeight;
                    if (!isNumber(maxW) && !isNumber(maxH)) return 1;
                    var w = bounds.right - bounds.left;
                    var h = bounds.bottom - bounds.top;
                    return Math.min(maxW / w || 1, maxH / h || 1);
                }
            });
            Object.defineProperty(CanvasText.prototype, "_truncateText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(context, text, maxWidth, breakWords, fallbackBreakWords) {
                    if (void 0 === breakWords) breakWords = false;
                    if (void 0 === fallbackBreakWords) fallbackBreakWords = true;
                    var width;
                    do {
                        if (breakWords) text = text.slice(0, -1); else {
                            var tmp = text.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g, "");
                            if ("" == tmp && fallbackBreakWords) breakWords = true; else if ("" == tmp) return text; else text = tmp;
                        }
                        var metrics = this._measureText(text, context);
                        width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;
                    } while (width > maxWidth && "" != text);
                    return text;
                }
            });
            Object.defineProperty(CanvasText.prototype, "_measureText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text, context) {
                    var metrics = context.measureText(text);
                    var fakeMetrics = {};
                    if (null == metrics.actualBoundingBoxAscent) {
                        var div = document.createElement("div");
                        div.innerText = text;
                        div.style.visibility = "hidden";
                        div.style.position = "absolute";
                        div.style.top = "-1000000px;";
                        div.style.fontFamily = this.style.fontFamily || "";
                        div.style.fontSize = this.style.fontSize + "";
                        document.body.appendChild(div);
                        var bbox = div.getBoundingClientRect();
                        document.body.removeChild(div);
                        var h = bbox.height;
                        var w_1 = metrics.width;
                        var left = 0;
                        var right = w_1;
                        fakeMetrics = {
                            actualBoundingBoxAscent: h,
                            actualBoundingBoxDescent: 0,
                            actualBoundingBoxLeft: left,
                            actualBoundingBoxRight: right,
                            fontBoundingBoxAscent: h,
                            fontBoundingBoxDescent: 0,
                            width: w_1
                        };
                    } else fakeMetrics = {
                        actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,
                        actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,
                        actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,
                        actualBoundingBoxRight: metrics.actualBoundingBoxRight,
                        fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,
                        fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,
                        width: metrics.width
                    };
                    var w = metrics.width;
                    switch (this.style.textAlign) {
                      case "right":
                      case "end":
                        fakeMetrics.actualBoundingBoxLeft = w;
                        fakeMetrics.actualBoundingBoxRight = 0;
                        break;

                      case "center":
                        fakeMetrics.actualBoundingBoxLeft = w / 2;
                        fakeMetrics.actualBoundingBoxRight = w / 2;
                        break;

                      default:
                        fakeMetrics.actualBoundingBoxLeft = 0;
                        fakeMetrics.actualBoundingBoxRight = w;
                    }
                    return fakeMetrics;
                }
            });
            return CanvasText;
        }(CanvasDisplayObject);
        var CanvasTextStyle = function() {
            function CanvasTextStyle() {
                Object.defineProperty(this, "fill", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fillOpacity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "textAlign", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fontFamily", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fontSize", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fontWeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fontStyle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fontVariant", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "textDecoration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "shadowColor", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "shadowBlur", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "shadowOffsetX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "shadowOffsetY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "shadowOpacity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "lineHeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: percent(120)
                });
                Object.defineProperty(this, "baselineRatio", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: .19
                });
                Object.defineProperty(this, "direction", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "textBaseline", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "oversizedBehavior", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: "none"
                });
                Object.defineProperty(this, "breakWords", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "ellipsis", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: "…"
                });
                Object.defineProperty(this, "maxWidth", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "maxHeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "minScale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "ignoreFormatting", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
            }
            return CanvasTextStyle;
        }();
        var CanvasRadialText = function(_super) {
            __extends(CanvasRadialText, _super);
            function CanvasRadialText() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "textType", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: "circular"
                });
                Object.defineProperty(_this, "radius", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "startAngle", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "inside", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "orientation", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: "auto"
                });
                Object.defineProperty(_this, "kerning", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_textReversed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                return _this;
            }
            Object.defineProperty(CanvasRadialText.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    switch (this.textType) {
                      case "circular":
                        this._renderCircular(parentLayer);
                        break;

                      default:
                        _super.prototype._render.call(this, parentLayer);
                        break;
                    }
                }
            });
            Object.defineProperty(CanvasRadialText.prototype, "_renderCircular", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    if (this._textVisible) {
                        var layer = this._layer || parentLayer;
                        this._prerender(layer);
                        var interactive_2 = this._isInteractive();
                        var context_3 = layer.context;
                        var layerDirty_2 = layer.dirty;
                        var ghostContext_3 = this._renderer._ghostLayer.context;
                        context_3.save();
                        if (interactive_2) ghostContext_3.save();
                        var radius_1 = this.radius || 0;
                        var startAngle_1 = this.startAngle || 0;
                        var deltaAngle_1 = 0;
                        var orientation_1 = this.orientation;
                        var inward_1 = "auto" == orientation_1 ? "auto" : "inward" == orientation_1;
                        var inside_1 = this.inside;
                        var align_1 = this.style.textAlign || "left";
                        var kerning_1 = this.kerning || 0;
                        var clockwise_1 = "left" == align_1 ? 1 : -1;
                        var shouldReverse_1 = !this._textReversed;
                        if (!this._textInfo) this._measure(layer);
                        if ("auto" == inward_1) {
                            var maxAngle_1 = 0;
                            var midAngle = 0;
                            each(this._textInfo, (function(line, _index) {
                                var deltaAngle = startAngle_1 + line.width / (radius_1 - line.height) / 2 * -clockwise_1;
                                if (deltaAngle > maxAngle_1) maxAngle_1 = deltaAngle;
                            }));
                            if ("left" == align_1) midAngle = (maxAngle_1 + deltaAngle_1 / 2) * DEGREES; else if ("right" == align_1) midAngle = (maxAngle_1 - deltaAngle_1 / 2) * DEGREES; else midAngle = startAngle_1 * DEGREES;
                            midAngle = normalizeAngle(midAngle);
                            inward_1 = midAngle >= 270 || midAngle <= 90;
                        }
                        if (true == inward_1 && shouldReverse_1) {
                            this._textInfo.reverse();
                            this._textReversed = true;
                        }
                        each(this._textInfo, (function(line, _index) {
                            var textHeight = line.height;
                            if (!inside_1) radius_1 += textHeight;
                            if ((-1 == clockwise_1 && inward_1 || 1 == clockwise_1 && !inward_1) && shouldReverse_1) line.textChunks.reverse();
                            var lineStartAngle = startAngle_1;
                            deltaAngle_1 = 0;
                            if ("center" == align_1) {
                                lineStartAngle += line.width / (radius_1 - textHeight) / 2 * -clockwise_1;
                                deltaAngle_1 = lineStartAngle - startAngle_1;
                            }
                            lineStartAngle += Math.PI * (inward_1 ? 0 : 1);
                            context_3.save();
                            if (interactive_2) ghostContext_3.save();
                            context_3.rotate(lineStartAngle);
                            if (interactive_2) ghostContext_3.rotate(lineStartAngle);
                            var angleShift = 0;
                            each(line.textChunks, (function(chunk, _index) {
                                var char = chunk.text;
                                var charWidth = chunk.width;
                                angleShift = charWidth / 2 / (radius_1 - textHeight) * clockwise_1;
                                context_3.rotate(angleShift);
                                if (interactive_2) ghostContext_3.rotate(angleShift);
                                if (chunk.style) {
                                    context_3.save();
                                    ghostContext_3.save();
                                    context_3.font = chunk.style;
                                    if (interactive_2) ghostContext_3.font = chunk.style;
                                }
                                if (chunk.fill) {
                                    context_3.save();
                                    context_3.fillStyle = chunk.fill.toCSS();
                                }
                                context_3.textBaseline = "middle";
                                context_3.textAlign = "center";
                                if (interactive_2) {
                                    ghostContext_3.textBaseline = "middle";
                                    ghostContext_3.textAlign = "center";
                                }
                                if (layerDirty_2) context_3.fillText(char, 0, (inward_1 ? 1 : -1) * (0 - radius_1 + textHeight / 2));
                                if (interactive_2) ghostContext_3.fillText(char, 0, (inward_1 ? 1 : -1) * (0 - radius_1 + textHeight / 2));
                                if (chunk.fill) context_3.restore();
                                if (chunk.style) {
                                    context_3.restore();
                                    ghostContext_3.restore();
                                }
                                angleShift = (charWidth / 2 + kerning_1) / (radius_1 - textHeight) * clockwise_1;
                                context_3.rotate(angleShift);
                                if (interactive_2) ghostContext_3.rotate(angleShift);
                            }));
                            context_3.restore();
                            if (interactive_2) ghostContext_3.restore();
                            if (inside_1) radius_1 -= textHeight;
                        }));
                        context_3.restore();
                        if (interactive_2) ghostContext_3.restore();
                    }
                }
            });
            Object.defineProperty(CanvasRadialText.prototype, "_measure", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer) {
                    switch (this.textType) {
                      case "circular":
                        return this._measureCircular(layer);

                      default:
                        return _super.prototype._measure.call(this, layer);
                    }
                }
            });
            Object.defineProperty(CanvasRadialText.prototype, "_measureCircular", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer) {
                    var _this = this;
                    var context = layer.context;
                    var ghostContext = this._renderer._ghostLayer.context;
                    var rtl = "rtl" == this.style.direction;
                    var oversizedBehavior = this.style.oversizedBehavior;
                    var maxWidth = this.style.maxWidth;
                    var truncate = isNumber(maxWidth) && "truncate" == oversizedBehavior;
                    var ellipsis = this.style.ellipsis || "";
                    var ellipsisMetrics;
                    this._textVisible = true;
                    this._textInfo = [];
                    this._textReversed = false;
                    context.save();
                    ghostContext.save();
                    this._prerender(layer, true);
                    var lines = this.text.toString().replace(/\r/g, "").split(/\n/);
                    var styleRestored = true;
                    var totalWidth = 0;
                    var offsetY = 0;
                    each(lines, (function(line, _index) {
                        var chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);
                        var lineInfo = {
                            offsetY,
                            ascent: 0,
                            width: 0,
                            height: 0,
                            left: 0,
                            right: 0,
                            textChunks: []
                        };
                        var currentStyle;
                        var currentFill;
                        var currentChunkWidth;
                        each(chunks, (function(chunk, _index) {
                            if ("format" == chunk.type) {
                                if ("[/]" == chunk.text) {
                                    if (!styleRestored) {
                                        context.restore();
                                        ghostContext.restore();
                                        styleRestored = true;
                                    }
                                    currentFill = void 0;
                                    currentStyle = void 0;
                                    currentChunkWidth = void 0;
                                } else {
                                    var format = TextFormatter.getTextStyle(chunk.text);
                                    var fontStyle = _this._getFontStyle(format);
                                    context.save();
                                    ghostContext.save();
                                    context.font = fontStyle;
                                    currentStyle = fontStyle;
                                    if (format.fill) currentFill = format.fill;
                                    if (format.width) currentChunkWidth = toNumber(format.width);
                                    styleRestored = false;
                                }
                                if (truncate) ellipsisMetrics = _this._measureText(ellipsis, context);
                            } else if ("value" == chunk.type) {
                                var chars = chunk.text.match(/./gu) || [];
                                if (rtl) chars.reverse();
                                for (var i = 0; i < chars.length; i++) {
                                    var char = chars[i];
                                    var metrics = _this._measureText(char, context);
                                    var chunkWidth = metrics.width;
                                    if (currentStyle && currentChunkWidth && currentChunkWidth > chunkWidth) chunkWidth = currentChunkWidth;
                                    var chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;
                                    if (chunkHeight > lineInfo.height) lineInfo.height = chunkHeight;
                                    if (metrics.actualBoundingBoxAscent > lineInfo.ascent) lineInfo.ascent = metrics.actualBoundingBoxAscent;
                                    lineInfo.width += chunkWidth;
                                    lineInfo.left += metrics.actualBoundingBoxLeft;
                                    lineInfo.right += metrics.actualBoundingBoxRight;
                                    lineInfo.textChunks.push({
                                        style: currentStyle,
                                        fill: currentFill,
                                        text: char,
                                        width: chunkWidth,
                                        height: chunkHeight + metrics.actualBoundingBoxDescent,
                                        left: metrics.actualBoundingBoxLeft,
                                        right: metrics.actualBoundingBoxRight,
                                        ascent: metrics.actualBoundingBoxAscent,
                                        offsetX: 0,
                                        offsetY: chunkHeight,
                                        textDecoration: void 0
                                    });
                                    totalWidth += chunkWidth;
                                    if (truncate) {
                                        if (!ellipsisMetrics) ellipsisMetrics = _this._measureText(ellipsis, context);
                                        var ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;
                                        totalWidth += ellipsisWidth;
                                        if (totalWidth + ellipsisWidth > maxWidth) {
                                            if (1 == lineInfo.textChunks.length) _this._textVisible = false; else {
                                                lineInfo.width += ellipsisWidth;
                                                lineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;
                                                lineInfo.right += ellipsisMetrics.actualBoundingBoxRight;
                                                lineInfo.textChunks.push({
                                                    style: currentStyle,
                                                    fill: currentFill,
                                                    text: ellipsis,
                                                    width: ellipsisWidth,
                                                    height: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,
                                                    left: ellipsisMetrics.actualBoundingBoxLeft,
                                                    right: ellipsisMetrics.actualBoundingBoxRight,
                                                    ascent: ellipsisMetrics.actualBoundingBoxAscent,
                                                    offsetX: 0,
                                                    offsetY: chunkHeight,
                                                    textDecoration: void 0
                                                });
                                            }
                                            break;
                                        }
                                    }
                                    if (rtl) break;
                                }
                            }
                        }));
                        if (_this.style.lineHeight instanceof Percent) lineInfo.height *= _this.style.lineHeight.value; else lineInfo.height *= _this.style.lineHeight || 1.2;
                        _this._textInfo.push(lineInfo);
                        offsetY += lineInfo.height;
                    }));
                    if (!styleRestored) {
                        context.restore();
                        ghostContext.restore();
                    }
                    if ("hide" == oversizedBehavior && totalWidth > maxWidth) this._textVisible = false;
                    each(this._textInfo, (function(lineInfo) {
                        each(lineInfo.textChunks, (function(chunk) {
                            chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);
                        }));
                    }));
                    context.restore();
                    ghostContext.restore();
                    return {
                        left: 0,
                        top: 0,
                        right: 0,
                        bottom: 0
                    };
                }
            });
            return CanvasRadialText;
        }(CanvasText);
        var CanvasImage = function(_super) {
            __extends(CanvasImage, _super);
            function CanvasImage(renderer, image) {
                var _this = _super.call(this, renderer) || this;
                Object.defineProperty(_this, "width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "image", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "tainted", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "shadowColor", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "shadowBlur", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "shadowOffsetX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "shadowOffsetY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "shadowOpacity", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_imageMask", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this.image = image;
                return _this;
            }
            Object.defineProperty(CanvasImage.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._dispose.call(this);
                    if (this._imageMask) clearCanvas(this._imageMask);
                }
            });
            Object.defineProperty(CanvasImage.prototype, "getLocalBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._localBounds) {
                        var w = 0;
                        var h = 0;
                        if (this.width) w = this.width;
                        if (this.height) h = this.height;
                        this._localBounds = {
                            left: 0,
                            top: 0,
                            right: w,
                            bottom: h
                        };
                        this._addBounds(this._localBounds);
                    }
                    return this._localBounds;
                }
            });
            Object.defineProperty(CanvasImage.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parentLayer) {
                    _super.prototype._render.call(this, parentLayer);
                    if (this.image) {
                        var layer = this._layer || parentLayer;
                        if (void 0 === this.tainted) {
                            this.tainted = isTainted(this.image);
                            layer.tainted = true;
                        }
                        if (this.tainted && this._renderer._omitTainted) return;
                        if (layer.dirty) {
                            if (this.shadowColor) layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);
                            if (this.shadowBlur) layer.context.shadowBlur = this.shadowBlur;
                            if (this.shadowOffsetX) layer.context.shadowOffsetX = this.shadowOffsetX;
                            if (this.shadowOffsetY) layer.context.shadowOffsetY = this.shadowOffsetY;
                            var width = this.width || this.image.naturalWidth;
                            var height = this.height || this.image.naturalHeight;
                            layer.context.drawImage(this.image, 0, 0, width, height);
                        }
                        if (this.interactive && this._isInteractive()) {
                            var mask = this._getMask(this.image);
                            this._renderer._ghostLayer.context.drawImage(mask, 0, 0);
                        }
                    }
                }
            });
            Object.defineProperty(CanvasImage.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.clear.call(this);
                    this.image = void 0;
                    this._imageMask = void 0;
                }
            });
            Object.defineProperty(CanvasImage.prototype, "_getMask", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(image) {
                    if (void 0 === this._imageMask) {
                        var width = this.width || image.naturalWidth;
                        var height = this.height || image.naturalHeight;
                        var canvas = document.createElement("canvas");
                        canvas.width = width;
                        canvas.height = height;
                        var context = canvas.getContext("2d");
                        context.imageSmoothingEnabled = false;
                        context.fillStyle = this._getColorId();
                        context.fillRect(0, 0, width, height);
                        if (!isTainted(image)) {
                            context.globalCompositeOperation = "destination-in";
                            context.drawImage(image, 0, 0, width, height);
                        }
                        this._imageMask = canvas;
                    }
                    return this._imageMask;
                }
            });
            return CanvasImage;
        }(CanvasDisplayObject);
        var CanvasRendererEvent = function() {
            function CanvasRendererEvent(event, originalPoint, point, bbox) {
                Object.defineProperty(this, "event", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: event
                });
                Object.defineProperty(this, "originalPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: originalPoint
                });
                Object.defineProperty(this, "point", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: point
                });
                Object.defineProperty(this, "bbox", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: bbox
                });
                Object.defineProperty(this, "id", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "simulated", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "native", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                if (supports("touchevents") && event instanceof Touch) this.id = event.identifier; else this.id = null;
            }
            return CanvasRendererEvent;
        }();
        var CanvasRenderer = function(_super) {
            __extends(CanvasRenderer, _super);
            function CanvasRenderer(resolution) {
                var _this = _super.call(this) || this;
                Object.defineProperty(_this, "view", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: document.createElement("div")
                });
                Object.defineProperty(_this, "_layerDom", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: document.createElement("div")
                });
                Object.defineProperty(_this, "layers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_dirtyLayers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "defaultLayer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.getLayer(0)
                });
                Object.defineProperty(_this, "_ghostLayer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new GhostLayer
                });
                Object.defineProperty(_this, "_patternCanvas", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: document.createElement("canvas")
                });
                Object.defineProperty(_this, "_patternContext", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._patternCanvas.getContext("2d")
                });
                Object.defineProperty(_this, "_width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_clientWidth", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_clientHeight", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "resolution", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "interactionsEnabled", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "_listeners", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_colorId", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_colorMap", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_forceInteractive", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_omitTainted", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_hovering", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new Set
                });
                Object.defineProperty(_this, "_dragging", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_mousedown", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_lastPointerMoveEvent", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "tapToActivate", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "tapToActivateTimeout", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 3e3
                });
                Object.defineProperty(_this, "_touchActive", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_touchActiveTimeout", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                if (null == resolution) _this.resolution = window.devicePixelRatio; else _this.resolution = resolution;
                _this.view.style.position = "absolute";
                _this.view.appendChild(_this._layerDom);
                _this._disposers.push(new Disposer((function() {
                    Object_each(_this._events, (function(_key, events) {
                        events.disposer.dispose();
                    }));
                    each(_this.layers, (function(layer) {
                        clearCanvas(layer.view);
                        if (layer.exportableView) clearCanvas(layer.exportableView);
                    }));
                    clearCanvas(_this._ghostLayer.view);
                    clearCanvas(_this._patternCanvas);
                })));
                _this._disposers.push(addEventListener(_this._ghostLayer.view, "click", (function(originalEvent) {
                    var event = _this.getEvent(originalEvent);
                    var target = _this._getHitTarget(event.originalPoint, event.bbox);
                    console.debug(target);
                })));
                _this._disposers.push(onZoom((function() {
                    if (null == resolution) _this.resolution = window.devicePixelRatio;
                })));
                if (supports("touchevents")) {
                    var listener = function(ev) {
                        if (0 !== _this._dragging.length) eachContinue(_this._dragging, (function(item) {
                            if (item.value.shouldCancelTouch()) {
                                ev.preventDefault();
                                return false;
                            }
                            return true;
                        }));
                        if (_this._touchActiveTimeout) _this._delayTouchDeactivate();
                    };
                    _this._disposers.push(addEventListener(window, "touchstart", listener, {
                        passive: false
                    }));
                    _this._disposers.push(addEventListener(_this.view, "touchstart", listener, {
                        passive: false
                    }));
                    _this._disposers.push(addEventListener(_this.view, "touchmove", (function() {
                        if (_this._touchActiveTimeout) _this._delayTouchDeactivate();
                    }), {
                        passive: true
                    }));
                    _this._disposers.push(addEventListener(window, "click", (function(_ev) {
                        _this._touchActive = false;
                    }), {
                        passive: true
                    }));
                    _this._disposers.push(addEventListener(_this.view, "click", (function(_ev) {
                        window.setTimeout((function() {
                            _this._touchActive = true;
                            _this._delayTouchDeactivate();
                        }), 100);
                    }), {
                        passive: true
                    }));
                }
                if (supports("wheelevents")) _this._disposers.push(addEventListener(_this.view, "wheel", (function(ev) {
                    var prevent = false;
                    _this._hovering.forEach((function(obj) {
                        if (obj.wheelable) {
                            prevent = true;
                            return false;
                        }
                    }));
                    if (prevent) ev.preventDefault();
                }), {
                    passive: false
                }));
                return _this;
            }
            Object.defineProperty(CanvasRenderer.prototype, "_delayTouchDeactivate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (this._touchActiveTimeout) clearTimeout(this._touchActiveTimeout);
                    if (this.tapToActivateTimeout > 0) this._touchActiveTimeout = window.setTimeout((function() {
                        _this._touchActive = false;
                    }), this.tapToActivateTimeout);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "debugGhostView", {
                get: function() {
                    return !!this._ghostLayer.view.parentNode;
                },
                set: function(value) {
                    if (value) {
                        if (!this._ghostLayer.view.parentNode) this.view.appendChild(this._ghostLayer.view);
                    } else if (this._ghostLayer.view.parentNode) this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view);
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(CanvasRenderer.prototype, "createLinearGradient", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x1, y1, x2, y2) {
                    return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "createRadialGradient", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(x1, y1, radius1, x2, y2, radius2) {
                    return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "createPattern", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(graphics, background, repetition, width, height) {
                    this._patternCanvas.width = width;
                    this._patternCanvas.height = height;
                    this._patternContext.clearRect(0, 0, width, height);
                    background.renderDetached(this._patternContext);
                    graphics.renderDetached(this._patternContext);
                    return this._patternContext.createPattern(this._patternCanvas, repetition);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makeContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return new CanvasContainer(this);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makeGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return new CanvasGraphics(this);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makeText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text, style) {
                    return new CanvasText(this, text, style);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makeTextStyle", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return new CanvasTextStyle;
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makeRadialText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text, style) {
                    return new CanvasRadialText(this, text, style);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "makePicture", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(image) {
                    return new CanvasImage(this, image);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "resizeLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layer) {
                    layer.dirty = true;
                    layer.resize(this._clientWidth, this._clientHeight, this.resolution);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "resizeGhost", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._ghostLayer.resize(this._clientWidth, this._clientHeight, this.resolution);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "resize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(width, height) {
                    var _this = this;
                    this._clientWidth = width;
                    this._clientHeight = height;
                    this._width = Math.floor(width * this.resolution);
                    this._height = Math.floor(height * this.resolution);
                    each(this.layers, (function(layer) {
                        if (layer) _this.resizeLayer(layer);
                    }));
                    this.resizeGhost();
                    this.view.style.width = width + "px";
                    this.view.style.height = height + "px";
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "createDetachedLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(willReadFrequently) {
                    if (void 0 === willReadFrequently) willReadFrequently = false;
                    var view = document.createElement("canvas");
                    var context = view.getContext("2d", {
                        willReadFrequently
                    });
                    var layer = new CanvasLayer(view, context);
                    view.style.position = "absolute";
                    view.style.top = "0px";
                    view.style.left = "0px";
                    return layer;
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "getLayerByOrder", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(order) {
                    var layers = this.layers;
                    var length = layers.length;
                    for (var i = 0; i < length; i++) {
                        var layer = layers[i];
                        if (layer.order == order) return layer;
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "getLayer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(order, visible) {
                    if (void 0 === visible) visible = true;
                    var existingLayer = this.getLayerByOrder(order);
                    if (existingLayer) return existingLayer;
                    var layer = this.createDetachedLayer(99 == order);
                    layer.order = order;
                    layer.visible = visible;
                    if (layer.visible && this._width) {
                        layer.view.width = this._width;
                        layer.view.style.width = this._clientWidth + "px";
                        layer.view.height = this._height;
                        layer.view.style.height = this._clientHeight + "px";
                    }
                    var layers = this.layers;
                    layers.push(layer);
                    layers.sort((function(a, b) {
                        if (a.order > b.order) return 1; else if (a.order < b.order) return -1; else return 0;
                    }));
                    var length = layers.length;
                    var layerIndex = indexOf(layers, layer);
                    var next;
                    for (var i = layerIndex + 1; i < length; i++) if (layers[i].visible) {
                        next = layers[i];
                        break;
                    }
                    if (layer.visible) if (void 0 === next) this._layerDom.appendChild(layer.view); else this._layerDom.insertBefore(layer.view, next.view);
                    return layer;
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(root) {
                    var _this = this;
                    this._dirtyLayers.length = 0;
                    each(this.layers, (function(layer) {
                        if (layer) if (layer.dirty && layer.visible) {
                            _this._dirtyLayers.push(layer);
                            layer.clear();
                        }
                    }));
                    this._ghostLayer.clear();
                    root.render(this.defaultLayer);
                    this._ghostLayer.context.restore();
                    each(this.layers, (function(layer) {
                        if (layer) {
                            var context = layer.context;
                            context.beginPath();
                            context.moveTo(0, 0);
                            context.stroke();
                        }
                    }));
                    each(this._dirtyLayers, (function(layer) {
                        layer.context.restore();
                        layer.dirty = false;
                    }));
                    if (this._hovering.size && this._lastPointerMoveEvent) {
                        var native_1 = this._lastPointerMoveEvent.native;
                        each(this._lastPointerMoveEvent.events, (function(event) {
                            _this._dispatchGlobalMousemove(event, native_1);
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "paintId", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(obj) {
                    var id = distributeId(++this._colorId);
                    var color = Color.fromHex(id).toCSS();
                    this._colorMap[color] = obj;
                    return color;
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_removeObject", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(obj) {
                    if (void 0 !== obj._colorId) delete this._colorMap[obj._colorId];
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_adjustBoundingBox", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bbox) {
                    var margin = this._ghostLayer.margin;
                    return new DOMRect(bbox.left - margin.left, bbox.top - margin.top, bbox.width + margin.left + margin.right, bbox.height + margin.top + margin.bottom);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "getEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent, adjustPoint) {
                    if (void 0 === adjustPoint) adjustPoint = true;
                    var bbox = this.view.getBoundingClientRect();
                    var originalPoint = {
                        x: originalEvent.clientX || 0,
                        y: originalEvent.clientY || 0
                    };
                    var point = {
                        x: originalPoint.x - (adjustPoint ? bbox.left : 0),
                        y: originalPoint.y - (adjustPoint ? bbox.top : 0)
                    };
                    return new CanvasRendererEvent(originalEvent, originalPoint, point, this._adjustBoundingBox(bbox));
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_getHitTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point, bbox) {
                    if (0 === bbox.width || 0 === bbox.height || point.x < bbox.left || point.x > bbox.right || point.y < bbox.top || point.y > bbox.bottom) return; else {
                        var pixel = this._ghostLayer.getImageData(point, bbox);
                        if (0 === pixel.data[0] && 0 === pixel.data[1] && 0 === pixel.data[2]) return false;
                        var colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();
                        var hit = this._colorMap[colorId];
                        return hit;
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_withEvents", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, f) {
                    var events = this._events[key];
                    if (void 0 !== events) {
                        events.dispatching = true;
                        try {
                            f(events);
                        } finally {
                            events.dispatching = false;
                            if (events.cleanup) {
                                events.cleanup = false;
                                keepIf(events.callbacks, (function(callback) {
                                    return !callback.disposed;
                                }));
                                if (0 === events.callbacks.length) {
                                    events.disposer.dispose();
                                    delete this._events[key];
                                }
                            }
                        }
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchEventAll", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, event) {
                    if (!this.interactionsEnabled) return;
                    this._withEvents(key, (function(events) {
                        each(events.callbacks, (function(callback) {
                            if (!callback.disposed) callback.callback.call(callback.context, event);
                        }));
                    }));
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, target, event) {
                    if (!this.interactionsEnabled) return false;
                    var dispatched = false;
                    this._withEvents(key, (function(events) {
                        each(events.callbacks, (function(callback) {
                            if (!callback.disposed && callback.object === target) {
                                callback.callback.call(callback.context, event);
                                dispatched = true;
                            }
                        }));
                    }));
                    return dispatched;
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchMousedown", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent) {
                    var _this = this;
                    var button = originalEvent.button;
                    if (0 != button && 2 != button && 1 != button && void 0 !== button) return;
                    var event = this.getEvent(originalEvent);
                    var target = this._getHitTarget(event.originalPoint, event.bbox);
                    if (target) {
                        var id_1 = event.id;
                        var dragged_1 = false;
                        eachTargets(target, (function(obj) {
                            var info = {
                                id: id_1,
                                value: obj
                            };
                            _this._mousedown.push(info);
                            if (!dragged_1 && _this._dispatchEvent("pointerdown", obj, event)) {
                                dragged_1 = true;
                                var has = _this._dragging.some((function(x) {
                                    return x.value === obj && x.id === id_1;
                                }));
                                if (!has) _this._dragging.push(info);
                            }
                            return true;
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchGlobalMousemove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent, native) {
                    var _this = this;
                    var event = this.getEvent(originalEvent);
                    var target = this._getHitTarget(event.originalPoint, event.bbox);
                    event.native = native;
                    if (target) {
                        this._hovering.forEach((function(obj) {
                            if (!obj.contains(target)) {
                                _this._hovering.delete(obj);
                                if (obj.cursorOverStyle) setStyle(document.body, "cursor", obj._replacedCursorStyle);
                                _this._dispatchEvent("pointerout", obj, event);
                            }
                        }));
                        if (event.native) eachTargets(target, (function(obj) {
                            if (!_this._hovering.has(obj)) {
                                _this._hovering.add(obj);
                                if (obj.cursorOverStyle) {
                                    obj._replacedCursorStyle = getStyle(document.body, "cursor");
                                    setStyle(document.body, "cursor", obj.cursorOverStyle);
                                }
                                _this._dispatchEvent("pointerover", obj, event);
                            }
                            return true;
                        }));
                    } else {
                        this._hovering.forEach((function(obj) {
                            if (obj.cursorOverStyle) setStyle(document.body, "cursor", obj._replacedCursorStyle);
                            _this._dispatchEvent("pointerout", obj, event);
                        }));
                        this._hovering.clear();
                    }
                    this._dispatchEventAll("globalpointermove", event);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchGlobalMouseup", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent, native) {
                    var event = this.getEvent(originalEvent);
                    event.native = native;
                    this._dispatchEventAll("globalpointerup", event);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchDragMove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent) {
                    var _this = this;
                    if (0 !== this._dragging.length) {
                        var event_1 = this.getEvent(originalEvent);
                        var id_2 = event_1.id;
                        this._dragging.forEach((function(obj) {
                            if (obj.id === id_2) _this._dispatchEvent("pointermove", obj.value, event_1);
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchDragEnd", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent) {
                    var _this = this;
                    var button = originalEvent.button;
                    var clickevent;
                    if (0 == button || void 0 === button) clickevent = "click"; else if (2 == button) clickevent = "rightclick"; else if (1 == button) clickevent = "middleclick"; else return;
                    var event = this.getEvent(originalEvent);
                    var id = event.id;
                    if (0 !== this._mousedown.length) {
                        var target_1 = this._getHitTarget(event.originalPoint, event.bbox);
                        if (target_1) this._mousedown.forEach((function(obj) {
                            if (obj.id === id && obj.value.contains(target_1)) _this._dispatchEvent(clickevent, obj.value, event);
                        }));
                        this._mousedown.length = 0;
                    }
                    if (0 !== this._dragging.length) {
                        this._dragging.forEach((function(obj) {
                            if (obj.id === id) _this._dispatchEvent("pointerup", obj.value, event);
                        }));
                        this._dragging.length = 0;
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchDoubleClick", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent) {
                    var _this = this;
                    var event = this.getEvent(originalEvent);
                    var target = this._getHitTarget(event.originalPoint, event.bbox);
                    if (target) eachTargets(target, (function(obj) {
                        if (_this._dispatchEvent("dblclick", obj, event)) return false; else return true;
                    }));
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_dispatchWheel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(originalEvent) {
                    var _this = this;
                    var event = this.getEvent(originalEvent);
                    var target = this._getHitTarget(event.originalPoint, event.bbox);
                    if (target) eachTargets(target, (function(obj) {
                        if (_this._dispatchEvent("wheel", obj, event)) return false; else return true;
                    }));
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_makeSharedEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, f) {
                    var _this = this;
                    if (void 0 === this._listeners[key]) {
                        var listener_1 = f();
                        this._listeners[key] = new CounterDisposer((function() {
                            delete _this._listeners[key];
                            listener_1.dispose();
                        }));
                    }
                    return this._listeners[key].increment();
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_onPointerEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(name, f) {
                    var native = false;
                    var timer = null;
                    function clear() {
                        timer = null;
                        native = false;
                    }
                    return new MultiDisposer([ new Disposer((function() {
                        if (null !== timer) clearTimeout(timer);
                        clear();
                    })), addEventListener(this.view, getRendererEvent(name), (function(_) {
                        native = true;
                        if (null !== timer) clearTimeout(timer);
                        timer = window.setTimeout(clear, 0);
                    })), onPointerEvent(window, name, (function(ev) {
                        if (null !== timer) {
                            clearTimeout(timer);
                            timer = null;
                        }
                        f(ev, native);
                        native = false;
                    })) ]);
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_initEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var _this = this;
                    switch (key) {
                      case "globalpointermove":
                      case "pointerover":
                      case "pointerout":
                        return this._makeSharedEvent("pointermove", (function() {
                            var listener = function(events, native) {
                                _this._lastPointerMoveEvent = {
                                    events,
                                    native
                                };
                                each(events, (function(event) {
                                    _this._dispatchGlobalMousemove(event, native);
                                }));
                            };
                            return new MultiDisposer([ _this._onPointerEvent("pointerdown", listener), _this._onPointerEvent("pointermove", listener) ]);
                        }));

                      case "globalpointerup":
                        return this._makeSharedEvent("pointerup", (function() {
                            var mouseup = _this._onPointerEvent("pointerup", (function(events, native) {
                                each(events, (function(event) {
                                    _this._dispatchGlobalMouseup(event, native);
                                }));
                                _this._lastPointerMoveEvent = {
                                    events,
                                    native
                                };
                            }));
                            var pointercancel = _this._onPointerEvent("pointercancel", (function(events, native) {
                                each(events, (function(event) {
                                    _this._dispatchGlobalMouseup(event, native);
                                }));
                                _this._lastPointerMoveEvent = {
                                    events,
                                    native
                                };
                            }));
                            return new Disposer((function() {
                                mouseup.dispose();
                                pointercancel.dispose();
                            }));
                        }));

                      case "click":
                      case "rightclick":
                      case "middleclick":
                      case "pointerdown":
                      case "pointermove":
                      case "pointerup":
                        return this._makeSharedEvent("pointerdown", (function() {
                            var mousedown = onPointerEvent(_this.view, "pointerdown", (function(events) {
                                each(events, (function(ev) {
                                    _this._dispatchMousedown(ev);
                                }));
                            }));
                            var mousemove = _this._onPointerEvent("pointermove", (function(ev) {
                                each(ev, (function(ev) {
                                    _this._dispatchDragMove(ev);
                                }));
                            }));
                            var mouseup = _this._onPointerEvent("pointerup", (function(ev) {
                                each(ev, (function(ev) {
                                    _this._dispatchDragEnd(ev);
                                }));
                            }));
                            var pointercancel = _this._onPointerEvent("pointercancel", (function(ev) {
                                each(ev, (function(ev) {
                                    _this._dispatchDragEnd(ev);
                                }));
                            }));
                            return new Disposer((function() {
                                mousedown.dispose();
                                mousemove.dispose();
                                mouseup.dispose();
                                pointercancel.dispose();
                            }));
                        }));

                      case "dblclick":
                        return this._makeSharedEvent("dblclick", (function() {
                            return _this._onPointerEvent("dblclick", (function(ev) {
                                each(ev, (function(ev) {
                                    _this._dispatchDoubleClick(ev);
                                }));
                            }));
                        }));

                      case "wheel":
                        return this._makeSharedEvent("wheel", (function() {
                            return addEventListener(window, getRendererEvent("wheel"), (function(event) {
                                _this._dispatchWheel(event);
                            }), {
                                passive: false
                            });
                        }));
                    }
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "_addEvent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(object, key, callback, context) {
                    var _this = this;
                    var events = this._events[key];
                    if (void 0 === events) events = this._events[key] = {
                        disposer: this._initEvent(key),
                        callbacks: [],
                        dispatching: false,
                        cleanup: false
                    };
                    var listener = {
                        object,
                        context,
                        callback,
                        disposed: false
                    };
                    events.callbacks.push(listener);
                    return new Disposer((function() {
                        listener.disposed = true;
                        if (events.dispatching) events.cleanup = true; else {
                            removeFirst(events.callbacks, listener);
                            if (0 === events.callbacks.length) {
                                events.disposer.dispose();
                                delete _this._events[key];
                            }
                        }
                    }));
                }
            });
            Object.defineProperty(CanvasRenderer.prototype, "getCanvas", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(root, options) {
                    var _this = this;
                    this.render(root);
                    if (!options) options = {};
                    var scale = this.resolution;
                    if (options.minWidth && options.minWidth > this._width) {
                        var minScale = options.minWidth / this._width;
                        if (minScale > scale) scale = minScale * this.resolution;
                    }
                    if (options.minHeight && options.minHeight > this._height) {
                        minScale = options.minHeight / this._height;
                        if (minScale > scale) scale = minScale * this.resolution;
                    }
                    if (options.maxWidth && options.maxWidth < this._width) {
                        var maxScale = options.maxWidth / this._width;
                        if (maxScale < scale) scale = maxScale * this.resolution;
                    }
                    if (options.maxHeight && options.maxHeight > this._height) {
                        maxScale = options.maxHeight / this._height;
                        if (maxScale < scale) scale = maxScale * this.resolution;
                    }
                    if (options.maintainPixelRatio) scale /= this.resolution;
                    var canvases = [];
                    var forceRender = false;
                    var canvasWidth = this._width;
                    var canvasHeight = this._height;
                    var canvas = document.createElement("canvas");
                    if (scale != this.resolution) {
                        forceRender = true;
                        canvasWidth = this._width * scale / this.resolution;
                        canvasHeight = this._height * scale / this.resolution;
                    }
                    canvas.width = canvasWidth;
                    canvas.height = canvasHeight;
                    canvas.style.position = "fixed";
                    canvas.style.top = "-10000px";
                    this.view.appendChild(canvas);
                    canvases.push(canvas);
                    var context = canvas.getContext("2d");
                    var width = 0;
                    var height = 0;
                    var needRerender = false;
                    each(this.layers, (function(layer) {
                        if (layer && layer.visible) if (layer.tainted || forceRender) {
                            needRerender = true;
                            layer.exportableView = layer.view;
                            layer.exportableContext = layer.context;
                            layer.view = document.createElement("canvas");
                            layer.view.style.position = "fixed";
                            layer.view.style.top = "-10000px";
                            _this.view.appendChild(layer.view);
                            canvases.push(layer.view);
                            layer.view.width = canvasWidth;
                            layer.view.height = canvasHeight;
                            layer.context = layer.view.getContext("2d");
                            layer.dirty = true;
                            layer.scale = scale;
                        }
                    }));
                    if (needRerender) {
                        this._omitTainted = true;
                        this.render(root);
                        this._omitTainted = false;
                    }
                    each(this.layers, (function(layer) {
                        if (layer && layer.visible) {
                            context.drawImage(layer.view, 0, 0);
                            if (layer.exportableView) {
                                layer.view = layer.exportableView;
                                layer.exportableView = void 0;
                            }
                            if (layer.exportableContext) {
                                layer.context = layer.exportableContext;
                                layer.exportableContext = void 0;
                            }
                            if (width < layer.view.clientWidth) width = layer.view.clientWidth;
                            if (height < layer.view.clientHeight) height = layer.view.clientHeight;
                            layer.scale = void 0;
                        }
                    }));
                    canvas.style.width = width + "px";
                    canvas.style.height = height + "px";
                    each(canvases, (function(canvas) {
                        canvas.style.position = "";
                        canvas.style.top = "";
                        _this.view.removeChild(canvas);
                    }));
                    return canvas;
                }
            });
            return CanvasRenderer;
        }(ArrayDisposer);
        var GhostLayer = function() {
            function GhostLayer() {
                Object.defineProperty(this, "view", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "context", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "margin", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    }
                });
                Object.defineProperty(this, "_width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                this.view = document.createElement("canvas");
                this.context = this.view.getContext("2d", {
                    alpha: false,
                    willReadFrequently: true
                });
                this.context.imageSmoothingEnabled = false;
                this.view.style.position = "absolute";
                this.view.style.top = "0px";
                this.view.style.left = "0px";
            }
            Object.defineProperty(GhostLayer.prototype, "resize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(width, height, resolution) {
                    width += this.margin.left + this.margin.right;
                    height += this.margin.top + this.margin.bottom;
                    this.view.style.left = -this.margin.left + "px";
                    this.view.style.top = -this.margin.top + "px";
                    this._width = Math.floor(width * resolution);
                    this._height = Math.floor(height * resolution);
                    this.view.width = this._width;
                    this.view.style.width = width + "px";
                    this.view.height = this._height;
                    this.view.style.height = height + "px";
                }
            });
            Object.defineProperty(GhostLayer.prototype, "getImageData", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point, bbox) {
                    return this.context.getImageData(Math.round((point.x - bbox.left) / bbox.width * this._width), Math.round((point.y - bbox.top) / bbox.height * this._height), 1, 1);
                }
            });
            Object.defineProperty(GhostLayer.prototype, "setMargin", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(layers) {
                    var _this = this;
                    this.margin.left = 0;
                    this.margin.right = 0;
                    this.margin.top = 0;
                    this.margin.bottom = 0;
                    each(layers, (function(layer) {
                        if (layer.margin) {
                            _this.margin.left = Math.max(_this.margin.left, layer.margin.left);
                            _this.margin.right = Math.max(_this.margin.right, layer.margin.right);
                            _this.margin.top = Math.max(_this.margin.top, layer.margin.top);
                            _this.margin.bottom = Math.max(_this.margin.bottom, layer.margin.bottom);
                        }
                    }));
                }
            });
            Object.defineProperty(GhostLayer.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.context.save();
                    this.context.fillStyle = "#000";
                    this.context.fillRect(0, 0, this._width, this._height);
                }
            });
            return GhostLayer;
        }();
        var CanvasLayer = function() {
            function CanvasLayer(view, context) {
                Object.defineProperty(this, "view", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "context", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "tainted", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(this, "margin", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "order", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "visible", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(this, "width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "scale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "dirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(this, "exportableView", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "exportableContext", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_width", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_height", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                this.view = view;
                this.context = context;
            }
            Object.defineProperty(CanvasLayer.prototype, "resize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(width, height, resolution) {
                    if (null != this.width) width = this.width;
                    if (null != this.height) height = this.height;
                    if (this.margin) {
                        width += this.margin.left + this.margin.right;
                        height += this.margin.top + this.margin.bottom;
                        this.view.style.left = -this.margin.left + "px";
                        this.view.style.top = -this.margin.top + "px";
                    } else {
                        this.view.style.left = "0px";
                        this.view.style.top = "0px";
                    }
                    this._width = Math.floor(width * resolution);
                    this._height = Math.floor(height * resolution);
                    this.view.width = this._width;
                    this.view.style.width = width + "px";
                    this.view.height = this._height;
                    this.view.style.height = height + "px";
                }
            });
            Object.defineProperty(CanvasLayer.prototype, "clear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.context.save();
                    this.context.clearRect(0, 0, this._width, this._height);
                }
            });
            return CanvasLayer;
        }();
        function rAF(fps, callback) {
            if (null == fps) requestAnimationFrame(callback); else setTimeout((function() {
                requestAnimationFrame(callback);
            }), 1e3 / fps);
        }
        var Root = function() {
            function Root(id, settings, isReal) {
                if (void 0 === settings) settings = {};
                Object.defineProperty(this, "dom", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_inner", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_isDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_isDirtyParents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_dirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_dirtyParents", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_dirtyBounds", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_dirtyPositions", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(this, "_ticker", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(this, "_tickers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "events", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new EventDispatcher
                });
                Object.defineProperty(this, "animationTime", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: null
                });
                Object.defineProperty(this, "_animations", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "_renderer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_rootContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "container", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "tooltipContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_tooltipContainerSettings", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_tooltip", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "language", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Language["new"](this, {})
                });
                Object.defineProperty(this, "locale", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: en
                });
                Object.defineProperty(this, "utc", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "timezone", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "fps", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "numberFormatter", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: NumberFormatter["new"](this, {})
                });
                Object.defineProperty(this, "dateFormatter", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: DateFormatter["new"](this, {})
                });
                Object.defineProperty(this, "durationFormatter", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: DurationFormatter["new"](this, {})
                });
                Object.defineProperty(this, "tabindex", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(this, "_tabindexes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "_focusElementDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_focusElementContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_focusedSprite", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_isShift", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_keyboardDragPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_tooltipElementContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_readerAlertElement", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_logo", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_tooltipDiv", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "nonce", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "interfaceColors", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "verticalLayout", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: VerticalLayout["new"](this, {})
                });
                Object.defineProperty(this, "horizontalLayout", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: HorizontalLayout["new"](this, {})
                });
                Object.defineProperty(this, "gridLayout", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: GridLayout["new"](this, {})
                });
                Object.defineProperty(this, "autoResize", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(this, "_fontHash", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: ""
                });
                Object.defineProperty(this, "_isDisposed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(this, "_disposers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "_resizeSensorDisposer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_tooltips", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(this, "_htmlElementContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_htmlEnabledContainers", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                if (!isReal) throw new Error("You cannot use `new Class()`, instead use `Class.new()`");
                if (null == settings.useSafeResolution) settings.useSafeResolution = true;
                var resolution;
                if (settings.useSafeResolution) resolution = getSafeResolution();
                this._renderer = new CanvasRenderer(resolution);
                var dom;
                if (id instanceof HTMLElement) dom = id; else dom = document.getElementById(id);
                each(registry.rootElements, (function(root) {
                    if (root.dom === dom) throw new Error("You cannot have multiple Roots on the same DOM node");
                }));
                this.interfaceColors = InterfaceColors["new"](this, {});
                if (null === dom) throw new Error("Could not find HTML element with id `" + id + "`");
                this.dom = dom;
                var inner = document.createElement("div");
                inner.style.position = "relative";
                inner.style.height = "100%";
                dom.appendChild(inner);
                var tooltipContainerBounds = settings.tooltipContainerBounds;
                if (tooltipContainerBounds) this._tooltipContainerSettings = tooltipContainerBounds;
                this._inner = inner;
                this._updateComputedStyles();
                registry.rootElements.push(this);
            }
            Object.defineProperty(Root, "new", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(id, settings) {
                    var root = new Root(id, settings, true);
                    root._init();
                    return root;
                }
            });
            Object.defineProperty(Root.prototype, "moveDOM", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(id) {
                    var dom;
                    if (id instanceof HTMLElement) dom = id; else dom = document.getElementById(id);
                    if (dom) {
                        while (this.dom.childNodes.length > 0) dom.appendChild(this.dom.childNodes[0]);
                        this.dom = dom;
                        this._initResizeSensor();
                        this.resize();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_handleLogo", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._logo) {
                        var w = this.dom.offsetWidth;
                        var h = this.dom.offsetHeight;
                        if (w <= 150 || h <= 60) this._logo.hide(); else this._logo.show();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_showBranding", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._logo) {
                        var logo = this.tooltipContainer.children.push(Container["new"](this, {
                            interactive: true,
                            interactiveChildren: false,
                            position: "absolute",
                            setStateOnChildren: true,
                            paddingTop: 9,
                            paddingRight: 9,
                            paddingBottom: 9,
                            paddingLeft: 9,
                            scale: .6,
                            y: percent(100),
                            centerY: p100,
                            tooltipText: "Created using amCharts 5",
                            tooltipX: p100,
                            cursorOverStyle: "pointer",
                            background: Rectangle["new"](this, {
                                fill: Color_color(4671320),
                                fillOpacity: 0,
                                tooltipY: 5
                            })
                        }));
                        var tooltip = Tooltip["new"](this, {
                            pointerOrientation: "horizontal",
                            paddingTop: 4,
                            paddingRight: 7,
                            paddingBottom: 4,
                            paddingLeft: 7
                        });
                        tooltip.label.setAll({
                            fontSize: 12
                        });
                        tooltip.get("background").setAll({
                            fill: this.interfaceColors.get("background"),
                            stroke: this.interfaceColors.get("grid"),
                            strokeOpacity: .3
                        });
                        logo.set("tooltip", tooltip);
                        logo.events.on("click", (function() {
                            window.open("https://www.amcharts.com/", "_blank");
                        }));
                        logo.states.create("hover", {});
                        var m = logo.children.push(Graphics["new"](this, {
                            stroke: Color_color(13421772),
                            strokeWidth: 3,
                            svgPath: "M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"
                        }));
                        m.states.create("hover", {
                            stroke: Color_color(3976191)
                        });
                        var a = logo.children.push(Graphics["new"](this, {
                            stroke: Color_color(8947848),
                            strokeWidth: 3,
                            svgPath: "M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"
                        }));
                        a.states.create("hover", {
                            stroke: Color_color(4671320)
                        });
                        this._logo = logo;
                        this._handleLogo();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_init", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var renderer = this._renderer;
                    var rect = this.dom.getBoundingClientRect();
                    var width = Math.floor(rect.width);
                    var height = Math.floor(rect.height);
                    var rootContainer = Container["new"](this, {
                        visible: true,
                        width,
                        height
                    });
                    this._rootContainer = rootContainer;
                    this._rootContainer._defaultThemes.push(DefaultTheme["new"](this));
                    var container = rootContainer.children.push(Container["new"](this, {
                        visible: true,
                        width: p100,
                        height: p100
                    }));
                    this.container = container;
                    renderer.resize(width, height);
                    this._inner.appendChild(renderer.view);
                    this._initResizeSensor();
                    this._htmlElementContainer = document.createElement("div");
                    this._htmlElementContainer.className = "am5-html-container";
                    this._htmlElementContainer.style.position = "absolute";
                    this._htmlElementContainer.style.pointerEvents = "none";
                    if (!this._tooltipContainerSettings) this._htmlElementContainer.style.overflow = "hidden";
                    this._inner.appendChild(this._htmlElementContainer);
                    var readerAlertElement = document.createElement("div");
                    readerAlertElement.className = "am5-reader-container";
                    readerAlertElement.setAttribute("role", "alert");
                    readerAlertElement.style.zIndex = "-100000";
                    readerAlertElement.style.opacity = "0";
                    readerAlertElement.style.position = "absolute";
                    readerAlertElement.style.top = "0";
                    this._readerAlertElement = readerAlertElement;
                    this._inner.appendChild(this._readerAlertElement);
                    var focusElementContainer = document.createElement("div");
                    focusElementContainer.className = "am5-focus-container";
                    focusElementContainer.style.position = "absolute";
                    focusElementContainer.style.pointerEvents = "none";
                    focusElementContainer.style.top = "0px";
                    focusElementContainer.style.left = "0px";
                    focusElementContainer.style.overflow = "hidden";
                    focusElementContainer.style.width = width + "px";
                    focusElementContainer.style.height = height + "px";
                    focusElementContainer.setAttribute("role", "application");
                    setInteractive(focusElementContainer, false);
                    this._focusElementContainer = focusElementContainer;
                    this._inner.appendChild(this._focusElementContainer);
                    this._tooltipElementContainer = document.createElement("div");
                    this._tooltipElementContainer.className = "am5-tooltip-container";
                    this._inner.appendChild(this._tooltipElementContainer);
                    if (supports("keyboardevents")) {
                        this._disposers.push(addEventListener(window, "keydown", (function(ev) {
                            if (16 == ev.keyCode) _this._isShift = true;
                        })));
                        this._disposers.push(addEventListener(window, "keyup", (function(ev) {
                            if (16 == ev.keyCode) _this._isShift = false;
                        })));
                        this._disposers.push(addEventListener(focusElementContainer, "keydown", (function(ev) {
                            var focusedSprite = _this._focusedSprite;
                            if (focusedSprite) {
                                if (27 == ev.keyCode) {
                                    Utils_blur();
                                    _this._focusedSprite = void 0;
                                }
                                var dragOffsetX = 0;
                                var dragOffsetY = 0;
                                switch (ev.keyCode) {
                                  case 13:
                                    ev.preventDefault();
                                    var downEvent = renderer.getEvent(new MouseEvent("click"));
                                    focusedSprite.events.dispatch("click", {
                                        type: "click",
                                        originalEvent: downEvent.event,
                                        point: downEvent.point,
                                        simulated: true,
                                        target: focusedSprite
                                    });
                                    return;

                                  case 37:
                                    dragOffsetX = -6;
                                    break;

                                  case 39:
                                    dragOffsetX = 6;
                                    break;

                                  case 38:
                                    dragOffsetY = -6;
                                    break;

                                  case 40:
                                    dragOffsetY = 6;
                                    break;

                                  default:
                                    return;
                                }
                                if (0 != dragOffsetX || 0 != dragOffsetY) {
                                    ev.preventDefault();
                                    if (!focusedSprite.isDragging()) {
                                        _this._keyboardDragPoint = {
                                            x: 0,
                                            y: 0
                                        };
                                        downEvent = renderer.getEvent(new MouseEvent("mousedown", {
                                            clientX: 0,
                                            clientY: 0
                                        }));
                                        if (focusedSprite.events.isEnabled("pointerdown")) focusedSprite.events.dispatch("pointerdown", {
                                            type: "pointerdown",
                                            originalEvent: downEvent.event,
                                            point: downEvent.point,
                                            simulated: true,
                                            target: focusedSprite
                                        });
                                    }
                                    var dragPoint = _this._keyboardDragPoint;
                                    dragPoint.x += dragOffsetX;
                                    dragPoint.y += dragOffsetY;
                                    var moveEvent = renderer.getEvent(new MouseEvent("mousemove", {
                                        clientX: dragPoint.x,
                                        clientY: dragPoint.y
                                    }), false);
                                    if (focusedSprite.events.isEnabled("globalpointermove")) focusedSprite.events.dispatch("globalpointermove", {
                                        type: "globalpointermove",
                                        originalEvent: moveEvent.event,
                                        point: moveEvent.point,
                                        simulated: true,
                                        target: focusedSprite
                                    });
                                }
                            }
                        })));
                        this._disposers.push(addEventListener(focusElementContainer, "keyup", (function(ev) {
                            if (_this._focusedSprite) {
                                var focusedSprite = _this._focusedSprite;
                                var keyCode = ev.keyCode;
                                switch (keyCode) {
                                  case 37:
                                  case 39:
                                  case 38:
                                  case 40:
                                    if (focusedSprite.isDragging()) {
                                        var dragPoint = _this._keyboardDragPoint;
                                        var upEvent = renderer.getEvent(new MouseEvent("mouseup", {
                                            clientX: dragPoint.x,
                                            clientY: dragPoint.y
                                        }));
                                        if (focusedSprite.events.isEnabled("globalpointerup")) focusedSprite.events.dispatch("globalpointerup", {
                                            type: "globalpointerup",
                                            originalEvent: upEvent.event,
                                            point: upEvent.point,
                                            simulated: true,
                                            target: focusedSprite
                                        });
                                        _this._keyboardDragPoint = void 0;
                                        return;
                                    } else if (focusedSprite.get("focusableGroup")) {
                                        var group_1 = focusedSprite.get("focusableGroup");
                                        var items = _this._tabindexes.filter((function(item) {
                                            return item.get("focusableGroup") == group_1;
                                        }));
                                        var index = items.indexOf(focusedSprite);
                                        var lastIndex = items.length - 1;
                                        index += 39 == keyCode || 40 == keyCode ? 1 : -1;
                                        if (index < 0) index = lastIndex; else if (index > lastIndex) index = 0;
                                        Utils_focus(items[index].getPrivate("focusElement").dom);
                                    }
                                    break;
                                }
                            }
                        })));
                    }
                    this._startTicker();
                    this.setThemes([]);
                    this._addTooltip();
                    if (!this._hasLicense()) this._showBranding();
                }
            });
            Object.defineProperty(Root.prototype, "_initResizeSensor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (this._resizeSensorDisposer) this._resizeSensorDisposer.dispose();
                    this._resizeSensorDisposer = new ResizeSensor(this.dom, (function() {
                        if (_this.autoResize) _this.resize();
                    }));
                    this._disposers.push(this._resizeSensorDisposer);
                }
            });
            Object.defineProperty(Root.prototype, "resize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var dom = this.dom;
                    var rect = dom.getBoundingClientRect();
                    var w = Math.floor(rect.width);
                    var h = Math.floor(rect.height);
                    if (w > 0 && h > 0) {
                        var htmlElementContainer = this._htmlElementContainer;
                        htmlElementContainer.style.width = w + "px";
                        htmlElementContainer.style.height = h + "px";
                        var focusElementContainer = this._focusElementContainer;
                        focusElementContainer.style.width = w + "px";
                        focusElementContainer.style.height = h + "px";
                        this._renderer.resize(w, h);
                        var rootContainer = this._rootContainer;
                        rootContainer.setPrivate("width", w);
                        rootContainer.setPrivate("height", h);
                        this._render();
                        this._handleLogo();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_render", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._renderer.render(this._rootContainer._display);
                    if (this._focusElementDirty) {
                        this._updateCurrentFocus();
                        this._focusElementDirty = false;
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_runTickers", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    each(this._tickers, (function(f) {
                        f(currentTime);
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "_runAnimations", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    keepIf(this._animations, (function(animation) {
                        return animation._runAnimation(currentTime);
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "_runDirties", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var allParents = {};
                    while (this._isDirtyParents) {
                        this._isDirtyParents = false;
                        keys(this._dirtyParents).forEach((function(key) {
                            var parent = _this._dirtyParents[key];
                            delete _this._dirtyParents[key];
                            if (!parent.isDisposed()) {
                                allParents[parent.uid] = parent;
                                parent._prepareChildren();
                            }
                        }));
                    }
                    keys(allParents).forEach((function(key) {
                        allParents[key]._updateChildren();
                    }));
                    var objects = [];
                    keys(this._dirty).forEach((function(key) {
                        var entity = _this._dirty[key];
                        if (entity.isDisposed()) delete _this._dirty[entity.uid]; else {
                            objects.push(entity);
                            entity._beforeChanged();
                        }
                    }));
                    objects.forEach((function(entity) {
                        entity._changed();
                        delete _this._dirty[entity.uid];
                        entity._clearDirty();
                    }));
                    this._isDirty = false;
                    var depths = {};
                    var bounds = [];
                    keys(this._dirtyBounds).forEach((function(key) {
                        var entity = _this._dirtyBounds[key];
                        delete _this._dirtyBounds[key];
                        if (!entity.isDisposed()) {
                            depths[entity.uid] = entity.depth();
                            bounds.push(entity);
                        }
                    }));
                    bounds.sort((function(x, y) {
                        return compare(depths[y.uid], depths[x.uid]);
                    }));
                    bounds.forEach((function(entity) {
                        entity._updateBounds();
                    }));
                    var dirtyPositions = this._dirtyPositions;
                    keys(dirtyPositions).forEach((function(key) {
                        var sprite = dirtyPositions[key];
                        delete dirtyPositions[key];
                        if (!sprite.isDisposed()) sprite._updatePosition();
                    }));
                    objects.forEach((function(entity) {
                        entity._afterChanged();
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "_renderFrame", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    if (this.events.isEnabled("framestarted")) this.events.dispatch("framestarted", {
                        type: "framestarted",
                        target: this,
                        timestamp: currentTime
                    });
                    this._checkComputedStyles();
                    this._runTickers(currentTime);
                    this._runAnimations(currentTime);
                    this._runDirties();
                    this._render();
                    this._positionHTMLElements();
                    if (this.events.isEnabled("frameended")) this.events.dispatch("frameended", {
                        type: "frameended",
                        target: this,
                        timestamp: currentTime
                    });
                    return 0 === this._tickers.length && 0 === this._animations.length && !this._isDirty;
                }
            });
            Object.defineProperty(Root.prototype, "_runTicker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(currentTime) {
                    if (!this.isDisposed()) {
                        this.animationTime = currentTime;
                        var done = this._renderFrame(currentTime);
                        if (done) {
                            this._ticker = null;
                            this.animationTime = null;
                        } else rAF(this.fps, this._ticker);
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_runTickerNow", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.isDisposed()) for (;;) {
                        var currentTime = performance.now();
                        this.animationTime = currentTime;
                        var done = this._renderFrame(currentTime);
                        if (done) {
                            this.animationTime = null;
                            break;
                        }
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_startTicker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (null === this._ticker) {
                        this.animationTime = null;
                        this._ticker = function(currentTime) {
                            _this._runTicker(currentTime);
                        };
                        rAF(this.fps, this._ticker);
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_addDirtyEntity", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity) {
                    if (void 0 === this._dirty[entity.uid]) {
                        this._isDirty = true;
                        this._dirty[entity.uid] = entity;
                        this._startTicker();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_addDirtyParent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(parent) {
                    if (void 0 === this._dirtyParents[parent.uid]) {
                        this._isDirty = true;
                        this._isDirtyParents = true;
                        this._dirtyParents[parent.uid] = parent;
                        this._startTicker();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_addDirtyBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(entity) {
                    if (void 0 === this._dirtyBounds[entity.uid]) {
                        this._isDirty = true;
                        this._dirtyBounds[entity.uid] = entity;
                        this._startTicker();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_addDirtyPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(sprite) {
                    if (void 0 === this._dirtyPositions[sprite.uid]) {
                        this._isDirty = true;
                        this._dirtyPositions[sprite.uid] = sprite;
                        this._startTicker();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_addAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(animation) {
                    if (-1 === this._animations.indexOf(animation)) {
                        this._animations.push(animation);
                        this._startTicker();
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_markDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._isDirty = true;
                }
            });
            Object.defineProperty(Root.prototype, "_markDirtyRedraw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this.events.once("frameended", (function() {
                        _this._isDirty = true;
                        _this._startTicker();
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "eachFrame", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(f) {
                    var _this = this;
                    this._tickers.push(f);
                    this._startTicker();
                    return new Disposer((function() {
                        removeFirst(_this._tickers, f);
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "markDirtyGlobal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(container) {
                    var _this = this;
                    if (!container) container = this.container;
                    console.log(this.width());
                    container.walkChildren((function(child) {
                        if (child instanceof Container) _this.markDirtyGlobal(child);
                        child.markDirty();
                        child.markDirtyBounds();
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "width", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return Math.floor(this.dom.getBoundingClientRect().width);
                }
            });
            Object.defineProperty(Root.prototype, "height", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return Math.floor(this.dom.getBoundingClientRect().height);
                }
            });
            Object.defineProperty(Root.prototype, "dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this._isDisposed) {
                        this._isDisposed = true;
                        this._rootContainer.dispose();
                        this._renderer.dispose();
                        this.horizontalLayout.dispose();
                        this.verticalLayout.dispose();
                        this.interfaceColors.dispose();
                        each(this._disposers, (function(x) {
                            x.dispose();
                        }));
                        if (this._inner) removeElement(this._inner);
                        remove(registry.rootElements, this);
                    }
                }
            });
            Object.defineProperty(Root.prototype, "isDisposed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._isDisposed;
                }
            });
            Object.defineProperty(Root.prototype, "readerAlert", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(text) {
                    this._readerAlertElement.innerHTML = stripTags(text);
                }
            });
            Object.defineProperty(Root.prototype, "setThemes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(themes) {
                    this._rootContainer.set("themes", themes);
                    var tooltipContainer = this.tooltipContainer;
                    if (tooltipContainer) tooltipContainer._applyThemes();
                    var interfaceColors = this.interfaceColors;
                    if (interfaceColors) interfaceColors._applyThemes();
                }
            });
            Object.defineProperty(Root.prototype, "_addTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.tooltipContainer) {
                        var tooltipContainer = this._rootContainer.children.push(Container["new"](this, {
                            position: "absolute",
                            isMeasured: false,
                            width: p100,
                            height: p100,
                            layer: this._tooltipContainerSettings ? 35 : 30,
                            layerMargin: this._tooltipContainerSettings ? this._tooltipContainerSettings : void 0
                        }));
                        this.tooltipContainer = tooltipContainer;
                        var tooltip = Tooltip["new"](this, {});
                        this.container.set("tooltip", tooltip);
                        tooltip.hide(0);
                        this._tooltip = tooltip;
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_registerTabindexOrder", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    if (target.get("focusable")) pushOne(this._tabindexes, target); else remove(this._tabindexes, target);
                    this._invalidateTabindexes();
                }
            });
            Object.defineProperty(Root.prototype, "_unregisterTabindexOrder", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    remove(this._tabindexes, target);
                    this._invalidateTabindexes();
                }
            });
            Object.defineProperty(Root.prototype, "_invalidateTabindexes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._tabindexes.sort((function(a, b) {
                        var aindex = a.get("tabindexOrder", 0);
                        var bindex = b.get("tabindexOrder", 0);
                        if (aindex == bindex) return 0; else if (aindex > bindex) return 1; else return -1;
                    }));
                    var groups = [];
                    each(this._tabindexes, (function(item, index) {
                        if (!item.getPrivate("focusElement")) _this._makeFocusElement(index, item); else _this._moveFocusElement(index, item);
                        var group = item.get("focusableGroup");
                        if (group) if (-1 !== groups.indexOf(group)) item.getPrivate("focusElement").dom.setAttribute("tabindex", "-1"); else groups.push(group);
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "_updateCurrentFocus", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._focusedSprite) {
                        this._decorateFocusElement(this._focusedSprite);
                        this._positionFocusElement(this._focusedSprite);
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_decorateFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target, focusElement) {
                    if (!focusElement) focusElement = target.getPrivate("focusElement").dom;
                    if (!focusElement) return;
                    if (target.get("visible") && "tooltip" != target.get("role") && !target.isHidden()) {
                        if ("-1" != focusElement.getAttribute("tabindex")) focusElement.setAttribute("tabindex", "" + this.tabindex);
                    } else focusElement.removeAttribute("tabindex");
                    var role = target.get("role");
                    if (role) focusElement.setAttribute("role", role); else focusElement.removeAttribute("role");
                    var ariaLabel = target.get("ariaLabel");
                    if (ariaLabel) {
                        var label = populateString(target, ariaLabel);
                        focusElement.setAttribute("aria-label", label);
                    } else focusElement.removeAttribute("aria-label");
                    var ariaLive = target.get("ariaLive");
                    if (ariaLive) focusElement.setAttribute("aria-live", ariaLive); else focusElement.removeAttribute("aria-live");
                    var ariaChecked = target.get("ariaChecked");
                    if (null != ariaChecked) focusElement.setAttribute("aria-checked", ariaChecked ? "true" : "false"); else focusElement.removeAttribute("aria-checked");
                    if (target.get("ariaHidden")) focusElement.setAttribute("aria-hidden", "hidden"); else focusElement.removeAttribute("aria-hidden");
                    var ariaOrientation = target.get("ariaOrientation");
                    if (ariaOrientation) focusElement.setAttribute("aria-orientation", ariaOrientation); else focusElement.removeAttribute("aria-orientation");
                    var ariaValueNow = target.get("ariaValueNow");
                    if (ariaValueNow) focusElement.setAttribute("aria-valuenow", ariaValueNow); else focusElement.removeAttribute("aria-valuenow");
                    var ariaValueMin = target.get("ariaValueMin");
                    if (ariaValueMin) focusElement.setAttribute("aria-valuemin", ariaValueMin); else focusElement.removeAttribute("aria-valuemin");
                    var ariaValueMax = target.get("ariaValueMax");
                    if (ariaValueMax) focusElement.setAttribute("aria-valuemax", ariaValueMax); else focusElement.removeAttribute("aria-valuemax");
                    var ariaValueText = target.get("ariaValueText");
                    if (ariaValueText) focusElement.setAttribute("aria-valuetext", ariaValueText); else focusElement.removeAttribute("aria-valuetext");
                    var ariaControls = target.get("ariaControls");
                    if (ariaControls) focusElement.setAttribute("aria-controls", ariaControls); else focusElement.removeAttribute("aria-controls");
                }
            });
            Object.defineProperty(Root.prototype, "_makeFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, target) {
                    var _this = this;
                    if (target.getPrivate("focusElement")) return;
                    var focusElement = document.createElement("div");
                    if ("tooltip" != target.get("role")) focusElement.tabIndex = this.tabindex;
                    focusElement.style.position = "absolute";
                    setInteractive(focusElement, false);
                    var disposers = [];
                    target.setPrivate("focusElement", {
                        dom: focusElement,
                        disposers
                    });
                    this._decorateFocusElement(target);
                    disposers.push(addEventListener(focusElement, "focus", (function(ev) {
                        _this._handleFocus(ev, index);
                    })));
                    disposers.push(addEventListener(focusElement, "blur", (function(ev) {
                        _this._handleBlur(ev, index);
                    })));
                    this._moveFocusElement(index, target);
                }
            });
            Object.defineProperty(Root.prototype, "_removeFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    remove(this._tabindexes, target);
                    var focusElement = target.getPrivate("focusElement");
                    if (focusElement) {
                        var container = this._focusElementContainer;
                        container.removeChild(focusElement.dom);
                        each(focusElement.disposers, (function(x) {
                            x.dispose();
                        }));
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_hideFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var focusElement = target.getPrivate("focusElement");
                    focusElement.dom.style.display = "none";
                }
            });
            Object.defineProperty(Root.prototype, "_moveFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, target) {
                    var container = this._focusElementContainer;
                    var focusElement = target.getPrivate("focusElement").dom;
                    if (focusElement === this._focusElementContainer.children[index]) return;
                    var next = this._focusElementContainer.children[index + 1];
                    if (next) container.insertBefore(focusElement, next); else container.append(focusElement);
                }
            });
            Object.defineProperty(Root.prototype, "_positionFocusElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var bounds = target.globalBounds();
                    var width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;
                    var height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;
                    var focusElement = target.getPrivate("focusElement").dom;
                    focusElement.style.top = bounds.top - 2 + "px";
                    focusElement.style.left = bounds.left - 2 + "px";
                    focusElement.style.width = width + 4 + "px";
                    focusElement.style.height = height + 4 + "px";
                }
            });
            Object.defineProperty(Root.prototype, "_handleFocus", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(ev, index) {
                    var focused = this._tabindexes[index];
                    if (!focused.isVisibleDeep()) {
                        this._focusNext(ev.target, this._isShift ? -1 : 1);
                        return;
                    }
                    this._positionFocusElement(focused);
                    this._focusedSprite = focused;
                    if (focused.events.isEnabled("focus")) focused.events.dispatch("focus", {
                        type: "focus",
                        originalEvent: ev,
                        target: focused
                    });
                }
            });
            Object.defineProperty(Root.prototype, "_focusNext", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(el, direction) {
                    var focusableElements = Array.from(document.querySelectorAll([ "a[href]", "area[href]", "button:not([disabled])", "details", "input:not([disabled])", "iframe:not([disabled])", "select:not([disabled])", "textarea:not([disabled])", '[contentEditable=""]', '[contentEditable="true"]', '[contentEditable="TRUE"]', '[tabindex]:not([tabindex^="-"])' ].join(",")));
                    var index = focusableElements.indexOf(el) + direction;
                    if (index < 0) index = focusableElements.length - 1; else if (index >= focusableElements.length) index = 0;
                    focusableElements[index].focus();
                }
            });
            Object.defineProperty(Root.prototype, "_handleBlur", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(ev, _index) {
                    var focused = this._focusedSprite;
                    if (focused && focused.events.isEnabled("blur")) focused.events.dispatch("blur", {
                        type: "blur",
                        originalEvent: ev,
                        target: focused
                    });
                    this._focusedSprite = void 0;
                }
            });
            Object.defineProperty(Root.prototype, "updateTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var text = stripTags(target._getText());
                    var tooltipElement = target.getPrivate("tooltipElement");
                    if ("tooltip" == target.get("role") && "" != text) {
                        if (!tooltipElement) tooltipElement = this._makeTooltipElement(target);
                        if (tooltipElement.innerHTML != text) tooltipElement.innerHTML = text;
                    } else if (tooltipElement) {
                        tooltipElement.remove();
                        target.removePrivate("tooltipElement");
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_makeTooltipElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var container = this._tooltipElementContainer;
                    var tooltipElement = document.createElement("div");
                    tooltipElement.style.position = "absolute";
                    tooltipElement.style.top = "-1000000px";
                    tooltipElement.style.opacity = "0.0000001";
                    setInteractive(tooltipElement, false);
                    this._decorateFocusElement(target, tooltipElement);
                    container.append(tooltipElement);
                    target.setPrivate("tooltipElement", tooltipElement);
                    return tooltipElement;
                }
            });
            Object.defineProperty(Root.prototype, "_invalidateAccessibility", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    this._focusElementDirty = true;
                    var focusElement = target.getPrivate("focusElement");
                    if (target.get("focusable")) {
                        if (focusElement) {
                            this._decorateFocusElement(target);
                            this._positionFocusElement(target);
                        }
                    } else if (focusElement) this._removeFocusElement(target);
                }
            });
            Object.defineProperty(Root.prototype, "focused", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    return this._focusedSprite === target;
                }
            });
            Object.defineProperty(Root.prototype, "documentPointToRoot", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    var bbox = this.dom.getBoundingClientRect();
                    return {
                        x: point.x - bbox.left,
                        y: point.y - bbox.top
                    };
                }
            });
            Object.defineProperty(Root.prototype, "rootPointToDocument", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    var bbox = this.dom.getBoundingClientRect();
                    return {
                        x: point.x + bbox.left,
                        y: point.y + bbox.top
                    };
                }
            });
            Object.defineProperty(Root.prototype, "addDisposer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(disposer) {
                    this._disposers.push(disposer);
                    return disposer;
                }
            });
            Object.defineProperty(Root.prototype, "_updateComputedStyles", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var styles = window.getComputedStyle(this.dom);
                    var fontHash = "";
                    Object_each(styles, (function(key, val) {
                        if (isString(key) && key.match(/^font/)) fontHash += val;
                    }));
                    var changed = fontHash != this._fontHash;
                    if (changed) this._fontHash = fontHash;
                    return changed;
                }
            });
            Object.defineProperty(Root.prototype, "_checkComputedStyles", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._updateComputedStyles()) this._invalidateLabelBounds(this.container);
                }
            });
            Object.defineProperty(Root.prototype, "_invalidateLabelBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var _this = this;
                    if (target instanceof Container) target.children.each((function(child) {
                        _this._invalidateLabelBounds(child);
                    })); else if (target instanceof Text) target.markDirtyBounds();
                }
            });
            Object.defineProperty(Root.prototype, "_hasLicense", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    for (var i = 0; i < registry.licenses.length; i++) if (registry.licenses[i].match(/^AM5C.{5,}/i)) return true;
                    return false;
                }
            });
            Object.defineProperty(Root.prototype, "_licenseApplied", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this._logo) this._logo.set("forceHidden", true);
                }
            });
            Object.defineProperty(Root.prototype, "debugGhostView", {
                get: function() {
                    return this._renderer.debugGhostView;
                },
                set: function(value) {
                    this._renderer.debugGhostView = value;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Root.prototype, "tapToActivate", {
                get: function() {
                    return this._renderer.tapToActivate;
                },
                set: function(value) {
                    this._renderer.tapToActivate = value;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Root.prototype, "tapToActivateTimeout", {
                get: function() {
                    return this._renderer.tapToActivateTimeout;
                },
                set: function(value) {
                    this._renderer.tapToActivateTimeout = value;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Root.prototype, "_makeHTMLElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var _this = this;
                    var container = this._htmlElementContainer;
                    var htmlElement = document.createElement("div");
                    target.setPrivate("htmlElement", htmlElement);
                    htmlElement.style.position = "absolute";
                    htmlElement.style.overflow = "auto";
                    htmlElement.style.boxSizing = "border-box";
                    setInteractive(htmlElement, true);
                    if (target.events.isEnabled("click")) this._disposers.push(addEventListener(htmlElement, "click", (function(ev) {
                        var downEvent = _this._renderer.getEvent(ev);
                        target.events.dispatch("click", {
                            type: "click",
                            originalEvent: downEvent.event,
                            point: downEvent.point,
                            simulated: false,
                            target
                        });
                    })));
                    this._positionHTMLElement(target);
                    container.append(htmlElement);
                    pushOne(this._htmlEnabledContainers, target);
                    return htmlElement;
                }
            });
            Object.defineProperty(Root.prototype, "_positionHTMLElements", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    each(this._htmlEnabledContainers, (function(target) {
                        _this._positionHTMLElement(target);
                    }));
                }
            });
            Object.defineProperty(Root.prototype, "_positionHTMLElement", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var htmlElement = target.getPrivate("htmlElement");
                    if (htmlElement) {
                        var visualSettings = [ "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "minWidth", "minHeight", "maxWidth", "maxHeight" ];
                        each(visualSettings, (function(setting) {
                            var value = target.get(setting);
                            if (value) htmlElement.style[setting] = value + "px"; else htmlElement.style[setting] = "";
                        }));
                        var opacity_1 = target.compositeOpacity();
                        setTimeout((function() {
                            htmlElement.style.opacity = opacity_1 + "";
                        }), 10);
                        var visible = target.isVisibleDeep();
                        if (visible) htmlElement.style.display = "block";
                        var bounds = target.globalBounds();
                        htmlElement.style.top = bounds.top + "px";
                        htmlElement.style.left = bounds.left + "px";
                        var width = target.get("width");
                        var height = target.get("height");
                        var w = 0;
                        var h = 0;
                        if (width) w = target.width();
                        if (height) h = target.height();
                        if (!width || !height) {
                            htmlElement.style.width = "";
                            htmlElement.style.height = "";
                            var bbox = htmlElement.getBoundingClientRect();
                            w = bbox.width;
                            h = bbox.height;
                            target._adjustedLocalBounds = {
                                left: 0,
                                right: 0,
                                top: 0,
                                bottom: 0
                            };
                            target.setPrivate("minWidth", w);
                            target.setPrivate("minHeight", h);
                        } else {
                            target.removePrivate("minWidth");
                            target.removePrivate("minHeight");
                        }
                        if (w > 0) htmlElement.style.minWidth = w + "px";
                        if (h > 0) htmlElement.style.minHeight = h + "px";
                        if (!visible || 0 == opacity_1) htmlElement.style.display = "none";
                    }
                }
            });
            Object.defineProperty(Root.prototype, "_setHTMLContent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target, html) {
                    var htmlElement = target.getPrivate("htmlElement");
                    if (!htmlElement) htmlElement = this._makeHTMLElement(target);
                    if (htmlElement.innerHTML != html) htmlElement.innerHTML = html;
                }
            });
            Object.defineProperty(Root.prototype, "_removeHTMLContent", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(target) {
                    var htmlElement = target.getPrivate("htmlElement");
                    if (htmlElement) this._htmlElementContainer.removeChild(htmlElement);
                    remove(this._htmlEnabledContainers, target);
                }
            });
            return Root;
        }();
        var ColorSet = function(_super) {
            __extends(ColorSet, _super);
            function ColorSet() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(ColorSet.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterNewApplyThemes.call(this);
                    this._dirty["colors"] = false;
                }
            });
            Object.defineProperty(ColorSet.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.isDirty("colors")) this.reset();
                }
            });
            Object.defineProperty(ColorSet.prototype, "generateColors", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setPrivate("currentPass", this.getPrivate("currentPass", 0) + 1);
                    var pass = this.getPrivate("currentPass");
                    var colors = this.get("colors", [ this.get("baseColor", Color.fromHex(16711680)) ]);
                    if (!this.getPrivate("numColors")) this.setPrivate("numColors", colors.length);
                    var len = this.getPrivate("numColors");
                    var start = 0;
                    var passOptions = this.get("passOptions");
                    var reuse = this.get("reuse");
                    for (var i = start; i < len; i++) if (reuse) colors.push(colors[i]); else {
                        var hsl = colors[i].toHSL();
                        var h = hsl.h + (passOptions.hue || 0) * pass;
                        while (h > 1) h -= 1;
                        var s = hsl.s + (passOptions.saturation || 0) * pass;
                        if (s > 1) s = 1;
                        if (s < 0) s = 0;
                        var l = hsl.l + (passOptions.lightness || 0) * pass;
                        while (l > 1) l -= 1;
                        colors.push(Color.fromHSL(h, s, l));
                    }
                }
            });
            Object.defineProperty(ColorSet.prototype, "getIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index) {
                    var colors = this.get("colors", []);
                    var saturation = this.get("saturation");
                    if (index >= colors.length) {
                        this.generateColors();
                        return this.getIndex(index);
                    }
                    return null != saturation ? Color.saturate(colors[index], saturation) : colors[index];
                }
            });
            Object.defineProperty(ColorSet.prototype, "next", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var currentStep = this.getPrivate("currentStep", this.get("startIndex", 0));
                    this.setPrivate("currentStep", currentStep + this.get("step", 1));
                    return this.getIndex(currentStep);
                }
            });
            Object.defineProperty(ColorSet.prototype, "reset", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setPrivate("currentStep", this.get("startIndex", 0));
                    this.setPrivate("currentPass", 0);
                }
            });
            Object.defineProperty(ColorSet, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "ColorSet"
            });
            Object.defineProperty(ColorSet, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Entity.classNames.concat([ ColorSet.className ])
            });
            return ColorSet;
        }(Entity);
        var XYChartDefaultTheme = function(_super) {
            __extends(XYChartDefaultTheme, _super);
            function XYChartDefaultTheme() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(XYChartDefaultTheme.prototype, "setupDefaultRules", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype.setupDefaultRules.call(this);
                    var ic = this._root.interfaceColors;
                    var language = this._root.language;
                    var r = this.rule.bind(this);
                    r("XYChart").setAll({
                        colors: ColorSet["new"](this._root, {}),
                        paddingLeft: 20,
                        paddingRight: 20,
                        paddingTop: 16,
                        paddingBottom: 16,
                        panX: false,
                        panY: false,
                        wheelStep: .25,
                        arrangeTooltips: true,
                        pinchZoomX: false,
                        pinchZoomY: false
                    });
                    r("XYSeries").setAll({
                        legendLabelText: "{name}"
                    });
                    r("XYChart", [ "scrollbar", "chart" ]).setAll({
                        paddingBottom: 0,
                        paddingLeft: 0,
                        paddingTop: 0,
                        paddingRight: 0,
                        colors: ColorSet["new"](this._root, {
                            saturation: 0
                        })
                    });
                    var rule = r("Graphics", [ "scrollbar", "overlay" ]);
                    rule.setAll({
                        fillOpacity: .5
                    });
                    setColor(rule, "fill", ic, "background");
                    r("RoundedRectangle", [ "xy", "scrollbar", "thumb" ]).setAll({
                        cornerRadiusTR: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusBL: 0,
                        fillOpacity: 0,
                        focusable: true
                    });
                    r("RoundedRectangle", [ "xy", "scrollbar", "thumb" ]).states.create("hover", {
                        fillOpacity: .4
                    });
                    r("RoundedRectangle", [ "xy", "scrollbar", "chart", "background" ]).setAll({
                        cornerRadiusTL: 0,
                        cornerRadiusBL: 0,
                        cornerRadiusTR: 0,
                        cornerRadiusBR: 0
                    });
                    r("RoundedRectangle", [ "xy", "scrollbar", "chart", "background", "resize", "button" ]).setAll({
                        cornerRadiusBL: 40,
                        cornerRadiusBR: 40,
                        cornerRadiusTL: 40,
                        cornerRadiusTR: 40
                    });
                    r("AxisRendererX", [ "xy", "chart", "scrollbar" ]).setAll({
                        strokeOpacity: 0,
                        inside: true
                    });
                    r("AxisRendererY", [ "xy", "chart", "scrollbar" ]).setAll({
                        strokeOpacity: 0,
                        inside: true,
                        minGridDistance: 5
                    });
                    r("AxisLabel", [ "xy", "scrollbar", "x" ]).setAll({
                        opacity: .5,
                        centerY: p100,
                        minPosition: .01,
                        maxPosition: .99,
                        fontSize: "0.8em"
                    });
                    r("AxisLabel", [ "category" ]).setAll({
                        text: "{category}",
                        populateText: true
                    });
                    r("AxisLabel", [ "x" ]).setAll({
                        centerY: 0
                    });
                    r("AxisLabel", [ "x", "inside" ]).setAll({
                        centerY: p100
                    });
                    r("AxisLabel", [ "x", "inside", "opposite" ]).setAll({
                        centerY: 0
                    });
                    r("AxisLabel", [ "x", "opposite" ]).setAll({
                        centerY: p100
                    });
                    r("AxisLabel", [ "y" ]).setAll({
                        centerX: p100
                    });
                    r("AxisLabel", [ "y", "inside" ]).setAll({
                        centerX: 0
                    });
                    r("AxisLabel", [ "y", "inside", "opposite" ]).setAll({
                        centerX: p100
                    });
                    r("AxisLabel", [ "y", "opposite" ]).setAll({
                        centerX: 0
                    });
                    r("AxisLabel", [ "xy", "scrollbar", "y" ]).setAll({
                        visible: false
                    });
                    r("Grid", [ "xy", "scrollbar", "y" ]).setAll({
                        visible: false
                    });
                    r("Grid", [ "xy", "scrollbar", "x" ]).setAll({
                        opacity: .5
                    });
                    r("XYCursor").setAll({
                        behavior: "none",
                        layer: 30,
                        exportable: false,
                        snapToSeriesBy: "xy",
                        moveThreshold: 1
                    });
                    rule = r("Grid", [ "cursor", "x" ]);
                    rule.setAll({
                        strokeOpacity: .8,
                        strokeDasharray: [ 2, 2 ],
                        ariaLabel: language.translate("Use left and right arrows to move selection")
                    });
                    setColor(rule, "stroke", ic, "alternativeBackground");
                    rule = r("Grid", [ "cursor", "y" ]);
                    rule.setAll({
                        strokeOpacity: .8,
                        strokeDasharray: [ 2, 2 ],
                        ariaLabel: language.translate("Use up and down arrows to move selection")
                    });
                    setColor(rule, "stroke", ic, "alternativeBackground");
                    rule = r("Graphics", [ "cursor", "selection" ]);
                    rule.setAll({
                        fillOpacity: .15
                    });
                    setColor(rule, "fill", ic, "alternativeBackground");
                    r("Axis").setAll({
                        start: 0,
                        end: 1,
                        minZoomCount: 1,
                        maxZoomCount: 1 / 0,
                        maxZoomFactor: 1e3,
                        maxDeviation: .1,
                        snapTooltip: true,
                        tooltipLocation: .5,
                        panX: true,
                        panY: true,
                        zoomX: true,
                        zoomY: true,
                        fixAxisSize: true
                    });
                    r("AxisLabel").setAll({
                        location: .5,
                        multiLocation: 0,
                        centerX: p50,
                        centerY: p50,
                        paddingTop: 3,
                        paddingBottom: 3,
                        paddingLeft: 5,
                        paddingRight: 5
                    });
                    r("Container", [ "axis", "header" ]).setAll({
                        layer: 30
                    });
                    rule = r("AxisRenderer");
                    rule.setAll({
                        strokeOpacity: 0
                    });
                    setColor(rule, "stroke", ic, "grid");
                    r("AxisRendererX").setAll({
                        minGridDistance: 120,
                        opposite: false,
                        inversed: false,
                        cellStartLocation: 0,
                        cellEndLocation: 1,
                        width: p100
                    });
                    r("AxisRendererY").setAll({
                        minGridDistance: 40,
                        opposite: false,
                        inversed: false,
                        cellStartLocation: 0,
                        cellEndLocation: 1,
                        height: p100
                    });
                    rule = r("Rectangle", [ "axis", "thumb" ]);
                    rule.setAll({
                        fillOpacity: 0
                    });
                    setColor(rule, "fill", ic, "alternativeBackground");
                    rule.states.create("hover", {
                        fillOpacity: .1
                    });
                    r("Rectangle", [ "axis", "thumb", "x" ]).setAll({
                        cursorOverStyle: "ew-resize"
                    });
                    r("Rectangle", [ "axis", "thumb", "y" ]).setAll({
                        cursorOverStyle: "ns-resize"
                    });
                    rule = r("Grid");
                    rule.setAll({
                        location: 0,
                        strokeOpacity: .15
                    });
                    setColor(rule, "stroke", ic, "grid");
                    r("Grid", [ "base" ]).setAll({
                        strokeOpacity: .3
                    });
                    rule = r("Graphics", [ "axis", "fill" ]);
                    rule.setAll({
                        visible: false,
                        isMeasured: false,
                        position: "absolute",
                        fillOpacity: .05
                    });
                    setColor(rule, "fill", ic, "alternativeBackground");
                    r("Graphics", [ "axis", "fill", "range" ]).setAll({
                        isMeasured: true
                    });
                    r("Graphics", [ "series", "fill", "range" ]).setAll({
                        visible: false,
                        isMeasured: true
                    });
                    r("Grid", [ "series", "range" ]).setAll({
                        visible: false
                    });
                    r("AxisTick", [ "series", "range" ]).setAll({
                        visible: false
                    });
                    r("AxisLabel", [ "series", "range" ]).setAll({
                        visible: false
                    });
                    rule = r("AxisTick");
                    rule.setAll({
                        location: .5,
                        multiLocation: 0,
                        strokeOpacity: 1,
                        isMeasured: false,
                        position: "absolute",
                        visible: false
                    });
                    setColor(rule, "stroke", ic, "grid");
                    r("CategoryAxis").setAll({
                        startLocation: 0,
                        endLocation: 1,
                        fillRule: function(dataItem, index) {
                            var axisFill = dataItem.get("axisFill");
                            if (axisFill) if (!isNumber(index) || index % 2 == 0) axisFill.setPrivate("visible", true); else axisFill.setPrivate("visible", false);
                        }
                    });
                    var gridIntervals = [ {
                        timeUnit: "millisecond",
                        count: 1
                    }, {
                        timeUnit: "millisecond",
                        count: 5
                    }, {
                        timeUnit: "millisecond",
                        count: 10
                    }, {
                        timeUnit: "millisecond",
                        count: 50
                    }, {
                        timeUnit: "millisecond",
                        count: 100
                    }, {
                        timeUnit: "millisecond",
                        count: 500
                    }, {
                        timeUnit: "second",
                        count: 1
                    }, {
                        timeUnit: "second",
                        count: 5
                    }, {
                        timeUnit: "second",
                        count: 10
                    }, {
                        timeUnit: "second",
                        count: 30
                    }, {
                        timeUnit: "minute",
                        count: 1
                    }, {
                        timeUnit: "minute",
                        count: 5
                    }, {
                        timeUnit: "minute",
                        count: 10
                    }, {
                        timeUnit: "minute",
                        count: 15
                    }, {
                        timeUnit: "minute",
                        count: 30
                    }, {
                        timeUnit: "hour",
                        count: 1
                    }, {
                        timeUnit: "hour",
                        count: 3
                    }, {
                        timeUnit: "hour",
                        count: 6
                    }, {
                        timeUnit: "hour",
                        count: 12
                    }, {
                        timeUnit: "day",
                        count: 1
                    }, {
                        timeUnit: "day",
                        count: 2
                    }, {
                        timeUnit: "day",
                        count: 3
                    }, {
                        timeUnit: "day",
                        count: 4
                    }, {
                        timeUnit: "day",
                        count: 5
                    }, {
                        timeUnit: "week",
                        count: 1
                    }, {
                        timeUnit: "month",
                        count: 1
                    }, {
                        timeUnit: "month",
                        count: 2
                    }, {
                        timeUnit: "month",
                        count: 3
                    }, {
                        timeUnit: "month",
                        count: 6
                    }, {
                        timeUnit: "year",
                        count: 1
                    }, {
                        timeUnit: "year",
                        count: 2
                    }, {
                        timeUnit: "year",
                        count: 5
                    }, {
                        timeUnit: "year",
                        count: 10
                    }, {
                        timeUnit: "year",
                        count: 50
                    }, {
                        timeUnit: "year",
                        count: 100
                    }, {
                        timeUnit: "year",
                        count: 200
                    }, {
                        timeUnit: "year",
                        count: 500
                    }, {
                        timeUnit: "year",
                        count: 1e3
                    }, {
                        timeUnit: "year",
                        count: 2e3
                    }, {
                        timeUnit: "year",
                        count: 5e3
                    }, {
                        timeUnit: "year",
                        count: 1e4
                    }, {
                        timeUnit: "year",
                        count: 1e5
                    } ];
                    var dateFormats = {
                        millisecond: language.translate("_date_millisecond"),
                        second: language.translate("_date_second"),
                        minute: language.translate("_date_minute"),
                        hour: language.translate("_date_hour"),
                        day: language.translate("_date_day"),
                        week: language.translate("_date_day"),
                        month: language.translate("_date_month"),
                        year: language.translate("_date_year")
                    };
                    var periodChangeDateFormats = {
                        millisecond: language.translate("_date_millisecond"),
                        second: language.translate("_date_second"),
                        minute: language.translate("_date_minute"),
                        hour: language.translate("_date_day"),
                        day: language.translate("_date_day"),
                        week: language.translate("_date_day"),
                        month: language.translate("_date_month") + " " + language.translate("_date_year"),
                        year: language.translate("_date_year")
                    };
                    var tooltipDateFormats = {
                        millisecond: language.translate("_date_millisecond_full"),
                        second: language.translate("_date_second_full"),
                        minute: language.translate("_date_minute_full"),
                        hour: language.translate("_date_hour_full"),
                        day: language.translate("_date_day_full"),
                        week: language.translate("_date_week_full"),
                        month: language.translate("_date_month_full"),
                        year: language.translate("_date_year")
                    };
                    r("CategoryDateAxis").setAll({
                        markUnitChange: true,
                        gridIntervals: copy(gridIntervals),
                        dateFormats: Object_copy(dateFormats),
                        periodChangeDateFormats: Object_copy(periodChangeDateFormats)
                    });
                    r("DateAxis").setAll({
                        maxZoomFactor: null,
                        strictMinMax: true,
                        startLocation: 0,
                        endLocation: 1,
                        markUnitChange: true,
                        groupData: false,
                        groupCount: 500,
                        gridIntervals: copy(gridIntervals),
                        dateFormats: Object_copy(dateFormats),
                        periodChangeDateFormats: Object_copy(periodChangeDateFormats),
                        tooltipDateFormats,
                        groupIntervals: [ {
                            timeUnit: "millisecond",
                            count: 1
                        }, {
                            timeUnit: "millisecond",
                            count: 10
                        }, {
                            timeUnit: "millisecond",
                            count: 100
                        }, {
                            timeUnit: "second",
                            count: 1
                        }, {
                            timeUnit: "second",
                            count: 10
                        }, {
                            timeUnit: "minute",
                            count: 1
                        }, {
                            timeUnit: "minute",
                            count: 10
                        }, {
                            timeUnit: "hour",
                            count: 1
                        }, {
                            timeUnit: "day",
                            count: 1
                        }, {
                            timeUnit: "week",
                            count: 1
                        }, {
                            timeUnit: "month",
                            count: 1
                        }, {
                            timeUnit: "year",
                            count: 1
                        } ],
                        fillRule: function(dataItem) {
                            var axisFill = dataItem.get("axisFill");
                            if (axisFill) {
                                var axis = dataItem.component;
                                var value = dataItem.get("value");
                                var endValue = dataItem.get("endValue");
                                var intervalDuration = axis.intervalDuration();
                                var baseInterval = axis.getPrivate("baseInterval");
                                var gridInterval = axis.getPrivate("gridInterval", baseInterval);
                                var min = axis.getPrivate("min", 0);
                                min = round(new Date(min), gridInterval.timeUnit, gridInterval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, void 0, _this._root.timezone).getTime();
                                if (null != value && null != endValue) {
                                    var val = Math.round(Math.round((value - min) / intervalDuration)) / 2;
                                    if (val == Math.round(val)) axisFill.setPrivate("visible", true); else axisFill.setPrivate("visible", false);
                                }
                            }
                        }
                    });
                    r("GaplessDateAxis").setAll({
                        fillRule: function(dataItem) {
                            var axisFill = dataItem.get("axisFill");
                            if (axisFill) {
                                var index = dataItem.get("index");
                                var visible = false;
                                if (!isNumber(index) || index % 2 == 0) visible = true;
                                axisFill.setPrivate("visible", visible);
                            }
                        }
                    });
                    r("ValueAxis").setAll({
                        baseValue: 0,
                        logarithmic: false,
                        strictMinMax: false,
                        autoZoom: true,
                        fillRule: function(dataItem) {
                            var axisFill = dataItem.get("axisFill");
                            if (axisFill) {
                                var axis = dataItem.component;
                                var value = dataItem.get("value");
                                var step = axis.getPrivate("step");
                                if (isNumber(value) && isNumber(step)) if (Math_round(value / step / 2, 5) == Math.round(value / step / 2)) axisFill.setPrivate("visible", false); else axisFill.setPrivate("visible", true);
                            }
                        }
                    });
                    r("DurationAxis").setAll({
                        baseUnit: "second"
                    });
                    r("XYSeries").setAll({
                        maskBullets: true,
                        stackToNegative: true,
                        locationX: .5,
                        locationY: .5,
                        snapTooltip: false,
                        openValueXGrouped: "open",
                        openValueYGrouped: "open",
                        valueXGrouped: "close",
                        valueYGrouped: "close",
                        seriesTooltipTarget: "series"
                    });
                    r("BaseColumnSeries").setAll({
                        adjustBulletPosition: true
                    });
                    r("ColumnSeries").setAll({
                        clustered: true
                    });
                    r("RoundedRectangle", [ "series", "column" ]).setAll({
                        position: "absolute",
                        isMeasured: false,
                        width: percent(70),
                        height: percent(70),
                        strokeWidth: 1,
                        strokeOpacity: 1,
                        cornerRadiusBL: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusTR: 0,
                        fillOpacity: 1,
                        role: "figure"
                    });
                    r("LineSeries").setAll({
                        connect: true,
                        autoGapCount: 1.1,
                        stackToNegative: false
                    });
                    r("Graphics", [ "series", "stroke" ]).setAll({
                        position: "absolute",
                        strokeWidth: 1,
                        strokeOpacity: 1,
                        isMeasured: false
                    });
                    r("Graphics", [ "series", "fill" ]).setAll({
                        visible: false,
                        fillOpacity: 0,
                        position: "absolute",
                        strokeWidth: 0,
                        strokeOpacity: 0,
                        isMeasured: false
                    });
                    r("Graphics", [ "line", "series", "legend", "marker", "stroke" ]).setAll({
                        draw: function(display, sprite) {
                            var parent = sprite.parent;
                            if (parent) {
                                var h = parent.height();
                                var w = parent.width();
                                display.moveTo(0, h / 2);
                                display.lineTo(w, h / 2);
                            }
                        }
                    });
                    rule = r("Graphics", [ "line", "series", "legend", "marker", "stroke" ]).states.create("disabled", {});
                    setColor(rule, "stroke", ic, "disabled");
                    r("Graphics", [ "line", "series", "legend", "marker", "fill" ]).setAll({
                        draw: function(display, sprite) {
                            var parent = sprite.parent;
                            if (parent) {
                                var h = parent.height();
                                var w = parent.width();
                                display.moveTo(0, 0);
                                display.lineTo(w, 0);
                                display.lineTo(w, h);
                                display.lineTo(0, h);
                                display.lineTo(0, 0);
                            }
                        }
                    });
                    rule = r("Graphics", [ "line", "series", "legend", "marker", "fill" ]).states.create("disabled", {});
                    setColor(rule, "stroke", ic, "disabled");
                    r("SmoothedXYLineSeries").setAll({
                        tension: .5
                    });
                    r("SmoothedXLineSeries").setAll({
                        tension: .5
                    });
                    r("SmoothedYLineSeries").setAll({
                        tension: .5
                    });
                    r("Candlestick").setAll({
                        position: "absolute",
                        isMeasured: false,
                        width: percent(50),
                        height: percent(50),
                        strokeWidth: 1,
                        strokeOpacity: 1,
                        cornerRadiusBL: 0,
                        cornerRadiusTL: 0,
                        cornerRadiusBR: 0,
                        cornerRadiusTR: 0,
                        fillOpacity: 1,
                        role: "figure"
                    });
                    r("OHLC").setAll({
                        width: percent(80),
                        height: percent(80)
                    });
                    r("CandlestickSeries").setAll({
                        lowValueXGrouped: "low",
                        lowValueYGrouped: "low",
                        highValueXGrouped: "high",
                        highValueYGrouped: "high",
                        openValueXGrouped: "open",
                        openValueYGrouped: "open",
                        valueXGrouped: "close",
                        valueYGrouped: "close"
                    });
                    rule = r("Rectangle", [ "column", "autocolor" ]).states.create("riseFromOpen", {});
                    setColor(rule, "fill", ic, "positive");
                    setColor(rule, "stroke", ic, "positive");
                    rule = r("Rectangle", [ "column", "autocolor" ]).states.create("dropFromOpen", {});
                    setColor(rule, "fill", ic, "negative");
                    setColor(rule, "stroke", ic, "negative");
                    r("Rectangle", [ "column", "autocolor", "pro" ]).states.create("riseFromOpen", {
                        fillOpacity: 0
                    });
                    r("Rectangle", [ "column", "autocolor", "pro" ]).states.create("dropFromOpen", {
                        fillOpacity: 1
                    });
                    rule = r("Rectangle", [ "column", "autocolor", "pro" ]).states.create("riseFromPrevious", {});
                    setColor(rule, "fill", ic, "positive");
                    setColor(rule, "stroke", ic, "positive");
                    rule = r("Rectangle", [ "column", "autocolor", "pro" ]).states.create("dropFromPrevious", {});
                    setColor(rule, "fill", ic, "negative");
                    setColor(rule, "stroke", ic, "negative");
                }
            });
            return XYChartDefaultTheme;
        }(Theme);
        var Chart = function(_super) {
            __extends(Chart, _super);
            function Chart() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "chartContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        interactiveChildren: false
                    }))
                });
                Object.defineProperty(_this, "bulletsContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        interactiveChildren: false,
                        isMeasured: false,
                        position: "absolute",
                        width: p100,
                        height: p100
                    })
                });
                return _this;
            }
            Object.defineProperty(Chart, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Chart"
            });
            Object.defineProperty(Chart, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Container.classNames.concat([ Chart.className ])
            });
            return Chart;
        }(Container);
        var SerialChart = function(_super) {
            __extends(SerialChart, _super);
            function SerialChart() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "seriesContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        isMeasured: false
                    })
                });
                Object.defineProperty(_this, "series", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListAutoDispose
                });
                return _this;
            }
            Object.defineProperty(SerialChart.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterNew.call(this);
                    this._disposers.push(this.series);
                    var children = this.seriesContainer.children;
                    this._disposers.push(this.series.events.onAll((function(change) {
                        if ("clear" === change.type) {
                            each(change.oldValues, (function(series) {
                                _this._removeSeries(series);
                            }));
                            var colors = _this.get("colors");
                            if (colors) colors.reset();
                        } else if ("push" === change.type) {
                            children.moveValue(change.newValue);
                            _this._processSeries(change.newValue);
                        } else if ("setIndex" === change.type) {
                            children.setIndex(change.index, change.newValue);
                            _this._processSeries(change.newValue);
                        } else if ("insertIndex" === change.type) {
                            children.insertIndex(change.index, change.newValue);
                            _this._processSeries(change.newValue);
                        } else if ("removeIndex" === change.type) _this._removeSeries(change.oldValue); else if ("moveIndex" === change.type) {
                            children.moveValue(change.value, change.newIndex);
                            _this._processSeries(change.value);
                        } else throw new Error("Unknown IListEvent type");
                    })));
                }
            });
            Object.defineProperty(SerialChart.prototype, "_processSeries", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    series.chart = this;
                    series._placeBulletsContainer(this);
                }
            });
            Object.defineProperty(SerialChart.prototype, "_removeSeries", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    if (!series.isDisposed()) {
                        this.seriesContainer.children.removeValue(series);
                        series._removeBulletsContainer();
                    }
                }
            });
            Object.defineProperty(SerialChart, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "SerialChart"
            });
            Object.defineProperty(SerialChart, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Chart.classNames.concat([ SerialChart.className ])
            });
            return SerialChart;
        }(Chart);
        var RoundedRectangle = function(_super) {
            __extends(RoundedRectangle, _super);
            function RoundedRectangle() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(RoundedRectangle.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("cornerRadiusTL") || this.isDirty("cornerRadiusTR") || this.isDirty("cornerRadiusBR") || this.isDirty("cornerRadiusBL")) this._clear = true;
                }
            });
            Object.defineProperty(RoundedRectangle.prototype, "_draw", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var width = this.width();
                    var height = this.height();
                    var w = width;
                    var h = height;
                    var wSign = w / Math.abs(width);
                    var hSign = h / Math.abs(height);
                    if (isNumber(w) && isNumber(h)) {
                        var minSide = Math.min(w, h) / 2;
                        var crtl = relativeToValue(this.get("cornerRadiusTL", 8), minSide);
                        var crtr = relativeToValue(this.get("cornerRadiusTR", 8), minSide);
                        var crbr = relativeToValue(this.get("cornerRadiusBR", 8), minSide);
                        var crbl = relativeToValue(this.get("cornerRadiusBL", 8), minSide);
                        var maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));
                        crtl = fitToRange(crtl, 0, maxcr);
                        crtr = fitToRange(crtr, 0, maxcr);
                        crbr = fitToRange(crbr, 0, maxcr);
                        crbl = fitToRange(crbl, 0, maxcr);
                        var display = this._display;
                        display.moveTo(crtl * wSign, 0);
                        display.lineTo(w - crtr * wSign, 0);
                        if (crtr > 0) display.arcTo(w, 0, w, crtr * hSign, crtr);
                        display.lineTo(w, h - crbr * hSign);
                        if (crbr > 0) display.arcTo(w, h, w - crbr * wSign, h, crbr);
                        display.lineTo(crbl * wSign, h);
                        if (crbl > 0) display.arcTo(0, h, 0, h - crbl * hSign, crbl);
                        display.lineTo(0, crtl * hSign);
                        if (crtl > 0) display.arcTo(0, 0, crtl * wSign, 0, crtl);
                        display.closePath();
                    }
                }
            });
            Object.defineProperty(RoundedRectangle, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "RoundedRectangle"
            });
            Object.defineProperty(RoundedRectangle, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Rectangle.classNames.concat([ RoundedRectangle.className ])
            });
            return RoundedRectangle;
        }(Rectangle);
        var Button = function(_super) {
            __extends(Button, _super);
            function Button() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Button.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "button" ]);
                    _super.prototype._afterNew.call(this);
                    if (!this._settings.background) this.set("background", RoundedRectangle["new"](this._root, {
                        themeTags: mergeTags(this._settings.themeTags, [ "background" ])
                    }));
                }
            });
            Object.defineProperty(Button.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._prepareChildren.call(this);
                    if (this.isDirty("icon")) {
                        var previous = this._prevSettings.icon;
                        var icon = this.get("icon");
                        if (icon !== previous) {
                            this._disposeProperty("icon");
                            if (previous) previous.dispose();
                            if (icon) this.children.push(icon);
                            this._prevSettings.icon = icon;
                        }
                    }
                    if (this.isDirty("label")) {
                        previous = this._prevSettings.label;
                        var label = this.get("label");
                        if (label !== previous) {
                            this._disposeProperty("label");
                            if (previous) previous.dispose();
                            if (label) this.children.push(label);
                            this._prevSettings.label = label;
                        }
                    }
                }
            });
            Object.defineProperty(Button, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Button"
            });
            Object.defineProperty(Button, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Container.classNames.concat([ Button.className ])
            });
            return Button;
        }(Container);
        var XYChart = function(_super) {
            __extends(XYChart, _super);
            function XYChart() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "xAxes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListAutoDispose
                });
                Object.defineProperty(_this, "yAxes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListAutoDispose
                });
                Object.defineProperty(_this, "topAxesContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.chartContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        layout: _this._root.verticalLayout
                    }))
                });
                Object.defineProperty(_this, "yAxesAndPlotContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.chartContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        layout: _this._root.horizontalLayout
                    }))
                });
                Object.defineProperty(_this, "bottomAxesContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.chartContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        layout: _this._root.verticalLayout
                    }))
                });
                Object.defineProperty(_this, "leftAxesContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.yAxesAndPlotContainer.children.push(Container["new"](_this._root, {
                        height: p100,
                        layout: _this._root.horizontalLayout
                    }))
                });
                Object.defineProperty(_this, "plotsContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.yAxesAndPlotContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        maskContent: false
                    }))
                });
                Object.defineProperty(_this, "plotContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.plotsContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100
                    }))
                });
                Object.defineProperty(_this, "topPlotContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.plotsContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100
                    }))
                });
                Object.defineProperty(_this, "gridContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.plotContainer.children.push(Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        isMeasured: false
                    }))
                });
                Object.defineProperty(_this, "topGridContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        isMeasured: false
                    })
                });
                Object.defineProperty(_this, "rightAxesContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.yAxesAndPlotContainer.children.push(Container["new"](_this._root, {
                        height: p100,
                        layout: _this._root.horizontalLayout
                    }))
                });
                Object.defineProperty(_this, "axisHeadersContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.plotContainer.children.push(Container["new"](_this._root, {}))
                });
                Object.defineProperty(_this, "zoomOutButton", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.topPlotContainer.children.push(Button["new"](_this._root, {
                        themeTags: [ "zoom" ],
                        icon: Graphics["new"](_this._root, {
                            themeTags: [ "button", "icon" ]
                        })
                    }))
                });
                Object.defineProperty(_this, "_movePoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {
                        x: 0,
                        y: 0
                    }
                });
                Object.defineProperty(_this, "_wheelDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_otherCharts", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_movePoints", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_downStartX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downEndX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downStartY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downEndY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(XYChart.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._defaultThemes.push(XYChartDefaultTheme["new"](this._root));
                    _super.prototype._afterNew.call(this);
                    this._disposers.push(this.xAxes);
                    this._disposers.push(this.yAxes);
                    var root = this._root;
                    var verticalLayout = this._root.verticalLayout;
                    var zoomOutButton = this.zoomOutButton;
                    zoomOutButton.events.on("click", (function() {
                        _this.zoomOut();
                    }));
                    zoomOutButton.set("opacity", 0);
                    zoomOutButton.states.lookup("default").set("opacity", 1);
                    this.chartContainer.set("layout", verticalLayout);
                    var plotContainer = this.plotContainer;
                    plotContainer.children.push(this.seriesContainer);
                    this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));
                    this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));
                    plotContainer.children.push(this.topGridContainer);
                    plotContainer.children.push(this.bulletsContainer);
                    plotContainer.set("interactive", true);
                    plotContainer.set("interactiveChildren", false);
                    plotContainer.set("background", Rectangle["new"](root, {
                        themeTags: [ "xy", "background" ],
                        fill: Color.fromHex(0),
                        fillOpacity: 0
                    }));
                    this._disposers.push(plotContainer.events.on("pointerdown", (function(event) {
                        _this._handlePlotDown(event.originalEvent);
                    })));
                    this._disposers.push(plotContainer.events.on("globalpointerup", (function(event) {
                        _this._handlePlotUp(event.originalEvent);
                    })));
                    this._disposers.push(plotContainer.events.on("globalpointermove", (function(event) {
                        _this._handlePlotMove(event.originalEvent);
                    })));
                    this._maskGrid();
                    this._setUpTouch();
                }
            });
            Object.defineProperty(XYChart.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("pinchZoomX") || this.isDirty("pinchZoomY") || this.get("panX") || this.get("panY")) this._setUpTouch();
                }
            });
            Object.defineProperty(XYChart.prototype, "_setUpTouch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (!this.plotContainer._display.cancelTouch) this.plotContainer._display.cancelTouch = this.get("pinchZoomX") || this.get("pinchZoomY") || this.get("panX") || this.get("panY") ? true : false;
                }
            });
            Object.defineProperty(XYChart.prototype, "_maskGrid", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.gridContainer.set("maskContent", true);
                    this.topGridContainer.set("maskContent", true);
                }
            });
            Object.defineProperty(XYChart.prototype, "_removeSeries", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    var xAxis = series.get("xAxis");
                    if (xAxis) {
                        remove(xAxis.series, series);
                        xAxis.markDirtyExtremes();
                    }
                    var yAxis = series.get("yAxis");
                    if (yAxis) {
                        remove(yAxis.series, series);
                        yAxis.markDirtyExtremes();
                    }
                    var cursor = this.get("cursor");
                    if (cursor) {
                        var snapToSeries = cursor.get("snapToSeries");
                        if (snapToSeries) remove(snapToSeries, series);
                    }
                    _super.prototype._removeSeries.call(this, series);
                }
            });
            Object.defineProperty(XYChart.prototype, "handleWheel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    var _this = this;
                    var wheelX = this.get("wheelX");
                    var wheelY = this.get("wheelY");
                    var plotContainer = this.plotContainer;
                    var wheelEvent = event.originalEvent;
                    if (isLocalEvent(wheelEvent, this)) wheelEvent.preventDefault(); else return;
                    var plotPoint = plotContainer.toLocal(this._root.documentPointToRoot({
                        x: wheelEvent.clientX,
                        y: wheelEvent.clientY
                    }));
                    var wheelStep = this.get("wheelStep", .2);
                    var shiftY = wheelEvent.deltaY / 100;
                    var shiftX = wheelEvent.deltaX / 100;
                    var wheelZoomPositionX = this.get("wheelZoomPositionX");
                    var wheelZoomPositionY = this.get("wheelZoomPositionY");
                    if (("zoomX" === wheelX || "zoomXY" === wheelX) && 0 != shiftX) this.xAxes.each((function(axis) {
                        if (axis.get("zoomX")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var position = axis.fixPosition(plotPoint.x / plotContainer.width());
                            if (null != wheelZoomPositionX) position = wheelZoomPositionX;
                            var newStart = start - wheelStep * (end - start) * shiftX * position;
                            var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);
                            if (1 / (newEnd - newStart) < axis.getPrivate("maxZoomFactor", 1 / 0) / axis.get("minZoomCount", 1)) _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("zoomX" === wheelY || "zoomXY" === wheelY) && 0 != shiftY) this.xAxes.each((function(axis) {
                        if (axis.get("zoomX")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var position = axis.fixPosition(plotPoint.x / plotContainer.width());
                            if (null != wheelZoomPositionX) position = wheelZoomPositionX;
                            var newStart = start - wheelStep * (end - start) * shiftY * position;
                            var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);
                            if (1 / (newEnd - newStart) < axis.getPrivate("maxZoomFactor", 1 / 0) / axis.get("minZoomCount", 1)) _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("zoomY" === wheelX || "zoomXY" === wheelX) && 0 != shiftX) this.yAxes.each((function(axis) {
                        if (axis.get("zoomY")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var position = axis.fixPosition(plotPoint.y / plotContainer.height());
                            if (null != wheelZoomPositionY) position = wheelZoomPositionY;
                            var newStart = start - wheelStep * (end - start) * shiftX * position;
                            var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);
                            if (1 / (newEnd - newStart) < axis.getPrivate("maxZoomFactor", 1 / 0) / axis.get("minZoomCount", 1)) _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("zoomY" === wheelY || "zoomXY" === wheelY) && 0 != shiftY) this.yAxes.each((function(axis) {
                        if (axis.get("zoomY")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var position = axis.fixPosition(plotPoint.y / plotContainer.height());
                            if (null != wheelZoomPositionY) position = wheelZoomPositionY;
                            var newStart = start - wheelStep * (end - start) * shiftY * position;
                            var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);
                            if (1 / (newEnd - newStart) < axis.getPrivate("maxZoomFactor", 1 / 0) / axis.get("minZoomCount", 1)) _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("panX" === wheelX || "panXY" === wheelX) && 0 != shiftX) this.xAxes.each((function(axis) {
                        if (axis.get("panX")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;
                            var newStart = start + delta;
                            var newEnd = end + delta;
                            var se = _this._fixWheel(newStart, newEnd);
                            newStart = se[0];
                            newEnd = se[1];
                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("panX" === wheelY || "panXY" === wheelY) && 0 != shiftY) this.xAxes.each((function(axis) {
                        if (axis.get("panX")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;
                            var newStart = start + delta;
                            var newEnd = end + delta;
                            var se = _this._fixWheel(newStart, newEnd);
                            newStart = se[0];
                            newEnd = se[1];
                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("panY" === wheelX || "panXY" === wheelX) && 0 != shiftX) this.yAxes.each((function(axis) {
                        if (axis.get("panY")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;
                            var newStart = start + delta;
                            var newEnd = end + delta;
                            var se = _this._fixWheel(newStart, newEnd);
                            newStart = se[0];
                            newEnd = se[1];
                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                    if (("panY" === wheelY || "panXY" === wheelY) && 0 != shiftY) this.yAxes.each((function(axis) {
                        if (axis.get("panY")) {
                            var start = axis.get("start");
                            var end = axis.get("end");
                            var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;
                            var newStart = start - delta;
                            var newEnd = end - delta;
                            var se = _this._fixWheel(newStart, newEnd);
                            newStart = se[0];
                            newEnd = se[1];
                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));
                        }
                    }));
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleSetWheel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var wheelX = this.get("wheelX");
                    var wheelY = this.get("wheelY");
                    var plotContainer = this.plotContainer;
                    if ("none" !== wheelX || "none" !== wheelY) {
                        this._wheelDp = plotContainer.events.on("wheel", (function(event) {
                            _this.handleWheel(event);
                        }));
                        this._disposers.push(this._wheelDp);
                    } else if (this._wheelDp) this._wheelDp.dispose();
                }
            });
            Object.defineProperty(XYChart.prototype, "_getWheelSign", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axis) {
                    var sign = 1;
                    if (axis.get("renderer").get("inversed")) sign = -1;
                    return sign;
                }
            });
            Object.defineProperty(XYChart.prototype, "_fixWheel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(start, end) {
                    var diff = end - start;
                    if (start < 0) {
                        start = 0;
                        end = start + diff;
                    }
                    if (end > 1) {
                        end = 1;
                        start = end - diff;
                    }
                    return [ start, end ];
                }
            });
            Object.defineProperty(XYChart.prototype, "_handlePlotDown", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    var plotContainer = this.plotContainer;
                    var local = plotContainer.toLocal(this._root.documentPointToRoot({
                        x: event.clientX,
                        y: event.clientY
                    }));
                    if (this.get("pinchZoomX") || this.get("pinchZoomY")) {
                        var touchEvent = event;
                        var pointerId = touchEvent.pointerId;
                        if (pointerId) if (keys(plotContainer._downPoints).length > 0) {
                            var xAxis = this.xAxes.getIndex(0);
                            var yAxis = this.yAxes.getIndex(0);
                            if (xAxis) {
                                this._downStartX = xAxis.get("start", 0);
                                this._downEndX = xAxis.get("end", 1);
                            }
                            if (yAxis) {
                                this._downStartY = yAxis.get("start", 0);
                                this._downEndY = yAxis.get("end", 1);
                            }
                        }
                    }
                    if (this.get("panX") || this.get("panY")) if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {
                        this._downPoint = {
                            x: event.clientX,
                            y: event.clientY
                        };
                        var panX = this.get("panX");
                        var panY = this.get("panY");
                        if (panX) this.xAxes.each((function(axis) {
                            axis._panStart = axis.get("start");
                            axis._panEnd = axis.get("end");
                        }));
                        if (panY) this.yAxes.each((function(axis) {
                            axis._panStart = axis.get("start");
                            axis._panEnd = axis.get("end");
                        }));
                        var eventType = "panstarted";
                        if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                            type: eventType,
                            target: this,
                            originalEvent: event
                        });
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleWheelAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(animation) {
                    var _this = this;
                    if (animation) animation.events.on("stopped", (function() {
                        _this._dispatchWheelAnimation();
                    })); else this._dispatchWheelAnimation();
                }
            });
            Object.defineProperty(XYChart.prototype, "_dispatchWheelAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var eventType = "wheelended";
                    if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                        type: eventType,
                        target: this
                    });
                }
            });
            Object.defineProperty(XYChart.prototype, "_handlePlotUp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    var downPoint = this._downPoint;
                    if (downPoint) if (this.get("panX") || this.get("panY")) {
                        var local = this.plotContainer.toLocal(this._root.documentPointToRoot({
                            x: event.clientX,
                            y: event.clientY
                        }));
                        if (local.x == downPoint.x && local.y == downPoint.y) {
                            var eventType_1 = "pancancelled";
                            if (this.events.isEnabled(eventType_1)) this.events.dispatch(eventType_1, {
                                type: eventType_1,
                                target: this,
                                originalEvent: event
                            });
                        }
                        var eventType = "panended";
                        if (this.events.isEnabled(eventType)) this.events.dispatch(eventType, {
                            type: eventType,
                            target: this,
                            originalEvent: event
                        });
                    }
                    this._downPoint = void 0;
                    this.xAxes.each((function(xAxis) {
                        xAxis._isPanning = false;
                    }));
                    this.yAxes.each((function(yAxis) {
                        yAxis._isPanning = false;
                    }));
                }
            });
            Object.defineProperty(XYChart.prototype, "_handlePlotMove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    var plotContainer = this.plotContainer;
                    if (this.get("pinchZoomX") || this.get("pinchZoomY")) {
                        var touchEvent = event;
                        var pointerId = touchEvent.pointerId;
                        if (pointerId) {
                            this._movePoints[pointerId] = this._root.documentPointToRoot({
                                x: event.clientX,
                                y: event.clientY
                            });
                            if (keys(plotContainer._downPoints).length > 1) {
                                this._handlePinch();
                                return;
                            }
                        }
                    }
                    var downPoint = this._downPoint;
                    if (downPoint) {
                        downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));
                        var local_1 = plotContainer.toLocal(this._root.documentPointToRoot({
                            x: event.clientX,
                            y: event.clientY
                        }));
                        var panX = this.get("panX");
                        var panY = this.get("panY");
                        if (panX) {
                            var scrollbarX = this.get("scrollbarX");
                            if (scrollbarX) scrollbarX.events.disableType("rangechanged");
                            this.xAxes.each((function(axis) {
                                if (axis.get("panX")) {
                                    axis._isPanning = true;
                                    var panStart = axis._panStart;
                                    var panEnd = axis._panEnd;
                                    var difference = panEnd - panStart;
                                    var deltaX = difference * (downPoint.x - local_1.x) / plotContainer.width();
                                    if (axis.get("renderer").get("inversed")) deltaX *= -1;
                                    var start = panStart + deltaX;
                                    var end = panEnd + deltaX;
                                    if (end - start < 1 + 2 * axis.get("maxDeviation", 1)) {
                                        axis.set("start", start);
                                        axis.set("end", end);
                                    }
                                }
                            }));
                            if (scrollbarX) scrollbarX.events.enableType("rangechanged");
                        }
                        if (panY) {
                            var scrollbarY = this.get("scrollbarY");
                            if (scrollbarY) scrollbarY.events.disableType("rangechanged");
                            this.yAxes.each((function(axis) {
                                if (axis.get("panY")) {
                                    axis._isPanning = true;
                                    var panStart = axis._panStart;
                                    var panEnd = axis._panEnd;
                                    var difference = panEnd - panStart;
                                    var deltaY = difference * (downPoint.y - local_1.y) / plotContainer.height();
                                    if (axis.get("renderer").get("inversed")) deltaY *= -1;
                                    var start = panStart - deltaY;
                                    var end = panEnd - deltaY;
                                    if (end - start < 1 + 2 * axis.get("maxDeviation", 1)) {
                                        axis.set("start", start);
                                        axis.set("end", end);
                                    }
                                }
                            }));
                            if (scrollbarY) scrollbarY.events.enableType("rangechanged");
                        }
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_handlePinch", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _a, _b, _c, _d;
                    var _this = this;
                    var plotContainer = this.plotContainer;
                    var i = 0;
                    var downPoints = [];
                    var movePoints = [];
                    Object_each(plotContainer._downPoints, (function(k, point) {
                        downPoints[i] = point;
                        var movePoint = _this._movePoints[k];
                        if (movePoint) movePoints[i] = movePoint;
                        i++;
                    }));
                    if (downPoints.length > 1 && movePoints.length > 1) {
                        var w = plotContainer.width();
                        var h = plotContainer.height();
                        var downPoint0 = downPoints[0];
                        var downPoint1 = downPoints[1];
                        var movePoint0 = movePoints[0];
                        var movePoint1 = movePoints[1];
                        if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {
                            movePoint0 = plotContainer.toLocal(movePoint0);
                            movePoint1 = plotContainer.toLocal(movePoint1);
                            downPoint0 = plotContainer.toLocal(downPoint0);
                            downPoint1 = plotContainer.toLocal(downPoint1);
                            if (this.get("pinchZoomX")) {
                                var downStartX = this._downStartX;
                                var downEndX = this._downEndX;
                                if (null != downStartX && null != downEndX) {
                                    if (downPoint0.x > downPoint1.x) {
                                        _a = __read([ downPoint1, downPoint0 ], 2), downPoint0 = _a[0], downPoint1 = _a[1];
                                        _b = __read([ movePoint1, movePoint0 ], 2), movePoint0 = _b[0], movePoint1 = _b[1];
                                    }
                                    var downPos0 = downStartX + downPoint0.x / w * (downEndX - downStartX);
                                    var downPos1 = downStartX + downPoint1.x / w * (downEndX - downStartX);
                                    var movePos0 = downStartX + movePoint0.x / w * (downEndX - downStartX);
                                    var movePos1 = downStartX + movePoint1.x / w * (downEndX - downStartX);
                                    var initialDistance = Math.max(.001, downPos1 - downPos0);
                                    var currentDistance = Math.max(.001, movePos1 - movePos0);
                                    var d = initialDistance / currentDistance;
                                    var s_1 = downStartX * d + downPos0 - movePos0 * d;
                                    var e_1 = downEndX * d + downPos1 - movePos1 * d;
                                    this.xAxes.each((function(xAxis) {
                                        var sa = xAxis.fixPosition(s_1);
                                        var ea = xAxis.fixPosition(e_1);
                                        xAxis.zoom(sa, ea, 0);
                                    }));
                                }
                            }
                            if (this.get("pinchZoomY")) {
                                var downStartY = this._downStartY;
                                var downEndY = this._downEndY;
                                if (null != downStartY && null != downEndY) {
                                    if (downPoint0.y < downPoint1.y) {
                                        _c = __read([ downPoint1, downPoint0 ], 2), downPoint0 = _c[0], downPoint1 = _c[1];
                                        _d = __read([ movePoint1, movePoint0 ], 2), movePoint0 = _d[0], movePoint1 = _d[1];
                                    }
                                    downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);
                                    downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);
                                    movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);
                                    movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);
                                    initialDistance = Math.max(.001, downPos1 - downPos0);
                                    currentDistance = Math.max(.001, movePos1 - movePos0);
                                    d = initialDistance / currentDistance;
                                    var s_2 = downStartY * d + downPos0 - movePos0 * d;
                                    var e_2 = downEndY * d + downPos1 - movePos1 * d;
                                    this.yAxes.each((function(yAxis) {
                                        var sa = yAxis.fixPosition(s_2);
                                        var ea = yAxis.fixPosition(e_2);
                                        yAxis.zoom(sa, ea, 0);
                                    }));
                                }
                            }
                        }
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleCursorPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var cursor = this.get("cursor");
                    if (cursor) {
                        var cursorPoint_1 = cursor.getPrivate("point");
                        var snapToSeries = cursor.get("snapToSeries");
                        if (cursor._downPoint) snapToSeries = void 0;
                        if (snapToSeries && cursorPoint_1) {
                            var snapToSeriesBy_1 = cursor.get("snapToSeriesBy");
                            var dataItems_1 = [];
                            each(snapToSeries, (function(series) {
                                if (!series.isHidden() && !series.isHiding()) if ("x!" != snapToSeriesBy_1 && "y!" != snapToSeriesBy_1) {
                                    var startIndex = series.startIndex();
                                    var endIndex = series.endIndex();
                                    for (var i = startIndex; i < endIndex; i++) {
                                        var dataItem = series.dataItems[i];
                                        if (dataItem && !dataItem.isHidden()) dataItems_1.push(dataItem);
                                    }
                                } else {
                                    var tooltipDataItem = series.get("tooltipDataItem");
                                    if (tooltipDataItem) dataItems_1.push(tooltipDataItem);
                                }
                            }));
                            var minDistance_1 = 1 / 0;
                            var closestItem_1;
                            each(dataItems_1, (function(dataItem) {
                                var point = dataItem.get("point");
                                if (point) {
                                    var distance = 0;
                                    if ("x" == snapToSeriesBy_1 || "x!" == snapToSeriesBy_1) distance = Math.abs(cursorPoint_1.x - point.x); else if ("y" == snapToSeriesBy_1 || "y!" == snapToSeriesBy_1) distance = Math.abs(cursorPoint_1.y - point.y); else distance = Math.hypot(cursorPoint_1.x - point.x, cursorPoint_1.y - point.y);
                                    if (distance < minDistance_1) {
                                        minDistance_1 = distance;
                                        closestItem_1 = dataItem;
                                    }
                                }
                            }));
                            each(snapToSeries, (function(series) {
                                var tooltip = series.get("tooltip");
                                if (tooltip) tooltip._setDataItem(void 0);
                            }));
                            if (closestItem_1) {
                                var series = closestItem_1.component;
                                series.showDataItemTooltip(closestItem_1);
                                var point = closestItem_1.get("point");
                                if (point) cursor.handleMove(series.toGlobal({
                                    x: point.x - series.x(),
                                    y: point.y - series.y()
                                }), true);
                            }
                        }
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_updateCursor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var cursor = this.get("cursor");
                    if (cursor) cursor.handleMove();
                }
            });
            Object.defineProperty(XYChart.prototype, "_addCursor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(cursor) {
                    this.plotContainer.children.push(cursor);
                }
            });
            Object.defineProperty(XYChart.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._prepareChildren.call(this);
                    this.series.each((function(series) {
                        _this._colorize(series);
                    }));
                    if (this.isDirty("wheelX") || this.isDirty("wheelY")) this._handleSetWheel();
                    if (this.isDirty("cursor")) {
                        var previous = this._prevSettings.cursor;
                        var cursor = this.get("cursor");
                        if (cursor !== previous) {
                            this._disposeProperty("cursor");
                            if (previous) previous.dispose();
                            if (cursor) {
                                cursor._setChart(this);
                                this._addCursor(cursor);
                                this._pushPropertyDisposer("cursor", cursor.events.on("selectended", (function() {
                                    _this._handleCursorSelectEnd();
                                })));
                            }
                            this._prevSettings.cursor = cursor;
                        }
                    }
                    if (this.isDirty("scrollbarX")) {
                        previous = this._prevSettings.scrollbarX;
                        var scrollbarX = this.get("scrollbarX");
                        if (scrollbarX !== previous) {
                            this._disposeProperty("scrollbarX");
                            if (previous) previous.dispose();
                            if (scrollbarX) {
                                if (!scrollbarX.parent) this.topAxesContainer.children.push(scrollbarX);
                                this._pushPropertyDisposer("scrollbarX", scrollbarX.events.on("rangechanged", (function(e) {
                                    _this._handleScrollbar(_this.xAxes, e.start, e.end, e.grip);
                                })));
                                scrollbarX.setPrivate("positionTextFunction", (function(position) {
                                    var axis = _this.xAxes.getIndex(0);
                                    return axis ? axis.getTooltipText(position) || "" : "";
                                }));
                            }
                            this._prevSettings.scrollbarX = scrollbarX;
                        }
                    }
                    if (this.isDirty("scrollbarY")) {
                        previous = this._prevSettings.scrollbarY;
                        var scrollbarY = this.get("scrollbarY");
                        if (scrollbarY !== previous) {
                            this._disposeProperty("scrollbarY");
                            if (previous) previous.dispose();
                            if (scrollbarY) {
                                if (!scrollbarY.parent) this.rightAxesContainer.children.push(scrollbarY);
                                this._pushPropertyDisposer("scrollbarY", scrollbarY.events.on("rangechanged", (function(e) {
                                    _this._handleScrollbar(_this.yAxes, e.start, e.end, e.grip);
                                })));
                                scrollbarY.setPrivate("positionTextFunction", (function(position) {
                                    var axis = _this.yAxes.getIndex(0);
                                    return axis ? axis.getTooltipText(position) || "" : "";
                                }));
                            }
                            this._prevSettings.scrollbarY = scrollbarY;
                        }
                    }
                    this._handleZoomOut();
                }
            });
            Object.defineProperty(XYChart.prototype, "_processSeries", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    _super.prototype._processSeries.call(this, series);
                    this._colorize(series);
                }
            });
            Object.defineProperty(XYChart.prototype, "_colorize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    var colorSet = this.get("colors");
                    if (colorSet) if (null == series.get("fill")) {
                        var color = colorSet.next();
                        series._setSoft("stroke", color);
                        series._setSoft("fill", color);
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleCursorSelectEnd", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var cursor = this.get("cursor");
                    var behavior = cursor.get("behavior");
                    var downPositionX = cursor.getPrivate("downPositionX", 0);
                    var downPositionY = cursor.getPrivate("downPositionY", 0);
                    var positionX = cursor.getPrivate("positionX", .5);
                    var positionY = cursor.getPrivate("positionY", .5);
                    this.xAxes.each((function(axis) {
                        if ("zoomX" === behavior || "zoomXY" === behavior) {
                            var position0 = axis.toAxisPosition(downPositionX);
                            var position1 = axis.toAxisPosition(positionX);
                            axis.zoom(position0, position1);
                        }
                        axis.setPrivate("updateScrollbar", true);
                    }));
                    this.yAxes.each((function(axis) {
                        if ("zoomY" === behavior || "zoomXY" === behavior) {
                            var position0 = axis.toAxisPosition(downPositionY);
                            var position1 = axis.toAxisPosition(positionY);
                            axis.zoom(position0, position1);
                        }
                        axis.setPrivate("updateScrollbar", true);
                    }));
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleScrollbar", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axes, start, end, priority) {
                    axes.each((function(axis) {
                        var axisStart = axis.fixPosition(start);
                        var axisEnd = axis.fixPosition(end);
                        var zoomAnimation = axis.zoom(axisStart, axisEnd, void 0, priority);
                        var updateScrollbar = "updateScrollbar";
                        axis.setPrivateRaw(updateScrollbar, false);
                        if (zoomAnimation) zoomAnimation.events.on("stopped", (function() {
                            axis.setPrivateRaw(updateScrollbar, true);
                        })); else axis.setPrivateRaw(updateScrollbar, true);
                    }));
                }
            });
            Object.defineProperty(XYChart.prototype, "_processAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axes, container) {
                    var _this = this;
                    return axes.events.onAll((function(change) {
                        if ("clear" === change.type) each(change.oldValues, (function(axis) {
                            _this._removeAxis(axis);
                        })); else if ("push" === change.type) {
                            container.children.push(change.newValue);
                            change.newValue.processChart(_this);
                        } else if ("setIndex" === change.type) {
                            container.children.setIndex(change.index, change.newValue);
                            change.newValue.processChart(_this);
                        } else if ("insertIndex" === change.type) {
                            container.children.insertIndex(change.index, change.newValue);
                            change.newValue.processChart(_this);
                        } else if ("removeIndex" === change.type) _this._removeAxis(change.oldValue); else if ("moveIndex" === change.type) {
                            container.children.moveValue(change.value, change.newIndex);
                            change.value.processChart(_this);
                        } else throw new Error("Unknown IListEvent type");
                    }));
                }
            });
            Object.defineProperty(XYChart.prototype, "_removeAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axis) {
                    if (!axis.isDisposed()) {
                        var axisParent = axis.parent;
                        if (axisParent) axisParent.children.removeValue(axis);
                        var gridContainer = axis.gridContainer;
                        var gridParent = gridContainer.parent;
                        if (gridParent) gridParent.children.removeValue(gridContainer);
                        var topGridContainer = axis.topGridContainer;
                        var topGridParent = topGridContainer.parent;
                        if (topGridParent) topGridParent.children.removeValue(topGridContainer);
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_updateChartLayout", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var left = this.leftAxesContainer.width();
                    var right = this.rightAxesContainer.width();
                    var bottomAxesContainer = this.bottomAxesContainer;
                    bottomAxesContainer.set("paddingLeft", left);
                    bottomAxesContainer.set("paddingRight", right);
                    var topAxesContainer = this.topAxesContainer;
                    topAxesContainer.set("paddingLeft", left);
                    topAxesContainer.set("paddingRight", right);
                }
            });
            Object.defineProperty(XYChart.prototype, "processAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_axis) {}
            });
            Object.defineProperty(XYChart.prototype, "_handleAxisSelection", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axis, force) {
                    var _a;
                    var start = axis.fixPosition(axis.get("start", 0));
                    var end = axis.fixPosition(axis.get("end", 1));
                    if (start > end) _a = __read([ end, start ], 2), start = _a[0], end = _a[1];
                    if (-1 != this.xAxes.indexOf(axis)) {
                        if (force || axis.getPrivate("updateScrollbar")) {
                            var scrollbarX = this.get("scrollbarX");
                            if (scrollbarX && (!scrollbarX.getPrivate("isBusy") || force)) {
                                scrollbarX.setRaw("start", start);
                                scrollbarX.setRaw("end", end);
                                scrollbarX.updateGrips();
                            }
                        }
                    } else if (-1 != this.yAxes.indexOf(axis)) if (force || axis.getPrivate("updateScrollbar")) {
                        var scrollbarY = this.get("scrollbarY");
                        if (scrollbarY && (!scrollbarY.getPrivate("isBusy") || force)) {
                            scrollbarY.setRaw("start", start);
                            scrollbarY.setRaw("end", end);
                            scrollbarY.updateGrips();
                        }
                    }
                    this._handleZoomOut();
                }
            });
            Object.defineProperty(XYChart.prototype, "_handleZoomOut", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var zoomOutButton = this.zoomOutButton;
                    if (zoomOutButton && zoomOutButton.parent) {
                        var visible_1 = false;
                        this.xAxes.each((function(axis) {
                            if (0 != axis.get("start") || 1 != axis.get("end")) visible_1 = true;
                        }));
                        this.yAxes.each((function(axis) {
                            if (0 != axis.get("start") || 1 != axis.get("end")) visible_1 = true;
                        }));
                        if (visible_1) {
                            if (zoomOutButton.isHidden()) zoomOutButton.show();
                        } else zoomOutButton.hide();
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "inPlot", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    var plotContainer = this.plotContainer;
                    var otherCharts = this.getPrivate("otherCharts", this._otherCharts);
                    var global = plotContainer.toGlobal(point);
                    if (point.x >= -.1 && point.y >= -.1 && point.x <= plotContainer.width() + .1 && point.y <= plotContainer.height() + .1) return true;
                    if (otherCharts) for (var i = otherCharts.length - 1; i >= 0; i--) {
                        var chart = otherCharts[i];
                        if (chart != this) {
                            var chartPlotContainer = chart.plotContainer;
                            var documentPoint = this._root.rootPointToDocument(global);
                            var chartRoot = chart._root.documentPointToRoot(documentPoint);
                            var local = chartPlotContainer.toLocal(chartRoot);
                            if (local.x >= -.1 && local.y >= -.1 && local.x <= chartPlotContainer.width() + .1 && local.y <= chartPlotContainer.height() + .1) return true;
                        }
                    }
                    return false;
                }
            });
            Object.defineProperty(XYChart.prototype, "arrangeTooltips", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var plotContainer = this.plotContainer;
                    var w = plotContainer.width();
                    var h = plotContainer.height();
                    var hh = this.height();
                    var plotT = plotContainer._display.toGlobal({
                        x: 0,
                        y: 0
                    });
                    var plotB = plotContainer._display.toGlobal({
                        x: w,
                        y: h
                    });
                    var tooltips = [];
                    var sum = 0;
                    var minDistance = 1 / 0;
                    var movePoint = this._movePoint;
                    var maxTooltipDistance = this.get("maxTooltipDistance");
                    var maxTooltipDistanceBy = this.get("maxTooltipDistanceBy", "xy");
                    var closest;
                    var closestPoint;
                    if (isNumber(maxTooltipDistance)) this.series.each((function(series) {
                        var tooltip = series.get("tooltip");
                        if (tooltip) {
                            var point = tooltip.get("pointTo");
                            if (point) {
                                var distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);
                                if ("x" == maxTooltipDistanceBy) distance = Math.abs(movePoint.x - point.x); else if ("y" == maxTooltipDistanceBy) distance = Math.abs(movePoint.y - point.y);
                                if (distance < minDistance) {
                                    minDistance = distance;
                                    closest = series;
                                    closestPoint = point;
                                }
                            }
                        }
                    }));
                    var tooltipSeries = [];
                    this.series.each((function(series) {
                        var tooltip = series.get("tooltip");
                        if (tooltip) {
                            var hidden = false;
                            var point = tooltip.get("pointTo");
                            if (point) {
                                if (maxTooltipDistance >= 0) {
                                    var point_1 = tooltip.get("pointTo");
                                    if (point_1) if (series != closest) {
                                        var distance = Math.hypot(closestPoint.x - point_1.x, closestPoint.y - point_1.y);
                                        if ("x" == maxTooltipDistanceBy) distance = Math.abs(closestPoint.x - point_1.x); else if ("y" == maxTooltipDistanceBy) distance = Math.abs(closestPoint.y - point_1.y);
                                        if (distance > maxTooltipDistance) hidden = true;
                                    }
                                } else if (-1 == maxTooltipDistance) if (series != closest) hidden = true;
                                if (!_this.inPlot(_this._tooltipToLocal(point)) || !tooltip.dataItem) hidden = true; else if (!hidden) sum += point.y;
                                if (hidden || series.isHidden() || series.isHiding()) tooltip.hide(0); else {
                                    tooltip.show();
                                    tooltips.push(tooltip);
                                    tooltipSeries.push(series);
                                }
                            }
                        }
                    }));
                    this.setPrivate("tooltipSeries", tooltipSeries);
                    if (this.get("arrangeTooltips")) {
                        var tooltipContainer_1 = this._root.tooltipContainer;
                        var count = tooltips.length;
                        var average = sum / count;
                        if (average > h / 2 + plotT.y) {
                            tooltips.sort((function(a, b) {
                                return compareNumber(b.get("pointTo").y, a.get("pointTo").y);
                            }));
                            var prevY_1 = plotB.y;
                            each(tooltips, (function(tooltip) {
                                var height = tooltip.height();
                                var centerY = tooltip.get("centerY");
                                if (centerY instanceof Percent) height *= centerY.value;
                                height += tooltip.get("marginBottom", 0);
                                tooltip.set("bounds", {
                                    left: plotT.x,
                                    top: plotT.y,
                                    right: plotB.x,
                                    bottom: prevY_1
                                });
                                tooltip.setPrivate("customData", {
                                    left: plotT.x,
                                    top: plotT.y,
                                    right: plotB.x,
                                    bottom: prevY_1
                                });
                                prevY_1 = Math.min(prevY_1 - height, tooltip._fy - height);
                                if (tooltip.parent == tooltipContainer_1) tooltipContainer_1.children.moveValue(tooltip, 0);
                            }));
                            if (prevY_1 < 0) {
                                tooltips.reverse();
                                var prevBottom_1 = prevY_1;
                                each(tooltips, (function(tooltip) {
                                    var bounds = tooltip.get("bounds");
                                    if (bounds) {
                                        var top_1 = bounds.top - prevY_1;
                                        var bottom = bounds.bottom - prevY_1;
                                        if (top_1 < prevBottom_1) {
                                            top_1 = prevBottom_1;
                                            bottom = top_1 + tooltip.height();
                                        }
                                        tooltip.set("bounds", {
                                            left: bounds.left,
                                            top: top_1,
                                            right: bounds.right,
                                            bottom
                                        });
                                        prevBottom_1 = bounds.bottom - prevY_1 + tooltip.get("marginBottom", 0);
                                    }
                                }));
                            }
                        } else {
                            tooltips.reverse();
                            tooltips.sort((function(a, b) {
                                return compareNumber(a.get("pointTo").y, b.get("pointTo").y);
                            }));
                            var prevY_2 = 0;
                            each(tooltips, (function(tooltip) {
                                var height = tooltip.height();
                                var centerY = tooltip.get("centerY");
                                if (centerY instanceof Percent) height *= centerY.value;
                                height += tooltip.get("marginBottom", 0);
                                tooltip.set("bounds", {
                                    left: plotT.x,
                                    top: prevY_2,
                                    right: plotB.x,
                                    bottom: Math.max(plotT.y + hh, prevY_2 + height)
                                });
                                if (tooltip.parent == tooltipContainer_1) tooltipContainer_1.children.moveValue(tooltip, 0);
                                prevY_2 = Math.max(prevY_2 + height, tooltip._fy + height);
                            }));
                            if (prevY_2 > hh) {
                                tooltips.reverse();
                                var prevBottom_2 = hh;
                                each(tooltips, (function(tooltip) {
                                    var bounds = tooltip.get("bounds");
                                    if (bounds) {
                                        var top_2 = bounds.top - (hh - prevY_2);
                                        var bottom = bounds.bottom - (hh - prevY_2);
                                        if (bottom > prevBottom_2) {
                                            bottom = prevBottom_2;
                                            top_2 = bottom - tooltip.height();
                                        }
                                        tooltip.set("bounds", {
                                            left: bounds.left,
                                            top: top_2,
                                            right: bounds.right,
                                            bottom
                                        });
                                        prevBottom_2 = bottom - tooltip.height() - tooltip.get("marginBottom", 0);
                                    }
                                }));
                            }
                        }
                    }
                }
            });
            Object.defineProperty(XYChart.prototype, "_tooltipToLocal", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point) {
                    return this.plotContainer.toLocal(point);
                }
            });
            Object.defineProperty(XYChart.prototype, "zoomOut", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.xAxes.each((function(axis) {
                        axis.setPrivate("updateScrollbar", true);
                        axis.zoom(0, 1);
                    }));
                    this.yAxes.each((function(axis) {
                        axis.setPrivate("updateScrollbar", true);
                        axis.zoom(0, 1);
                    }));
                }
            });
            Object.defineProperty(XYChart, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "XYChart"
            });
            Object.defineProperty(XYChart, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: SerialChart.classNames.concat([ XYChart.className ])
            });
            return XYChart;
        }(SerialChart);
        var ListData = function(_super) {
            __extends(ListData, _super);
            function ListData() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "processor", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(ListData.prototype, "incrementRef", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(ListData.prototype, "decrementRef", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(ListData.prototype, "_onPush", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(newValue) {
                    if (this.processor) this.processor.processRow(newValue);
                    _super.prototype._onPush.call(this, newValue);
                }
            });
            Object.defineProperty(ListData.prototype, "_onInsertIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, newValue) {
                    if (this.processor) this.processor.processRow(newValue);
                    _super.prototype._onInsertIndex.call(this, index, newValue);
                }
            });
            Object.defineProperty(ListData.prototype, "_onSetIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(index, oldValue, newValue) {
                    if (this.processor) this.processor.processRow(newValue);
                    _super.prototype._onSetIndex.call(this, index, oldValue, newValue);
                }
            });
            return ListData;
        }(List);
        (function() {
            function JsonData(value) {
                Object.defineProperty(this, "processor", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(this, "_value", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                this._value = value;
            }
            Object.defineProperty(JsonData.prototype, "incrementRef", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(JsonData.prototype, "decrementRef", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
        })();
        var DataItem = function(_super) {
            __extends(DataItem, _super);
            function DataItem(component, dataContext, settings) {
                var _this = _super.call(this, settings) || this;
                Object.defineProperty(_this, "component", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "dataContext", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "bullets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "open", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "close", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                _this.dataContext = dataContext;
                _this.component = component;
                _this._settings.visible = true;
                _this._checkDirty();
                return _this;
            }
            Object.defineProperty(DataItem.prototype, "markDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.component.markDirtyValues(this);
                }
            });
            Object.defineProperty(DataItem.prototype, "_startAnimation", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.component._root._addAnimation(this);
                }
            });
            Object.defineProperty(DataItem.prototype, "_animationTime", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.component._root.animationTime;
                }
            });
            Object.defineProperty(DataItem.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.component) this.component.disposeDataItem(this);
                    _super.prototype._dispose.call(this);
                }
            });
            Object.defineProperty(DataItem.prototype, "show", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    this.setRaw("visible", true);
                    if (this.component) this.component.showDataItem(this, duration);
                }
            });
            Object.defineProperty(DataItem.prototype, "hide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    this.setRaw("visible", false);
                    if (this.component) this.component.hideDataItem(this, duration);
                }
            });
            Object.defineProperty(DataItem.prototype, "isHidden", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return !this.get("visible");
                }
            });
            return DataItem;
        }(Settings);
        var Component = function(_super) {
            __extends(Component, _super);
            function Component() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_data", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListData
                });
                Object.defineProperty(_this, "_dataItems", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_mainDataItems", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this._dataItems
                });
                Object.defineProperty(_this, "valueFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "fields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ "id" ]
                });
                Object.defineProperty(_this, "_valueFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_valueFieldsF", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_fields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_fieldsF", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_valuesDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dataChanged", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dataGrouped", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "inited", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                return _this;
            }
            Object.defineProperty(Component.prototype, "data", {
                get: function() {
                    return this._data;
                },
                set: function(data) {
                    data.incrementRef();
                    this._data.decrementRef();
                    this._data = data;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Component.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._dispose.call(this);
                    this._data.decrementRef();
                }
            });
            Object.defineProperty(Component.prototype, "_onDataClear", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Component.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterNew.call(this);
                    this._data.incrementRef();
                    this._updateFields();
                    this._disposers.push(this.data.events.onAll((function(change) {
                        var dataItems = _this._mainDataItems;
                        _this.markDirtyValues();
                        _this._markDirtyGroup();
                        _this._dataChanged = true;
                        if ("clear" === change.type) {
                            each(dataItems, (function(dataItem) {
                                dataItem.dispose();
                            }));
                            dataItems.length = 0;
                            _this._onDataClear();
                        } else if ("push" === change.type) {
                            var dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));
                            dataItems.push(dataItem);
                            _this.processDataItem(dataItem);
                        } else if ("setIndex" === change.type) {
                            var dataItem_1 = dataItems[change.index];
                            var properties_1 = _this._makeDataItem(change.newValue);
                            keys(properties_1).forEach((function(key) {
                                dataItem_1.animate({
                                    key,
                                    to: properties_1[key],
                                    duration: _this.get("interpolationDuration", 0),
                                    easing: _this.get("interpolationEasing")
                                });
                            }));
                            dataItem_1.dataContext = change.newValue;
                        } else if ("insertIndex" === change.type) {
                            dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));
                            dataItems.splice(change.index, 0, dataItem);
                            _this.processDataItem(dataItem);
                        } else if ("removeIndex" === change.type) {
                            dataItem = dataItems[change.index];
                            dataItem.dispose();
                            dataItems.splice(change.index, 1);
                        } else if ("moveIndex" === change.type) {
                            dataItem = dataItems[change.oldIndex];
                            dataItems.splice(change.oldIndex, 1);
                            dataItems.splice(change.newIndex, 0, dataItem);
                        } else throw new Error("Unknown IStreamEvent type");
                        _this._afterDataChange();
                    })));
                }
            });
            Object.defineProperty(Component.prototype, "_updateFields", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (this.valueFields) {
                        this._valueFields = [];
                        this._valueFieldsF = {};
                        each(this.valueFields, (function(key) {
                            var field = _this.get(key + "Field");
                            if (field) {
                                _this._valueFields.push(key);
                                _this._valueFieldsF[key] = {
                                    fieldKey: key + "Field",
                                    workingKey: key + "Working"
                                };
                            }
                        }));
                    }
                    if (this.fields) {
                        this._fields = [];
                        this._fieldsF = {};
                        each(this.fields, (function(key) {
                            var field = _this.get(key + "Field");
                            if (field) {
                                _this._fields.push(key);
                                _this._fieldsF[key] = key + "Field";
                            }
                        }));
                    }
                }
            });
            Object.defineProperty(Component.prototype, "dataItems", {
                get: function() {
                    return this._dataItems;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Component.prototype, "processDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {}
            });
            Object.defineProperty(Component.prototype, "_makeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(data) {
                    var _this = this;
                    var output = {};
                    if (this._valueFields) each(this._valueFields, (function(key) {
                        var field = _this.get(_this._valueFieldsF[key].fieldKey);
                        output[key] = data[field];
                        output[_this._valueFieldsF[key].workingKey] = output[key];
                    }));
                    if (this._fields) each(this._fields, (function(key) {
                        var field = _this.get(_this._fieldsF[key]);
                        output[key] = data[field];
                    }));
                    return output;
                }
            });
            Object.defineProperty(Component.prototype, "makeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(data) {
                    var dataItem = new DataItem(this, void 0, data);
                    this.processDataItem(dataItem);
                    return dataItem;
                }
            });
            Object.defineProperty(Component.prototype, "pushDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(data) {
                    var dataItem = this.makeDataItem(data);
                    this._mainDataItems.push(dataItem);
                    return dataItem;
                }
            });
            Object.defineProperty(Component.prototype, "disposeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {}
            });
            Object.defineProperty(Component.prototype, "showDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, _duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        return __generator(this, (function(_a) {
                            dataItem.set("visible", true);
                            return [ 2 ];
                        }));
                    }));
                }
            });
            Object.defineProperty(Component.prototype, "hideDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, _duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        return __generator(this, (function(_a) {
                            dataItem.set("visible", false);
                            return [ 2 ];
                        }));
                    }));
                }
            });
            Object.defineProperty(Component.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._valuesDirty = false;
                }
            });
            Object.defineProperty(Component.prototype, "_afterDataChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Component.prototype, "_afterChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterChanged.call(this);
                    if (this._dataChanged) {
                        var type = "datavalidated";
                        if (this.events.isEnabled(type)) this.events.dispatch(type, {
                            type,
                            target: this
                        });
                        this._dataChanged = false;
                    }
                    this.inited = true;
                }
            });
            Object.defineProperty(Component.prototype, "markDirtyValues", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {
                    this.markDirty();
                    this._valuesDirty = true;
                }
            });
            Object.defineProperty(Component.prototype, "_markDirtyGroup", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._dataGrouped = false;
                }
            });
            Object.defineProperty(Component.prototype, "markDirtySize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._sizeDirty = true;
                    this.markDirty();
                }
            });
            Object.defineProperty(Component, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Component"
            });
            Object.defineProperty(Component, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Container.classNames.concat([ Component.className ])
            });
            return Component;
        }(Container);
        var Axis = function(_super) {
            __extends(Axis, _super);
            function Axis() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_series", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_isPanning", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "labelsContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.children.push(Container["new"](_this._root, {}))
                });
                Object.defineProperty(_this, "gridContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        width: p100,
                        height: p100
                    })
                });
                Object.defineProperty(_this, "topGridContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        width: p100,
                        height: p100
                    })
                });
                Object.defineProperty(_this, "bulletsContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.children.push(Container["new"](_this._root, {
                        isMeasured: false,
                        width: p100,
                        height: p100,
                        position: "absolute"
                    }))
                });
                Object.defineProperty(_this, "chart", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_rangesDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_panStart", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_panEnd", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_sAnimation", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_eAnimation", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_skipSync", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "axisRanges", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new List
                });
                Object.defineProperty(_this, "_seriesAxisRanges", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "ghostLabel", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_cursorPosition", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: -1
                });
                Object.defineProperty(_this, "_snapToSeries", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_seriesValuesDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "axisHeader", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.children.push(Container["new"](_this._root, {
                        themeTags: [ "axis", "header" ],
                        position: "absolute",
                        background: Rectangle["new"](_this._root, {
                            themeTags: [ "header", "background" ],
                            fill: _this._root.interfaceColors.get("background")
                        })
                    }))
                });
                Object.defineProperty(_this, "_bullets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_crispX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_crispY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                return _this;
            }
            Object.defineProperty(Axis.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.gridContainer.dispose();
                    this.topGridContainer.dispose();
                    this.bulletsContainer.dispose();
                    this.labelsContainer.dispose();
                    this.axisHeader.dispose();
                    _super.prototype._dispose.call(this);
                }
            });
            Object.defineProperty(Axis.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterNew.call(this);
                    this.setPrivate("updateScrollbar", true);
                    this._disposers.push(this.axisRanges.events.onAll((function(change) {
                        if ("clear" === change.type) each(change.oldValues, (function(dataItem) {
                            _this.disposeDataItem(dataItem);
                        })); else if ("push" === change.type) _this._processAxisRange(change.newValue, [ "range" ]); else if ("setIndex" === change.type) _this._processAxisRange(change.newValue, [ "range" ]); else if ("insertIndex" === change.type) _this._processAxisRange(change.newValue, [ "range" ]); else if ("removeIndex" === change.type) _this.disposeDataItem(change.oldValue); else if ("moveIndex" === change.type) _this._processAxisRange(change.value, [ "range" ]); else throw new Error("Unknown IStreamEvent type");
                    })));
                    var renderer = this.get("renderer");
                    if (renderer) {
                        renderer.axis = this;
                        renderer.processAxis();
                    }
                    this.children.push(renderer);
                    this.ghostLabel = renderer.makeLabel(new DataItem(this, void 0, {}), []);
                    this.ghostLabel.adapters.disable("text");
                    this.ghostLabel.set("opacity", 0);
                }
            });
            Object.defineProperty(Axis.prototype, "zoom", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(start, end, duration, priority) {
                    var _a;
                    var _this = this;
                    if (this.get("start") !== start || this.get("end") != end) {
                        var sAnimation = this._sAnimation;
                        var eAnimation = this._eAnimation;
                        var maxDeviation = this.get("maxDeviation", .5) * Math.min(1, end - start);
                        if (start < -maxDeviation) start = -maxDeviation;
                        if (end > 1 + maxDeviation) end = 1 + maxDeviation;
                        if (start > end) _a = __read([ end, start ], 2), start = _a[0], end = _a[1];
                        if (!isNumber(duration)) duration = this.get("interpolationDuration", 0);
                        if (!priority) priority = "end";
                        var maxZoomFactor = this.getPrivate("maxZoomFactor", this.get("maxZoomFactor", 100));
                        var maxZoomFactorReal = maxZoomFactor;
                        if (1 === end && 0 !== start) if (start < this.get("start")) priority = "start"; else priority = "end";
                        if (0 === start && 1 !== end) if (end > this.get("end")) priority = "end"; else priority = "start";
                        var minZoomCount = this.get("minZoomCount");
                        var maxZoomCount = this.get("maxZoomCount");
                        if (isNumber(minZoomCount)) maxZoomFactor = maxZoomFactorReal / minZoomCount;
                        var minZoomFactor = 1;
                        if (isNumber(maxZoomCount)) minZoomFactor = maxZoomFactorReal / maxZoomCount;
                        if ("start" === priority) {
                            if (maxZoomCount > 0) if (1 / (end - start) < minZoomFactor) end = start + 1 / minZoomFactor;
                            if (1 / (end - start) > maxZoomFactor) end = start + 1 / maxZoomFactor;
                            if (end > 1 && end - start < 1 / maxZoomFactor) start = end - 1 / maxZoomFactor;
                        } else {
                            if (maxZoomCount > 0) if (1 / (end - start) < minZoomFactor) start = end - 1 / minZoomFactor;
                            if (1 / (end - start) > maxZoomFactor) start = end - 1 / maxZoomFactor;
                            if (start < 0 && end - start < 1 / maxZoomFactor) end = start + 1 / maxZoomFactor;
                        }
                        if (1 / (end - start) > maxZoomFactor) end = start + 1 / maxZoomFactor;
                        if (1 / (end - start) > maxZoomFactor) start = end - 1 / maxZoomFactor;
                        if (null != maxZoomCount && null != minZoomCount && start == this.get("start") && end == this.get("end")) {
                            var chart = this.chart;
                            if (chart) chart._handleAxisSelection(this, true);
                        }
                        if ((sAnimation && sAnimation.playing && sAnimation.to == start || this.get("start") == start) && (eAnimation && eAnimation.playing && eAnimation.to == end || this.get("end") == end)) return;
                        if (duration > 0) {
                            var easing = this.get("interpolationEasing");
                            var sAnimation_1, eAnimation_1;
                            if (this.get("start") != start) sAnimation_1 = this.animate({
                                key: "start",
                                to: start,
                                duration,
                                easing
                            });
                            if (this.get("end") != end) eAnimation_1 = this.animate({
                                key: "end",
                                to: end,
                                duration,
                                easing
                            });
                            this._sAnimation = sAnimation_1;
                            this._eAnimation = eAnimation_1;
                            if (sAnimation_1) return sAnimation_1; else if (eAnimation_1) return eAnimation_1;
                        } else {
                            this.set("start", start);
                            this.set("end", end);
                            this._root.events.once("frameended", (function() {
                                _this._markDirtyKey("start");
                                _this._root._markDirty();
                            }));
                        }
                    } else {
                        if (this._sAnimation) this._sAnimation.stop();
                        if (this._eAnimation) this._eAnimation.stop();
                    }
                }
            });
            Object.defineProperty(Axis.prototype, "series", {
                get: function() {
                    return this._series;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(Axis.prototype, "_processAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, themeTags) {
                    dataItem.setRaw("isRange", true);
                    this._createAssets(dataItem, themeTags);
                    this._rangesDirty = true;
                    this._prepareDataItem(dataItem);
                    var above = dataItem.get("above");
                    var container = this.topGridContainer;
                    var grid = dataItem.get("grid");
                    if (above && grid) container.children.moveValue(grid);
                    var fill = dataItem.get("axisFill");
                    if (above && fill) container.children.moveValue(fill);
                }
            });
            Object.defineProperty(Axis.prototype, "_prepareDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem, _index) {}
            });
            Object.defineProperty(Axis.prototype, "markDirtyExtremes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Axis.prototype, "markDirtySelectionExtremes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Axis.prototype, "_calculateTotals", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(Axis.prototype, "_updateAxisRanges", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._bullets = {};
                    this.axisRanges.each((function(axisRange) {
                        _this._prepareDataItem(axisRange);
                    }));
                    each(this._seriesAxisRanges, (function(axisRange) {
                        _this._prepareDataItem(axisRange);
                    }));
                }
            });
            Object.defineProperty(Axis.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._prepareChildren.call(this);
                    if (this.get("fixAxisSize")) this.ghostLabel.set("visible", true); else this.ghostLabel.set("visible", false);
                    if (this.isDirty("start") || this.isDirty("end")) {
                        this.chart._updateCursor();
                        var start = this.get("start", 0);
                        var end = this.get("end", 1);
                        var maxDeviation = this.get("maxDeviation", .5) * Math.min(1, end - start);
                        if (start < -maxDeviation) {
                            var delta = start + maxDeviation;
                            start = -maxDeviation;
                            this.setRaw("start", start);
                            if (this.isDirty("end")) this.setRaw("end", end - delta);
                        }
                        if (end > 1 + maxDeviation) {
                            delta = end - 1 - maxDeviation;
                            end = 1 + maxDeviation;
                            this.setRaw("end", end);
                            if (this.isDirty("start")) this.setRaw("start", start - delta);
                        }
                    }
                    var renderer = this.get("renderer");
                    renderer._start = this.get("start");
                    renderer._end = this.get("end");
                    renderer._inversed = renderer.get("inversed", false);
                    renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);
                    renderer._updateLC();
                    if (this.isDirty("tooltip")) {
                        var tooltip = this.get("tooltip");
                        if (tooltip) {
                            var rendererTags = renderer.get("themeTags");
                            tooltip.addTag("axis");
                            tooltip.addTag(this.className.toLowerCase());
                            tooltip._applyThemes();
                            if (rendererTags) {
                                tooltip.set("themeTags", mergeTags(tooltip.get("themeTags"), rendererTags));
                                tooltip.label._applyThemes();
                            }
                        }
                    }
                }
            });
            Object.defineProperty(Axis.prototype, "_updateTooltipBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.get("tooltip");
                    if (tooltip) this.get("renderer").updateTooltipBounds(tooltip);
                }
            });
            Object.defineProperty(Axis.prototype, "_updateBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._updateBounds.call(this);
                    this._updateTooltipBounds();
                }
            });
            Object.defineProperty(Axis.prototype, "processChart", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(chart) {
                    var _this = this;
                    this.chart = chart;
                    var renderer = this.get("renderer");
                    renderer.chart = chart;
                    chart.gridContainer.children.push(this.gridContainer);
                    chart.topGridContainer.children.push(this.topGridContainer);
                    chart.axisHeadersContainer.children.push(this.axisHeader);
                    this.on("start", (function() {
                        chart._handleAxisSelection(_this);
                    }));
                    this.on("end", (function() {
                        chart._handleAxisSelection(_this);
                    }));
                    chart.plotContainer.onPrivate("width", (function() {
                        _this.markDirtySize();
                    }));
                    chart.plotContainer.onPrivate("height", (function() {
                        _this.markDirtySize();
                    }));
                    chart.processAxis(this);
                }
            });
            Object.defineProperty(Axis.prototype, "hideDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    this._toggleDataItem(dataItem, false);
                    return _super.prototype.hideDataItem.call(this, dataItem);
                }
            });
            Object.defineProperty(Axis.prototype, "showDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    this._toggleDataItem(dataItem, true);
                    return _super.prototype.showDataItem.call(this, dataItem);
                }
            });
            Object.defineProperty(Axis.prototype, "_toggleDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, visible) {
                    var label = dataItem.get("label");
                    if (label) label.setPrivate("visible", visible);
                    var grid = dataItem.get("grid");
                    if (grid) grid.setPrivate("visible", visible);
                    var tick = dataItem.get("tick");
                    if (tick) tick.setPrivate("visible", visible);
                    var axisFill = dataItem.get("axisFill");
                    if (axisFill) axisFill.setPrivate("visible", visible);
                    var bullet = dataItem.get("bullet");
                    if (bullet) {
                        var sprite = bullet.get("sprite");
                        if (sprite) sprite.setPrivate("visible", visible);
                    }
                }
            });
            Object.defineProperty(Axis.prototype, "_createAssets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, tags) {
                    var renderer = this.get("renderer");
                    if (!dataItem.get("label")) renderer.makeLabel(dataItem, tags);
                    if (!dataItem.get("grid")) renderer.makeGrid(dataItem, tags);
                    if (!dataItem.get("tick")) renderer.makeTick(dataItem, tags);
                    if (!dataItem.get("axisFill")) renderer.makeAxisFill(dataItem, tags);
                    this._processBullet(dataItem);
                }
            });
            Object.defineProperty(Axis.prototype, "_processBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var bullet = dataItem.get("bullet");
                    var axisBullet = this.get("bullet");
                    if (!bullet && axisBullet && !dataItem.get("isRange")) bullet = axisBullet(this._root, this, dataItem);
                    if (bullet) {
                        bullet.axis = this;
                        var sprite = bullet.get("sprite");
                        if (sprite) {
                            sprite._setDataItem(dataItem);
                            dataItem.setRaw("bullet", bullet);
                            if (!sprite.parent) this.bulletsContainer.children.push(sprite);
                        }
                    }
                }
            });
            Object.defineProperty(Axis.prototype, "_afterChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterChanged.call(this);
                    var chart = this.chart;
                    if (chart) {
                        chart._updateChartLayout();
                        chart.axisHeadersContainer.markDirtySize();
                    }
                    this.get("renderer")._updatePositions();
                }
            });
            Object.defineProperty(Axis.prototype, "disposeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    _super.prototype.disposeDataItem.call(this, dataItem);
                    var renderer = this.get("renderer");
                    var label = dataItem.get("label");
                    if (label) {
                        renderer.labels.removeValue(label);
                        label.dispose();
                    }
                    var tick = dataItem.get("tick");
                    if (tick) {
                        renderer.ticks.removeValue(tick);
                        tick.dispose();
                    }
                    var grid = dataItem.get("grid");
                    if (grid) {
                        renderer.grid.removeValue(grid);
                        grid.dispose();
                    }
                    var axisFill = dataItem.get("axisFill");
                    if (axisFill) {
                        renderer.axisFills.removeValue(axisFill);
                        axisFill.dispose();
                    }
                    var bullet = dataItem.get("bullet");
                    if (bullet) bullet.dispose();
                }
            });
            Object.defineProperty(Axis.prototype, "_updateGhost", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var ghostLabel = this.ghostLabel;
                    if (!ghostLabel.isHidden()) {
                        var bounds = ghostLabel.localBounds();
                        var gWidth_1 = bounds.right - bounds.left;
                        var text_1 = ghostLabel.get("text");
                        each(this.dataItems, (function(dataItem) {
                            var label = dataItem.get("label");
                            if (label && !label.isHidden()) {
                                var bounds_1 = label.localBounds();
                                var w = bounds_1.right - bounds_1.left;
                                if (w > gWidth_1) text_1 = label.text._getText();
                            }
                        }));
                        ghostLabel.set("text", text_1);
                    }
                    var start = this.get("start", 0);
                    var end = this.get("end", 1);
                    this.get("renderer").updateLabel(ghostLabel, start + .5 * (end - start));
                }
            });
            Object.defineProperty(Axis.prototype, "_handleCursorPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position, snapToSeries) {
                    var renderer = this.get("renderer");
                    position = renderer.toAxisPosition(position);
                    this._cursorPosition = position;
                    this._snapToSeries = snapToSeries;
                    this.updateTooltip();
                }
            });
            Object.defineProperty(Axis.prototype, "updateTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var snapToSeries = this._snapToSeries;
                    var position = this._cursorPosition;
                    var tooltip = this.get("tooltip");
                    var renderer = this.get("renderer");
                    if (isNumber(position)) {
                        each(this.series, (function(series) {
                            if (series.get("baseAxis") === _this) {
                                var dataItem = _this.getSeriesItem(series, position, _this.get("tooltipLocation"));
                                series.setRaw("tooltipDataItem", dataItem);
                                if (snapToSeries && -1 != snapToSeries.indexOf(series)) {
                                    series.updateLegendMarker(dataItem);
                                    series.updateLegendValue(dataItem);
                                } else series.showDataItemTooltip(dataItem);
                            }
                        }));
                        if (tooltip) {
                            renderer.updateTooltipBounds(tooltip);
                            if (this.get("snapTooltip")) position = this.roundAxisPosition(position, this.get("tooltipLocation", .5));
                            if (!Type_isNaN(position)) {
                                this.setPrivateRaw("tooltipPosition", position);
                                this._updateTooltipText(tooltip, position);
                                renderer.positionTooltip(tooltip, position);
                                if (position < this.get("start") || position > this.get("end")) tooltip.hide(0); else tooltip.show(0);
                            } else tooltip.hide(0);
                        }
                    }
                }
            });
            Object.defineProperty(Axis.prototype, "_updateTooltipText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip, position) {
                    tooltip.label.set("text", this.getTooltipText(position));
                }
            });
            Object.defineProperty(Axis.prototype, "roundAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position, _location) {
                    return position;
                }
            });
            Object.defineProperty(Axis.prototype, "handleCursorShow", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.get("tooltip");
                    if (tooltip) tooltip.show();
                }
            });
            Object.defineProperty(Axis.prototype, "handleCursorHide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.get("tooltip");
                    if (tooltip) tooltip.hide();
                }
            });
            Object.defineProperty(Axis.prototype, "processSeriesDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem, _fields) {}
            });
            Object.defineProperty(Axis.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._sizeDirty = false;
                    this._rangesDirty = false;
                }
            });
            Object.defineProperty(Axis.prototype, "coordinateToPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(coordinate) {
                    var renderer = this.get("renderer");
                    return renderer.toAxisPosition(coordinate / renderer.axisLength());
                }
            });
            Object.defineProperty(Axis.prototype, "toAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    return this.get("renderer").toAxisPosition(position);
                }
            });
            Object.defineProperty(Axis.prototype, "fixPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    return this.get("renderer").fixPosition(position);
                }
            });
            Object.defineProperty(Axis.prototype, "shouldGap", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem, _nextItem, _autoGapCount, _fieldName) {
                    return false;
                }
            });
            Object.defineProperty(Axis.prototype, "createAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisDataItem) {
                    return this.axisRanges.push(axisDataItem);
                }
            });
            Object.defineProperty(Axis.prototype, "_groupSeriesData", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_series) {}
            });
            Object.defineProperty(Axis.prototype, "getCellWidthPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return .05;
                }
            });
            Object.defineProperty(Axis, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Axis"
            });
            Object.defineProperty(Axis, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Component.classNames.concat([ Axis.className ])
            });
            return Axis;
        }(Component);
        var ValueAxis = function(_super) {
            __extends(ValueAxis, _super);
            function ValueAxis() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_dirtyExtremes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dirtySelectionExtremes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_deltaMinMax", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_minReal", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_maxReal", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_baseValue", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_syncDp", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_minLogAdjusted", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                return _this;
            }
            Object.defineProperty(ValueAxis.prototype, "markDirtyExtremes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._dirtyExtremes = true;
                    this.markDirty();
                }
            });
            Object.defineProperty(ValueAxis.prototype, "markDirtySelectionExtremes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._dirtySelectionExtremes = true;
                    this.markDirty();
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "axis" ]);
                    this.setPrivateRaw("name", "value");
                    this.addTag("value");
                    _super.prototype._afterNew.call(this);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._prepareChildren.call(this);
                    if (this.isDirty("syncWithAxis")) {
                        var previousValue = this._prevSettings.syncWithAxis;
                        if (previousValue) if (this._syncDp) this._syncDp.dispose();
                        var syncWithAxis = this.get("syncWithAxis");
                        if (syncWithAxis) this._syncDp = new MultiDisposer([ syncWithAxis.onPrivate("selectionMinFinal", (function() {
                            _this._dirtySelectionExtremes = true;
                        })), syncWithAxis.onPrivate("selectionMaxFinal", (function() {
                            _this._dirtySelectionExtremes = true;
                        })) ]);
                    }
                    if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || this.isPrivateDirty("width") || this.isPrivateDirty("height") || this.isDirty("min") || this.isDirty("max") || this.isDirty("extraMin") || this.isDirty("extraMax") || this.isDirty("logarithmic") || this.isDirty("treatZeroAs") || this.isDirty("baseValue") || this.isDirty("strictMinMax") || this.isDirty("strictMinMaxSelection") || this.isDirty("maxPrecision") || this.isDirty("numberFormat")) {
                        this._getMinMax();
                        this.ghostLabel.set("text", "");
                        this._dirtyExtremes = false;
                    }
                    if (this._dirtySelectionExtremes && !this._isPanning && this.get("autoZoom", true)) {
                        this._getSelectionMinMax();
                        this._dirtySelectionExtremes = false;
                    }
                    this._groupData();
                    if (this._sizeDirty || this._valuesDirty || this.isDirty("start") || this.isDirty("end") || this.isPrivateDirty("min") || this.isPrivateDirty("selectionMax") || this.isPrivateDirty("selectionMin") || this.isPrivateDirty("max") || this.isPrivateDirty("step") || this.isPrivateDirty("width") || this.isPrivateDirty("height") || this.isDirty("logarithmic")) {
                        this._handleRangeChange();
                        this._prepareAxisItems();
                        this._updateAxisRanges();
                    }
                    this._baseValue = this.baseValue();
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_groupData", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(ValueAxis.prototype, "_formatText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var numberFormat = this.get("numberFormat");
                    var formatter = this.getNumberFormatter();
                    var text = "";
                    if (numberFormat) text = formatter.format(value, numberFormat); else text = formatter.format(value, void 0, this.getPrivate("stepDecimalPlaces"));
                    return text;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_prepareAxisItems", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var min = this.getPrivate("min");
                    var max = this.getPrivate("max");
                    if (isNumber(min) && isNumber(max)) {
                        var logarithmic = this.get("logarithmic");
                        var step = this.getPrivate("step");
                        var selectionMin = this.getPrivate("selectionMin");
                        var selectionMax = this.getPrivate("selectionMax") + step;
                        var value = selectionMin - step;
                        var i = 0;
                        var differencePower = 1;
                        var minLog = min;
                        if (logarithmic) {
                            value = this._minLogAdjusted;
                            if (value < selectionMin) while (value < selectionMin) value += step;
                            minLog = value;
                            if (minLog <= 0) {
                                minLog = 1;
                                if (step < 1) minLog = step;
                            }
                            differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;
                            if (differencePower > 2) value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 5);
                        }
                        var previous = -1 / 0;
                        while (value < selectionMax) {
                            var dataItem = void 0;
                            if (this.dataItems.length < i + 1) {
                                dataItem = new DataItem(this, void 0, {});
                                this._dataItems.push(dataItem);
                                this.processDataItem(dataItem);
                            } else dataItem = this.dataItems[i];
                            this._createAssets(dataItem, []);
                            if (dataItem.isHidden()) dataItem.show();
                            dataItem.setRaw("value", value);
                            var label = dataItem.get("label");
                            if (label) label.set("text", this._formatText(value));
                            this._prepareDataItem(dataItem);
                            if (!logarithmic) value += step; else if (differencePower > 2) value = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 5); else value += step;
                            if (previous == value) break;
                            var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));
                            if (stepPower < 1) {
                                var decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;
                                value = Math_round(value, decCount);
                            }
                            i++;
                            previous = value;
                        }
                        for (var j = i; j < this.dataItems.length; j++) this.dataItems[j].hide();
                        each(this.series, (function(series) {
                            if (series.inited) series._markDirtyAxes();
                        }));
                        this._updateGhost();
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_prepareDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, count) {
                    var renderer = this.get("renderer");
                    var value = dataItem.get("value");
                    var endValue = dataItem.get("endValue");
                    var position = this.valueToPosition(value);
                    var endPosition = position;
                    var fillEndPosition = this.valueToPosition(value + this.getPrivate("step"));
                    if (isNumber(endValue)) {
                        endPosition = this.valueToPosition(endValue);
                        fillEndPosition = endPosition;
                    }
                    if (dataItem.get("isRange")) if (null == endValue) fillEndPosition = position;
                    renderer.updateLabel(dataItem.get("label"), position, endPosition, count);
                    var grid = dataItem.get("grid");
                    renderer.updateGrid(grid, position, endPosition);
                    if (grid) if (value == this.get("baseValue", 0)) {
                        grid.addTag("base");
                        grid._applyThemes();
                    } else if (grid.hasTag("base")) {
                        grid.removeTag("base");
                        grid._applyThemes();
                    }
                    renderer.updateTick(dataItem.get("tick"), position, endPosition, count);
                    renderer.updateFill(dataItem.get("axisFill"), position, fillEndPosition);
                    this._processBullet(dataItem);
                    renderer.updateBullet(dataItem.get("bullet"), position, endPosition);
                    if (!dataItem.get("isRange")) {
                        var fillRule = this.get("fillRule");
                        if (fillRule) fillRule(dataItem);
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_handleRangeChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var selectionMin = this.positionToValue(this.get("start", 0));
                    var selectionMax = this.positionToValue(this.get("end", 1));
                    var gridCount = this.get("renderer").gridCount();
                    var minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);
                    var stepDecimalPlaces = decimalPlaces(minMaxStep.step);
                    this.setPrivateRaw("stepDecimalPlaces", stepDecimalPlaces);
                    selectionMin = Math_round(selectionMin, stepDecimalPlaces);
                    selectionMax = Math_round(selectionMax, stepDecimalPlaces);
                    minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);
                    var step = minMaxStep.step;
                    selectionMin = minMaxStep.min;
                    selectionMax = minMaxStep.max;
                    if (this.getPrivate("selectionMin") !== selectionMin || this.getPrivate("selectionMax") !== selectionMax || this.getPrivate("step") !== step) {
                        this.setPrivateRaw("selectionMin", selectionMin);
                        this.setPrivateRaw("selectionMax", selectionMax);
                        this.setPrivateRaw("step", step);
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "positionToValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    var min = this.getPrivate("min");
                    var max = this.getPrivate("max");
                    if (!this.get("logarithmic")) return position * (max - min) + min; else return Math.pow(Math.E, (position * (Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E) + Math.log(min) * Math.LOG10E) / Math.LOG10E);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "valueToPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var min = this.getPrivate("min");
                    var max = this.getPrivate("max");
                    if (!this.get("logarithmic")) return (value - min) / (max - min); else {
                        if (value <= 0) {
                            var treatZeroAs = this.get("treatZeroAs");
                            if (isNumber(treatZeroAs)) value = treatZeroAs;
                        }
                        return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / (Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E);
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "valueToFinalPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    var min = this.getPrivate("minFinal");
                    var max = this.getPrivate("maxFinal");
                    if (!this.get("logarithmic")) return (value - min) / (max - min); else {
                        if (value <= 0) {
                            var treatZeroAs = this.get("treatZeroAs");
                            if (isNumber(treatZeroAs)) value = treatZeroAs;
                        }
                        return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / (Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E);
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getX", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, location, baseValue) {
                    value = baseValue + (value - baseValue) * location;
                    var position = this.valueToPosition(value);
                    return this._settings.renderer.positionToCoordinate(position);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getY", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value, location, baseValue) {
                    value = baseValue + (value - baseValue) * location;
                    var position = this.valueToPosition(value);
                    return this._settings.renderer.positionToCoordinate(position);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getDataItemCoordinateX", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, _cellLocation, axisLocation) {
                    return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getDataItemPositionX", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, _cellLocation, axisLocation) {
                    var value = dataItem.get(field);
                    var stackToItem = dataItem.get("stackToItemX");
                    if (stackToItem) {
                        var series = dataItem.component;
                        value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);
                    } else value = this._baseValue + (value - this._baseValue) * axisLocation;
                    return this.valueToPosition(value);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getDataItemCoordinateY", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, _cellLocation, axisLocation) {
                    return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getDataItemPositionY", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, _cellLocation, axisLocation) {
                    var value = dataItem.get(field);
                    var stackToItem = dataItem.get("stackToItemY");
                    if (stackToItem) {
                        var series = dataItem.component;
                        value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);
                    } else value = this._baseValue + (value - this._baseValue) * axisLocation;
                    return this.valueToPosition(value);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "basePosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.valueToPosition(this.baseValue());
                }
            });
            Object.defineProperty(ValueAxis.prototype, "baseValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var min = Math.min(this.getPrivate("minFinal", -1 / 0), this.getPrivate("selectionMin", -1 / 0));
                    var max = Math.max(this.getPrivate("maxFinal", 1 / 0), this.getPrivate("selectionMax", 1 / 0));
                    var baseValue = this.get("baseValue", 0);
                    if (baseValue < min) baseValue = min;
                    if (baseValue > max) baseValue = max;
                    return baseValue;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "cellEndValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(value) {
                    return value;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "fixSmallStep", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(step) {
                    if (1 + step === 1) {
                        step *= 2;
                        return this.fixSmallStep(step);
                    }
                    return step;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_fixMin", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min) {
                    return min;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_fixMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(max) {
                    return max;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_calculateTotals", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.get("calculateTotals")) {
                        var series = this.series[0];
                        if (series) {
                            var startIndex = series.startIndex();
                            if (series.dataItems.length > 0) {
                                if (startIndex > 0) startIndex--;
                                var endIndex = series.endIndex();
                                if (endIndex < series.dataItems.length) endIndex++;
                                var field_1;
                                var vc_1;
                                if (series.get("yAxis") == this) {
                                    field_1 = "valueY";
                                    vc_1 = "vcy";
                                } else if (series.get("xAxis") == this) {
                                    field_1 = "valueX";
                                    vc_1 = "vcx";
                                }
                                var fieldWorking_1 = field_1 + "Working";
                                if (field_1) {
                                    var _loop_1 = function(i) {
                                        var sum = 0;
                                        var total = 0;
                                        each(this_1.series, (function(series) {
                                            if (!series.get("excludeFromTotal")) {
                                                var dataItem = series.dataItems[i];
                                                if (dataItem) {
                                                    var value = dataItem.get(fieldWorking_1) * series.get(vc_1);
                                                    if (!Type_isNaN(value)) {
                                                        sum += value;
                                                        total += Math.abs(value);
                                                    }
                                                }
                                            }
                                        }));
                                        each(this_1.series, (function(series) {
                                            if (!series.get("excludeFromTotal")) {
                                                var dataItem = series.dataItems[i];
                                                if (dataItem) {
                                                    var value = dataItem.get(fieldWorking_1) * series.get(vc_1);
                                                    if (!Type_isNaN(value)) {
                                                        dataItem.set(field_1 + "Total", total);
                                                        dataItem.set(field_1 + "Sum", sum);
                                                        dataItem.set(field_1 + "TotalPercent", value / total * 100);
                                                    }
                                                }
                                            }
                                        }));
                                    };
                                    var this_1 = this;
                                    for (var i = startIndex; i < endIndex; i++) _loop_1(i);
                                }
                            }
                        }
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_getSelectionMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _a;
                    var _this = this;
                    var min = this.getPrivate("minFinal");
                    var max = this.getPrivate("maxFinal");
                    var minDefined = this.get("min");
                    var maxDefined = this.get("max");
                    var extraMin = this.get("extraMin", 0);
                    var extraMax = this.get("extraMax", 0);
                    if (this.get("logarithmic")) {
                        if (null == this.get("extraMin")) extraMin = .1;
                        if (null == this.get("extraMax")) extraMax = .2;
                    }
                    var gridCount = this.get("renderer").gridCount();
                    var selectionStrictMinMax = this.get("strictMinMaxSelection");
                    var strictMinMax = this.get("strictMinMax");
                    if (isNumber(min) && isNumber(max)) {
                        var selectionMin_1 = max;
                        var selectionMax_1 = min;
                        each(this.series, (function(series) {
                            if (!series.get("ignoreMinMax")) {
                                var seriesMin = void 0;
                                var seriesMax = void 0;
                                var outOfSelection = series.getPrivate("outOfSelection");
                                if (series.get("xAxis") === _this) {
                                    if (!outOfSelection) {
                                        seriesMin = series.getPrivate("selectionMinX", series.getPrivate("minX"));
                                        seriesMax = series.getPrivate("selectionMaxX", series.getPrivate("maxX"));
                                    }
                                } else if (series.get("yAxis") === _this) if (!outOfSelection) {
                                    seriesMin = series.getPrivate("selectionMinY", series.getPrivate("minY"));
                                    seriesMax = series.getPrivate("selectionMaxY", series.getPrivate("maxY"));
                                }
                                if (!series.isHidden() && !series.isShowing()) {
                                    if (isNumber(seriesMin)) selectionMin_1 = Math.min(selectionMin_1, seriesMin);
                                    if (isNumber(seriesMax)) selectionMax_1 = Math.max(selectionMax_1, seriesMax);
                                }
                            }
                        }));
                        this.axisRanges.each((function(range) {
                            if (range.get("affectsMinMax")) {
                                var value = range.get("value");
                                if (null != value) {
                                    selectionMin_1 = Math.min(selectionMin_1, value);
                                    selectionMax_1 = Math.max(selectionMax_1, value);
                                }
                                value = range.get("endValue");
                                if (null != value) {
                                    selectionMin_1 = Math.min(selectionMin_1, value);
                                    selectionMax_1 = Math.max(selectionMax_1, value);
                                }
                            }
                        }));
                        if (selectionMin_1 > selectionMax_1) _a = __read([ selectionMax_1, selectionMin_1 ], 2), 
                        selectionMin_1 = _a[0], selectionMax_1 = _a[1];
                        if (isNumber(minDefined)) if (strictMinMax) selectionMin_1 = minDefined; else selectionMin_1 = min; else if (strictMinMax) if (isNumber(this._minReal)) selectionMin_1 = this._minReal;
                        if (isNumber(maxDefined)) if (strictMinMax) selectionMax_1 = maxDefined; else selectionMax_1 = max; else if (strictMinMax) if (isNumber(this._maxReal)) selectionMax_1 = this._maxReal;
                        if (selectionMin_1 === selectionMax_1) {
                            selectionMin_1 -= this._deltaMinMax;
                            selectionMax_1 += this._deltaMinMax;
                            var minMaxStep2 = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, strictMinMax);
                            selectionMin_1 = minMaxStep2.min;
                            selectionMax_1 = minMaxStep2.max;
                        }
                        var selectionMinReal = selectionMin_1;
                        var selectionMaxReal = selectionMax_1;
                        selectionMin_1 -= (selectionMax_1 - selectionMin_1) * extraMin;
                        selectionMax_1 += (selectionMax_1 - selectionMin_1) * extraMax;
                        var minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount);
                        selectionMin_1 = minMaxStep.min;
                        selectionMax_1 = minMaxStep.max;
                        selectionMin_1 = fitToRange(selectionMin_1, min, max);
                        selectionMax_1 = fitToRange(selectionMax_1, min, max);
                        minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, true);
                        if (!strictMinMax) {
                            selectionMin_1 = minMaxStep.min;
                            selectionMax_1 = minMaxStep.max;
                        }
                        var syncWithAxis = this.get("syncWithAxis");
                        if (syncWithAxis) {
                            minMaxStep = this._syncAxes(selectionMin_1, selectionMax_1, minMaxStep.step, syncWithAxis.getPrivate("selectionMinFinal", syncWithAxis.getPrivate("minFinal", 0)), syncWithAxis.getPrivate("selectionMaxFinal", syncWithAxis.getPrivate("maxFinal", 1)), syncWithAxis.getPrivate("selectionStepFinal", syncWithAxis.getPrivate("step", 1)));
                            selectionMin_1 = minMaxStep.min;
                            selectionMax_1 = minMaxStep.max;
                        }
                        if (strictMinMax) {
                            if (isNumber(minDefined)) selectionMin_1 = Math.max(selectionMin_1, minDefined);
                            if (isNumber(maxDefined)) selectionMax_1 = Math.min(selectionMax_1, maxDefined);
                        }
                        if (selectionStrictMinMax) {
                            selectionMin_1 = selectionMinReal - (selectionMax_1 - selectionMin_1) * extraMin;
                            selectionMax_1 = selectionMaxReal + (selectionMax_1 - selectionMin_1) * extraMax;
                        }
                        if (this.get("logarithmic")) {
                            if (selectionMin_1 <= 0) selectionMin_1 = selectionMinReal * (1 - Math.min(extraMin, .99));
                            if (selectionMin_1 < min) selectionMin_1 = min;
                            if (selectionMax_1 > max) selectionMax_1 = max;
                        }
                        var len = Math.min(20, Math.ceil(Math.log(this.getPrivate("maxZoomFactor", 100) + 1) / Math.LN10) + 2);
                        var start = Math_round(this.valueToFinalPosition(selectionMin_1), len);
                        var end = Math_round(this.valueToFinalPosition(selectionMax_1), len);
                        this.setPrivateRaw("selectionMinFinal", selectionMin_1);
                        this.setPrivateRaw("selectionMaxFinal", selectionMax_1);
                        this.setPrivateRaw("selectionStepFinal", minMaxStep.step);
                        this.zoom(start, end);
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_getMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var minDefined = this.get("min");
                    var maxDefined = this.get("max");
                    var min = 1 / 0;
                    var max = -1 / 0;
                    var extraMin = this.get("extraMin", 0);
                    var extraMax = this.get("extraMax", 0);
                    if (this.get("logarithmic")) {
                        if (null == this.get("extraMin")) extraMin = .1;
                        if (null == this.get("extraMax")) extraMax = .2;
                    }
                    var minDiff = 1 / 0;
                    each(this.series, (function(series) {
                        if (!series.get("ignoreMinMax")) {
                            var seriesMin = void 0;
                            var seriesMax = void 0;
                            if (series.get("xAxis") === _this) {
                                seriesMin = series.getPrivate("minX");
                                seriesMax = series.getPrivate("maxX");
                            } else if (series.get("yAxis") === _this) {
                                seriesMin = series.getPrivate("minY");
                                seriesMax = series.getPrivate("maxY");
                            }
                            if (isNumber(seriesMin) && isNumber(seriesMax)) {
                                min = Math.min(min, seriesMin);
                                max = Math.max(max, seriesMax);
                                var diff = seriesMax - seriesMin;
                                if (diff <= 0) diff = Math.abs(seriesMax / 100);
                                if (diff < minDiff) minDiff = diff;
                            }
                        }
                    }));
                    this.axisRanges.each((function(range) {
                        if (range.get("affectsMinMax")) {
                            var value = range.get("value");
                            if (null != value) {
                                min = Math.min(min, value);
                                max = Math.max(max, value);
                            }
                            value = range.get("endValue");
                            if (null != value) {
                                min = Math.min(min, value);
                                max = Math.max(max, value);
                            }
                        }
                    }));
                    if (this.get("logarithmic")) {
                        var treatZeroAs = this.get("treatZeroAs");
                        if (isNumber(treatZeroAs)) if (min <= 0) min = treatZeroAs;
                        if (min <= 0) new Error("Logarithmic value axis can not have values <= 0.");
                    }
                    if (0 === min && 0 === max) {
                        max = .9;
                        min = -.9;
                    }
                    if (isNumber(minDefined)) min = minDefined;
                    if (isNumber(maxDefined)) max = maxDefined;
                    if (min === 1 / 0 || max === -1 / 0) return;
                    var initialMin = min;
                    var initialMax = max;
                    var minAdapted = this.adapters.fold("min", min);
                    var maxAdapted = this.adapters.fold("max", max);
                    if (isNumber(minAdapted)) min = minAdapted;
                    if (isNumber(maxAdapted)) max = maxAdapted;
                    min = this._fixMin(min);
                    max = this._fixMax(max);
                    if (max - min <= 1 / Math.pow(10, 15)) {
                        if (max - min !== 0) this._deltaMinMax = (max - min) / 2; else this._getDelta(max);
                        min -= this._deltaMinMax;
                        max += this._deltaMinMax;
                    }
                    min -= (max - min) * extraMin;
                    max += (max - min) * extraMax;
                    if (this.get("logarithmic")) {
                        if (min < 0 && initialMin >= 0) min = 0;
                        if (max > 0 && initialMax <= 0) max = 0;
                    }
                    this._minReal = min;
                    this._maxReal = max;
                    var strictMinMax = this.get("strictMinMax");
                    var strictMinMaxSelection = this.get("strictMinMaxSelection", false);
                    if (strictMinMaxSelection) strictMinMax = strictMinMaxSelection;
                    var strict = strictMinMax;
                    if (isNumber(maxDefined)) strict = true;
                    var gridCount = this.get("renderer").gridCount();
                    var minMaxStep = this._adjustMinMax(min, max, gridCount, strict);
                    min = minMaxStep.min;
                    max = minMaxStep.max;
                    minMaxStep = this._adjustMinMax(min, max, gridCount, true);
                    min = minMaxStep.min;
                    max = minMaxStep.max;
                    if (strictMinMax) {
                        if (isNumber(minDefined)) min = minDefined; else min = this._minReal;
                        if (isNumber(maxDefined)) max = maxDefined; else max = this._maxReal;
                        if (max - min <= 1e-8) {
                            min -= this._deltaMinMax;
                            max += this._deltaMinMax;
                        }
                        min -= (max - min) * extraMin;
                        max += (max - min) * extraMax;
                    }
                    minAdapted = this.adapters.fold("min", min);
                    maxAdapted = this.adapters.fold("max", max);
                    if (isNumber(minAdapted)) min = minAdapted;
                    if (isNumber(maxAdapted)) max = maxAdapted;
                    if (minDiff == 1 / 0) minDiff = max - min;
                    var decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;
                    min = Math_round(min, decCount);
                    max = Math_round(max, decCount);
                    var syncWithAxis = this.get("syncWithAxis");
                    if (syncWithAxis) {
                        minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate("minFinal", syncWithAxis.getPrivate("min", 0)), syncWithAxis.getPrivate("maxFinal", syncWithAxis.getPrivate("max", 1)), syncWithAxis.getPrivate("step", 1));
                        min = minMaxStep.min;
                        max = minMaxStep.max;
                    }
                    this.setPrivateRaw("maxZoomFactor", Math.max(1, Math.ceil((max - min) / minDiff * this.get("maxZoomFactor", 100))));
                    this._fixZoomFactor();
                    if (this.get("logarithmic")) {
                        this._minLogAdjusted = min;
                        min = this._minReal;
                        max = this._maxReal;
                        if (min <= 0) min = initialMin * (1 - Math.min(extraMin, .99));
                    }
                    if (isNumber(min) && isNumber(max)) if (this.getPrivate("minFinal") !== min || this.getPrivate("maxFinal") !== max) {
                        this.setPrivate("minFinal", min);
                        this.setPrivate("maxFinal", max);
                        this._saveMinMax(min, max);
                        var duration = this.get("interpolationDuration", 0);
                        var easing = this.get("interpolationEasing");
                        this.animatePrivate({
                            key: "min",
                            to: min,
                            duration,
                            easing
                        });
                        this.animatePrivate({
                            key: "max",
                            to: max,
                            duration,
                            easing
                        });
                    }
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_fixZoomFactor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(ValueAxis.prototype, "_getDelta", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(max) {
                    var exponent = Math.log(Math.abs(max)) * Math.LOG10E;
                    var power = Math.pow(10, Math.floor(exponent));
                    power /= 10;
                    this._deltaMinMax = power;
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_saveMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_min, _max) {}
            });
            Object.defineProperty(ValueAxis.prototype, "_adjustMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max, gridCount, strictMode) {
                    if (gridCount <= 1) gridCount = 1;
                    gridCount = Math.round(gridCount);
                    var initialMin = min;
                    var initialMax = max;
                    var difference = max - min;
                    if (0 === difference) difference = Math.abs(max);
                    var exponent = Math.log(Math.abs(difference)) * Math.LOG10E;
                    var power = Math.pow(10, Math.floor(exponent));
                    power /= 10;
                    var extra = power;
                    if (strictMode) extra = 0;
                    if (strictMode) {
                        min = Math.floor(min / power) * power;
                        max = Math.ceil(max / power) * power;
                    } else {
                        min = Math.ceil(min / power) * power - extra;
                        max = Math.floor(max / power) * power + extra;
                    }
                    if (min < 0 && initialMin >= 0) min = 0;
                    if (max > 0 && initialMax <= 0) max = 0;
                    exponent = Math.log(Math.abs(difference)) * Math.LOG10E;
                    power = Math.pow(10, Math.floor(exponent));
                    power /= 100;
                    var step = Math.ceil(difference / gridCount / power) * power;
                    var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));
                    var stepDivisor = Math.ceil(step / stepPower);
                    if (stepDivisor > 5) stepDivisor = 10; else if (stepDivisor <= 5 && stepDivisor > 2) stepDivisor = 5;
                    step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;
                    var maxPrecision = this.get("maxPrecision");
                    if (isNumber(maxPrecision)) {
                        var ceiledStep = ceil(step, maxPrecision);
                        if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) step = ceiledStep;
                    }
                    var decCount = 0;
                    if (stepPower < 1) {
                        decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;
                        step = Math_round(step, decCount);
                    }
                    var minCount = Math.floor(min / step);
                    min = Math_round(step * minCount, decCount);
                    var maxCount;
                    if (!strictMode) maxCount = Math.ceil(max / step); else maxCount = Math.floor(max / step);
                    if (maxCount === minCount) maxCount++;
                    max = Math_round(step * maxCount, decCount);
                    if (max < initialMax) max += step;
                    if (min > initialMin) min -= step;
                    step = this.fixSmallStep(step);
                    return {
                        min,
                        max,
                        step
                    };
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getTooltipText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    var numberFormat = this.get("tooltipNumberFormat", this.get("numberFormat"));
                    var formatter = this.getNumberFormatter();
                    var extraDecimals = this.get("extraTooltipPrecision", 0);
                    var decimals = this.getPrivate("stepDecimalPlaces", 0) + extraDecimals;
                    var value = Math_round(this.positionToValue(position), decimals);
                    if (numberFormat) return formatter.format(value, numberFormat); else return formatter.format(value, void 0, decimals);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "getSeriesItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series, position) {
                    var fieldName = this.getPrivate("name") + this.get("renderer").getPrivate("letter");
                    var value = this.positionToValue(position);
                    var index = void 0;
                    var oldDiff;
                    each(series.dataItems, (function(dataItem, i) {
                        var diff = Math.abs(dataItem.get(fieldName) - value);
                        if (void 0 === index || diff < oldDiff) {
                            index = i;
                            oldDiff = diff;
                        }
                    }));
                    if (null != index) return series.dataItems[index];
                }
            });
            Object.defineProperty(ValueAxis.prototype, "zoomToValues", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(start, end, duration) {
                    var min = this.getPrivate("minFinal", 0);
                    var max = this.getPrivate("maxFinal", 0);
                    if (null != this.getPrivate("min") && null != this.getPrivate("max")) this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_syncAxes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max, step, syncMin, syncMax, syncStep) {
                    var axis = this.get("syncWithAxis");
                    if (axis) {
                        var count = Math.round(syncMax - syncMin) / syncStep;
                        var currentCount = Math.round((max - min) / step);
                        var gridCount = this.get("renderer").gridCount();
                        if (isNumber(count) && isNumber(currentCount)) {
                            var synced = false;
                            var c = 0;
                            var diff = .01 * (max - min);
                            var omin = min;
                            var omax = max;
                            var ostep = step;
                            while (true != synced) {
                                synced = this._checkSync(omin, omax, ostep, count);
                                c++;
                                if (c > 500) synced = true;
                                if (!synced) {
                                    if (c / 3 == Math.round(c / 3)) {
                                        omin = min - diff * c;
                                        if (min >= 0 && omin < 0) omin = 0;
                                    } else {
                                        omax = max + diff * c;
                                        if (omax <= 0 && omax > 0) omax = 0;
                                    }
                                    var minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);
                                    omin = minMaxStep.min;
                                    omax = minMaxStep.max;
                                    ostep = minMaxStep.step;
                                } else {
                                    min = omin;
                                    max = omax;
                                    step = ostep;
                                }
                            }
                        }
                    }
                    return {
                        min,
                        max,
                        step
                    };
                }
            });
            Object.defineProperty(ValueAxis.prototype, "_checkSync", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max, step, count) {
                    var currentCount = (max - min) / step;
                    for (var i = 1; i < count; i++) if (Math_round(currentCount / i, 1) == count || currentCount * i == count) return true;
                    return false;
                }
            });
            Object.defineProperty(ValueAxis, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "ValueAxis"
            });
            Object.defineProperty(ValueAxis, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Axis.classNames.concat([ ValueAxis.className ])
            });
            return ValueAxis;
        }(Axis);
        var DateAxis = function(_super) {
            __extends(DateAxis, _super);
            function DateAxis() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_dataGrouped", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_seriesDataGrouped", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_groupingCalculated", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_intervalDuration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_baseDuration", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_intervalMax", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_intervalMin", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                return _this;
            }
            Object.defineProperty(DateAxis.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "axis" ]);
                    _super.prototype._afterNew.call(this);
                    this._setBaseInterval(this.get("baseInterval"));
                    this.on("baseInterval", (function() {
                        _this._setBaseInterval(_this.get("baseInterval"));
                    }));
                }
            });
            Object.defineProperty(DateAxis.prototype, "_setBaseInterval", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(interval) {
                    this.setPrivateRaw("baseInterval", interval);
                    this._baseDuration = getIntervalDuration(interval);
                }
            });
            Object.defineProperty(DateAxis.prototype, "_fixZoomFactor", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var maxZoomFactor = this.get("maxZoomFactor");
                    if (null != maxZoomFactor && maxZoomFactor != 1 / 0) this.setPrivateRaw("maxZoomFactor", maxZoomFactor); else this.setPrivateRaw("maxZoomFactor", Math.round((this.getPrivate("max", 0) - this.getPrivate("min", 0)) / this.baseMainDuration()));
                }
            });
            Object.defineProperty(DateAxis.prototype, "_groupData", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var min = this.getPrivate("min");
                    var max = this.getPrivate("max");
                    if (isNumber(min) && isNumber(max)) {
                        this._fixZoomFactor();
                        var groupInterval = this.getPrivate("groupInterval");
                        if (groupInterval) this._setBaseInterval(groupInterval); else this._setBaseInterval(this.get("baseInterval"));
                        if (this.isDirty("groupInterval")) {
                            var groupInterval_1 = this.get("groupInterval");
                            if (groupInterval_1) this.setRaw("groupIntervals", [ groupInterval_1 ]);
                        }
                        if (this.isDirty("groupData")) if (!this._dataGrouped) {
                            if (this.get("groupData")) {
                                each(this.series, (function(series) {
                                    _this._groupSeriesData(series);
                                }));
                                this._handleRangeChange();
                            } else {
                                var baseInterval = this.get("baseInterval");
                                var mainDataSetId_1 = baseInterval.timeUnit + baseInterval.count;
                                each(this.series, (function(series) {
                                    series.setDataSet(mainDataSetId_1);
                                }));
                                this._setBaseInterval(baseInterval);
                                this.setPrivateRaw("groupInterval", void 0);
                                this.markDirtyExtremes();
                            }
                            this._dataGrouped = true;
                        }
                    }
                }
            });
            Object.defineProperty(DateAxis.prototype, "_groupSeriesData", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series) {
                    if (this.get("groupData") && !series.get("groupDataDisabled")) {
                        this._dataGrouped = true;
                        this._seriesDataGrouped = true;
                        var intervals_1 = [];
                        var baseDuration_1 = this.baseMainDuration();
                        var groupIntervals = this.get("groupIntervals");
                        if (groupIntervals) ;
                        each(groupIntervals, (function(interval) {
                            var intervalDuration = getIntervalDuration(interval);
                            if (intervalDuration > baseDuration_1) intervals_1.push(interval);
                        }));
                        series._dataSets = {};
                        var key_1 = this.getPrivate("name") + this.get("renderer").getPrivate("letter");
                        var fields_1;
                        var baseAxis = series.get("baseAxis");
                        if (series.get("xAxis") === baseAxis) fields_1 = series._valueYFields; else if (series.get("yAxis") === baseAxis) fields_1 = series._valueXFields;
                        var dataItems_1 = series._mainDataItems;
                        var baseInterval = this.get("baseInterval");
                        var mainDataSetId = baseInterval.timeUnit + baseInterval.count;
                        series._dataSets[mainDataSetId] = dataItems_1;
                        var groupCallback_1 = series.get("groupDataCallback");
                        var groupOriginals_1 = series.get("groupDataWithOriginals", false);
                        if (groupCallback_1) groupOriginals_1 = true;
                        var firstDay_1 = this._root.locale.firstDayOfWeek;
                        var utc_1 = this._root.utc;
                        var timezone_1 = this._root.timezone;
                        each(intervals_1, (function(interval) {
                            var previousTime = -1 / 0;
                            var dataSetId = interval.timeUnit + interval.count;
                            series._dataSets[dataSetId] = [];
                            var newDataItem;
                            var sum = {};
                            var count = {};
                            var groupFieldValues = {};
                            var workingFields = {};
                            each(fields_1, (function(field) {
                                sum[field] = 0;
                                count[field] = 0;
                                groupFieldValues[field] = series.get(field + "Grouped");
                                workingFields[field] = field + "Working";
                            }));
                            var intervalDuration = getDuration(interval.timeUnit);
                            var firstItem = dataItems_1[0];
                            var firstDate;
                            if (firstItem) firstDate = new Date(dataItems_1[0].get(key_1));
                            var prevNewDataItem;
                            each(dataItems_1, (function(dataItem) {
                                var time = dataItem.get(key_1);
                                var roundedTime = round(new Date(time), interval.timeUnit, interval.count, firstDay_1, utc_1, firstDate, timezone_1).getTime();
                                var dataContext;
                                if (previousTime < roundedTime - intervalDuration / 24) {
                                    dataContext = Object_copy(dataItem.dataContext);
                                    newDataItem = new DataItem(series, dataContext, series._makeDataItem(dataContext));
                                    newDataItem.setRaw(key_1, roundedTime);
                                    series._dataSets[dataSetId].push(newDataItem);
                                    each(fields_1, (function(field) {
                                        var value = dataItem.get(field);
                                        if (isNumber(value)) {
                                            newDataItem.setRaw(field, value);
                                            newDataItem.setRaw(workingFields[field], value);
                                            count[field] = 1;
                                            sum[field] = value;
                                        } else {
                                            sum[field] = 0;
                                            count[field] = 0;
                                        }
                                    }));
                                    if (groupOriginals_1) newDataItem.set("originals", [ dataItem ]);
                                    if (groupCallback_1 && prevNewDataItem) groupCallback_1(prevNewDataItem, interval);
                                    prevNewDataItem = newDataItem;
                                } else {
                                    each(fields_1, (function(field) {
                                        var groupKey = groupFieldValues[field];
                                        var value = dataItem.get(field);
                                        if (void 0 !== value) {
                                            var currentValue = newDataItem.get(field);
                                            switch (groupKey) {
                                              case "close":
                                                newDataItem.setRaw(field, value);
                                                break;

                                              case "sum":
                                                newDataItem.setRaw(field, currentValue + value);
                                                break;

                                              case "open":
                                                break;

                                              case "low":
                                                if (value < currentValue) newDataItem.setRaw(field, value);
                                                break;

                                              case "high":
                                                if (value > currentValue) newDataItem.setRaw(field, value);
                                                break;

                                              case "average":
                                                count[field]++;
                                                sum[field] += value;
                                                var average = sum[field] / count[field];
                                                newDataItem.setRaw(field, average);
                                                break;

                                              case "extreme":
                                                if (Math.abs(value) > Math.abs(currentValue)) newDataItem.setRaw(field, value);
                                                break;
                                            }
                                            newDataItem.setRaw(workingFields[field], newDataItem.get(field));
                                            var dataContext_1 = Object_copy(dataItem.dataContext);
                                            dataContext_1[key_1] = roundedTime;
                                            newDataItem.dataContext = dataContext_1;
                                        }
                                    }));
                                    if (groupOriginals_1) newDataItem.get("originals").push(dataItem);
                                }
                                previousTime = roundedTime;
                            }));
                            if (groupCallback_1 && prevNewDataItem) groupCallback_1(prevNewDataItem, interval);
                        }));
                        if (series._dataSetId) series.setDataSet(series._dataSetId);
                        this.markDirtySize();
                    }
                }
            });
            Object.defineProperty(DateAxis.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._groupingCalculated = false;
                    this._dataGrouped = false;
                }
            });
            Object.defineProperty(DateAxis.prototype, "getGroupInterval", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    var baseInterval = this.get("baseInterval");
                    var groupInterval = chooseInterval(0, duration, this.get("groupCount", 1 / 0), this.get("groupIntervals"));
                    if (getIntervalDuration(groupInterval) < getIntervalDuration(baseInterval)) groupInterval = __assign({}, baseInterval);
                    return groupInterval;
                }
            });
            Object.defineProperty(DateAxis.prototype, "getIntervalMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(interval) {
                    return this._intervalMax[interval.timeUnit + interval.count];
                }
            });
            Object.defineProperty(DateAxis.prototype, "getIntervalMin", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(interval) {
                    return this._intervalMin[interval.timeUnit + interval.count];
                }
            });
            Object.defineProperty(DateAxis.prototype, "_handleRangeChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._handleRangeChange.call(this);
                    var selectionMin = Math.round(this.getPrivate("selectionMin"));
                    var selectionMax = Math.round(this.getPrivate("selectionMax"));
                    if (isNumber(selectionMin) && isNumber(selectionMax)) {
                        if (0 == this.get("endLocation")) selectionMax += 1;
                        if (this.get("groupData") && !this._groupingCalculated) {
                            this._groupingCalculated = true;
                            var modifiedDifference = selectionMax - selectionMin + (this.get("startLocation", 0) + (1 - this.get("endLocation", 1)) * this.baseDuration());
                            var groupInterval = this.get("groupInterval");
                            if (!groupInterval) groupInterval = this.getGroupInterval(modifiedDifference);
                            var current = this.getPrivate("groupInterval");
                            if (groupInterval && (!current || current.timeUnit !== groupInterval.timeUnit || current.count !== groupInterval.count || this._seriesDataGrouped)) {
                                this._seriesDataGrouped = false;
                                this.setPrivateRaw("groupInterval", groupInterval);
                                this._setBaseInterval(groupInterval);
                                var newId_1 = groupInterval.timeUnit + groupInterval.count;
                                each(this.series, (function(series) {
                                    if (series.get("baseAxis") === _this) series.setDataSet(newId_1);
                                }));
                                this.markDirtyExtremes();
                                this._root.events.once("frameended", (function() {
                                    _this._root.events.once("frameended", (function() {
                                        var type = "groupintervalchanged";
                                        if (_this.events.isEnabled(type)) _this.events.dispatch(type, {
                                            type,
                                            target: _this
                                        });
                                    }));
                                }));
                            }
                        }
                        each(this.series, (function(series) {
                            if (series.get("baseAxis") === _this) {
                                var fieldName_1 = _this.getPrivate("name") + _this.get("renderer").getPrivate("letter");
                                var start = getSortedIndex(series.dataItems, (function(dataItem) {
                                    return compare(dataItem.get(fieldName_1), selectionMin);
                                }));
                                var startIndex = start.index;
                                if (startIndex > 0) startIndex -= 1;
                                selectionMax += _this.baseDuration() * (1 - _this.get("endLocation", 1));
                                var end = getSortedIndex(series.dataItems, (function(dataItem) {
                                    return compare(dataItem.get(fieldName_1), selectionMax);
                                }));
                                var endIndex = end.index;
                                var endIndex2 = endIndex;
                                if (endIndex2 > 0) endIndex2--;
                                var firstDataItem = series.dataItems[startIndex];
                                var lastDataItem = series.dataItems[endIndex2];
                                var lastDate = void 0;
                                var firstDate = void 0;
                                if (firstDataItem) firstDate = firstDataItem.get(fieldName_1);
                                if (lastDataItem) lastDate = lastDataItem.get(fieldName_1);
                                var outOfSelection = false;
                                if (null != lastDate && null != firstDate) if (lastDate < selectionMin || firstDate > selectionMax) outOfSelection = true;
                                series.setPrivate("outOfSelection", outOfSelection);
                                series.setPrivate("startIndex", startIndex);
                                series.setPrivate("endIndex", endIndex);
                            }
                        }));
                    }
                }
            });
            Object.defineProperty(DateAxis.prototype, "_adjustMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max, gridCount, _strictMode) {
                    return {
                        min,
                        max,
                        step: (max - min) / gridCount
                    };
                }
            });
            Object.defineProperty(DateAxis.prototype, "intervalDuration", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._intervalDuration;
                }
            });
            Object.defineProperty(DateAxis.prototype, "_saveMinMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min, max) {
                    var groupInterval = this.getPrivate("groupInterval");
                    if (!groupInterval) groupInterval = this.get("baseInterval");
                    var id = groupInterval.timeUnit + groupInterval.count;
                    this._intervalMin[id] = min;
                    this._intervalMax[id] = max;
                }
            });
            Object.defineProperty(DateAxis.prototype, "_getM", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(timeUnit) {
                    if ("month" == timeUnit || "year" == timeUnit) return 1.05;
                    return 1.01;
                }
            });
            Object.defineProperty(DateAxis.prototype, "_prepareAxisItems", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var min = this.getPrivate("min");
                    var max = this.getPrivate("max");
                    if (isNumber(min) && isNumber(max)) {
                        var selectionMin = Math.round(this.getPrivate("selectionMin"));
                        var selectionMax = Math.round(this.getPrivate("selectionMax"));
                        var renderer = this.get("renderer");
                        var baseInterval = this.getPrivate("baseInterval");
                        var value = selectionMin;
                        var i = 0;
                        var intervals = this.get("gridIntervals");
                        var gridInterval = chooseInterval(0, selectionMax - selectionMin, renderer.gridCount(), intervals);
                        if (getIntervalDuration(gridInterval) < this.baseDuration()) gridInterval = __assign({}, baseInterval);
                        var intervalDuration = getIntervalDuration(gridInterval);
                        this._intervalDuration = intervalDuration;
                        var nextGridUnit = getNextUnit(gridInterval.timeUnit);
                        var firstDay = this._root.locale.firstDayOfWeek;
                        var utc = this._root.utc;
                        var timezone = this._root.timezone;
                        value = round(new Date(selectionMin - intervalDuration), gridInterval.timeUnit, gridInterval.count, firstDay, utc, new Date(min), timezone).getTime();
                        var previousValue = value - intervalDuration;
                        var format = void 0;
                        var formats = this.get("dateFormats");
                        this.setPrivateRaw("gridInterval", gridInterval);
                        while (value < selectionMax + intervalDuration) {
                            var dataItem = void 0;
                            if (this.dataItems.length < i + 1) {
                                dataItem = new DataItem(this, void 0, {});
                                this._dataItems.push(dataItem);
                                this.processDataItem(dataItem);
                            } else dataItem = this.dataItems[i];
                            this._createAssets(dataItem, []);
                            if (dataItem.isHidden()) dataItem.show();
                            dataItem.setRaw("value", value);
                            var endValue = value + getDuration(gridInterval.timeUnit, gridInterval.count * this._getM(gridInterval.timeUnit));
                            endValue = round(new Date(endValue), gridInterval.timeUnit, 1, firstDay, utc, void 0, timezone).getTime();
                            dataItem.setRaw("endValue", endValue);
                            var date = new Date(value);
                            format = formats[gridInterval.timeUnit];
                            if (nextGridUnit && this.get("markUnitChange") && isNumber(previousValue)) if ("year" != gridInterval.timeUnit) if (checkChange(value, previousValue, nextGridUnit, utc, timezone)) format = this.get("periodChangeDateFormats")[gridInterval.timeUnit];
                            var label = dataItem.get("label");
                            if (label) label.set("text", this._root.dateFormatter.format(date, format));
                            this._prepareDataItem(dataItem, gridInterval.count);
                            previousValue = value;
                            value = endValue;
                            if (value == previousValue) break;
                            i++;
                        }
                        for (var j = i; j < this.dataItems.length; j++) this.dataItems[j].hide();
                        each(this.series, (function(series) {
                            if (series.inited) series._markDirtyAxes();
                        }));
                    }
                    this._updateGhost();
                }
            });
            Object.defineProperty(DateAxis.prototype, "_getDelta", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._deltaMinMax = this.baseDuration() / 2;
                }
            });
            Object.defineProperty(DateAxis.prototype, "_fixMin", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(min) {
                    var baseInterval = this.getPrivate("baseInterval");
                    var firstDay = this._root.locale.firstDayOfWeek;
                    var timezone = this._root.timezone;
                    var utc = this._root.utc;
                    var timeUnit = baseInterval.timeUnit;
                    var startTime = round(new Date(min), timeUnit, baseInterval.count, firstDay, utc, void 0, timezone).getTime();
                    var endTime = startTime + getDuration(timeUnit, baseInterval.count * this._getM(timeUnit));
                    endTime = round(new Date(endTime), timeUnit, 1, firstDay, utc, void 0, timezone).getTime();
                    return startTime + (endTime - startTime) * this.get("startLocation", 0);
                }
            });
            Object.defineProperty(DateAxis.prototype, "_fixMax", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(max) {
                    var baseInterval = this.getPrivate("baseInterval");
                    var firstDay = this._root.locale.firstDayOfWeek;
                    var timezone = this._root.timezone;
                    var utc = this._root.utc;
                    var timeUnit = baseInterval.timeUnit;
                    var startTime = round(new Date(max), timeUnit, baseInterval.count, firstDay, utc, void 0, timezone).getTime();
                    var endTime = startTime + getDuration(timeUnit, baseInterval.count * this._getM(timeUnit));
                    endTime = round(new Date(endTime), timeUnit, 1, firstDay, utc, void 0, timezone).getTime();
                    return startTime + (endTime - startTime) * this.get("endLocation", 1);
                }
            });
            Object.defineProperty(DateAxis.prototype, "_updateDates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_date) {}
            });
            Object.defineProperty(DateAxis.prototype, "baseDuration", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this._baseDuration;
                }
            });
            Object.defineProperty(DateAxis.prototype, "baseMainDuration", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return getIntervalDuration(this.get("baseInterval"));
                }
            });
            Object.defineProperty(DateAxis.prototype, "processSeriesDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, fields) {
                    var _this = this;
                    var baseInterval = this.getPrivate("baseInterval");
                    if (!dataItem.open) dataItem.open = {};
                    if (!dataItem.close) dataItem.close = {};
                    each(fields, (function(field) {
                        var value = dataItem.get(field);
                        if (isNumber(value)) {
                            var startTime = dataItem.open[field];
                            var endTime = dataItem.close[field];
                            if (value >= startTime && value <= endTime) ; else {
                                var firstDay = _this._root.locale.firstDayOfWeek;
                                var utc = _this._root.utc;
                                var timezone = _this._root.timezone;
                                var timeUnit = baseInterval.timeUnit;
                                var count = baseInterval.count;
                                startTime = round(new Date(value), timeUnit, count, firstDay, utc, void 0, timezone).getTime();
                                endTime = startTime + getDuration(timeUnit, count * _this._getM(timeUnit));
                                endTime = round(new Date(endTime), timeUnit, 1, firstDay, utc, void 0, timezone).getTime();
                                dataItem.open[field] = startTime;
                                dataItem.close[field] = endTime;
                            }
                            _this._updateDates(startTime);
                        }
                    }));
                }
            });
            Object.defineProperty(DateAxis.prototype, "getDataItemPositionX", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, cellLocation, axisLocation) {
                    var openValue;
                    var closeValue;
                    if (dataItem.open && dataItem.close) {
                        openValue = dataItem.open[field];
                        closeValue = dataItem.close[field];
                    } else {
                        openValue = dataItem.get(field);
                        closeValue = openValue;
                    }
                    var value = openValue + (closeValue - openValue) * cellLocation;
                    value = this._baseValue + (value - this._baseValue) * axisLocation;
                    return this.valueToPosition(value);
                }
            });
            Object.defineProperty(DateAxis.prototype, "getDataItemCoordinateX", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, cellLocation, axisLocation) {
                    return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, axisLocation));
                }
            });
            Object.defineProperty(DateAxis.prototype, "getDataItemPositionY", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, cellLocation, axisLocation) {
                    var openValue;
                    var closeValue;
                    if (dataItem.open && dataItem.close) {
                        openValue = dataItem.open[field];
                        closeValue = dataItem.close[field];
                    } else {
                        openValue = dataItem.get(field);
                        closeValue = openValue;
                    }
                    var value = openValue + (closeValue - openValue) * cellLocation;
                    value = this._baseValue + (value - this._baseValue) * axisLocation;
                    return this.valueToPosition(value);
                }
            });
            Object.defineProperty(DateAxis.prototype, "getDataItemCoordinateY", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, field, cellLocation, axisLocation) {
                    return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, axisLocation));
                }
            });
            Object.defineProperty(DateAxis.prototype, "roundAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position, location) {
                    var value = this.positionToValue(position);
                    value -= (location - .5) * this.baseDuration();
                    var baseInterval = this.getPrivate("baseInterval");
                    if (!Type_isNaN(value)) {
                        var firstDay = this._root.locale.firstDayOfWeek;
                        var timeUnit = baseInterval.timeUnit;
                        var utc = this._root.utc;
                        var timezone = this._root.timezone;
                        var count = baseInterval.count;
                        value = round(new Date(value), timeUnit, count, firstDay, utc, new Date(this.getPrivate("min", 0)), timezone).getTime();
                        var duration = getDateIntervalDuration(baseInterval, new Date(value), firstDay, utc, timezone);
                        if (timezone) {
                            value = round(new Date(value + .05 * this.baseDuration()), timeUnit, count, firstDay, utc, new Date(this.getPrivate("min", 0)), timezone).getTime();
                            duration = getDateIntervalDuration(baseInterval, new Date(value + duration * location), firstDay, utc, timezone);
                        }
                        return this.valueToPosition(value + duration * location);
                    }
                    return NaN;
                }
            });
            Object.defineProperty(DateAxis.prototype, "getTooltipText", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    if (null != this.getPrivate("min")) {
                        var format = this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit];
                        var value = this.positionToValue(position);
                        var date = new Date(value);
                        var baseInterval = this.getPrivate("baseInterval");
                        var duration = getDateIntervalDuration(baseInterval, date, this._root.locale.firstDayOfWeek, this._root.utc, this._root.timezone);
                        return this._root.dateFormatter.format(new Date(value + this.get("tooltipIntervalOffset", -this.get("tooltipLocation", .5)) * duration), this.get("tooltipDateFormat", format));
                    }
                    return "";
                }
            });
            Object.defineProperty(DateAxis.prototype, "getSeriesItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(series, position, location) {
                    var fieldName = this.getPrivate("name") + this.get("renderer").getPrivate("letter");
                    var value = this.positionToValue(position);
                    if (null == location) location = .5;
                    value -= (location - .5) * this.baseDuration();
                    var result = getSortedIndex(series.dataItems, (function(dataItem) {
                        var diValue = 0;
                        if (dataItem.open) diValue = dataItem.open[fieldName];
                        return compare(diValue, value);
                    }));
                    if (series.get("snapTooltip")) {
                        var first = series.dataItems[result.index - 1];
                        var second = series.dataItems[result.index];
                        if (first && second) if (first.open && second.close) {
                            var open_1 = first.open[fieldName];
                            var close_1 = second.close[fieldName];
                            if (Math.abs(value - open_1) > Math.abs(value - close_1)) return second;
                        }
                        if (first) return first;
                        if (second) return second;
                    } else {
                        var dataItem = series.dataItems[result.index - 1];
                        if (dataItem) if (dataItem.open && dataItem.close) {
                            var open_2 = dataItem.open[fieldName];
                            var close_2 = dataItem.close[fieldName];
                            if (value >= open_2 && value <= close_2) return dataItem;
                        }
                    }
                }
            });
            Object.defineProperty(DateAxis.prototype, "shouldGap", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, nextItem, autoGapCount, fieldName) {
                    var value1 = dataItem.get(fieldName);
                    var value2 = nextItem.get(fieldName);
                    if (value2 - value1 > this.baseDuration() * autoGapCount) return true;
                    return false;
                }
            });
            Object.defineProperty(DateAxis.prototype, "zoomToDates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(start, end, duration) {
                    this.zoomToValues(start.getTime(), end.getTime(), duration);
                }
            });
            Object.defineProperty(DateAxis.prototype, "positionToDate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    return new Date(this.positionToValue(position));
                }
            });
            Object.defineProperty(DateAxis.prototype, "dateToPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(date) {
                    return this.valueToPosition(date.getTime());
                }
            });
            Object.defineProperty(DateAxis.prototype, "getCellWidthPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var max = this.getPrivate("selectionMax", this.getPrivate("max"));
                    var min = this.getPrivate("selectionMin", this.getPrivate("min"));
                    if (isNumber(max) && isNumber(min)) return this.baseDuration() / (max - min);
                    return .05;
                }
            });
            Object.defineProperty(DateAxis, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "DateAxis"
            });
            Object.defineProperty(DateAxis, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: ValueAxis.classNames.concat([ DateAxis.className ])
            });
            return DateAxis;
        }(ValueAxis);
        function segmentedLine(display, segments) {
            for (var s = 0, len = segments.length; s < len; s++) {
                var groups = segments[s];
                if (groups.length > 0) {
                    var firstGroup = groups[0];
                    if (firstGroup.length > 0) {
                        var firstPoint = firstGroup[0];
                        display.moveTo(firstPoint.x, firstPoint.y);
                        for (var g = 0, len_1 = groups.length; g < len_1; g++) line(display, groups[g]);
                    }
                }
            }
        }
        function line(display, points) {
            for (var p = 0, len = points.length; p < len; p++) {
                var point = points[p];
                display.lineTo(point.x, point.y);
            }
        }
        var Line = function(_super) {
            __extends(Line, _super);
            function Line() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Line.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isDirty("points") || this.isDirty("segments") || this._sizeDirty || this.isPrivateDirty("width") || this.isPrivateDirty("height")) this._clear = true;
                }
            });
            Object.defineProperty(Line.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this._clear) {
                        var points = this.get("points");
                        var segments = this.get("segments");
                        if (points && points.length > 0) {
                            var point = points[0];
                            this._display.moveTo(point.x, point.y);
                            segmentedLine(this._display, [ [ points ] ]);
                        } else if (segments) segmentedLine(this._display, segments); else if (!this.get("draw")) {
                            var w = this.width();
                            var h = this.height();
                            this._display.moveTo(0, 0);
                            this._display.lineTo(w, h);
                        }
                    }
                }
            });
            Object.defineProperty(Line, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Line"
            });
            Object.defineProperty(Line, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Graphics.classNames.concat([ Line.className ])
            });
            return Line;
        }(Graphics);
        var Tick = function(_super) {
            __extends(Tick, _super);
            function Tick() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Tick, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Tick"
            });
            Object.defineProperty(Tick, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Line.classNames.concat([ Tick.className ])
            });
            return Tick;
        }(Line);
        var AxisTick = function(_super) {
            __extends(AxisTick, _super);
            function AxisTick() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_tickPoints", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                return _this;
            }
            Object.defineProperty(AxisTick, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "AxisTick"
            });
            Object.defineProperty(AxisTick, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Tick.classNames.concat([ AxisTick.className ])
            });
            return AxisTick;
        }(Tick);
        var Grid = function(_super) {
            __extends(Grid, _super);
            function Grid() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(Grid.prototype, "_beforeChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._beforeChanged.call(this);
                    if (this.isPrivateDirty("width") || this.isPrivateDirty("height")) this._clear = true;
                }
            });
            Object.defineProperty(Grid, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Grid"
            });
            Object.defineProperty(Grid, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Graphics.classNames.concat([ Grid.className ])
            });
            return Grid;
        }(Graphics);
        var AxisLabel = function(_super) {
            __extends(AxisLabel, _super);
            function AxisLabel() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_tickPoints", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                return _this;
            }
            Object.defineProperty(AxisLabel, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "AxisLabel"
            });
            Object.defineProperty(AxisLabel, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Label.classNames.concat([ AxisLabel.className ])
            });
            return AxisLabel;
        }(Label);
        var AxisRenderer = function(_super) {
            __extends(AxisRenderer, _super);
            function AxisRenderer() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_axisLength", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 100
                });
                Object.defineProperty(_this, "_start", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_end", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_inversed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_minSize", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "chart", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_lc", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_ls", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_thumbDownPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downStart", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_downEnd", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "ticks", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return AxisTick._new(_this._root, {
                            themeTags: mergeTags(_this.ticks.template.get("themeTags", []), _this.get("themeTags", []))
                        }, [ _this.ticks.template ]);
                    }))
                });
                Object.defineProperty(_this, "grid", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return Grid._new(_this._root, {
                            themeTags: mergeTags(_this.grid.template.get("themeTags", []), _this.get("themeTags", []))
                        }, [ _this.grid.template ]);
                    }))
                });
                Object.defineProperty(_this, "axisFills", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return Graphics._new(_this._root, {
                            themeTags: mergeTags(_this.axisFills.template.get("themeTags", [ "axis", "fill" ]), _this.get("themeTags", []))
                        }, [ _this.axisFills.template ]);
                    }))
                });
                Object.defineProperty(_this, "labels", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return AxisLabel._new(_this._root, {
                            themeTags: mergeTags(_this.labels.template.get("themeTags", []), _this.get("themeTags", []))
                        }, [ _this.labels.template ]);
                    }))
                });
                Object.defineProperty(_this, "axis", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "thumb", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(AxisRenderer.prototype, "makeTick", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, themeTags) {
                    var tick = this.ticks.make();
                    tick._setDataItem(dataItem);
                    dataItem.setRaw("tick", tick);
                    tick.set("themeTags", mergeTags(tick.get("themeTags"), themeTags));
                    this.axis.labelsContainer.children.push(tick);
                    this.ticks.push(tick);
                    return tick;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "makeGrid", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, themeTags) {
                    var grid = this.grid.make();
                    grid._setDataItem(dataItem);
                    dataItem.setRaw("grid", grid);
                    grid.set("themeTags", mergeTags(grid.get("themeTags"), themeTags));
                    this.axis.gridContainer.children.push(grid);
                    this.grid.push(grid);
                    return grid;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "makeAxisFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, themeTags) {
                    var axisFill = this.axisFills.make();
                    axisFill._setDataItem(dataItem);
                    axisFill.set("themeTags", mergeTags(axisFill.get("themeTags"), themeTags));
                    this.axis.gridContainer.children.push(axisFill);
                    dataItem.setRaw("axisFill", axisFill);
                    this.axisFills.push(axisFill);
                    return axisFill;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "makeLabel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, themeTags) {
                    var label = this.labels.make();
                    label.set("themeTags", mergeTags(label.get("themeTags"), themeTags));
                    this.axis.labelsContainer.children.moveValue(label, 0);
                    label._setDataItem(dataItem);
                    dataItem.setRaw("label", label);
                    this.labels.push(label);
                    return label;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "axisLength", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return 0;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "gridCount", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.axisLength() / this.get("minGridDistance", 50);
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_updatePositions", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(AxisRenderer.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._afterNew.call(this);
                    this.set("isMeasured", false);
                    var thumb = this.thumb;
                    if (thumb) {
                        this._disposers.push(thumb.events.on("pointerdown", (function(event) {
                            _this._handleThumbDown(event.originalEvent);
                        })));
                        this._disposers.push(thumb.events.on("globalpointerup", (function(event) {
                            _this._handleThumbUp(event.originalEvent);
                        })));
                        this._disposers.push(thumb.events.on("globalpointermove", (function(event) {
                            _this._handleThumbMove(event.originalEvent);
                        })));
                    }
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    if (this.isDirty("pan")) {
                        var thumb = this.thumb;
                        if (thumb) {
                            var labelsContainer = this.axis.labelsContainer;
                            var pan = this.get("pan");
                            if ("zoom" == pan) labelsContainer.children.push(thumb); else if ("none" == pan) labelsContainer.children.removeValue(thumb);
                        }
                    }
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_handleThumbDown", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    this._thumbDownPoint = this.toLocal(this._root.documentPointToRoot({
                        x: event.clientX,
                        y: event.clientY
                    }));
                    var axis = this.axis;
                    this._downStart = axis.get("start");
                    this._downEnd = axis.get("end");
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_handleThumbUp", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_event) {
                    this._thumbDownPoint = void 0;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_handleThumbMove", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(event) {
                    var downPoint = this._thumbDownPoint;
                    if (downPoint) {
                        var point = this.toLocal(this._root.documentPointToRoot({
                            x: event.clientX,
                            y: event.clientY
                        }));
                        var downStart = this._downStart;
                        var downEnd = this._downEnd;
                        var extra = this._getPan(point, downPoint) * Math.min(1, downEnd - downStart) / 2;
                        this.axis.setAll({
                            start: downStart - extra,
                            end: downEnd + extra
                        });
                    }
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_getPan", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_point1, _point2) {
                    return 0;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "positionToCoordinate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    if (this._inversed) return (this._end - position) * this._axisLength; else return (position - this._start) * this._axisLength;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "updateTooltipBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_tooltip) {}
            });
            Object.defineProperty(AxisRenderer.prototype, "_updateSize", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.markDirty();
                    this._clear = true;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "toAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    var start = this._start || 0;
                    var end = this._end || 1;
                    position *= end - start;
                    if (!this.get("inversed")) position = start + position; else position = end - position;
                    return position;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "fixPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    if (this.get("inversed")) return 1 - position;
                    return position;
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_updateLC", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(AxisRenderer.prototype, "toggleVisibility", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(sprite, position, minPosition, maxPosition) {
                    var axis = this.axis;
                    var start = axis.get("start", 0);
                    var end = axis.get("end", 1);
                    var updatedStart = start + (end - start) * (minPosition - 1e-4);
                    var updatedEnd = start + (end - start) * (maxPosition + 1e-4);
                    if (position < updatedStart || position > updatedEnd) sprite.setPrivate("visible", false); else sprite.setPrivate("visible", true);
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "_positionTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip, point) {
                    var chart = this.chart;
                    if (chart) if (chart.inPlot(point)) tooltip.set("pointTo", this._display.toGlobal(point)); else tooltip.hide();
                }
            });
            Object.defineProperty(AxisRenderer.prototype, "processAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {}
            });
            Object.defineProperty(AxisRenderer, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "AxisRenderer"
            });
            Object.defineProperty(AxisRenderer, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Graphics.classNames.concat([ AxisRenderer.className ])
            });
            return AxisRenderer;
        }(Graphics);
        var AxisRendererX = function(_super) {
            __extends(AxisRendererX, _super);
            function AxisRendererX() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "thumb", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Rectangle["new"](_this._root, {
                        width: p100,
                        isMeasured: false,
                        themeTags: [ "axis", "x", "thumb" ]
                    })
                });
                return _this;
            }
            Object.defineProperty(AxisRendererX.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "renderer", "x" ]);
                    _super.prototype._afterNew.call(this);
                    this.setPrivateRaw("letter", "X");
                    var gridTemplate = this.grid.template;
                    gridTemplate.set("height", p100);
                    gridTemplate.set("width", 0);
                    gridTemplate.set("draw", (function(display, graphics) {
                        display.moveTo(0, 0);
                        display.lineTo(0, graphics.height());
                    }));
                    this.set("draw", (function(display, graphics) {
                        display.moveTo(0, 0);
                        display.lineTo(graphics.width(), 0);
                    }));
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    var axis = this.axis;
                    axis.ghostLabel.setPrivate("visible", !this.get("inside"));
                    var opposite = "opposite";
                    var inside = "inside";
                    if (this.isDirty(opposite) || this.isDirty(inside)) {
                        var chart = this.chart;
                        var axisChildren = axis.children;
                        if (this.get(inside)) axis.addTag(inside); else axis.removeTag(inside);
                        if (chart) {
                            if (this.get(opposite)) {
                                var children = chart.topAxesContainer.children;
                                if (-1 == children.indexOf(axis)) children.insertIndex(0, axis);
                                axis.addTag(opposite);
                                axisChildren.moveValue(this);
                            } else {
                                children = chart.bottomAxesContainer.children;
                                if (-1 == children.indexOf(axis)) children.moveValue(axis);
                                axis.removeTag(opposite);
                                axisChildren.moveValue(this, 0);
                            }
                            axis.ghostLabel._applyThemes();
                            this.labels.each((function(label) {
                                label._applyThemes();
                            }));
                            this.root._markDirtyRedraw();
                        }
                        axis.markDirtySize();
                    }
                    this.thumb.setPrivate("height", axis.labelsContainer.height());
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "_getPan", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point1, point2) {
                    return (point2.x - point1.x) / this.width();
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "toAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    var start = this._start || 0;
                    var end = this._end || 1;
                    position -= this._ls;
                    position = position * (end - start) / this._lc;
                    if (!this.get("inversed")) position = start + position; else position = end - position;
                    return position;
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "_updateLC", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var axis = this.axis;
                    var parent = axis.parent;
                    if (parent) {
                        var w = parent.innerWidth();
                        this._lc = this.axisLength() / w;
                        this._ls = (axis.x() - parent.get("paddingLeft", 0)) / w;
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "_updatePositions", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var axis = this.axis;
                    axis.gridContainer.set("x", axis.x() - relativeToValue(axis.get("centerX", 0), axis.width()) - axis.parent.get("paddingLeft", 0));
                    axis.bulletsContainer.set("y", this.y());
                    var chart = axis.chart;
                    if (chart) {
                        var plotContainer = chart.plotContainer;
                        var axisHeader = axis.axisHeader;
                        var width = axis.get("marginLeft", 0);
                        var x = axis.x() - width;
                        var parent_1 = axis.parent;
                        if (parent_1) x -= parent_1.get("paddingLeft", 0);
                        if (axisHeader.children.length > 0) {
                            width = axis.axisHeader.width();
                            axis.set("marginLeft", width);
                        } else axisHeader.set("width", width);
                        axisHeader.setAll({
                            x,
                            y: -1,
                            height: plotContainer.height() + 2
                        });
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "processAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.processAxis.call(this);
                    var axis = this.axis;
                    axis.set("width", p100);
                    var verticalLayout = this._root.verticalLayout;
                    axis.set("layout", verticalLayout);
                    axis.labelsContainer.set("width", p100);
                    axis.axisHeader.setAll({
                        layout: verticalLayout
                    });
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "axisLength", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.axis.width();
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "positionToPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    return {
                        x: this.positionToCoordinate(position),
                        y: 0
                    };
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateTick", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tick, position, endPosition, count) {
                    if (tick) {
                        if (!isNumber(position)) position = 0;
                        var location_1 = .5;
                        if (isNumber(count) && count > 1) location_1 = tick.get("multiLocation", location_1); else location_1 = tick.get("location", location_1);
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_1;
                        tick.set("x", Math.round(this.positionToCoordinate(position) - this.axis._crispX + .5));
                        var length_1 = tick.get("length", 0);
                        var inside = tick.get("inside", this.get("inside", false));
                        if (this.get("opposite")) {
                            tick.set("y", p100);
                            if (!inside) length_1 *= -1;
                        } else {
                            tick.set("y", 0);
                            if (inside) length_1 *= -1;
                        }
                        tick.set("draw", (function(display) {
                            display.moveTo(0, 0);
                            display.lineTo(0, length_1);
                        }));
                        this.toggleVisibility(tick, position, tick.get("minPosition", 0), tick.get("maxPosition", 1));
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateLabel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(label, position, endPosition, count) {
                    if (label) {
                        var location_2 = .5;
                        if (isNumber(count) && count > 1) location_2 = label.get("multiLocation", location_2); else location_2 = label.get("location", location_2);
                        if (!isNumber(position)) position = 0;
                        var inside = label.get("inside", this.get("inside", false));
                        var opposite = this.get("opposite");
                        if (opposite) if (!inside) {
                            label.set("position", "relative");
                            label.set("y", p100);
                        } else {
                            label.set("position", "absolute");
                            label.set("y", 0);
                        } else if (!inside) {
                            label.set("y", void 0);
                            label.set("position", "relative");
                        } else {
                            label.set("y", 0);
                            label.set("position", "absolute");
                        }
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_2;
                        label.set("x", this.positionToCoordinate(position));
                        this.toggleVisibility(label, position, label.get("minPosition", 0), label.get("maxPosition", 1));
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateGrid", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(grid, position, endPosition) {
                    if (grid) {
                        if (!isNumber(position)) position = 0;
                        var location_3 = grid.get("location", .5);
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_3;
                        grid.set("x", Math.round(this.positionToCoordinate(position) - this.axis._crispX + .5));
                        this.toggleVisibility(grid, position, 0, 1);
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bullet, position, endPosition) {
                    if (bullet) {
                        var sprite = bullet.get("sprite");
                        if (sprite) {
                            if (!isNumber(position)) position = 0;
                            var location_4 = bullet.get("location", .5);
                            if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_4;
                            var bulletPosition = this.axis.roundAxisPosition(position, location_4);
                            var previousBullet = this.axis._bullets[bulletPosition];
                            var d = -1;
                            if (this.get("opposite")) d = 1;
                            if (bullet.get("stacked")) if (previousBullet) {
                                var previousSprite = previousBullet.get("sprite");
                                if (previousSprite) sprite.set("y", previousSprite.y() + previousSprite.height() * d);
                            } else sprite.set("y", 0);
                            this.axis._bullets[bulletPosition] = bullet;
                            sprite.set("x", this.positionToCoordinate(position));
                            this.toggleVisibility(sprite, position, 0, 1);
                        }
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fill, position, endPosition) {
                    if (fill) {
                        if (!isNumber(position)) position = 0;
                        if (!isNumber(endPosition)) endPosition = 1;
                        var x0 = this.positionToCoordinate(position);
                        var x1 = this.positionToCoordinate(endPosition);
                        this.fillDrawMethod(fill, x0, x1);
                    }
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "fillDrawMethod", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fill, x0, x1) {
                    var _this = this;
                    fill.set("draw", (function(display) {
                        var _a;
                        var h = _this.axis.gridContainer.height();
                        var w = _this.width();
                        if (x1 < x0) _a = __read([ x0, x1 ], 2), x1 = _a[0], x0 = _a[1];
                        if (x0 > w || x1 < 0) return;
                        display.moveTo(x0, 0);
                        display.lineTo(x1, 0);
                        display.lineTo(x1, h);
                        display.lineTo(x0, h);
                        display.lineTo(x0, 0);
                    }));
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "positionTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip, position) {
                    this._positionTooltip(tooltip, {
                        x: this.positionToCoordinate(position),
                        y: 0
                    });
                }
            });
            Object.defineProperty(AxisRendererX.prototype, "updateTooltipBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip) {
                    var inside = this.get("inside");
                    var num = 1e5;
                    var global = this._display.toGlobal({
                        x: 0,
                        y: 0
                    });
                    var x = global.x;
                    var y = 0;
                    var w = this.axisLength();
                    var h = num;
                    var pointerOrientation = "up";
                    if (this.get("opposite")) if (inside) {
                        pointerOrientation = "up";
                        y = global.y;
                        h = num;
                    } else {
                        pointerOrientation = "down";
                        y = global.y - num;
                        h = num;
                    } else if (inside) {
                        pointerOrientation = "down";
                        y = global.y - num;
                        h = num;
                    } else {
                        pointerOrientation = "up";
                        y = global.y;
                        h = num;
                    }
                    var bounds = {
                        left: x,
                        right: x + w,
                        top: y,
                        bottom: y + h
                    };
                    var oldBounds = tooltip.get("bounds");
                    if (!sameBounds(bounds, oldBounds)) {
                        tooltip.set("bounds", bounds);
                        tooltip.set("pointerOrientation", pointerOrientation);
                    }
                }
            });
            Object.defineProperty(AxisRendererX, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "AxisRendererX"
            });
            Object.defineProperty(AxisRendererX, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: AxisRenderer.classNames.concat([ AxisRendererX.className ])
            });
            return AxisRendererX;
        }(AxisRenderer);
        var AxisRendererY = function(_super) {
            __extends(AxisRendererY, _super);
            function AxisRendererY() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_downY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "thumb", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Rectangle["new"](_this._root, {
                        height: p100,
                        isMeasured: false,
                        themeTags: [ "axis", "y", "thumb" ]
                    })
                });
                return _this;
            }
            Object.defineProperty(AxisRendererY.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._settings.themeTags = mergeTags(this._settings.themeTags, [ "renderer", "y" ]);
                    if (this._settings.opposite) this._settings.themeTags.push("opposite");
                    _super.prototype._afterNew.call(this);
                    this.setPrivateRaw("letter", "Y");
                    var gridTemplate = this.grid.template;
                    gridTemplate.set("width", p100);
                    gridTemplate.set("height", 0);
                    gridTemplate.set("draw", (function(display, graphics) {
                        display.moveTo(0, 0);
                        display.lineTo(graphics.width(), 0);
                    }));
                    this.set("draw", (function(display, renderer) {
                        display.moveTo(0, 0);
                        display.lineTo(0, renderer.height());
                    }));
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "_getPan", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(point1, point2) {
                    return (point1.y - point2.y) / this.height();
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "_changed", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._changed.call(this);
                    var axis = this.axis;
                    axis.ghostLabel.setPrivate("visible", !this.get("inside"));
                    var thumb = this.thumb;
                    var opposite = "opposite";
                    var inside = "inside";
                    var chart = this.chart;
                    if (this.isDirty(opposite) || this.isDirty(inside)) {
                        var axisChildren = axis.children;
                        if (this.get(inside)) axis.addTag(inside); else axis.removeTag(inside);
                        if (chart) {
                            if (this.get(opposite)) {
                                var children = chart.rightAxesContainer.children;
                                if (-1 == children.indexOf(axis)) children.moveValue(axis, 0);
                                axis.addTag(opposite);
                                axisChildren.moveValue(this, 0);
                            } else {
                                children = chart.leftAxesContainer.children;
                                if (-1 == children.indexOf(axis)) children.moveValue(axis);
                                axis.removeTag(opposite);
                                axisChildren.moveValue(this);
                            }
                            axis.ghostLabel._applyThemes();
                            this.labels.each((function(label) {
                                label._applyThemes();
                            }));
                            this.root._markDirtyRedraw();
                        }
                        axis.markDirtySize();
                    }
                    var w = axis.labelsContainer.width();
                    if (chart) if (this.get(opposite)) thumb.set("centerX", 0); else thumb.set("centerX", w);
                    thumb.setPrivate("width", w);
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "processAxis", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.processAxis.call(this);
                    var axis = this.axis;
                    if (null == axis.get("height")) axis.set("height", p100);
                    var horizontalLayout = this._root.horizontalLayout;
                    axis.set("layout", horizontalLayout);
                    axis.labelsContainer.set("height", p100);
                    axis.axisHeader.set("layout", horizontalLayout);
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "_updatePositions", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var axis = this.axis;
                    axis.gridContainer.set("y", axis.y() - relativeToValue(axis.get("centerY", 0), axis.height()));
                    axis.bulletsContainer.set("x", this.x());
                    var chart = axis.chart;
                    if (chart) {
                        var plotContainer = chart.plotContainer;
                        var axisHeader = axis.axisHeader;
                        var height = axis.get("marginTop", 0);
                        if (axisHeader.children.length > 0) {
                            height = axis.axisHeader.height();
                            axis.set("marginTop", height);
                        } else axisHeader.set("height", height);
                        axisHeader.setAll({
                            y: axis.y() - height,
                            x: -1,
                            width: plotContainer.width() + 2
                        });
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "axisLength", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return this.axis.innerHeight();
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "positionToPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    return {
                        x: 0,
                        y: this.positionToCoordinate(position)
                    };
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateLabel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(label, position, endPosition, count) {
                    if (label) {
                        if (!isNumber(position)) position = 0;
                        var location_1 = .5;
                        if (isNumber(count) && count > 1) location_1 = label.get("multiLocation", location_1); else location_1 = label.get("location", location_1);
                        var opposite = this.get("opposite");
                        var inside = label.get("inside", this.get("inside", false));
                        if (opposite) {
                            label.set("x", 0);
                            if (inside) label.set("position", "absolute"); else label.set("position", "relative");
                        } else if (inside) {
                            label.set("x", 0);
                            label.set("position", "absolute");
                        } else {
                            label.set("x", void 0);
                            label.set("position", "relative");
                        }
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_1;
                        label.set("y", this.positionToCoordinate(position));
                        this.toggleVisibility(label, position, label.get("minPosition", 0), label.get("maxPosition", 1));
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateGrid", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(grid, position, endPosition) {
                    if (grid) {
                        if (!isNumber(position)) position = 0;
                        var location_2 = grid.get("location", .5);
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_2;
                        grid.set("y", Math.round(this.positionToCoordinate(position)) - this.axis._crispY + .5);
                        this.toggleVisibility(grid, position, 0, 1);
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateTick", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tick, position, endPosition, count) {
                    if (tick) {
                        if (!isNumber(position)) position = 0;
                        var location_3 = .5;
                        if (isNumber(count) && count > 1) location_3 = tick.get("multiLocation", location_3); else location_3 = tick.get("location", location_3);
                        if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_3;
                        tick.set("y", Math.round(this.positionToCoordinate(position)) - this.axis._crispY + .5);
                        var length_1 = tick.get("length", 0);
                        var inside = tick.get("inside", this.get("inside", false));
                        if (this.get("opposite")) {
                            tick.set("x", 0);
                            if (inside) length_1 *= -1;
                        } else if (!inside) length_1 *= -1;
                        tick.set("draw", (function(display) {
                            display.moveTo(0, 0);
                            display.lineTo(length_1, 0);
                        }));
                        this.toggleVisibility(tick, position, tick.get("minPosition", 0), tick.get("maxPosition", 1));
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bullet, position, endPosition) {
                    if (bullet) {
                        var sprite = bullet.get("sprite");
                        if (sprite) {
                            if (!isNumber(position)) position = 0;
                            var location_4 = bullet.get("location", .5);
                            if (isNumber(endPosition) && endPosition != position) position += (endPosition - position) * location_4;
                            var bulletPosition = this.axis.roundAxisPosition(position, location_4);
                            var previousBullet = this.axis._bullets[bulletPosition];
                            var d = 1;
                            if (this.get("opposite")) d = -1;
                            if (bullet.get("stacked")) if (previousBullet) {
                                var previousSprite = previousBullet.get("sprite");
                                if (previousSprite) sprite.set("x", previousSprite.x() + previousSprite.width() * d);
                            } else sprite.set("x", 0);
                            this.axis._bullets[bulletPosition] = bullet;
                            sprite.set("y", this.positionToCoordinate(position));
                            this.toggleVisibility(sprite, position, 0, 1);
                        }
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fill, position, endPosition) {
                    if (fill) {
                        if (!isNumber(position)) position = 0;
                        if (!isNumber(endPosition)) endPosition = 1;
                        var y0 = this.positionToCoordinate(position);
                        var y1 = this.positionToCoordinate(endPosition);
                        this.fillDrawMethod(fill, y0, y1);
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "fillDrawMethod", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fill, y0, y1) {
                    var _this = this;
                    fill.set("draw", (function(display) {
                        var _a;
                        var w = _this.axis.gridContainer.width();
                        var h = _this.height();
                        if (y1 < y0) _a = __read([ y0, y1 ], 2), y1 = _a[0], y0 = _a[1];
                        if (y0 > h || y1 < 0) return;
                        display.moveTo(0, y0);
                        display.lineTo(w, y0);
                        display.lineTo(w, y1);
                        display.lineTo(0, y1);
                        display.lineTo(0, y0);
                    }));
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "positionToCoordinate", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    if (!this._inversed) return (this._end - position) * this._axisLength; else return (position - this._start) * this._axisLength;
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "positionTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip, position) {
                    this._positionTooltip(tooltip, {
                        x: 0,
                        y: this.positionToCoordinate(position)
                    });
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "updateTooltipBounds", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(tooltip) {
                    var inside = this.get("inside");
                    var num = 1e5;
                    var global = this._display.toGlobal({
                        x: 0,
                        y: 0
                    });
                    var y = global.y;
                    var x = 0;
                    var h = this.axisLength();
                    var w = num;
                    var pointerOrientation = "right";
                    if (this.get("opposite")) if (inside) {
                        pointerOrientation = "right";
                        x = global.x - num;
                        w = num;
                    } else {
                        pointerOrientation = "left";
                        x = global.x;
                        w = num;
                    } else if (inside) {
                        pointerOrientation = "left";
                        x = global.x;
                        w = num;
                    } else {
                        pointerOrientation = "right";
                        x = global.x - num;
                        w = num;
                    }
                    var bounds = {
                        left: x,
                        right: x + w,
                        top: y,
                        bottom: y + h
                    };
                    var oldBounds = tooltip.get("bounds");
                    if (!sameBounds(bounds, oldBounds)) {
                        tooltip.set("bounds", bounds);
                        tooltip.set("pointerOrientation", pointerOrientation);
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "_updateLC", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var axis = this.axis;
                    var parent = axis.parent;
                    if (parent) {
                        var h = parent.innerHeight();
                        this._lc = this.axisLength() / h;
                        this._ls = axis.y() / h;
                    }
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "toAxisPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    var start = this._start || 0;
                    var end = this._end || 1;
                    position -= this._ls;
                    position = position * (end - start) / this._lc;
                    if (this.get("inversed")) position = start + position; else position = end - position;
                    return position;
                }
            });
            Object.defineProperty(AxisRendererY.prototype, "fixPosition", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(position) {
                    if (!this.get("inversed")) return 1 - position;
                    return position;
                }
            });
            Object.defineProperty(AxisRendererY, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "AxisRendererY"
            });
            Object.defineProperty(AxisRendererY, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: AxisRenderer.classNames.concat([ AxisRendererY.className ])
            });
            return AxisRendererY;
        }(AxisRenderer);
        var Series = function(_super) {
            __extends(Series, _super);
            function Series() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_aggregatesCalculated", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_selectionAggregatesCalculated", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dataProcessed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_psi", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_pei", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "chart", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "bullets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new List
                });
                Object.defineProperty(_this, "bulletsContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: Container["new"](_this._root, {
                        width: p100,
                        height: p100,
                        position: "absolute"
                    })
                });
                return _this;
            }
            Object.defineProperty(Series.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this.valueFields.push("value");
                    _super.prototype._afterNew.call(this);
                    this.setPrivate("customData", {});
                    this._disposers.push(this.bullets.events.onAll((function(change) {
                        if ("clear" === change.type) _this._handleBullets(_this.dataItems); else if ("push" === change.type) _this._handleBullets(_this.dataItems); else if ("setIndex" === change.type) _this._handleBullets(_this.dataItems); else if ("insertIndex" === change.type) _this._handleBullets(_this.dataItems); else if ("removeIndex" === change.type) _this._handleBullets(_this.dataItems); else if ("moveIndex" === change.type) _this._handleBullets(_this.dataItems); else throw new Error("Unknown IListEvent type");
                    })));
                }
            });
            Object.defineProperty(Series.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.bulletsContainer.dispose();
                    _super.prototype._dispose.call(this);
                }
            });
            Object.defineProperty(Series.prototype, "startIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var len = this.dataItems.length;
                    return Math.min(this.getPrivate("startIndex", 0), len);
                }
            });
            Object.defineProperty(Series.prototype, "endIndex", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var len = this.dataItems.length;
                    return Math.min(this.getPrivate("endIndex", len), len);
                }
            });
            Object.defineProperty(Series.prototype, "_handleBullets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItems) {
                    each(dataItems, (function(dataItem) {
                        var bullets = dataItem.bullets;
                        if (bullets) {
                            each(bullets, (function(bullet) {
                                bullet.dispose();
                            }));
                            dataItem.bullets = void 0;
                        }
                    }));
                    this.markDirtyValues();
                }
            });
            Object.defineProperty(Series.prototype, "getDataItemById", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(id) {
                    return find(this.dataItems, (function(dataItem) {
                        return dataItem.get("id") == id;
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_makeBullets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var _this = this;
                    if (this._shouldMakeBullet(dataItem)) {
                        dataItem.bullets = [];
                        this.bullets.each((function(bulletFunction) {
                            _this._makeBullet(dataItem, bulletFunction);
                        }));
                    }
                }
            });
            Object.defineProperty(Series.prototype, "_shouldMakeBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {
                    return true;
                }
            });
            Object.defineProperty(Series.prototype, "_makeBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, bulletFunction, index) {
                    var bullet = bulletFunction(this._root, this, dataItem);
                    if (bullet) {
                        var sprite = bullet.get("sprite");
                        if (sprite) {
                            sprite._setDataItem(dataItem);
                            sprite.setRaw("position", "absolute");
                            this.bulletsContainer.children.push(sprite);
                        }
                        bullet._index = index;
                        bullet.series = this;
                        dataItem.bullets.push(bullet);
                    }
                    return bullet;
                }
            });
            Object.defineProperty(Series.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._aggregatesCalculated = false;
                    this._selectionAggregatesCalculated = false;
                }
            });
            Object.defineProperty(Series.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._prepareChildren.call(this);
                    var startIndex = this.startIndex();
                    var endIndex = this.endIndex();
                    if (this.isDirty("heatRules")) this._valuesDirty = true;
                    if (this.isPrivateDirty("baseValueSeries")) {
                        var baseValueSeries = this.getPrivate("baseValueSeries");
                        if (baseValueSeries) this._disposers.push(baseValueSeries.onPrivate("startIndex", (function() {
                            _this.markDirtyValues();
                        })));
                    }
                    var calculateAggregates = this.get("calculateAggregates");
                    if (calculateAggregates) {
                        if (this._valuesDirty && !this._dataProcessed) if (!this._aggregatesCalculated) {
                            this._calculateAggregates(0, this.dataItems.length);
                            this._aggregatesCalculated = true;
                        }
                        if ((this._psi != startIndex || this._pei != endIndex) && !this._selectionAggregatesCalculated) {
                            if (0 === startIndex && endIndex === this.dataItems.length && this._aggregatesCalculated) ; else this._calculateAggregates(startIndex, endIndex);
                            this._selectionAggregatesCalculated = true;
                        }
                    }
                    if (this.isDirty("tooltip")) {
                        var tooltip = this.get("tooltip");
                        if (tooltip) {
                            tooltip.hide(0);
                            tooltip.set("tooltipTarget", this);
                        }
                    }
                    if (this.isDirty("fill") || this.isDirty("stroke")) {
                        var markerRectangle = void 0;
                        var legendDataItem = this.get("legendDataItem");
                        if (legendDataItem) {
                            markerRectangle = legendDataItem.get("markerRectangle");
                            if (markerRectangle) if (this.isVisible()) {
                                if (this.isDirty("stroke")) {
                                    var stroke = this.get("stroke");
                                    markerRectangle.set("stroke", stroke);
                                }
                                if (this.isDirty("fill")) {
                                    var fill = this.get("fill");
                                    markerRectangle.set("fill", fill);
                                }
                            }
                        }
                        this.updateLegendMarker(void 0);
                    }
                    if (this.bullets.length > 0) {
                        var startIndex_1 = this.startIndex();
                        var endIndex_1 = this.endIndex();
                        if (endIndex_1 < this.dataItems.length) endIndex_1++;
                        for (var i = startIndex_1; i < endIndex_1; i++) {
                            var dataItem = this.dataItems[i];
                            if (!dataItem.bullets) this._makeBullets(dataItem);
                        }
                    }
                }
            });
            Object.defineProperty(Series.prototype, "_calculateAggregates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(startIndex, endIndex) {
                    var _this = this;
                    var fields = this._valueFields;
                    if (!fields) throw new Error("No value fields are set for the series.");
                    var sum = {};
                    var absSum = {};
                    var count = {};
                    var low = {};
                    var high = {};
                    var open = {};
                    var close = {};
                    var average = {};
                    var previous = {};
                    each(fields, (function(key) {
                        sum[key] = 0;
                        absSum[key] = 0;
                        count[key] = 0;
                    }));
                    each(fields, (function(key) {
                        var change = key + "Change";
                        var changePercent = key + "ChangePercent";
                        var changePrevious = key + "ChangePrevious";
                        var changePreviousPercent = key + "ChangePreviousPercent";
                        var changeSelection = key + "ChangeSelection";
                        var changeSelectionPercent = key + "ChangeSelectionPercent";
                        var openKey = "valueY";
                        if ("valueX" == key || "openValueX" == key || "lowValueX" == key || "highValueX" == key) openKey = "valueX";
                        var baseValueSeries = _this.getPrivate("baseValueSeries");
                        for (var i = startIndex; i < endIndex; i++) {
                            var dataItem = _this.dataItems[i];
                            var value = dataItem.get(key);
                            if (null != value) {
                                count[key]++;
                                sum[key] += value;
                                absSum[key] += Math.abs(value);
                                average[key] = sum[key] / count[key];
                                if (low[key] > value || null == low[key]) low[key] = value;
                                if (high[key] < value || null == high[key]) high[key] = value;
                                close[key] = value;
                                if (null == open[key]) {
                                    open[key] = value;
                                    previous[key] = value;
                                    if (baseValueSeries) open[openKey] = baseValueSeries._getBase(openKey);
                                }
                                if (0 === startIndex) {
                                    dataItem.setRaw(change, value - open[openKey]);
                                    dataItem.setRaw(changePercent, (value - open[openKey]) / open[openKey] * 100);
                                }
                                dataItem.setRaw(changePrevious, value - previous[openKey]);
                                dataItem.setRaw(changePreviousPercent, (value - previous[openKey]) / previous[openKey] * 100);
                                dataItem.setRaw(changeSelection, value - open[openKey]);
                                dataItem.setRaw(changeSelectionPercent, (value - open[openKey]) / open[openKey] * 100);
                                previous[key] = value;
                            }
                        }
                    }));
                    each(fields, (function(key) {
                        _this.setPrivate(key + "AverageSelection", average[key]);
                        _this.setPrivate(key + "CountSelection", count[key]);
                        _this.setPrivate(key + "SumSelection", sum[key]);
                        _this.setPrivate(key + "AbsoluteSumSelection", absSum[key]);
                        _this.setPrivate(key + "LowSelection", low[key]);
                        _this.setPrivate(key + "HighSelection", high[key]);
                        _this.setPrivate(key + "OpenSelection", open[key]);
                        _this.setPrivate(key + "CloseSelection", close[key]);
                    }));
                    if (0 === startIndex && endIndex === this.dataItems.length) each(fields, (function(key) {
                        _this.setPrivate(key + "Average", average[key]);
                        _this.setPrivate(key + "Count", count[key]);
                        _this.setPrivate(key + "Sum", sum[key]);
                        _this.setPrivate(key + "AbsoluteSum", absSum[key]);
                        _this.setPrivate(key + "Low", low[key]);
                        _this.setPrivate(key + "High", high[key]);
                        _this.setPrivate(key + "Open", open[key]);
                        _this.setPrivate(key + "Close", close[key]);
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._updateChildren.call(this);
                    this._psi = this.startIndex();
                    this._pei = this.endIndex();
                    if (this.isDirty("visible")) this.bulletsContainer.set("visible", this.get("visible"));
                    var rules = this.get("heatRules");
                    if (this._valuesDirty && rules && rules.length > 0) each(rules, (function(rule) {
                        var minValue = rule.minValue || _this.getPrivate(rule.dataField + "Low") || 0;
                        var maxValue = rule.maxValue || _this.getPrivate(rule.dataField + "High") || 0;
                        each(rule.target._entities, (function(target) {
                            var value = target.dataItem.get(rule.dataField);
                            if (!isNumber(value)) {
                                if (rule.neutral) target.set(rule.key, rule.neutral);
                                return;
                            }
                            var percent;
                            if (rule.logarithmic) percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / (Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E); else percent = (value - minValue) / (maxValue - minValue);
                            if (isNumber(value) && (!isNumber(percent) || Math.abs(percent) == 1 / 0)) percent = .5;
                            var propertyValue;
                            if (isNumber(rule.min)) propertyValue = rule.min + (rule.max - rule.min) * percent; else if (rule.min instanceof Color) propertyValue = Color.interpolate(percent, rule.min, rule.max); else if (rule.min instanceof Percent) propertyValue = percentInterpolate(percent, rule.min, rule.max);
                            if (rule.customFunction) rule.customFunction.call(_this, target, minValue, maxValue, value); else target.set(rule.key, propertyValue);
                        }));
                    }));
                    if (this.bullets.length > 0) {
                        var count = this.dataItems.length;
                        var startIndex = this.startIndex();
                        var endIndex = this.endIndex();
                        if (endIndex < count) endIndex++;
                        if (startIndex > 0) startIndex--;
                        for (var i = 0; i < startIndex; i++) this._hideBullets(this.dataItems[i]);
                        for (i = startIndex; i < endIndex; i++) this._positionBullets(this.dataItems[i]);
                        for (i = endIndex; i < count; i++) this._hideBullets(this.dataItems[i]);
                    }
                }
            });
            Object.defineProperty(Series.prototype, "_positionBullets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var _this = this;
                    if (dataItem.bullets) each(dataItem.bullets, (function(bullet) {
                        _this._positionBullet(bullet);
                        var sprite = bullet.get("sprite");
                        if (bullet.get("dynamic")) {
                            if (sprite) {
                                sprite._markDirtyKey("fill");
                                sprite.markDirtySize();
                            }
                            if (sprite instanceof Container) sprite.walkChildren((function(child) {
                                child._markDirtyKey("fill");
                                child.markDirtySize();
                                if (child instanceof Label) child.text.markDirtyText();
                            }));
                        }
                        if (sprite instanceof Label && sprite.get("populateText")) sprite.text.markDirtyText();
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_hideBullets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    if (dataItem.bullets) each(dataItem.bullets, (function(bullet) {
                        var sprite = bullet.get("sprite");
                        if (sprite) sprite.setPrivate("visible", false);
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_positionBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_bullet) {}
            });
            Object.defineProperty(Series.prototype, "_placeBulletsContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(chart) {
                    chart.bulletsContainer.children.moveValue(this.bulletsContainer);
                }
            });
            Object.defineProperty(Series.prototype, "_removeBulletsContainer", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var bulletsContainer = this.bulletsContainer;
                    if (bulletsContainer.parent) bulletsContainer.parent.children.removeValue(bulletsContainer);
                }
            });
            Object.defineProperty(Series.prototype, "disposeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var bullets = dataItem.bullets;
                    if (bullets) each(bullets, (function(bullet) {
                        bullet.dispose();
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_getItemReaderLabel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    return "";
                }
            });
            Object.defineProperty(Series.prototype, "showDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, bullets;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.showDataItem.call(this, dataItem, duration) ];
                                bullets = dataItem.bullets;
                                if (bullets) each(bullets, (function(bullet) {
                                    promises.push(bullet.get("sprite").show(duration));
                                }));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "hideDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, bullets;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.hideDataItem.call(this, dataItem, duration) ];
                                bullets = dataItem.bullets;
                                if (bullets) each(bullets, (function(bullet) {
                                    promises.push(bullet.get("sprite").hide(duration));
                                }));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "_sequencedShowHide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(show, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var startIndex_2, endIndex_2;
                        var _this = this;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                if (!this.get("sequencedInterpolation")) return [ 3, 4 ];
                                if (!isNumber(duration)) duration = this.get("interpolationDuration", 0);
                                if (!(duration > 0)) return [ 3, 2 ];
                                startIndex_2 = this.startIndex();
                                endIndex_2 = this.endIndex();
                                return [ 4, Promise.all(map(this.dataItems, (function(dataItem, i) {
                                    return __awaiter(_this, void 0, void 0, (function() {
                                        var realDuration, delay;
                                        return __generator(this, (function(_a) {
                                            switch (_a.label) {
                                              case 0:
                                                realDuration = duration || 0;
                                                if (i < startIndex_2 - 10 || i > endIndex_2 + 10) realDuration = 0;
                                                delay = this.get("sequencedDelay", 0) + realDuration / (endIndex_2 - startIndex_2);
                                                return [ 4, sleep(delay * (i - startIndex_2)) ];

                                              case 1:
                                                _a.sent();
                                                if (!show) return [ 3, 3 ];
                                                return [ 4, this.showDataItem(dataItem, realDuration) ];

                                              case 2:
                                                _a.sent();
                                                return [ 3, 5 ];

                                              case 3:
                                                return [ 4, this.hideDataItem(dataItem, realDuration) ];

                                              case 4:
                                                _a.sent();
                                                _a.label = 5;

                                              case 5:
                                                return [ 2 ];
                                            }
                                        }));
                                    }));
                                }))) ];

                              case 1:
                                _a.sent();
                                return [ 3, 4 ];

                              case 2:
                                return [ 4, Promise.all(map(this.dataItems, (function(dataItem) {
                                    if (show) return _this.showDataItem(dataItem, 0); else return _this.hideDataItem(dataItem, 0);
                                }))) ];

                              case 3:
                                _a.sent();
                                _a.label = 4;

                              case 4:
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(Series.prototype, "updateLegendValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    if (dataItem) {
                        var legendDataItem = dataItem.get("legendDataItem");
                        if (legendDataItem) {
                            var valueLabel = legendDataItem.get("valueLabel");
                            if (valueLabel) {
                                var text = valueLabel.text;
                                var txt = "";
                                valueLabel._setDataItem(dataItem);
                                txt = this.get("legendValueText", text.get("text", ""));
                                valueLabel.set("text", txt);
                                text.markDirtyText();
                            }
                            var label = legendDataItem.get("label");
                            if (label) {
                                text = label.text;
                                txt = "";
                                label._setDataItem(dataItem);
                                txt = this.get("legendLabelText", text.get("text", ""));
                                label.set("text", txt);
                                text.markDirtyText();
                            }
                        }
                    }
                }
            });
            Object.defineProperty(Series.prototype, "updateLegendMarker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {}
            });
            Object.defineProperty(Series.prototype, "_onHide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._onHide.call(this);
                    var tooltip = this.getTooltip();
                    if (tooltip) tooltip.hide();
                }
            });
            Object.defineProperty(Series.prototype, "hoverDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {}
            });
            Object.defineProperty(Series.prototype, "unhoverDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {}
            });
            Object.defineProperty(Series.prototype, "_getBase", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key) {
                    var dataItem = this.dataItems[this.startIndex()];
                    if (dataItem) return dataItem.get(key);
                    return 0;
                }
            });
            Object.defineProperty(Series, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "Series"
            });
            Object.defineProperty(Series, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Component.classNames.concat([ Series.className ])
            });
            return Series;
        }(Component);
        function min(left, right) {
            if (null == left) return right; else if (null == right) return left; else if (right < left) return right; else return left;
        }
        function max(left, right) {
            if (null == left) return right; else if (null == right) return left; else if (right > left) return right; else return left;
        }
        var XYSeries = function(_super) {
            __extends(XYSeries, _super);
            function XYSeries() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_xField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_yField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_xOpenField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_yOpenField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_xLowField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_xHighField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_yLowField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_yHighField", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_axesDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_stackDirty", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_selectionProcessed", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_dataSets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_mainContainerMask", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_x", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_y", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "mainContainer", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: _this.children.push(Container["new"](_this._root, {}))
                });
                Object.defineProperty(_this, "axisRanges", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new List
                });
                Object.defineProperty(_this, "_skipped", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: false
                });
                Object.defineProperty(_this, "_couldStackTo", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: []
                });
                Object.defineProperty(_this, "_reallyStackedTo", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_stackedSeries", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: {}
                });
                Object.defineProperty(_this, "_aLocationX0", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_aLocationX1", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_aLocationY0", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_aLocationY1", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 1
                });
                Object.defineProperty(_this, "_showBullets", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: true
                });
                Object.defineProperty(_this, "valueXFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ "valueX", "openValueX", "lowValueX", "highValueX" ]
                });
                Object.defineProperty(_this, "valueYFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ "valueY", "openValueY", "lowValueY", "highValueY" ]
                });
                Object.defineProperty(_this, "_valueXFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_valueYFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_valueXShowFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_valueYShowFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "__valueXShowFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "__valueYShowFields", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_emptyDataItem", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new DataItem(_this, void 0, {})
                });
                Object.defineProperty(_this, "_dataSetId", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_tooltipFieldX", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_tooltipFieldY", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                return _this;
            }
            Object.defineProperty(XYSeries.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    this.fields.push("categoryX", "categoryY", "openCategoryX", "openCategoryY");
                    this.valueFields.push("valueX", "valueY", "openValueX", "openValueY", "lowValueX", "lowValueY", "highValueX", "highValueY");
                    this._setRawDefault("vcx", 1);
                    this._setRawDefault("vcy", 1);
                    this._setRawDefault("valueXShow", "valueXWorking");
                    this._setRawDefault("valueYShow", "valueYWorking");
                    this._setRawDefault("openValueXShow", "openValueXWorking");
                    this._setRawDefault("openValueYShow", "openValueYWorking");
                    this._setRawDefault("lowValueXShow", "lowValueXWorking");
                    this._setRawDefault("lowValueYShow", "lowValueYWorking");
                    this._setRawDefault("highValueXShow", "highValueXWorking");
                    this._setRawDefault("highValueYShow", "highValueYWorking");
                    this._setRawDefault("lowValueXGrouped", "low");
                    this._setRawDefault("lowValueYGrouped", "low");
                    this._setRawDefault("highValueXGrouped", "high");
                    this._setRawDefault("highValueYGrouped", "high");
                    _super.prototype._afterNew.call(this);
                    this._settings.xAxis.series.push(this);
                    this._settings.yAxis.series.push(this);
                    this.set("maskContent", true);
                    this._disposers.push(this.axisRanges.events.onAll((function(change) {
                        if ("clear" === change.type) each(change.oldValues, (function(axisRange) {
                            _this._removeAxisRange(axisRange);
                        })); else if ("push" === change.type) _this._processAxisRange(change.newValue); else if ("setIndex" === change.type) _this._processAxisRange(change.newValue); else if ("insertIndex" === change.type) _this._processAxisRange(change.newValue); else if ("removeIndex" === change.type) _this._removeAxisRange(change.oldValue); else if ("moveIndex" === change.type) _this._processAxisRange(change.value); else throw new Error("Unknown IStreamEvent type");
                    })));
                    if (!this.get("baseAxis")) {
                        var xAxis = this.get("xAxis");
                        var yAxis = this.get("yAxis");
                        if (yAxis.isType("CategoryAxis") || yAxis.isType("DateAxis")) this.set("baseAxis", yAxis); else this.set("baseAxis", xAxis);
                    }
                    this.states.create("hidden", {
                        opacity: 1,
                        visible: false
                    });
                    this._makeFieldNames();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_processAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisRange) {
                    var container = Container["new"](this._root, {});
                    axisRange.container = container;
                    this.children.push(container);
                    axisRange.series = this;
                    var axisDataItem = axisRange.axisDataItem;
                    axisDataItem.setRaw("isRange", true);
                    var axis = axisDataItem.component;
                    if (axis) {
                        axis._processAxisRange(axisDataItem, [ "range", "series" ]);
                        var bullet = axisDataItem.get("bullet");
                        if (bullet) {
                            var sprite = bullet.get("sprite");
                            if (sprite) sprite.setPrivate("visible", false);
                        }
                        var axisFill = axisDataItem.get("axisFill");
                        if (axisFill) container.set("mask", axisFill);
                        axis._seriesAxisRanges.push(axisDataItem);
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_removeAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisRange) {
                    var axisDataItem = axisRange.axisDataItem;
                    var axis = axisDataItem.component;
                    axis.disposeDataItem(axisDataItem);
                    remove(axis._seriesAxisRanges, axisDataItem);
                    var container = axisRange.container;
                    if (container) container.dispose();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_updateFields", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._updateFields.call(this);
                    this._valueXFields = [];
                    this._valueYFields = [];
                    this._valueXShowFields = [];
                    this._valueYShowFields = [];
                    this.__valueXShowFields = [];
                    this.__valueYShowFields = [];
                    if (this.valueXFields) each(this.valueXFields, (function(key) {
                        var field = _this.get(key + "Field");
                        if (field) {
                            _this._valueXFields.push(key);
                            var field_1 = _this.get(key + "Show");
                            _this.__valueXShowFields.push(field_1);
                            if (-1 != field_1.indexOf("Working")) _this._valueXShowFields.push(field_1.split("Working")[0]); else _this._valueYShowFields.push(field_1);
                        }
                    }));
                    if (this.valueYFields) each(this.valueYFields, (function(key) {
                        var field = _this.get(key + "Field");
                        if (field) {
                            _this._valueYFields.push(key);
                            var field_2 = _this.get(key + "Show");
                            _this.__valueYShowFields.push(field_2);
                            if (-1 != field_2.indexOf("Working")) _this._valueYShowFields.push(field_2.split("Working")[0]); else _this._valueYShowFields.push(field_2);
                        }
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "_dispose", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._dispose.call(this);
                    var chart = this.chart;
                    if (chart) chart.series.removeValue(this);
                    removeFirst(this.get("xAxis").series, this);
                    removeFirst(this.get("yAxis").series, this);
                }
            });
            Object.defineProperty(XYSeries.prototype, "_min", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var newValue = min(this.getPrivate(key), value);
                    this.setPrivate(key, newValue);
                }
            });
            Object.defineProperty(XYSeries.prototype, "_max", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(key, value) {
                    var newValue = max(this.getPrivate(key), value);
                    this.setPrivate(key, newValue);
                }
            });
            Object.defineProperty(XYSeries.prototype, "_shouldMakeBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    if (!this.get("xAxis").inited || !this.get("yAxis").inited) return false;
                    if (null != dataItem.get(this._xField) && null != dataItem.get(this._yField)) return true;
                    return false;
                }
            });
            Object.defineProperty(XYSeries.prototype, "_makeFieldNames", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var xName = xAxis.getPrivate("name");
                    var xCapName = capitalizeFirst(xName);
                    var yName = yAxis.getPrivate("name");
                    var yCapName = capitalizeFirst(yName);
                    var xLetter = xAxis.get("renderer").getPrivate("letter");
                    var yLetter = yAxis.get("renderer").getPrivate("letter");
                    var open = "open";
                    var low = "low";
                    var high = "high";
                    var show = "Show";
                    if ("ValueAxis" === xAxis.className) {
                        this._xField = this.get(xName + xLetter + show);
                        this._xOpenField = this.get(open + xCapName + xLetter + show);
                        this._xLowField = this.get(low + xCapName + xLetter + show);
                        this._xHighField = this.get(high + xCapName + xLetter + show);
                    } else {
                        this._xField = xName + xLetter;
                        this._xOpenField = open + xCapName + xLetter;
                        this._xLowField = low + xCapName + xLetter;
                        this._xHighField = high + xCapName + xLetter;
                    }
                    if ("ValueAxis" === yAxis.className) {
                        this._yField = this.get(yName + yLetter + show);
                        this._yOpenField = this.get(open + yCapName + yLetter + show);
                        this._yLowField = this.get(low + yCapName + yLetter + show);
                        this._yHighField = this.get(high + yCapName + yLetter + show);
                    } else {
                        this._yField = yName + yLetter;
                        this._yOpenField = open + yCapName + yLetter;
                        this._yLowField = low + yCapName + yLetter;
                        this._yHighField = high + yCapName + yLetter;
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_fixVC", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var baseAxis = this.get("baseAxis");
                    var hiddenState = this.states.lookup("hidden");
                    var sequencedInterpolation = this.get("sequencedInterpolation");
                    if (hiddenState) {
                        var value = 0;
                        if (sequencedInterpolation) value = .999999999999;
                        if (xAxis === baseAxis) hiddenState.set("vcy", value); else if (yAxis === baseAxis) hiddenState.set("vcx", value); else {
                            hiddenState.set("vcy", value);
                            hiddenState.set("vcx", value);
                        }
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_handleMaskBullets", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.isDirty("maskBullets")) this.bulletsContainer.set("maskContent", this.get("maskBullets"));
                }
            });
            Object.defineProperty(XYSeries.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._prepareChildren.call(this);
                    if (this.isDirty("valueYShow") || this.isDirty("valueXShow" || 0 || 0 || 0 || 0 || 0 || 0)) {
                        this._updateFields();
                        this._makeFieldNames();
                        this._valuesDirty = true;
                    }
                    this.set("width", this.get("xAxis").width());
                    this.set("height", this.get("yAxis").height());
                    this._handleMaskBullets();
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var baseAxis = this.get("baseAxis");
                    var tooltipPositionX = this.get("tooltipPositionX");
                    var tooltipFieldX;
                    switch (tooltipPositionX) {
                      case "open":
                        tooltipFieldX = this._xOpenField;
                        break;

                      case "low":
                        tooltipFieldX = this._xLowField;
                        break;

                      case "high":
                        tooltipFieldX = this._xHighField;
                        break;

                      default:
                        tooltipFieldX = this._xField;
                    }
                    this._tooltipFieldX = tooltipFieldX;
                    var tooltipPositionY = this.get("tooltipPositionY");
                    var tooltipFieldY;
                    switch (tooltipPositionY) {
                      case "open":
                        tooltipFieldY = this._yOpenField;
                        break;

                      case "low":
                        tooltipFieldY = this._yLowField;
                        break;

                      case "high":
                        tooltipFieldY = this._yHighField;
                        break;

                      default:
                        tooltipFieldY = this._yField;
                    }
                    this._tooltipFieldY = tooltipFieldY;
                    if (this.isDirty("baseAxis")) this._fixVC();
                    this.set("x", xAxis.x() - relativeToValue(xAxis.get("centerX", 0), xAxis.width()) - xAxis.parent.get("paddingLeft", 0));
                    this.set("y", yAxis.y() - relativeToValue(yAxis.get("centerY", 0), yAxis.height()) - yAxis.parent.get("paddingTop", 0));
                    this.bulletsContainer.set("y", this.y());
                    this.bulletsContainer.set("x", this.x());
                    var stacked = this.get("stacked");
                    if (this.isDirty("stacked")) if (stacked) if (this._valuesDirty && !this._dataProcessed) ; else this._stack(); else this._unstack();
                    if (this._valuesDirty && !this._dataProcessed) {
                        this._dataProcessed = true;
                        if (stacked) this._stack();
                        each(this.dataItems, (function(dataItem) {
                            each(_this._valueXShowFields, (function(key) {
                                var value = dataItem.get(key);
                                if (null != value) {
                                    if (stacked) value += _this.getStackedXValue(dataItem, key);
                                    _this._min("minX", value);
                                    _this._max("maxX", value);
                                }
                            }));
                            each(_this._valueYShowFields, (function(key) {
                                var value = dataItem.get(key);
                                if (null != value) {
                                    if (stacked) value += _this.getStackedYValue(dataItem, key);
                                    _this._min("minY", value);
                                    _this._max("maxY", value);
                                }
                            }));
                            xAxis.processSeriesDataItem(dataItem, _this._valueXFields);
                            yAxis.processSeriesDataItem(dataItem, _this._valueYFields);
                        }));
                        xAxis._seriesValuesDirty = true;
                        yAxis._seriesValuesDirty = true;
                        if (!this.get("ignoreMinMax")) {
                            if (this.isPrivateDirty("minX") || this.isPrivateDirty("maxX")) xAxis.markDirtyExtremes();
                            if (this.isPrivateDirty("minY") || this.isPrivateDirty("maxY")) yAxis.markDirtyExtremes();
                        }
                        this._markStakedDirtyStack();
                        if (!this.get("tooltipDataItem")) this.updateLegendValue(void 0);
                    }
                    if (this.isDirty("vcx") || this.isDirty("vcy")) this._markStakedDirtyStack();
                    if (!this._dataGrouped) {
                        xAxis._groupSeriesData(this);
                        yAxis._groupSeriesData(this);
                        this._dataGrouped = true;
                    }
                    if (this._valuesDirty || this.isPrivateDirty("startIndex") || this.isPrivateDirty("endIndex") || this.isDirty("vcx") || this.isDirty("vcy") || this._stackDirty) {
                        var startIndex = this.startIndex();
                        var endIndex = this.endIndex();
                        var minBulletDistance = this.get("minBulletDistance", 0);
                        if (minBulletDistance > 0 && baseAxis) if (baseAxis.get("renderer").axisLength() / (endIndex - startIndex) > minBulletDistance) this._showBullets = true; else this._showBullets = false;
                        if ((this._psi != startIndex || this._pei != endIndex || this.isDirty("vcx") || this.isDirty("vcy") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {
                            this._selectionProcessed = true;
                            var vcx = this.get("vcx", 1);
                            var vcy = this.get("vcy", 1);
                            var stacked_1 = this.get("stacked", false);
                            var outOfSelection = this.getPrivate("outOfSelection");
                            if (baseAxis === xAxis) {
                                yAxis._calculateTotals();
                                this.setPrivateRaw("selectionMinY", void 0);
                                this.setPrivateRaw("selectionMaxY", void 0);
                                if (!outOfSelection) for (var i = startIndex; i < endIndex; i++) this.processYSelectionDataItem(this.dataItems[i], vcy, stacked_1); else yAxis.markDirtySelectionExtremes();
                            } else if (baseAxis === yAxis) {
                                xAxis._calculateTotals();
                                this.setPrivateRaw("selectionMinX", void 0);
                                this.setPrivateRaw("selectionMaxX", void 0);
                                if (!outOfSelection) for (i = startIndex; i < endIndex; i++) this.processXSelectionDataItem(this.dataItems[i], vcx, stacked_1); else yAxis.markDirtySelectionExtremes();
                            }
                            if (baseAxis === xAxis) {
                                if ("valueYWorking" !== this.get("valueYShow")) {
                                    var selectionMinY = this.getPrivate("selectionMinY");
                                    if (null != selectionMinY) {
                                        this.setPrivateRaw("minY", selectionMinY);
                                        yAxis.markDirtyExtremes();
                                    }
                                    var selectionMaxY = this.getPrivate("selectionMaxY");
                                    if (null != selectionMaxY) {
                                        this.setPrivateRaw("maxY", selectionMaxY);
                                        yAxis.markDirtyExtremes();
                                    }
                                }
                            } else if (baseAxis === yAxis) if ("valueXWorking" !== this.get("valueXShow")) {
                                var selectionMinX = this.getPrivate("selectionMinX");
                                if (null != selectionMinX) {
                                    this.setPrivateRaw("minX", selectionMinX);
                                    yAxis.markDirtyExtremes();
                                }
                                var selectionMaxX = this.getPrivate("selectionMaxX");
                                if (null != selectionMaxX) {
                                    this.setPrivateRaw("maxX", selectionMaxX);
                                    xAxis.markDirtyExtremes();
                                }
                            }
                            if (this.isPrivateDirty("selectionMinX") || this.isPrivateDirty("selectionMaxX")) xAxis.markDirtySelectionExtremes();
                            if (this.isPrivateDirty("selectionMinY") || this.isPrivateDirty("selectionMaxY")) yAxis.markDirtySelectionExtremes();
                        }
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_makeRangeMask", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    if (this.axisRanges.length > 0) {
                        var mainContainerMask_1 = this._mainContainerMask;
                        if (null == mainContainerMask_1) {
                            mainContainerMask_1 = this.children.push(Graphics["new"](this._root, {}));
                            this._mainContainerMask = mainContainerMask_1;
                            mainContainerMask_1.set("draw", (function(display, target) {
                                var parent = _this.parent;
                                if (parent) {
                                    var w = _this._root.container.width();
                                    var h = _this._root.container.height();
                                    display.moveTo(-w, -h);
                                    display.lineTo(-w, 2 * h);
                                    display.lineTo(2 * w, 2 * h);
                                    display.lineTo(2 * w, -h);
                                    display.lineTo(-w, -h);
                                    _this.axisRanges.each((function(axisRange) {
                                        var fill = axisRange.axisDataItem.get("axisFill");
                                        if (parent) if (fill) {
                                            var draw = fill.get("draw");
                                            if (draw) draw(display, target);
                                        }
                                    }));
                                }
                                _this.mainContainer._display.mask = mainContainerMask_1._display;
                            }));
                        }
                        mainContainerMask_1.markDirty();
                        mainContainerMask_1._markDirtyKey("fill");
                    } else this.mainContainer._display.mask = null;
                }
            });
            Object.defineProperty(XYSeries.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._updateChildren.call(this);
                    this._x = this.x();
                    this._y = this.y();
                    this._makeRangeMask();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_stack", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var chart = this.chart;
                    if (chart) {
                        var seriesIndex = chart.series.indexOf(this);
                        this._couldStackTo = [];
                        if (seriesIndex > 0) {
                            var series = void 0;
                            for (var i = seriesIndex - 1; i >= 0; i--) {
                                series = chart.series.getIndex(i);
                                if (series.get("xAxis") === this.get("xAxis") && series.get("yAxis") === this.get("yAxis") && series.className === this.className) {
                                    this._couldStackTo.push(series);
                                    if (!series.get("stacked")) break;
                                }
                            }
                        }
                        this._stackDataItems();
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_unstack", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    Object_each(this._reallyStackedTo, (function(_key, value) {
                        delete value._stackedSeries[_this.uid];
                    }));
                    this._reallyStackedTo = {};
                    each(this.dataItems, (function(dataItem) {
                        dataItem.setRaw("stackToItemY", void 0);
                        dataItem.setRaw("stackToItemX", void 0);
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "_stackDataItems", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var baseAxis = this.get("baseAxis");
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var field;
                    var stackToItemKey;
                    if (baseAxis === xAxis) {
                        field = "valueY";
                        stackToItemKey = "stackToItemY";
                    } else if (baseAxis === yAxis) {
                        field = "valueX";
                        stackToItemKey = "stackToItemX";
                    }
                    var len = this._couldStackTo.length;
                    var index = 0;
                    var stackToNegative = this.get("stackToNegative");
                    this._reallyStackedTo = {};
                    each(this.dataItems, (function(dataItem) {
                        for (var s = 0; s < len; s++) {
                            var stackToSeries = _this._couldStackTo[s];
                            var stackToItem = stackToSeries.dataItems[index];
                            var value = dataItem.get(field);
                            if (stackToItem) {
                                var stackValue = stackToItem.get(field);
                                if (stackToNegative) if (isNumber(value)) {
                                    if (isNumber(stackValue)) {
                                        if (value >= 0 && stackValue >= 0) {
                                            dataItem.setRaw(stackToItemKey, stackToItem);
                                            _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;
                                            stackToSeries._stackedSeries[_this.uid] = _this;
                                            break;
                                        }
                                        if (value < 0 && stackValue < 0) {
                                            dataItem.setRaw(stackToItemKey, stackToItem);
                                            _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;
                                            stackToSeries._stackedSeries[_this.uid] = _this;
                                            break;
                                        }
                                    }
                                } else break; else if (isNumber(value) && isNumber(stackValue)) {
                                    dataItem.setRaw(stackToItemKey, stackToItem);
                                    _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;
                                    stackToSeries._stackedSeries[_this.uid] = _this;
                                    break;
                                }
                            }
                        }
                        index++;
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "processXSelectionDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, vcx, stacked) {
                    var _this = this;
                    each(this.__valueXShowFields, (function(key) {
                        var value = dataItem.get(key);
                        if (null != value) {
                            if (stacked) value += _this.getStackedXValueWorking(dataItem, key);
                            _this._min("selectionMinX", value);
                            _this._max("selectionMaxX", value * vcx);
                        }
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "processYSelectionDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, vcy, stacked) {
                    var _this = this;
                    each(this.__valueYShowFields, (function(key) {
                        var value = dataItem.get(key);
                        if (null != value) {
                            if (stacked) value += _this.getStackedYValueWorking(dataItem, key);
                            _this._min("selectionMinY", value);
                            _this._max("selectionMaxY", value * vcy);
                        }
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "getStackedYValueWorking", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, key) {
                    var stackToItem = dataItem.get("stackToItemY");
                    if (stackToItem) {
                        var stackedToSeries = stackToItem.component;
                        return stackToItem.get(key, 0) * stackedToSeries.get("vcy", 1) + this.getStackedYValueWorking(stackToItem, key);
                    }
                    return 0;
                }
            });
            Object.defineProperty(XYSeries.prototype, "getStackedXValueWorking", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, key) {
                    var stackToItem = dataItem.get("stackToItemX");
                    if (stackToItem) {
                        var stackedToSeries = stackToItem.component;
                        return stackToItem.get(key, 0) * stackedToSeries.get("vcx", 1) + this.getStackedXValueWorking(stackToItem, key);
                    }
                    return 0;
                }
            });
            Object.defineProperty(XYSeries.prototype, "getStackedYValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, key) {
                    var stackToItem = dataItem.get("stackToItemY");
                    if (stackToItem) return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);
                    return 0;
                }
            });
            Object.defineProperty(XYSeries.prototype, "getStackedXValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, key) {
                    var stackToItem = dataItem.get("stackToItemX");
                    if (stackToItem) return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);
                    return 0;
                }
            });
            Object.defineProperty(XYSeries.prototype, "createLegendMarker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {
                    this.updateLegendMarker();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_markDirtyAxes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._axesDirty = true;
                    this.markDirty();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_markDataSetDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._afterDataChange();
                    this._valuesDirty = true;
                    this._dataProcessed = false;
                    this._aggregatesCalculated = false;
                    this.markDirty();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_clearDirty", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._clearDirty.call(this);
                    this._axesDirty = false;
                    this._selectionProcessed = false;
                    this._stackDirty = false;
                    this._dataProcessed = false;
                }
            });
            Object.defineProperty(XYSeries.prototype, "_positionBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(bullet) {
                    var sprite = bullet.get("sprite");
                    if (sprite) {
                        var dataItem = sprite.dataItem;
                        var locationX = bullet.get("locationX", dataItem.get("locationX", .5));
                        var locationY = bullet.get("locationY", dataItem.get("locationY", .5));
                        var xAxis = this.get("xAxis");
                        var yAxis = this.get("yAxis");
                        var positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get("vcx", 1));
                        var positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get("vcy", 1));
                        var point = this.getPoint(positionX, positionY);
                        var left = dataItem.get("left", point.x);
                        var right = dataItem.get("right", point.x);
                        var top_1 = dataItem.get("top", point.y);
                        var bottom = dataItem.get("bottom", point.y);
                        if (this._shouldShowBullet(positionX, positionY)) {
                            if (!bullet.getPrivate("hidden")) sprite.setPrivate("visible", true); else sprite.setPrivate("visible", false);
                            var w = right - left;
                            var h = bottom - top_1;
                            if (sprite.isType("Label")) {
                                sprite.setPrivate("maxWidth", Math.abs(w));
                                sprite.setPrivate("maxHeight", Math.abs(h));
                            }
                            var x = left + w * locationX;
                            var y = bottom - h * locationY;
                            sprite.set("x", x);
                            sprite.set("y", y);
                        } else sprite.setPrivate("visible", false);
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_shouldShowBullet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_positionX, _positionY) {
                    return this._showBullets;
                }
            });
            Object.defineProperty(XYSeries.prototype, "setDataSet", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(id) {
                    if (this._dataSets[id]) {
                        this._handleDataSetChange();
                        this._dataItems = this._dataSets[id];
                        this._markDataSetDirty();
                        this._dataSetId = id;
                        var type = "datasetchanged";
                        if (this.events.isEnabled(type)) this.events.dispatch(type, {
                            type,
                            target: this,
                            id
                        });
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_handleDataSetChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    if (this.bullets.length > 0) each(this._dataItems, (function(dataItem) {
                        var bullets = dataItem.bullets;
                        if (bullets) each(bullets, (function(bullet) {
                            var sprite = bullet.get("sprite");
                            if (sprite) sprite.setPrivate("visible", false);
                        }));
                    }));
                    this._selectionProcessed = false;
                }
            });
            Object.defineProperty(XYSeries.prototype, "show", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises;
                        var _this = this;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                this._fixVC();
                                promises = [];
                                promises.push(_super.prototype.show.call(this, duration).then((function() {
                                    _this._isShowing = false;
                                    var xAxis = _this.get("xAxis");
                                    var yAxis = _this.get("yAxis");
                                    var baseAxis = _this.get("baseAxis");
                                    if (yAxis !== baseAxis) yAxis.markDirtySelectionExtremes();
                                    if (xAxis !== baseAxis) xAxis.markDirtySelectionExtremes();
                                })));
                                promises.push(this.bulletsContainer.show(duration));
                                promises.push(this._sequencedShowHide(true, duration));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "hide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises;
                        var _this = this;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                this._fixVC();
                                promises = [];
                                promises.push(_super.prototype.hide.call(this, duration).then((function() {
                                    _this._isHiding = false;
                                })));
                                promises.push(this.bulletsContainer.hide(duration));
                                promises.push(this._sequencedShowHide(false, duration));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "showDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, easing;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.showDataItem.call(this, dataItem, duration) ];
                                if (!isNumber(duration)) duration = this.get("stateAnimationDuration", 0);
                                easing = this.get("stateAnimationEasing");
                                each(this._valueFields, (function(key) {
                                    promises.push(dataItem.animate({
                                        key: key + "Working",
                                        to: dataItem.get(key),
                                        duration,
                                        easing
                                    }).waitForStop());
                                }));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "hideDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, hiddenState, easing, xAxis, yAxis, baseAxis, stacked, min_1, baseValue_1;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.hideDataItem.call(this, dataItem, duration) ];
                                hiddenState = this.states.create("hidden", {});
                                if (!isNumber(duration)) duration = hiddenState.get("stateAnimationDuration", this.get("stateAnimationDuration", 0));
                                easing = hiddenState.get("stateAnimationEasing", this.get("stateAnimationEasing"));
                                xAxis = this.get("xAxis");
                                yAxis = this.get("yAxis");
                                baseAxis = this.get("baseAxis");
                                stacked = this.get("stacked");
                                if (baseAxis === xAxis || !baseAxis) each(this._valueYFields, (function(key) {
                                    var min = yAxis.getPrivate("min");
                                    var baseValue = yAxis.baseValue();
                                    if (isNumber(min) && min > baseValue) baseValue = min;
                                    if (stacked) baseValue = 0;
                                    var value = dataItem.get(key);
                                    if (null != value) promises.push(dataItem.animate({
                                        key: key + "Working",
                                        to: baseValue,
                                        duration,
                                        easing
                                    }).waitForStop());
                                }));
                                if (baseAxis === yAxis || !baseAxis) {
                                    min_1 = xAxis.getPrivate("min");
                                    baseValue_1 = xAxis.baseValue();
                                    if (isNumber(min_1) && min_1 > baseValue_1) baseValue_1 = min_1;
                                    if (stacked) baseValue_1 = 0;
                                    each(this._valueXFields, (function(key) {
                                        var value = dataItem.get(key);
                                        if (null != value) promises.push(dataItem.animate({
                                            key: key + "Working",
                                            to: baseValue_1,
                                            duration,
                                            easing
                                        }).waitForStop());
                                    }));
                                }
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "_markDirtyStack", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._stackDirty = true;
                    this.markDirty();
                    this._markStakedDirtyStack();
                }
            });
            Object.defineProperty(XYSeries.prototype, "_markStakedDirtyStack", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var stackedSeries = this._stackedSeries;
                    if (stackedSeries) Object_each(stackedSeries, (function(_key, value) {
                        if (!value._stackDirty) value._markDirtyStack();
                    }));
                }
            });
            Object.defineProperty(XYSeries.prototype, "_afterChanged", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterChanged.call(this);
                    if (this._skipped) {
                        this._markDirtyAxes();
                        this._skipped = false;
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "showDataItemTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    this.updateLegendMarker(dataItem);
                    this.updateLegendValue(dataItem);
                    var tooltip = this.get("tooltip");
                    if (tooltip) if (!this.isHidden()) {
                        tooltip._setDataItem(dataItem);
                        if (dataItem) {
                            var locationX = this.get("locationX", 0);
                            var locationY = this.get("locationY", 1);
                            var itemLocationX = dataItem.get("locationX", locationX);
                            var itemLocationY = dataItem.get("locationY", locationY);
                            var xAxis = this.get("xAxis");
                            var yAxis = this.get("yAxis");
                            var vcx = this.get("vcx", 1);
                            var vcy = this.get("vcy", 1);
                            var xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx);
                            var yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy);
                            var point = this.getPoint(xPos, yPos);
                            var show_1 = true;
                            each(this._valueFields, (function(field) {
                                if (null == dataItem.get(field)) show_1 = false;
                            }));
                            if (show_1) {
                                var chart = this.chart;
                                if (chart && chart.inPlot(point)) {
                                    tooltip.label.text.markDirtyText();
                                    tooltip.set("tooltipTarget", this._getTooltipTarget(dataItem));
                                    tooltip.set("pointTo", this._display.toGlobal({
                                        x: point.x,
                                        y: point.y
                                    }));
                                } else tooltip._setDataItem(void 0);
                            } else tooltip._setDataItem(void 0);
                        }
                    } else this.hideTooltip();
                }
            });
            Object.defineProperty(XYSeries.prototype, "hideTooltip", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var tooltip = this.get("tooltip");
                    if (tooltip) tooltip.set("tooltipTarget", this);
                    return _super.prototype.hideTooltip.call(this);
                }
            });
            Object.defineProperty(XYSeries.prototype, "_getTooltipTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    if ("bullet" == this.get("seriesTooltipTarget")) {
                        var bullets = dataItem.bullets;
                        if (bullets && bullets.length > 0) {
                            var bullet = bullets[0];
                            var sprite = bullet.get("sprite");
                            if (sprite) return sprite;
                        }
                    }
                    return this;
                }
            });
            Object.defineProperty(XYSeries.prototype, "updateLegendValue", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var legendDataItem = this.get("legendDataItem");
                    if (legendDataItem) {
                        var label = legendDataItem.get("label");
                        if (label) {
                            var txt = "";
                            if (dataItem) {
                                label._setDataItem(dataItem);
                                txt = this.get("legendLabelText", label.get("text", this.get("name", "")));
                            } else {
                                label._setDataItem(this._emptyDataItem);
                                txt = this.get("legendRangeLabelText", this.get("legendLabelText", label.get("text", this.get("name", ""))));
                            }
                            label.set("text", txt);
                        }
                        var valueLabel = legendDataItem.get("valueLabel");
                        if (valueLabel) {
                            txt = "";
                            if (dataItem) {
                                valueLabel._setDataItem(dataItem);
                                txt = this.get("legendValueText", valueLabel.get("text", ""));
                            } else {
                                valueLabel._setDataItem(this._emptyDataItem);
                                txt = this.get("legendRangeValueText", valueLabel.get("text", ""));
                            }
                            valueLabel.set("text", txt);
                        }
                    }
                }
            });
            Object.defineProperty(XYSeries.prototype, "_getItemReaderLabel", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var text = "X: {" + this._xField;
                    if (this.get("xAxis").isType("DateAxis")) text += ".formatDate()";
                    text += "}; Y: {" + this._yField;
                    if (this.get("yAxis").isType("DateAxis")) text += ".formatDate()";
                    text += "}";
                    return text;
                }
            });
            Object.defineProperty(XYSeries.prototype, "getPoint", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(positionX, positionY) {
                    var x = this.get("xAxis").get("renderer").positionToCoordinate(positionX);
                    var y = this.get("yAxis").get("renderer").positionToCoordinate(positionY);
                    var max = 999999999;
                    if (y < -max) y = -max;
                    if (y > max) y = max;
                    if (x < -max) x = -max;
                    if (x > max) x = max;
                    return {
                        x,
                        y
                    };
                }
            });
            Object.defineProperty(XYSeries.prototype, "_shouldInclude", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_position) {
                    return true;
                }
            });
            Object.defineProperty(XYSeries.prototype, "handleCursorHide", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.hideTooltip();
                    this.updateLegendValue(void 0);
                    this.updateLegendMarker(void 0);
                }
            });
            Object.defineProperty(XYSeries.prototype, "_afterDataChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._afterDataChange.call(this);
                    this.get("xAxis")._markDirtyKey("start");
                    this.get("yAxis")._markDirtyKey("start");
                    this.resetExtremes();
                }
            });
            Object.defineProperty(XYSeries.prototype, "resetExtremes", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.setPrivate("selectionMinX", void 0);
                    this.setPrivate("selectionMaxX", void 0);
                    this.setPrivate("selectionMinY", void 0);
                    this.setPrivate("selectionMaxY", void 0);
                    this.setPrivate("minX", void 0);
                    this.setPrivate("minY", void 0);
                    this.setPrivate("maxX", void 0);
                    this.setPrivate("maxY", void 0);
                }
            });
            Object.defineProperty(XYSeries.prototype, "createAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisDataItem) {
                    return this.axisRanges.push({
                        axisDataItem
                    });
                }
            });
            Object.defineProperty(XYSeries, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "XYSeries"
            });
            Object.defineProperty(XYSeries, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: Series.classNames.concat([ XYSeries.className ])
            });
            return XYSeries;
        }(Series);
        Array.prototype.slice;
        function array(x) {
            return "object" === typeof x && "length" in x ? x : Array.from(x);
        }
        function constant(x) {
            return function constant() {
                return x;
            };
        }
        function Linear(context) {
            this._context = context;
        }
        Linear.prototype = {
            areaStart: function() {
                this._line = 0;
            },
            areaEnd: function() {
                this._line = NaN;
            },
            lineStart: function() {
                this._point = 0;
            },
            lineEnd: function() {
                if (this._line || 0 !== this._line && 1 === this._point) this._context.closePath();
                this._line = 1 - this._line;
            },
            point: function(x, y) {
                x = +x, y = +y;
                switch (this._point) {
                  case 0:
                    this._point = 1;
                    this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);
                    break;

                  case 1:
                    this._point = 2;

                  default:
                    this._context.lineTo(x, y);
                    break;
                }
            }
        };
        function curve_linear(context) {
            return new Linear(context);
        }
        const pi = Math.PI, path_tau = 2 * pi, epsilon = 1e-6, tauEpsilon = path_tau - epsilon;
        function append(strings) {
            this._ += strings[0];
            for (let i = 1, n = strings.length; i < n; ++i) this._ += arguments[i] + strings[i];
        }
        function appendRound(digits) {
            let d = Math.floor(digits);
            if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);
            if (d > 15) return append;
            const k = 10 ** d;
            return function(strings) {
                this._ += strings[0];
                for (let i = 1, n = strings.length; i < n; ++i) this._ += Math.round(arguments[i] * k) / k + strings[i];
            };
        }
        class Path {
            constructor(digits) {
                this._x0 = this._y0 = this._x1 = this._y1 = null;
                this._ = "";
                this._append = null == digits ? append : appendRound(digits);
            }
            moveTo(x, y) {
                this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;
            }
            closePath() {
                if (null !== this._x1) {
                    this._x1 = this._x0, this._y1 = this._y0;
                    this._append`Z`;
                }
            }
            lineTo(x, y) {
                this._append`L${this._x1 = +x},${this._y1 = +y}`;
            }
            quadraticCurveTo(x1, y1, x, y) {
                this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;
            }
            bezierCurveTo(x1, y1, x2, y2, x, y) {
                this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;
            }
            arcTo(x1, y1, x2, y2, r) {
                x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;
                if (r < 0) throw new Error(`negative radius: ${r}`);
                let x0 = this._x1, y0 = this._y1, x21 = x2 - x1, y21 = y2 - y1, x01 = x0 - x1, y01 = y0 - y1, l01_2 = x01 * x01 + y01 * y01;
                if (null === this._x1) this._append`M${this._x1 = x1},${this._y1 = y1}`; else if (!(l01_2 > epsilon)) ; else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) this._append`L${this._x1 = x1},${this._y1 = y1}`; else {
                    let x20 = x2 - x0, y20 = y2 - y0, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
                    if (Math.abs(t01 - 1) > epsilon) this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;
                    this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;
                }
            }
            arc(x, y, r, a0, a1, ccw) {
                x = +x, y = +y, r = +r, ccw = !!ccw;
                if (r < 0) throw new Error(`negative radius: ${r}`);
                let dx = r * Math.cos(a0), dy = r * Math.sin(a0), x0 = x + dx, y0 = y + dy, cw = 1 ^ ccw, da = ccw ? a0 - a1 : a1 - a0;
                if (null === this._x1) this._append`M${x0},${y0}`; else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._append`L${x0},${y0}`;
                if (!r) return;
                if (da < 0) da = da % path_tau + path_tau;
                if (da > tauEpsilon) this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`; else if (da > epsilon) this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;
            }
            rect(x, y, w, h) {
                this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;
            }
            toString() {
                return this._;
            }
        }
        function path() {
            return new Path;
        }
        path.prototype = Path.prototype;
        function withPath(shape) {
            let digits = 3;
            shape.digits = function(_) {
                if (!arguments.length) return digits;
                if (null == _) digits = null; else {
                    const d = Math.floor(_);
                    if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);
                    digits = d;
                }
                return shape;
            };
            return () => new Path(digits);
        }
        function point_x(p) {
            return p[0];
        }
        function point_y(p) {
            return p[1];
        }
        function src_line(x, y) {
            var defined = constant(true), context = null, curve = curve_linear, output = null, path = withPath(line);
            x = "function" === typeof x ? x : void 0 === x ? point_x : constant(x);
            y = "function" === typeof y ? y : void 0 === y ? point_y : constant(y);
            function line(data) {
                var i, d, buffer, n = (data = array(data)).length, defined0 = false;
                if (null == context) output = curve(buffer = path());
                for (i = 0; i <= n; ++i) {
                    if (!(i < n && defined(d = data[i], i, data)) === defined0) if (defined0 = !defined0) output.lineStart(); else output.lineEnd();
                    if (defined0) output.point(+x(d, i, data), +y(d, i, data));
                }
                if (buffer) return output = null, buffer + "" || null;
            }
            line.x = function(_) {
                return arguments.length ? (x = "function" === typeof _ ? _ : constant(+_), line) : x;
            };
            line.y = function(_) {
                return arguments.length ? (y = "function" === typeof _ ? _ : constant(+_), line) : y;
            };
            line.defined = function(_) {
                return arguments.length ? (defined = "function" === typeof _ ? _ : constant(!!_), 
                line) : defined;
            };
            line.curve = function(_) {
                return arguments.length ? (curve = _, null != context && (output = curve(context)), 
                line) : curve;
            };
            line.context = function(_) {
                return arguments.length ? (null == _ ? context = output = null : output = curve(context = _), 
                line) : context;
            };
            return line;
        }
        function src_area(x0, y0, y1) {
            var x1 = null, defined = constant(true), context = null, curve = curve_linear, output = null, path = withPath(area);
            x0 = "function" === typeof x0 ? x0 : void 0 === x0 ? point_x : constant(+x0);
            y0 = "function" === typeof y0 ? y0 : void 0 === y0 ? constant(0) : constant(+y0);
            y1 = "function" === typeof y1 ? y1 : void 0 === y1 ? point_y : constant(+y1);
            function area(data) {
                var i, j, k, d, buffer, n = (data = array(data)).length, defined0 = false, x0z = new Array(n), y0z = new Array(n);
                if (null == context) output = curve(buffer = path());
                for (i = 0; i <= n; ++i) {
                    if (!(i < n && defined(d = data[i], i, data)) === defined0) if (defined0 = !defined0) {
                        j = i;
                        output.areaStart();
                        output.lineStart();
                    } else {
                        output.lineEnd();
                        output.lineStart();
                        for (k = i - 1; k >= j; --k) output.point(x0z[k], y0z[k]);
                        output.lineEnd();
                        output.areaEnd();
                    }
                    if (defined0) {
                        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);
                        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);
                    }
                }
                if (buffer) return output = null, buffer + "" || null;
            }
            function arealine() {
                return src_line().defined(defined).curve(curve).context(context);
            }
            area.x = function(_) {
                return arguments.length ? (x0 = "function" === typeof _ ? _ : constant(+_), x1 = null, 
                area) : x0;
            };
            area.x0 = function(_) {
                return arguments.length ? (x0 = "function" === typeof _ ? _ : constant(+_), area) : x0;
            };
            area.x1 = function(_) {
                return arguments.length ? (x1 = null == _ ? null : "function" === typeof _ ? _ : constant(+_), 
                area) : x1;
            };
            area.y = function(_) {
                return arguments.length ? (y0 = "function" === typeof _ ? _ : constant(+_), y1 = null, 
                area) : y0;
            };
            area.y0 = function(_) {
                return arguments.length ? (y0 = "function" === typeof _ ? _ : constant(+_), area) : y0;
            };
            area.y1 = function(_) {
                return arguments.length ? (y1 = null == _ ? null : "function" === typeof _ ? _ : constant(+_), 
                area) : y1;
            };
            area.lineX0 = area.lineY0 = function() {
                return arealine().x(x0).y(y0);
            };
            area.lineY1 = function() {
                return arealine().x(x0).y(y1);
            };
            area.lineX1 = function() {
                return arealine().x(x1).y(y0);
            };
            area.defined = function(_) {
                return arguments.length ? (defined = "function" === typeof _ ? _ : constant(!!_), 
                area) : defined;
            };
            area.curve = function(_) {
                return arguments.length ? (curve = _, null != context && (output = curve(context)), 
                area) : curve;
            };
            area.context = function(_) {
                return arguments.length ? (null == _ ? context = output = null : output = curve(context = _), 
                area) : context;
            };
            return area;
        }
        var LineSeries = function(_super) {
            __extends(LineSeries, _super);
            function LineSeries() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_endIndex", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_strokeGenerator", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: src_line()
                });
                Object.defineProperty(_this, "_fillGenerator", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: src_area()
                });
                Object.defineProperty(_this, "_legendStroke", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_legendFill", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "strokes", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return Graphics._new(_this._root, {
                            themeTags: mergeTags(_this.strokes.template.get("themeTags", []), [ "line", "series", "stroke" ])
                        }, [ _this.strokes.template ]);
                    }))
                });
                Object.defineProperty(_this, "fills", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return Graphics._new(_this._root, {
                            themeTags: mergeTags(_this.strokes.template.get("themeTags", []), [ "line", "series", "fill" ])
                        }, [ _this.fills.template ]);
                    }))
                });
                Object.defineProperty(_this, "_fillTemplate", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_strokeTemplate", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: void 0
                });
                Object.defineProperty(_this, "_previousPoint", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: [ 0, 0, 0, 0 ]
                });
                Object.defineProperty(_this, "_dindex", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_sindex", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                return _this;
            }
            Object.defineProperty(LineSeries.prototype, "_afterNew", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._fillGenerator.y0((function(p) {
                        return p[3];
                    }));
                    this._fillGenerator.x0((function(p) {
                        return p[2];
                    }));
                    this._fillGenerator.y1((function(p) {
                        return p[1];
                    }));
                    this._fillGenerator.x1((function(p) {
                        return p[0];
                    }));
                    _super.prototype._afterNew.call(this);
                }
            });
            Object.defineProperty(LineSeries.prototype, "makeStroke", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(strokes) {
                    var stroke = this.mainContainer.children.push(strokes.make());
                    strokes.push(stroke);
                    return stroke;
                }
            });
            Object.defineProperty(LineSeries.prototype, "makeFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(fills) {
                    var fill = this.mainContainer.children.push(fills.make());
                    fills.push(fill);
                    return fill;
                }
            });
            Object.defineProperty(LineSeries.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this._strokeTemplate = void 0;
                    this._fillTemplate = void 0;
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    if (this.isDirty("stroke")) {
                        var stroke = this.get("stroke");
                        this.strokes.template.set("stroke", stroke);
                        var legendStroke = this._legendStroke;
                        if (legendStroke) legendStroke.states.lookup("default").set("stroke", stroke);
                    }
                    if (this.isDirty("fill")) {
                        var fill = this.get("fill");
                        this.fills.template.set("fill", fill);
                        var legendFill = this._legendFill;
                        if (legendFill) legendFill.states.lookup("default").set("fill", fill);
                    }
                    if (this.isDirty("curveFactory")) {
                        var curveFactory = this.get("curveFactory");
                        if (curveFactory) {
                            this._strokeGenerator.curve(curveFactory);
                            this._fillGenerator.curve(curveFactory);
                        }
                    }
                    if (xAxis.inited && yAxis.inited) {
                        if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty("vcx") || this.isDirty("vcy") || this._sizeDirty || this.isDirty("connect") || this.isDirty("curveFactory")) {
                            this.fills.each((function(fill) {
                                fill.setPrivate("visible", false);
                            }));
                            this.strokes.each((function(fill) {
                                fill.setPrivate("visible", false);
                            }));
                            this.axisRanges.each((function(axisRange) {
                                var fills = axisRange.fills;
                                if (fills) fills.each((function(fill) {
                                    fill.setPrivate("visible", false);
                                }));
                                var strokes = axisRange.strokes;
                                if (strokes) strokes.each((function(stroke) {
                                    stroke.setPrivate("visible", false);
                                }));
                            }));
                            var startIndex = this.startIndex();
                            var strokeTemplateField = this.strokes.template.get("templateField");
                            var fillTemplateField = this.fills.template.get("templateField");
                            var strokeTemplateFound = true;
                            var fillTemplateFound = true;
                            if (strokeTemplateField) strokeTemplateFound = false;
                            if (fillTemplateField) fillTemplateFound = false;
                            var _loop_1 = function(i) {
                                var dataItem = this_1.dataItems[i];
                                var hasValues = true;
                                var dataContext = dataItem.dataContext;
                                if (strokeTemplateField) if (dataContext[strokeTemplateField]) strokeTemplateFound = true;
                                if (fillTemplateField) if (dataContext[fillTemplateField]) fillTemplateFound = true;
                                each(this_1._valueFields, (function(field) {
                                    if (!isNumber(dataItem.get(field))) hasValues = false;
                                }));
                                if (hasValues && strokeTemplateFound && fillTemplateFound) {
                                    startIndex = i;
                                    return "break";
                                }
                            };
                            var this_1 = this;
                            for (var i = startIndex - 1; i >= 0; i--) {
                                var state_1 = _loop_1(i);
                                if ("break" === state_1) break;
                            }
                            var len = this.dataItems.length;
                            var endIndex = this.endIndex();
                            if (endIndex < len) {
                                endIndex++;
                                var _loop_2 = function(i) {
                                    var dataItem = this_2.dataItems[i];
                                    var hasValues = true;
                                    each(this_2._valueFields, (function(field) {
                                        if (!isNumber(dataItem.get(field))) hasValues = false;
                                    }));
                                    if (hasValues) {
                                        endIndex = i + 1;
                                        return "break";
                                    }
                                };
                                var this_2 = this;
                                for (i = endIndex; i < len; i++) {
                                    var state_2 = _loop_2(i);
                                    if ("break" === state_2) break;
                                }
                            }
                            if (startIndex > 0) startIndex--;
                            this._endIndex = endIndex;
                            this._clearGraphics();
                            this._sindex = 0;
                            this._dindex = startIndex;
                            if (1 == this.dataItems.length) this._startSegment(0); else while (this._dindex < endIndex - 1) {
                                this._startSegment(this._dindex);
                                this._sindex++;
                            }
                        }
                    } else this._skipped = true;
                    _super.prototype._updateChildren.call(this);
                }
            });
            Object.defineProperty(LineSeries.prototype, "_clearGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    this.strokes.clear();
                    this.fills.clear();
                }
            });
            Object.defineProperty(LineSeries.prototype, "_startSegment", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItemIndex) {
                    var _this = this;
                    var endIndex = this._endIndex;
                    var currentEndIndex = endIndex;
                    var autoGapCount = this.get("autoGapCount");
                    var connect = this.get("connect");
                    var fill = this.makeFill(this.fills);
                    var fillTemplate = this._fillTemplate;
                    var originalTemplate = this.fills.template;
                    if (fillTemplate && fillTemplate != originalTemplate) fill.template = fillTemplate;
                    fill.setPrivate("visible", true);
                    var stroke = this.makeStroke(this.strokes);
                    var strokeTemplate = this._strokeTemplate;
                    if (strokeTemplate && strokeTemplate != this.strokes.template) stroke.template = strokeTemplate;
                    stroke.setPrivate("visible", true);
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var baseAxis = this.get("baseAxis");
                    var vcx = this.get("vcx", 1);
                    var vcy = this.get("vcy", 1);
                    var xField = this._xField;
                    var yField = this._yField;
                    var xOpenField = this._xOpenField;
                    var yOpenField = this._yOpenField;
                    var xOpenFieldValue = this.get("openValueXField");
                    var yOpenFieldValue = this.get("openValueYField");
                    if (!xOpenFieldValue) xOpenField = this._xField;
                    if (!yOpenFieldValue) yOpenField = this._yField;
                    var stacked = this.get("stacked");
                    var basePosX = xAxis.basePosition();
                    var basePosY = yAxis.basePosition();
                    var baseField;
                    if (baseAxis === yAxis) baseField = this._yField; else baseField = this._xField;
                    var segments = [];
                    var points = [];
                    segments.push(points);
                    var strokeTemplateField = this.strokes.template.get("templateField");
                    var fillTemplateField = this.fills.template.get("templateField");
                    var locationX = this.get("locationX", .5);
                    var locationY = this.get("locationY", .5);
                    var openLocationX = this.get("openLocationX", locationX);
                    var openLocationY = this.get("openLocationY", locationY);
                    var minDistance = this.get("minDistance", 0);
                    var i;
                    var fillVisible = this.fills.template.get("visible");
                    if (this.axisRanges.length > 0) fillVisible = true;
                    var getOpen = false;
                    if (stacked || xOpenFieldValue || yOpenFieldValue) getOpen = true;
                    var o = {
                        points,
                        segments,
                        stacked,
                        getOpen,
                        basePosX,
                        basePosY,
                        fillVisible,
                        xField,
                        yField,
                        xOpenField,
                        yOpenField,
                        vcx,
                        vcy,
                        baseAxis,
                        xAxis,
                        yAxis,
                        locationX,
                        locationY,
                        openLocationX,
                        openLocationY,
                        minDistance
                    };
                    for (i = dataItemIndex; i < currentEndIndex; i++) {
                        this._dindex = i;
                        var dataItem = this._dataItems[i];
                        var valueX = dataItem.get(xField);
                        var valueY = dataItem.get(yField);
                        if (null == valueX || null == valueY) {
                            if (!connect) {
                                points = [];
                                segments.push(points);
                                o.points = points;
                            }
                        } else this._getPoints(dataItem, o);
                        if (strokeTemplateField) {
                            var strokeTemplate_1 = dataItem.dataContext[strokeTemplateField];
                            if (strokeTemplate_1) {
                                if (!(strokeTemplate_1 instanceof Template)) strokeTemplate_1 = Template["new"](strokeTemplate_1);
                                this._strokeTemplate = strokeTemplate_1;
                                if (i > dataItemIndex) {
                                    currentEndIndex = i;
                                    break;
                                } else stroke.template = strokeTemplate_1;
                            }
                        }
                        if (fillTemplateField) {
                            var fillTemplate_1 = dataItem.dataContext[fillTemplateField];
                            if (fillTemplate_1) {
                                if (!(fillTemplate_1 instanceof Template)) fillTemplate_1 = Template["new"](fillTemplate_1);
                                this._fillTemplate = fillTemplate_1;
                                if (i > dataItemIndex) {
                                    currentEndIndex = i;
                                    break;
                                } else fill.template = fillTemplate_1;
                            }
                        }
                        if (!connect) {
                            var nextItem = this.dataItems[i + 1];
                            if (nextItem) if (baseAxis.shouldGap(dataItem, nextItem, autoGapCount, baseField)) {
                                points = [];
                                segments.push(points);
                                o.points = points;
                            }
                        }
                    }
                    fill.setRaw("userData", [ dataItemIndex, i ]);
                    stroke.setRaw("userData", [ dataItemIndex, i ]);
                    if (i === endIndex) this._endLine(points, segments[0][0]);
                    if (stroke) this._drawStroke(stroke, segments);
                    if (fill) this._drawFill(fill, segments);
                    this.axisRanges.each((function(axisRange) {
                        var container = axisRange.container;
                        var fills = axisRange.fills;
                        var fill = _this.makeFill(fills);
                        if (container) container.children.push(fill);
                        fill.setPrivate("visible", true);
                        _this._drawFill(fill, segments);
                        var strokes = axisRange.strokes;
                        var stroke = _this.makeStroke(strokes);
                        if (container) container.children.push(stroke);
                        stroke.setPrivate("visible", true);
                        _this._drawStroke(stroke, segments);
                        fill.setRaw("userData", [ dataItemIndex, i ]);
                        stroke.setRaw("userData", [ dataItemIndex, i ]);
                    }));
                }
            });
            Object.defineProperty(LineSeries.prototype, "_getPoints", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, o) {
                    var points = o.points;
                    var itemLocationX = dataItem.get("locationX", o.locationX);
                    var itemLocationY = dataItem.get("locationY", o.locationY);
                    var xPos = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX, o.vcx);
                    var yPos = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY, o.vcy);
                    if (this._shouldInclude(xPos)) {
                        var iPoint = this.getPoint(xPos, yPos);
                        var point = [ iPoint.x, iPoint.y ];
                        iPoint.x += this._x;
                        iPoint.y += this._y;
                        dataItem.set("point", iPoint);
                        if (o.fillVisible) {
                            var xPos0 = xPos;
                            var yPos0 = yPos;
                            if (o.baseAxis === o.xAxis) yPos0 = o.basePosY; else if (o.baseAxis === o.yAxis) xPos0 = o.basePosX;
                            if (o.getOpen) {
                                var valueX = dataItem.get(o.xOpenField);
                                var valueY = dataItem.get(o.yOpenField);
                                if (null != valueX && null != valueY) {
                                    var itemLocationX_1 = dataItem.get("openLocationX", o.openLocationX);
                                    var itemLocationY_1 = dataItem.get("openLocationY", o.openLocationY);
                                    if (o.stacked) {
                                        var stackToItemX = dataItem.get("stackToItemX");
                                        var stackToItemY = dataItem.get("stackToItemY");
                                        if (stackToItemX) {
                                            xPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX_1, stackToItemX.component.get("vcx"));
                                            if (Type_isNaN(xPos0)) xPos0 = o.basePosX;
                                        } else if (o.yAxis === o.baseAxis) xPos0 = o.basePosX; else xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);
                                        if (stackToItemY) {
                                            yPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY_1, stackToItemY.component.get("vcy"));
                                            if (Type_isNaN(yPos0)) yPos0 = o.basePosY;
                                        } else if (o.xAxis === o.baseAxis) yPos0 = o.basePosY; else yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);
                                    } else {
                                        xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);
                                        yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);
                                    }
                                }
                            }
                            var closeIPoint = this.getPoint(xPos0, yPos0);
                            point[2] = closeIPoint.x;
                            point[3] = closeIPoint.y;
                        }
                        if (o.minDistance > 0) {
                            var p0 = point[0];
                            var p1 = point[1];
                            var p2 = point[2];
                            var p3 = point[3];
                            var prev = this._previousPoint;
                            var pp0 = prev[0];
                            var pp1 = prev[1];
                            var pp2 = prev[2];
                            var pp3 = prev[3];
                            if (Math.hypot(p0 - pp0, p1 - pp1) > o.minDistance || p2 && p3 && Math.hypot(p2 - pp2, p3 - pp3) > o.minDistance) {
                                points.push(point);
                                this._previousPoint = point;
                            }
                        } else points.push(point);
                    }
                }
            });
            Object.defineProperty(LineSeries.prototype, "_endLine", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_points, _firstPoint) {}
            });
            Object.defineProperty(LineSeries.prototype, "_drawStroke", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(graphics, segments) {
                    var _this = this;
                    if (graphics.get("visible")) graphics.set("draw", (function(display) {
                        each(segments, (function(segment) {
                            _this._strokeGenerator.context(display);
                            _this._strokeGenerator(segment);
                        }));
                    }));
                }
            });
            Object.defineProperty(LineSeries.prototype, "_drawFill", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(graphics, segments) {
                    var _this = this;
                    if (graphics.get("visible")) graphics.set("draw", (function(display) {
                        each(segments, (function(segment) {
                            _this._fillGenerator.context(display);
                            _this._fillGenerator(segment);
                        }));
                    }));
                }
            });
            Object.defineProperty(LineSeries.prototype, "_processAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisRange) {
                    var _this = this;
                    _super.prototype._processAxisRange.call(this, axisRange);
                    axisRange.fills = new ListTemplate(Template["new"]({}), (function() {
                        return Graphics._new(_this._root, {
                            themeTags: mergeTags(axisRange.fills.template.get("themeTags", []), [ "line", "series", "fill" ])
                        }, [ _this.fills.template, axisRange.fills.template ]);
                    }));
                    axisRange.strokes = new ListTemplate(Template["new"]({}), (function() {
                        return Graphics._new(_this._root, {
                            themeTags: mergeTags(axisRange.strokes.template.get("themeTags", []), [ "line", "series", "stroke" ])
                        }, [ _this.strokes.template, axisRange.strokes.template ]);
                    }));
                }
            });
            Object.defineProperty(LineSeries.prototype, "createLegendMarker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(_dataItem) {
                    var legendDataItem = this.get("legendDataItem");
                    if (legendDataItem) {
                        var marker = legendDataItem.get("marker");
                        var markerRectangle = legendDataItem.get("markerRectangle");
                        if (markerRectangle) markerRectangle.setPrivate("visible", false);
                        marker.set("background", Rectangle["new"](marker._root, {
                            fillOpacity: 0,
                            fill: Color_color(0)
                        }));
                        var legendStroke = marker.children.push(Graphics._new(marker._root, {
                            themeTags: [ "line", "series", "legend", "marker", "stroke" ],
                            interactive: false
                        }, [ this.strokes.template ]));
                        this._legendStroke = legendStroke;
                        var legendFill = marker.children.push(Graphics._new(marker._root, {
                            themeTags: [ "line", "series", "legend", "marker", "fill" ]
                        }, [ this.fills.template ]));
                        this._legendFill = legendFill;
                        var disabledColor = this._root.interfaceColors.get("disabled");
                        legendStroke.states.create("disabled", {
                            fill: disabledColor,
                            stroke: disabledColor
                        });
                        legendFill.states.create("disabled", {
                            fill: disabledColor,
                            stroke: disabledColor
                        });
                        if (this.bullets.length > 0) {
                            var bulletFunction = this.bullets.getIndex(0);
                            if (bulletFunction) {
                                var bullet = bulletFunction(marker._root, this, new DataItem(this, {}, {}));
                                if (bullet) {
                                    var sprite = bullet.get("sprite");
                                    if (sprite instanceof Graphics) sprite.states.create("disabled", {
                                        fill: disabledColor,
                                        stroke: disabledColor
                                    });
                                    if (sprite) {
                                        sprite.set("tooltipText", void 0);
                                        sprite.set("tooltipHTML", void 0);
                                        marker.children.push(sprite);
                                        sprite.setAll({
                                            x: marker.width() / 2,
                                            y: marker.height() / 2
                                        });
                                    }
                                }
                            }
                        }
                    }
                }
            });
            Object.defineProperty(LineSeries, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "LineSeries"
            });
            Object.defineProperty(LineSeries, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: XYSeries.classNames.concat([ LineSeries.className ])
            });
            return LineSeries;
        }(XYSeries);
        var BaseColumnSeries = function(_super) {
            __extends(BaseColumnSeries, _super);
            function BaseColumnSeries() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "_ph", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                Object.defineProperty(_this, "_pw", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: 0
                });
                return _this;
            }
            Object.defineProperty(BaseColumnSeries.prototype, "_makeGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(listTemplate, dataItem) {
                    return this.makeColumn(dataItem, listTemplate);
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_makeFieldNames", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._makeFieldNames.call(this);
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var categoryAxis = "CategoryAxis";
                    var valueAxis = "ValueAxis";
                    if (xAxis.isType(categoryAxis)) if (!this.get("openCategoryXField")) this._xOpenField = this._xField;
                    if (xAxis.isType(valueAxis)) if (!this.get("openValueXField")) this._xOpenField = this._xField;
                    if (yAxis.isType(categoryAxis)) if (!this.get("openCategoryYField")) this._yOpenField = this._yField;
                    if (yAxis.isType(valueAxis)) if (!this.get("openValueYField")) this._yOpenField = this._yField;
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_prepareChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype._prepareChildren.call(this);
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var len = this.dataItems.length;
                    var startIndex = Math.max(0, this.startIndex() - 2);
                    var endIndex = Math.min(this.endIndex() + 2, len - 1);
                    if (xAxis.inited && yAxis.inited) for (var i = startIndex; i <= endIndex; i++) {
                        var dataItem = this.dataItems[i];
                        this._createGraphics(dataItem);
                    }
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_updateChildren", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    var chart = this.chart;
                    if (chart) {
                        this._ph = chart.plotContainer.height();
                        this._pw = chart.plotContainer.width();
                    }
                    var xAxis = this.get("xAxis");
                    var yAxis = this.get("yAxis");
                    var baseAxis = this.get("baseAxis");
                    var columnsTemplate = this.columns.template;
                    if (this.isDirty("fill")) if (null == columnsTemplate.get("fill")) columnsTemplate.set("fill", this.get("fill"));
                    if (this.isDirty("stroke")) if (null == columnsTemplate.get("stroke")) columnsTemplate.set("stroke", this.get("stroke"));
                    var index = 0;
                    var clusterCount = 0;
                    var i = 0;
                    each(baseAxis.series, (function(series) {
                        if (series instanceof BaseColumnSeries) {
                            var stacked = series.get("stacked");
                            if (stacked && 0 == i) clusterCount++;
                            if (!stacked && series.get("clustered")) clusterCount++;
                        }
                        if (series === _this) index = clusterCount - 1;
                        i++;
                    }));
                    if (!this.get("clustered")) {
                        index = 0;
                        clusterCount = 1;
                    }
                    if (0 === clusterCount) {
                        clusterCount = 1;
                        index = 0;
                    }
                    var xRenderer = xAxis.get("renderer");
                    var yRenderer = yAxis.get("renderer");
                    var cellStartLocation = "cellStartLocation";
                    var cellEndLocation = "cellEndLocation";
                    var cellLocationX0 = xRenderer.get(cellStartLocation, 0);
                    var cellLocationX1 = xRenderer.get(cellEndLocation, 1);
                    var cellLocationY0 = yRenderer.get(cellStartLocation, 0);
                    var cellLocationY1 = yRenderer.get(cellEndLocation, 1);
                    this._aLocationX0 = cellLocationX0 + index / clusterCount * (cellLocationX1 - cellLocationX0);
                    this._aLocationX1 = cellLocationX0 + (index + 1) / clusterCount * (cellLocationX1 - cellLocationX0);
                    this._aLocationY0 = cellLocationY0 + index / clusterCount * (cellLocationY1 - cellLocationY0);
                    this._aLocationY1 = cellLocationY0 + (index + 1) / clusterCount * (cellLocationY1 - cellLocationY0);
                    if (xAxis.inited && yAxis.inited) {
                        if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty("vcx") || this.isDirty("vcy") || this._sizeDirty) {
                            var len = this.dataItems.length;
                            var startIndex = Math.max(0, this.startIndex() - 2);
                            var endIndex = Math.min(this.endIndex() + 2, len - 1);
                            for (var i_1 = 0; i_1 < startIndex; i_1++) this._toggleColumn(this.dataItems[i_1], false);
                            var previous = this.dataItems[startIndex];
                            for (var i_2 = startIndex; i_2 <= endIndex; i_2++) {
                                var dataItem = this.dataItems[i_2];
                                if (null != dataItem.get("valueX") && null != dataItem.get("valueY")) {
                                    previous = dataItem;
                                    if (i_2 > 0 && startIndex > 0) for (var j = i_2 - 1; j >= 0; j--) {
                                        var dataItem_1 = this.dataItems[j];
                                        if (null != dataItem_1.get("valueX") && null != dataItem_1.get("valueY")) {
                                            previous = dataItem_1;
                                            break;
                                        }
                                    }
                                    break;
                                } else this._toggleColumn(dataItem, false);
                            }
                            for (var i_3 = startIndex; i_3 <= endIndex; i_3++) {
                                dataItem = this.dataItems[i_3];
                                this._updateGraphics(dataItem, previous);
                                if (null != dataItem.get("valueX") && null != dataItem.get("valueY")) previous = dataItem;
                            }
                            for (var i_4 = endIndex + 1; i_4 < len; i_4++) this._toggleColumn(this.dataItems[i_4], false);
                        }
                    } else this._skipped = true;
                    this.updateLegendMarker(this.get("tooltipDataItem"));
                    _super.prototype._updateChildren.call(this);
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_createGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var _this = this;
                    var graphics = dataItem.get("graphics");
                    if (!graphics) {
                        graphics = this._makeGraphics(this.columns, dataItem);
                        dataItem.set("graphics", graphics);
                        graphics._setDataItem(dataItem);
                        var legendDataItem = dataItem.get("legendDataItem");
                        if (legendDataItem) {
                            var markerRectangle = legendDataItem.get("markerRectangle");
                            if (markerRectangle) markerRectangle.setAll({
                                fill: graphics.get("fill"),
                                stroke: graphics.get("stroke")
                            });
                        }
                        this.axisRanges.each((function(axisRange) {
                            var container = axisRange.container;
                            var graphicsArray = dataItem.get("rangeGraphics", []);
                            dataItem.set("rangeGraphics", graphicsArray);
                            var rangeGraphics = _this._makeGraphics(axisRange.columns, dataItem);
                            graphicsArray.push(rangeGraphics);
                            rangeGraphics.setPrivate("list", axisRange.columns);
                            container.children.push(rangeGraphics);
                        }));
                    }
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_updateGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, previousDataItem) {
                    var _this = this;
                    var graphics = dataItem.get("graphics");
                    var xField = this._xField;
                    var yField = this._yField;
                    var valueX = dataItem.get(xField);
                    var valueY = dataItem.get(yField);
                    if (null != valueX && null != valueY) {
                        var xOpenField = this._xOpenField;
                        var yOpenField = this._yOpenField;
                        var locationX = this.get("locationX", dataItem.get("locationX", .5));
                        var locationY = this.get("locationY", dataItem.get("locationY", .5));
                        var openLocationX = this.get("openLocationX", dataItem.get("openLocationX", locationX));
                        var openLocationY = this.get("openLocationY", dataItem.get("openLocationY", locationY));
                        var width = graphics.get("width");
                        var height = graphics.get("height");
                        var stacked = this.get("stacked");
                        var xAxis = this.get("xAxis");
                        var yAxis = this.get("yAxis");
                        var baseAxis = this.get("baseAxis");
                        var xStart = xAxis.get("start");
                        var xEnd = xAxis.get("end");
                        var yStart = yAxis.get("start");
                        var yEnd = yAxis.get("end");
                        var l_1;
                        var r_1;
                        var t_1;
                        var b_1;
                        var vcy = this.get("vcy", 1);
                        var vcx = this.get("vcx", 1);
                        var fitW_1 = false;
                        var fitH_1 = false;
                        if (yAxis.isType("CategoryAxis") && xAxis.isType("CategoryAxis")) {
                            var startLocation = this._aLocationX0 + openLocationX - .5;
                            var endLocation = this._aLocationX1 + locationX - .5;
                            if (width instanceof Percent) {
                                var offset = (endLocation - startLocation) * (1 - width.value) / 2;
                                startLocation += offset;
                                endLocation -= offset;
                            }
                            l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);
                            r_1 = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);
                            startLocation = this._aLocationY0 + openLocationY - .5;
                            endLocation = this._aLocationY1 + locationY - .5;
                            if (height instanceof Percent) {
                                offset = (endLocation - startLocation) * (1 - height.value) / 2;
                                startLocation += offset;
                                endLocation -= offset;
                            }
                            t_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);
                            b_1 = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);
                            dataItem.setRaw("point", {
                                x: l_1 + (r_1 - l_1) / 2,
                                y: t_1 + (b_1 - t_1) / 2
                            });
                        } else if (xAxis === baseAxis) {
                            startLocation = this._aLocationX0 + openLocationX - .5;
                            endLocation = this._aLocationX1 + locationX - .5;
                            if (width instanceof Percent) {
                                offset = (endLocation - startLocation) * (1 - width.value) / 2;
                                startLocation += offset;
                                endLocation -= offset;
                            }
                            l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);
                            r_1 = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);
                            t_1 = yAxis.getDataItemPositionY(dataItem, yField, locationY, vcy);
                            if (this._yOpenField !== this._yField) b_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, openLocationY, vcy); else if (stacked) {
                                var stackToItemY = dataItem.get("stackToItemY");
                                if (stackToItemY) b_1 = yAxis.getDataItemPositionY(stackToItemY, yField, openLocationY, stackToItemY.component.get("vcy")); else b_1 = yAxis.basePosition();
                            } else b_1 = yAxis.basePosition();
                            dataItem.setRaw("point", {
                                x: l_1 + (r_1 - l_1) / 2,
                                y: t_1
                            });
                            fitH_1 = true;
                        } else if (yAxis === baseAxis) {
                            startLocation = this._aLocationY0 + openLocationY - .5;
                            endLocation = this._aLocationY1 + locationY - .5;
                            if (height instanceof Percent) {
                                offset = (endLocation - startLocation) * (1 - height.value) / 2;
                                startLocation += offset;
                                endLocation -= offset;
                            }
                            t_1 = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);
                            b_1 = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);
                            r_1 = xAxis.getDataItemPositionX(dataItem, xField, locationX, vcx);
                            if (this._xOpenField !== this._xField) l_1 = xAxis.getDataItemPositionX(dataItem, xOpenField, openLocationX, vcx); else if (stacked) {
                                var stackToItemX = dataItem.get("stackToItemX");
                                if (stackToItemX) l_1 = xAxis.getDataItemPositionX(stackToItemX, xField, openLocationX, stackToItemX.component.get("vcx")); else l_1 = xAxis.basePosition();
                            } else l_1 = xAxis.basePosition();
                            fitW_1 = true;
                            dataItem.setRaw("point", {
                                x: r_1,
                                y: t_1 + (b_1 - t_1) / 2
                            });
                        }
                        this._updateSeriesGraphics(dataItem, graphics, l_1, r_1, t_1, b_1, fitW_1, fitH_1);
                        if (l_1 < xStart && r_1 < xStart || l_1 > xEnd && r_1 > xEnd || t_1 < yStart && b_1 < yStart || t_1 > yEnd && b_1 > yEnd || Type_isNaN(l_1) || Type_isNaN(t_1)) this._toggleColumn(dataItem, false); else this._toggleColumn(dataItem, true);
                        var rangeGraphics = dataItem.get("rangeGraphics");
                        if (rangeGraphics) each(rangeGraphics, (function(graphics) {
                            _this._updateSeriesGraphics(dataItem, graphics, l_1, r_1, t_1, b_1, fitW_1, fitH_1);
                        }));
                        this._applyGraphicsStates(dataItem, previousDataItem);
                    }
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_updateSeriesGraphics", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, graphics, l, r, t, b, fitW, fitH) {
                    var width = graphics.get("width");
                    var height = graphics.get("height");
                    var maxWidth = graphics.get("maxWidth");
                    var maxHeight = graphics.get("maxHeight");
                    var ptl = this.getPoint(l, t);
                    var pbr = this.getPoint(r, b);
                    var tooltipPoint = dataItem.get("point");
                    if (tooltipPoint) {
                        var point = this.getPoint(tooltipPoint.x, tooltipPoint.y);
                        tooltipPoint.x = point.x + this._x;
                        tooltipPoint.y = point.y + this._y;
                    }
                    l = ptl.x;
                    r = pbr.x;
                    t = ptl.y;
                    b = pbr.y;
                    if (isNumber(width)) {
                        var offset = (r - l - width) / 2;
                        l += offset;
                        r -= offset;
                    }
                    if (isNumber(maxWidth) && maxWidth < Math.abs(r - l)) {
                        offset = (r - l - maxWidth) / 2;
                        l += offset;
                        r -= offset;
                    }
                    if (isNumber(height)) {
                        offset = (b - t - height) / 2;
                        t += offset;
                        b -= offset;
                    }
                    if (isNumber(maxHeight) && maxHeight < Math.abs(b - t)) {
                        offset = (b - t - maxHeight) / 2;
                        t += offset;
                        b -= offset;
                    }
                    if (this.get("adjustBulletPosition")) {
                        if (fitW) {
                            r = Math.min(Math.max(0, r), this._pw);
                            l = Math.min(Math.max(0, l), this._pw);
                        }
                        if (fitH) {
                            t = Math.min(Math.max(0, t), this._ph);
                            b = Math.min(Math.max(0, b), this._ph);
                        }
                    }
                    dataItem.setRaw("left", l);
                    dataItem.setRaw("right", r);
                    dataItem.setRaw("top", t);
                    dataItem.setRaw("bottom", b);
                    graphics.setPrivate("width", r - l);
                    graphics.setPrivate("height", b - t);
                    graphics.set("x", l);
                    graphics.set("y", b - (b - t));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_handleDataSetChange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    var _this = this;
                    _super.prototype._handleDataSetChange.call(this);
                    each(this._dataItems, (function(dataItem) {
                        _this._toggleColumn(dataItem, false);
                    }));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_applyGraphicsStates", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, previousDataItem) {
                    var graphics = dataItem.get("graphics");
                    var dropFromOpen = graphics.states.lookup("dropFromOpen");
                    var riseFromOpen = graphics.states.lookup("riseFromOpen");
                    var dropFromPrevious = graphics.states.lookup("dropFromPrevious");
                    var riseFromPrevious = graphics.states.lookup("riseFromPrevious");
                    if (dropFromOpen || dropFromPrevious || riseFromOpen || riseFromPrevious) {
                        var xAxis = this.get("xAxis");
                        var yAxis = this.get("yAxis");
                        var baseAxis = this.get("baseAxis");
                        var open_1;
                        var close_1;
                        var previousClose = void 0;
                        if (baseAxis === xAxis && yAxis.isType("ValueAxis")) {
                            open_1 = dataItem.get(this._yOpenField);
                            close_1 = dataItem.get(this._yField);
                            previousClose = previousDataItem.get(this._yField);
                        } else if (baseAxis === yAxis && xAxis.isType("ValueAxis")) {
                            open_1 = dataItem.get(this._xOpenField);
                            close_1 = dataItem.get(this._xField);
                            previousClose = previousDataItem.get(this._xField);
                        }
                        if (isNumber(open_1) && isNumber(close_1)) {
                            if (close_1 < open_1) {
                                if (dropFromOpen) dropFromOpen.apply();
                            } else if (riseFromOpen) riseFromOpen.apply();
                            if (isNumber(previousClose)) if (close_1 < previousClose) {
                                if (dropFromPrevious) dropFromPrevious.apply();
                            } else if (riseFromPrevious) riseFromPrevious.apply();
                        }
                    }
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "disposeDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    _super.prototype.disposeDataItem.call(this, dataItem);
                    var graphics = dataItem.get("graphics");
                    if (graphics) {
                        this.columns.removeValue(graphics);
                        graphics.dispose();
                    }
                    var rangeGraphics = dataItem.get("rangeGraphics");
                    if (rangeGraphics) each(rangeGraphics, (function(graphics) {
                        var list = graphics.getPrivate("list");
                        if (list) list.removeValue(graphics);
                        graphics.dispose();
                    }));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "hideDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, graphics, rangeGraphics;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.hideDataItem.call(this, dataItem, duration) ];
                                graphics = dataItem.get("graphics");
                                if (graphics) promises.push(graphics.hide(duration));
                                rangeGraphics = dataItem.get("rangeGraphics");
                                if (rangeGraphics) each(rangeGraphics, (function(graphics) {
                                    promises.push(graphics.hide(duration));
                                }));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_toggleColumn", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, visible) {
                    var graphics = dataItem.get("graphics");
                    if (graphics) graphics.setPrivate("visible", visible);
                    var rangeGraphics = dataItem.get("rangeGraphics");
                    if (rangeGraphics) each(rangeGraphics, (function(graphics) {
                        graphics.setPrivate("visible", visible);
                    }));
                    var bullets = dataItem.bullets;
                    if (bullets) each(bullets, (function(bullet) {
                        bullet.setPrivate("hidden", !visible);
                    }));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "showDataItem", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, duration) {
                    return __awaiter(this, void 0, void 0, (function() {
                        var promises, graphics, rangeGraphics;
                        return __generator(this, (function(_a) {
                            switch (_a.label) {
                              case 0:
                                promises = [ _super.prototype.showDataItem.call(this, dataItem, duration) ];
                                graphics = dataItem.get("graphics");
                                if (graphics) promises.push(graphics.show(duration));
                                rangeGraphics = dataItem.get("rangeGraphics");
                                if (rangeGraphics) each(rangeGraphics, (function(graphics) {
                                    promises.push(graphics.show(duration));
                                }));
                                return [ 4, Promise.all(promises) ];

                              case 1:
                                _a.sent();
                                return [ 2 ];
                            }
                        }));
                    }));
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "updateLegendMarker", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    var _this = this;
                    var legendDataItem = this.get("legendDataItem");
                    if (this.get("useLastColorForLegendMarker")) if (!dataItem) {
                        var lastDataItem = this.dataItems[this.endIndex() - 1];
                        if (lastDataItem) dataItem = lastDataItem;
                    }
                    if (legendDataItem) {
                        var graphics_1 = this.columns.template;
                        if (dataItem) {
                            var column = dataItem.get("graphics");
                            if (column) graphics_1 = column;
                        }
                        var markerRectangle_1 = legendDataItem.get("markerRectangle");
                        if (markerRectangle_1) if (!legendDataItem.get("itemContainer").get("disabled")) each(visualSettings, (function(setting) {
                            markerRectangle_1.set(setting, graphics_1.get(setting, _this.get(setting)));
                        }));
                    }
                }
            });
            Object.defineProperty(BaseColumnSeries.prototype, "_getTooltipTarget", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem) {
                    if ("bullet" == this.get("seriesTooltipTarget")) return _super.prototype._getTooltipTarget.call(this, dataItem);
                    var column = dataItem.get("graphics");
                    if (column) return column;
                    return this;
                }
            });
            Object.defineProperty(BaseColumnSeries, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "BaseColumnSeries"
            });
            Object.defineProperty(BaseColumnSeries, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: XYSeries.classNames.concat([ BaseColumnSeries.className ])
            });
            return BaseColumnSeries;
        }(XYSeries);
        (function(_super) {
            __extends(ColumnSeries, _super);
            function ColumnSeries() {
                var _this = null !== _super && _super.apply(this, arguments) || this;
                Object.defineProperty(_this, "columns", {
                    enumerable: true,
                    configurable: true,
                    writable: true,
                    value: new ListTemplate(Template["new"]({}), (function() {
                        return RoundedRectangle._new(_this._root, {
                            position: "absolute",
                            themeTags: mergeTags(_this.columns.template.get("themeTags", []), [ "series", "column" ])
                        }, [ _this.columns.template ]);
                    }))
                });
                return _this;
            }
            Object.defineProperty(ColumnSeries.prototype, "makeColumn", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(dataItem, listTemplate) {
                    var column = this.mainContainer.children.push(listTemplate.make());
                    column._setDataItem(dataItem);
                    listTemplate.push(column);
                    return column;
                }
            });
            Object.defineProperty(ColumnSeries.prototype, "_processAxisRange", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function(axisRange) {
                    var _this = this;
                    _super.prototype._processAxisRange.call(this, axisRange);
                    axisRange.columns = new ListTemplate(Template["new"]({}), (function() {
                        return RoundedRectangle._new(_this._root, {
                            position: "absolute",
                            themeTags: mergeTags(axisRange.columns.template.get("themeTags", []), [ "series", "column" ])
                        }, [ _this.columns.template, axisRange.columns.template ]);
                    }));
                }
            });
            Object.defineProperty(ColumnSeries, "className", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: "ColumnSeries"
            });
            Object.defineProperty(ColumnSeries, "classNames", {
                enumerable: true,
                configurable: true,
                writable: true,
                value: BaseColumnSeries.classNames.concat([ ColumnSeries.className ])
            });
        })(BaseColumnSeries);
        var MicrochartTheme = function(_super) {
            __extends(MicrochartTheme, _super);
            function MicrochartTheme() {
                return null !== _super && _super.apply(this, arguments) || this;
            }
            Object.defineProperty(MicrochartTheme.prototype, "setupDefaultRules", {
                enumerable: false,
                configurable: true,
                writable: true,
                value: function() {
                    _super.prototype.setupDefaultRules.call(this);
                    this.rule("Chart").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("XYChart").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("SlicedChart").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("Tree").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("Pack").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("Flow").setAll({
                        paddingTop: 0,
                        paddingRight: 0,
                        paddingBottom: 0,
                        paddingLeft: 0
                    });
                    this.rule("Button", [ "resize" ]).setAll({
                        visible: false
                    });
                    this.rule("Button", [ "zoom" ]).setAll({
                        scale: .5
                    });
                    this.rule("Axis").setAll({
                        visible: false
                    });
                    this.rule("Label", [ "axis" ]).setAll({
                        visible: false
                    });
                    this.rule("Grid").setAll({
                        visible: false
                    });
                    this.rule("Tooltip", [ "axis" ]).setAll({
                        visible: false
                    });
                    this.rule("PieChart").setAll({
                        radius: percent(99)
                    });
                    this.rule("Label", [ "pie" ]).setAll({
                        visible: false
                    });
                    this.rule("Tick", [ "pie" ]).setAll({
                        visible: false
                    });
                }
            });
            return MicrochartTheme;
        }(Theme);
        const Micro = MicrochartTheme;
        ready((function() {
            var tickers = [ "AAPL" ];
            var tickers2 = [ "AAPL" ];
            for (var i = 0; i < tickers.length; i++) {
                tickers[i];
                var positive = Color_color(5288704);
                var negative = Color_color(11730944);
                var data = generateData(20);
                var change = Math.round(1e3 * (data[data.length - 1].value / data[0].value - 1)) / 10;
                var color = change < 0 ? negative : positive;
                var div = document.getElementById("chartdiv-1");
                if (div) {
                    div.style.overflow = "auto";
                    var row = document.createElement("div");
                    row.style.clear = "left";
                    div.appendChild(row);
                    var col3 = document.createElement("div");
                    col3.style.fontSize = "2em";
                    col3.style.width = "251px";
                    col3.style.height = "27px";
                    col3.style.float = "left";
                    row.appendChild(col3);
                    createValueChart(col3, data, color);
                }
            }
            for (i = 0; i < tickers2.length; i++) {
                tickers[i];
                positive = Color_color(5288704);
                negative = Color_color(11730944);
                data = generateData(20);
                change = Math.round(1e3 * (data[data.length - 1].value / data[0].value - 1)) / 10;
                color = change < 0 ? negative : positive;
                div = document.getElementById("chartdiv-2");
                if (div) {
                    div.style.overflow = "auto";
                    row = document.createElement("div");
                    row.style.clear = "left";
                    div.appendChild(row);
                    col3 = document.createElement("div");
                    col3.style.fontSize = "2em";
                    col3.style.width = "251px";
                    col3.style.height = "27px";
                    col3.style.float = "left";
                    row.appendChild(col3);
                    createValueChart(col3, data, color);
                }
            }
            function generateData(count) {
                var date = new Date;
                date.setHours(0, 0, 0, 0);
                var value = Math.round(100 * Math.random());
                var volume = Math.round(1e4 * Math.random());
                var data = [];
                for (var i = 0; i < count; ++i) {
                    value = Math.round(6 * Math.random() - 3 + value);
                    volume = Math.round(1e3 * Math.random() - 500 + volume);
                    if (volume < 0) volume = 0;
                    Time_add(date, "day", 1);
                    data.push({
                        date: date.getTime(),
                        value,
                        volume
                    });
                }
                return data;
            }
            function createValueChart(div, data, color) {
                var root = Root["new"](div);
                root.setThemes([ Micro["new"](root) ]);
                var chart = root.container.children.push(XYChart["new"](root, {
                    panX: false,
                    panY: false,
                    wheelX: "none",
                    wheelY: "none"
                }));
                chart.plotContainer.set("wheelable", false);
                chart.zoomOutButton.set("forceHidden", true);
                var xAxis = chart.xAxes.push(DateAxis["new"](root, {
                    maxDeviation: 0,
                    baseInterval: {
                        timeUnit: "day",
                        count: 1
                    },
                    renderer: AxisRendererX["new"](root, {})
                }));
                var yAxis = chart.yAxes.push(ValueAxis["new"](root, {
                    strictMinMax: true,
                    extraMax: .02,
                    extraMin: .02,
                    renderer: AxisRendererY["new"](root, {})
                }));
                var series = chart.series.push(LineSeries["new"](root, {
                    xAxis,
                    yAxis,
                    valueYField: "value",
                    valueXField: "date",
                    stroke: color
                }));
                series.strokes.template.setAll({
                    strokeWidth: 2
                });
                series.data.setAll(data);
            }
        }));
        var datepicker_min = __webpack_require__(1448);
        const pickers = document.querySelectorAll("[data-datepicker]");
        if (pickers.length) pickers.forEach((item => {
            datepicker_min(item, {
                customDays: [ "Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб" ],
                customMonths: [ "Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек" ],
                overlayButton: "Применить",
                overlayPlaceholder: "Год (4 цифры)",
                startDay: 1,
                formatter: (input, date, instance) => {
                    const value = date.toLocaleDateString();
                    input.value = value;
                },
                onSelect: function(input, instance, date) {}
            });
        }));
        __webpack_require__(125);
        const inputMasksTel = document.querySelectorAll("[type=tel]");
        if (inputMasksTel.length) {
            Inputmask({
                mask: "+7 ( 999 ) 999 - 99 - 99",
                definitions: {
                    X: {
                        validator: "[xX]",
                        casing: "upper"
                    }
                }
            }).mask(inputMasksTel);
        }
        const inputMasksNumber = document.querySelectorAll("[data-type=number]");
        if (inputMasksNumber.length) flsModules.inputmask = Inputmask({
            alias: "decimal",
            rightAlign: false,
            groupSeparator: " ",
            autoGroup: true
        }).mask(inputMasksNumber);
        const inputMasksMetal = document.querySelectorAll("[data-type=metal]");
        if (inputMasksMetal.length) flsModules.inputmask = Inputmask({
            alias: "decimal",
            rightAlign: false,
            groupSeparator: " ",
            autoGroup: true,
            suffix: " грамм"
        }).mask(inputMasksMetal);
        const inputMasksCurrency = document.querySelectorAll("[data-type=currency]");
        if (inputMasksCurrency.length) flsModules.inputmask = Inputmask({
            alias: "decimal",
            rightAlign: false,
            groupSeparator: " ",
            autoGroup: true,
            suffix: " ₽"
        }).mask(inputMasksCurrency);
        const inputMasksCurrencyUsd = document.querySelectorAll("[data-type=currency-usd]");
        if (inputMasksCurrency.length) flsModules.inputmask = Inputmask({
            alias: "decimal",
            rightAlign: false,
            groupSeparator: " ",
            autoGroup: true,
            suffix: " $"
        }).mask(inputMasksCurrencyUsd);
        const inputMasksNum = document.querySelectorAll("[type=num]");
        if (inputMasksNum.length) flsModules.inputmask = Inputmask("(9){+|1}", {
            numericInput: true,
            placeholder: ""
        }).mask(inputMasksNum);
        const inputMasksSeries = document.querySelectorAll("[data-type=series]");
        if (inputMasksSeries.length) flsModules.inputmask = Inputmask({
            mask: "99 99",
            placeholder: ""
        }).mask(inputMasksSeries);
        const inputMasksPassNum = document.querySelectorAll("[data-type=passport-number]");
        if (inputMasksPassNum.length) flsModules.inputmask = Inputmask({
            mask: "999999",
            placeholder: ""
        }).mask(inputMasksPassNum);
        const inputMasksDate = document.querySelectorAll("[data-type=date]");
        if (inputMasksDate.length) flsModules.inputmask = Inputmask("99.99.9999", {
            placeholder: "__.__.____"
        }).mask(inputMasksDate);
        const inputMasksPassCode = document.querySelectorAll("[data-type=passport-code]");
        if (inputMasksPassCode.length) flsModules.inputmask = Inputmask({
            mask: "999 999",
            placeholder: ""
        }).mask(inputMasksPassCode);
        const inputMasksPassSeriesNumber = document.querySelectorAll("[data-type=pass-series-number]");
        if (inputMasksPassSeriesNumber.length) flsModules.inputmask = Inputmask({
            mask: "9999 999999",
            placeholder: ""
        }).mask(inputMasksPassSeriesNumber);
        !function(e) {
            "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? module.exports = e() : window.wNumb = e();
        }((function() {
            "use strict";
            var o = [ "decimals", "thousand", "mark", "prefix", "suffix", "encoder", "decoder", "negativeBefore", "negative", "edit", "undo" ];
            function w(e) {
                return e.split("").reverse().join("");
            }
            function h(e, t) {
                return e.substring(0, t.length) === t;
            }
            function f(e, t, n) {
                if ((e[t] || e[n]) && e[t] === e[n]) throw new Error(t);
            }
            function x(e) {
                return "number" == typeof e && isFinite(e);
            }
            function n(e, t, n, r, i, o, f, u, s, c, a, p) {
                var d, l, h, g = p, v = "", m = "";
                return o && (p = o(p)), !!x(p) && (!1 !== e && 0 === parseFloat(p.toFixed(e)) && (p = 0), 
                p < 0 && (d = !0, p = Math.abs(p)), !1 !== e && (p = function(e, t) {
                    return e = e.toString().split("e"), (+((e = (e = Math.round(+(e[0] + "e" + (e[1] ? +e[1] + t : t)))).toString().split("e"))[0] + "e" + (e[1] ? e[1] - t : -t))).toFixed(t);
                }(p, e)), -1 !== (p = p.toString()).indexOf(".") ? (h = (l = p.split("."))[0], n && (v = n + l[1])) : h = p, 
                t && (h = w((h = w(h).match(/.{1,3}/g)).join(w(t)))), d && u && (m += u), r && (m += r), 
                d && s && (m += s), m += h, m += v, i && (m += i), c && (m = c(m, g)), m);
            }
            function r(e, t, n, r, i, o, f, u, s, c, a, p) {
                var d, l = "";
                return a && (p = a(p)), !(!p || "string" != typeof p) && (u && h(p, u) && (p = p.replace(u, ""), 
                d = !0), r && h(p, r) && (p = p.replace(r, "")), s && h(p, s) && (p = p.replace(s, ""), 
                d = !0), i && function(e, t) {
                    return e.slice(-1 * t.length) === t;
                }(p, i) && (p = p.slice(0, -1 * i.length)), t && (p = p.split(t).join("")), n && (p = p.replace(n, ".")), 
                d && (l += "-"), "" !== (l = (l += p).replace(/[^0-9\.\-.]/g, "")) && (l = Number(l), 
                f && (l = f(l)), !!x(l) && l));
            }
            function i(e, t, n) {
                var r, i = [];
                for (r = 0; r < o.length; r += 1) i.push(e[o[r]]);
                return i.push(n), t.apply("", i);
            }
            return function e(t) {
                if (!(this instanceof e)) return new e(t);
                "object" == typeof t && (t = function(e) {
                    var t, n, r, i = {};
                    for (void 0 === e.suffix && (e.suffix = e.postfix), t = 0; t < o.length; t += 1) if (void 0 === (r = e[n = o[t]])) "negative" !== n || i.negativeBefore ? "mark" === n && "." !== i.thousand ? i[n] = "." : i[n] = !1 : i[n] = "-"; else if ("decimals" === n) {
                        if (!(0 <= r && r < 8)) throw new Error(n);
                        i[n] = r;
                    } else if ("encoder" === n || "decoder" === n || "edit" === n || "undo" === n) {
                        if ("function" != typeof r) throw new Error(n);
                        i[n] = r;
                    } else {
                        if ("string" != typeof r) throw new Error(n);
                        i[n] = r;
                    }
                    return f(i, "mark", "thousand"), f(i, "prefix", "negative"), f(i, "prefix", "negativeBefore"), 
                    i;
                }(t), this.to = function(e) {
                    return i(t, n, e);
                }, this.from = function(e) {
                    return i(t, r, e);
                });
            };
        }));
        var nouislider = __webpack_require__(4211);
        var nouislider_namespaceObject = __webpack_require__.t(nouislider, 2);
        function rangeSummInit() {
            const rangeItems = document.querySelectorAll("[data-range-summ]");
            if (rangeItems.length) rangeItems.forEach((rangeItem => {
                const range = rangeItem.querySelector("[data-range-summ-value]");
                const currencyType = rangeItem.dataset.rangeSummCurrency;
                const minValue = Number(rangeItem.dataset.rangeSummMin);
                const maxValue = Number(rangeItem.dataset.rangeSummMax);
                const start = Number(range.dataset.rangeSummValue);
                const input = range.querySelector("input");
                const item = rangeItem.querySelector("[data-range-summ-item]");
                var Format = wNumb({
                    decimals: 0,
                    edit: function(value) {
                        if (Number(value) >= 1e6) {
                            value = Number(value) / 1e6;
                            if ("$" == currencyType) return value + " млн. $"; else if (!currencyType) return value + " млн. ₽";
                        } else if (Number(value) < 1e6 && Number(value) >= 1e3) {
                            value = Number(value) / 1e3;
                            if ("$" == currencyType) return value + " тыс. $"; else if (!currencyType) return value + " тыс. ₽";
                        } else if (Number(value) < 1e6) if ("$" == currencyType) return value + " $"; else if (!currencyType) return value + " ₽";
                    }
                });
                nouislider.create(item, {
                    start,
                    connect: [ true, false ],
                    range: {
                        min: minValue,
                        max: maxValue
                    },
                    step: 1,
                    pips: {
                        mode: "count",
                        values: 2,
                        format: Format
                    }
                });
                item.noUiSlider.on("update", (function(values, handle) {
                    let val = Math.trunc(values[handle]);
                    val = val.toLocaleString();
                    input.value = val;
                }));
                input.addEventListener("change", (function() {
                    let val = this.value;
                    val = parseInt(val.split(/\s+/).join("").match(/\d+/));
                    item.noUiSlider.setHandle(0, val);
                }));
            }));
        }
        rangeSummInit();
        function rangePeriodInit() {
            const rangeItems = document.querySelectorAll("[data-range-period]");
            if (rangeItems.length) rangeItems.forEach((rangeItem => {
                const pipStart = rangeItem.dataset.rangePeriodMin;
                const pipEnd = rangeItem.dataset.rangePeriodMax;
                const range = rangeItem.querySelector("[data-range-period-value]");
                let period = [];
                let valueMin = range.dataset.rangePeriodValueMin;
                let valueMax = range.dataset.rangePeriodValueMax;
                period.push(pipStart, pipEnd);
                const start = range.dataset.rangePeriodValue;
                const item = rangeItem.querySelector("[data-range-period-item]");
                if ("year" == rangeItem.dataset.rangePeriod) var arbitraryValuesForSlider = [ "1 год", "2 года", "3 года", "4 года", "5 лет", "6 лет", "7 лет", "8 лет", "9 лет", "10 лет", "11 лет", "12 лет", "13 лет", "14 лет", "15 лет", "16 лет", "17 лет", "18 лет", "19 лет", "20 лет", "21 год", "22 года", "23 года", "24 года", "25 лет", "26 лет", "27 лет", "28 лет", "29 лет", "30 лет" ]; else if ("month" == rangeItem.dataset.rangePeriod) arbitraryValuesForSlider = [ "1 месяц", "2 месяца", "3 месяца", "4 месяца", "5 месяцев", "6 месяцев", "7 месяцев", "8 месяцев", "9 месяцев", "10 месяцев", "11 месяцев", "12 месяцев", "13 месяцев", "14 месяцев", "15 месяцев", "16 месяцев", "17 месяцев", "18 месяцев", "19 месяцев", "20 месяцев", "21 месяц", "22 месяца", "23 месяца", "24 месяца", "25 месяцев", "26 месяцев", "27 месяцев", "28 месяцев", "29 месяцев", "30 месяцев", "31 месяц", "32 месяца", "33 месяца", "34 месяца", "35 месяцев", "36 месяцев", "37 месяцев", "38 месяцев", "39 месяцев", "40 месяцев", "41 месяц", "42 месяца", "43 месяца", "44 месяца", "45 месяцев", "46 месяцев", "47 месяцев", "48 месяцев", "49 месяцев", "50 месяцев", "51 месяц", "52 месяца", "53 месяца", "54 месяца", "55 месяцев", "56 месяцев", "57 месяцев", "58 месяцев", "59 месяцев", "60 месяцев" ]; else if ("day" == rangeItem.dataset.rangePeriod) arbitraryValuesForSlider = [ "1 день", "2 дня", "3 дня", "4 дня", "5 дней", "6 дней", "7 дней", "8 дней", "9 дней", "10 дней", "11 дней", "12 дней", "13 дней", "14 дней", "15 дней", "16 дней", "17 дней", "18 дней", "19 дней", "20 дней", "21 день", "22 дня", "23 дня", "24 дня", "25 дней", "26 дней", "27 дней", "28 дней", "29 дней", "30 дней", "31 день", "32 дня", "33 дня", "34 дня", "35 дней", "36 дней", "37 дней", "38 дней", "39 дней", "40 дней", "41 день", "42 дня", "43 дня", "44 дня", "45 дней", "46 дней", "47 дней", "48 дней", "49 дней", "50 дней", "51 день", "52 дня", "53 дня", "54 дня", "55 дней", "56 дней", "57 дней", "58 дней", "59 дней", "60 дней", "61 день", "62 дня", "63 дня", "64 дня", "65 дней", "66 дней", "67 дней", "68 дней", "69 дней", "70 дней", "71 день", "72 дня", "73 дня", "74 дня", "75 дней", "76 дней", "77 дней", "78 дней", "79 дней", "80 дней", "81 день", "82 дня", "83 дня", "84 дня", "85 дней", "86 дней", "87 дней", "88 дней", "89 дней", "90 дней", "91 день", "92 дня", "93 дня", "94 дня", "95 дней", "96 дней", "97 дней", "98 дней", "99 дней", "100 дней", "101 день", "102 дня", "103 дня", "104 дня", "105 дней", "106 дней", "107 дней", "108 дней", "109 дней", "110 дней", "111 дней", "112 дней", "113 дней", "114 дней", "115 дней", "116 дней", "117 дней", "118 дней", "119 дней", "120 дней", "121 день", "122 дня", "123 дня", "124 дня", "125 дней", "126 дней", "127 дней", "128 дней", "129 дней", "130 дней", "131 день", "132 дня", "133 дня", "134 дня", "135 дней", "136 дней", "137 дней", "138 дней", "139 дней", "140 дней", "141 день", "142 дня", "143 дня", "144 дня", "145 дней", "146 дней", "147 дней", "148 дней", "149 дней", "150 дней", "151 день", "152 дня", "153 дня", "154 дня", "155 дней", "156 дней", "157 дней", "158 дней", "159 дней", "160 дней", "161 день", "162 дня", "163 дня", "164 дня", "165 дней", "166 дней", "167 дней", "168 дней", "169 дней", "170 дней", "171 день", "172 дня", "173 дня", "174 дня", "175 дней", "176 дней", "177 дней", "178 дней", "179 дней", "180 дней", "181 день", "182 дня", "183 дня", "184 дня", "185 дней", "186 дней", "187 дней", "188 дней", "189 дней", "190 дней", "191 день", "192 дня", "193 дня", "194 дня", "195 дней", "196 дней", "197 дней", "198 дней", "199 дней", "200 дней", "201 день", "202 дня", "203 дня", "204 дня", "205 дней", "206 дней", "207 дней", "208 дней", "209 дней", "210 дней", "211 дней", "212 дней", "213 дней", "214 дней", "215 дней", "216 дней", "217 дней", "218 дней", "219 дней", "220 дней", "221 день", "222 дня", "223 дня", "224 дня", "225 дней", "226 дней", "227 дней", "228 дней", "229 дней", "230 дней", "231 день", "232 дня", "233 дня", "234 дня", "235 дней", "236 дней", "237 дней", "238 дней", "239 дней", "240 дней", "241 день", "242 дня", "243 дня", "244 дня", "245 дней", "246 дней", "247 дней", "248 дней", "249 дней", "250 дней", "251 день", "252 дня", "253 дня", "254 дня", "255 дней", "256 дней", "257 дней", "258 дней", "259 дней", "260 дней", "261 день", "262 дня", "263 дня", "264 дня", "265 дней", "266 дней", "267 дней", "268 дней", "269 дней", "270 дней", "271 день", "272 дня", "273 дня", "274 дня", "275 дней", "276 дней", "277 дней", "278 дней", "279 дней", "280 дней", "281 день", "282 дня", "283 дня", "284 дня", "285 дней", "286 дней", "287 дней", "288 дней", "289 дней", "290 дней", "291 день", "292 дня", "293 дня", "294 дня", "295 дней", "296 дней", "297 дней", "298 дней", "299 дней", "300 дней", "301 день", "302 дня", "303 дня", "304 дня", "305 дней", "306 дней", "307 дней", "308 дней", "309 дней", "310 дней", "311 дней", "312 дней", "313 дней", "314 дней", "315 дней", "316 дней", "317 дней", "318 дней", "319 дней", "320 дней", "321 день", "322 дня", "323 дня", "324 дня", "325 дней", "326 дней", "327 дней", "328 дней", "329 дней", "330 дней", "331 день", "332 дня", "333 дня", "334 дня", "335 дней", "336 дней", "337 дней", "338 дней", "339 дней", "340 дней", "341 день", "342 дня", "343 дня", "344 дня", "345 дней", "346 дней", "347 дней", "348 дней", "349 дней", "350 дней", "351 день", "352 дня", "353 дня", "354 дня", "355 дней", "356 дней", "357 дней", "358 дней", "359 дней", "360 дней", "361 день", "362 дня", "363 дня", "364 дня", "365 дней", "366 дней", "367 дней", "368 дней", "369 дней", "370 дней", "371 день", "372 дня", "373 дня", "374 дня", "375 дней", "376 дней", "377 дней", "378 дней", "379 дней", "380 дней", "381 день", "382 дня", "383 дня", "384 дня", "385 дней", "386 дней", "387 дней", "388 дней", "389 дней", "390 дней", "391 день", "392 дня", "393 дня", "394 дня", "395 дней", "396 дней", "397 дней", "398 дней", "399 дней", "400 дней", "401 день", "402 дня", "403 дня", "404 дня", "405 дней", "406 дней", "407 дней", "408 дней", "409 дней", "410 дней", "411 дней", "412 дней", "413 дней", "414 дней", "415 дней", "416 дней", "417 дней", "418 дней", "419 дней", "420 дней", "421 день", "422 дня", "423 дня", "424 дня", "425 дней", "426 дней", "427 дней", "428 дней", "429 дней", "430 дней", "431 день", "432 дня", "433 дня", "434 дня", "435 дней", "436 дней", "437 дней", "438 дней", "439 дней", "440 дней", "441 день", "442 дня", "443 дня", "444 дня", "445 дней", "446 дней", "447 дней", "448 дней", "449 дней", "450 дней", "451 день", "452 дня", "453 дня", "454 дня", "455 дней", "456 дней", "457 дней", "458 дней", "459 дней", "460 дней", "461 день", "462 дня", "463 дня", "464 дня", "465 дней", "466 дней", "467 дней", "468 дней", "469 дней", "470 дней", "471 день", "472 дня", "473 дня", "474 дня", "475 дней", "476 дней", "477 дней", "478 дней", "479 дней", "480 дней", "481 день", "482 дня", "483 дня", "484 дня", "485 дней", "486 дней", "487 дней", "488 дней", "489 дней", "490 дней", "491 день", "492 дня", "493 дня", "494 дня", "495 дней", "496 дней", "497 дней", "498 дней", "499 дней", "500 дней", "501 день", "502 дня", "503 дня", "504 дня", "505 дней", "506 дней", "507 дней", "508 дней", "509 дней", "510 дней", "511 дней", "512 дней", "513 дней", "514 дней", "515 дней", "516 дней", "517 дней", "518 дней", "519 дней", "520 дней", "521 день", "522 дня", "523 дня", "524 дня", "525 дней", "526 дней", "527 дней", "528 дней", "529 дней", "530 дней", "531 день", "532 дня", "533 дня", "534 дня", "535 дней", "536 дней", "537 дней", "538 дней", "539 дней", "540 дней", "541 день", "542 дня", "543 дня", "544 дня", "545 дней", "546 дней", "547 дней", "548 дней", "549 дней", "550 дней", "551 день", "552 дня", "553 дня", "554 дня", "555 дней", "556 дней", "557 дней", "558 дней", "559 дней", "560 дней", "561 день", "562 дня", "563 дня", "564 дня", "565 дней", "566 дней", "567 дней", "568 дней", "569 дней", "570 дней", "571 день", "572 дня", "573 дня", "574 дня", "575 дней", "576 дней", "577 дней", "578 дней", "579 дней", "580 дней", "581 день", "582 дня", "583 дня", "584 дня", "585 дней", "586 дней", "587 дней", "588 дней", "589 дней", "590 дней", "591 день", "592 дня", "593 дня", "594 дня", "595 дней", "596 дней", "597 дней", "598 дней", "599 дней", "600 дней", "601 день", "602 дня", "603 дня", "604 дня", "605 дней", "606 дней", "607 дней", "608 дней", "609 дней", "610 дней", "611 дней", "612 дней", "613 дней", "614 дней", "615 дней", "616 дней", "617 дней", "618 дней", "619 дней", "620 дней", "621 день", "622 дня", "623 дня", "624 дня", "625 дней", "626 дней", "627 дней", "628 дней", "629 дней", "630 дней", "631 день", "632 дня", "633 дня", "634 дня", "635 дней", "636 дней", "637 дней", "638 дней", "639 дней", "640 дней", "641 день", "642 дня", "643 дня", "644 дня", "645 дней", "646 дней", "647 дней", "648 дней", "649 дней", "650 дней", "651 день", "652 дня", "653 дня", "654 дня", "655 дней", "656 дней", "657 дней", "658 дней", "659 дней", "660 дней", "661 день", "662 дня", "663 дня", "664 дня", "665 дней", "666 дней", "667 дней", "668 дней", "669 дней", "670 дней", "671 день", "672 дня", "673 дня", "674 дня", "675 дней", "676 дней", "677 дней", "678 дней", "679 дней", "680 дней", "681 день", "682 дня", "683 дня", "684 дня", "685 дней", "686 дней", "687 дней", "688 дней", "689 дней", "690 дней", "691 день", "692 дня", "693 дня", "694 дня", "695 дней", "696 дней", "697 дней", "698 дней", "699 дней", "700 дней", "701 день", "702 дня", "703 дня", "704 дня", "705 дней", "706 дней", "707 дней", "708 дней", "709 дней", "710 дней", "711 дней", "712 дней", "713 дней", "714 дней", "715 дней", "716 дней", "717 дней", "718 дней", "719 дней", "720 дней", "721 день", "722 дня", "723 дня", "724 дня", "725 дней", "726 дней", "727 дней", "728 дней", "729 дней", "730 дней", "731 день", "732 дня", "733 дня", "734 дня", "735 дней", "736 дней", "737 дней", "738 дней", "739 дней", "740 дней", "741 день", "742 дня", "743 дня", "744 дня", "745 дней", "746 дней", "747 дней", "748 дней", "749 дней", "750 дней", "751 день", "752 дня", "753 дня", "754 дня", "755 дней", "756 дней", "757 дней", "758 дней", "759 дней", "760 дней", "761 день", "762 дня", "763 дня", "764 дня", "765 дней", "766 дней", "767 дней", "768 дней", "769 дней", "770 дней", "771 день", "772 дня", "773 дня", "774 дня", "775 дней", "776 дней", "777 дней", "778 дней", "779 дней", "780 дней", "781 день", "782 дня", "783 дня", "784 дня", "785 дней", "786 дней", "787 дней", "788 дней", "789 дней", "790 дней", "791 день", "792 дня", "793 дня", "794 дня", "795 дней", "796 дней", "797 дней", "798 дней", "799 дней", "800 дней", "801 день", "802 дня", "803 дня", "804 дня", "805 дней", "806 дней", "807 дней", "808 дней", "809 дней", "810 дней", "811 дней", "812 дней", "813 дней", "814 дней", "815 дней", "816 дней", "817 дней", "818 дней", "819 дней", "820 дней", "821 день", "822 дня", "823 дня", "824 дня", "825 дней", "826 дней", "827 дней", "828 дней", "829 дней", "830 дней", "831 день", "832 дня", "833 дня", "834 дня", "835 дней", "836 дней", "837 дней", "838 дней", "839 дней", "840 дней", "841 день", "842 дня", "843 дня", "844 дня", "845 дней", "846 дней", "847 дней", "848 дней", "849 дней", "850 дней", "851 день", "852 дня", "853 дня", "854 дня", "855 дней", "856 дней", "857 дней", "858 дней", "859 дней", "860 дней", "861 день", "862 дня", "863 дня", "864 дня", "865 дней", "866 дней", "867 дней", "868 дней", "869 дней", "870 дней", "871 день", "872 дня", "873 дня", "874 дня", "875 дней", "876 дней", "877 дней", "878 дней", "879 дней", "880 дней", "881 день", "882 дня", "883 дня", "884 дня", "885 дней", "886 дней", "887 дней", "888 дней", "889 дней", "890 дней", "891 день", "892 дня", "893 дня", "894 дня", "895 дней", "896 дней", "897 дней", "898 дней", "899 дней", "900 дней", "901 день", "902 дня", "903 дня", "904 дня", "905 дней", "906 дней", "907 дней", "908 дней", "909 дней", "910 дней", "911 дней", "912 дней", "913 дней", "914 дней", "915 дней", "916 дней", "917 дней", "918 дней", "919 дней", "920 дней", "921 день", "922 дня", "923 дня", "924 дня", "925 дней", "926 дней", "927 дней", "928 дней", "929 дней", "930 дней", "931 день", "932 дня", "933 дня", "934 дня", "935 дней", "936 дней", "937 дней", "938 дней", "939 дней", "940 дней", "941 день", "942 дня", "943 дня", "944 дня", "945 дней", "946 дней", "947 дней", "948 дней", "949 дней", "950 дней", "951 день", "952 дня", "953 дня", "954 дня", "955 дней", "956 дней", "957 дней", "958 дней", "959 дней", "960 дней", "961 день", "962 дня", "963 дня", "964 дня", "965 дней", "966 дней", "967 дней", "968 дней", "969 дней", "970 дней", "971 день", "972 дня", "973 дня", "974 дня", "975 дней", "976 дней", "977 дней", "978 дней", "979 дней", "980 дней", "981 день", "982 дня", "983 дня", "984 дня", "985 дней", "986 дней", "987 дней", "988 дней", "989 дней", "990 дней", "991 день", "992 дня", "993 дня", "994 дня", "995 дней", "996 дней", "997 дней", "998 дней", "999 дней", "1000 дней", "1001 день", "1002 дня", "1003 дня", "1004 дня", "1005 дней", "1006 дней", "1007 дней", "1008 дней", "1009 дней", "1010 дней", "1011 дней", "1012 дней", "1013 дней", "1014 дней", "1015 дней", "1016 дней", "1017 дней", "1018 дней", "1019 дней", "1020 дней", "1021 день", "1022 дня", "1023 дня", "1024 дня", "1025 дней", "1026 дней", "1027 дней", "1028 дней", "1029 дней", "1030 дней", "1031 день", "1032 дня", "1033 дня", "1034 дня", "1035 дней", "1036 дней", "1037 дней", "1038 дней", "1039 дней", "1040 дней", "1041 день", "1042 дня", "1043 дня", "1044 дня", "1045 дней", "1046 дней", "1047 дней", "1048 дней", "1049 дней", "1050 дней", "1051 день", "1052 дня", "1053 дня", "1054 дня", "1055 дней", "1056 дней", "1057 дней", "1058 дней", "1059 дней", "1060 дней", "1061 день", "1062 дня", "1063 дня", "1064 дня", "1065 дней", "1066 дней", "1067 дней", "1068 дней", "1069 дней", "1070 дней", "1071 день", "1072 дня", "1073 дня", "1074 дня", "1075 дней", "1076 дней", "1077 дней", "1078 дней", "1079 дней", "1080 дней", "1081 день", "1082 дня", "1083 дня", "1084 дня", "1085 дней", "1086 дней", "1087 дней", "1088 дней", "1089 дней", "1090 дней", "1091 день", "1092 дня", "1093 дня", "1094 дня", "1095 дней", "1096 дней", "1097 дней", "1098 дней", "1099 дней" ];
                var format = {
                    to: function(value) {
                        return arbitraryValuesForSlider[Math.round(value)];
                    },
                    from: function(value) {
                        return arbitraryValuesForSlider.indexOf(value);
                    }
                };
                var formatPips = {
                    to: function(value) {
                        if (value == Number(valueMin) - 1) return pipStart; else if (value == Number(valueMax) - 1) return pipEnd;
                    },
                    from: function(value) {
                        console.log(valueMin);
                        if (value == Number(valueMin)) return pipStart; else if (value == Number(valueMax)) return pipEnd;
                    }
                };
                if (valueMin !== valueMax) nouislider.create(item, {
                    start: arbitraryValuesForSlider[start - 1],
                    connect: [ true, false ],
                    range: {
                        min: Number(valueMin) - 1,
                        max: Number(valueMax) - 1
                    },
                    step: 1,
                    format,
                    pips: {
                        mode: "count",
                        values: 2,
                        format: formatPips
                    }
                }); else if (valueMin == valueMax) {
                    valueMin = Number(valueMin) - 1;
                    nouislider.create(item, {
                        start: arbitraryValuesForSlider[start - 1],
                        connect: [ true, false ],
                        range: {
                            min: Number(valueMin) - 1,
                            max: Number(valueMax) - 1
                        },
                        step: 1,
                        format,
                        disabled: true,
                        pips: {
                            mode: "count",
                            values: 2,
                            format: formatPips
                        }
                    });
                    item.setAttribute("disabled", "disabled");
                }
                console.log(nouislider_namespaceObject);
                item.noUiSlider.on("update", (function(values, handle) {
                    range.textContent = values[handle];
                }));
            }));
        }
        rangePeriodInit();
        function rangeInit() {
            const ranges = document.querySelectorAll("[data-range]");
            if (ranges) ranges.forEach((range => {
                let flag = true;
                if (window.innerWidth < 700) flag = false; else if (window.innerWidth >= 700) flag = true;
                const rangeItem = range.querySelector("[data-range-item]");
                const rangeType = rangeItem.dataset.rangeItemType;
                var activePips = [ null, null ];
                if (flag) {
                    if (!rangeType) var arbitraryValuesForSlider = [ "Менее года", "1 год", "2 года", "3 года", "4 года", "5 лет", "5-10 лет", "более 10 лет" ]; else if ("price" == rangeType) arbitraryValuesForSlider = [ "1 млн.", "2 млн.", "3 млн.", "4 млн.", "5 млн.", "10 млн.", "15 млн.", "более 15 млн." ];
                    var format = {
                        to: function(value) {
                            return arbitraryValuesForSlider[Math.round(value)];
                        },
                        from: function(value) {
                            return arbitraryValuesForSlider.indexOf(value);
                        }
                    };
                    nouislider.create(rangeItem, {
                        start: [ "Менее года" ],
                        connect: [ true, false ],
                        range: {
                            min: 0,
                            max: arbitraryValuesForSlider.length - 1
                        },
                        step: 1,
                        format,
                        pips: {
                            mode: "count",
                            format,
                            values: 8,
                            density: 50
                        }
                    });
                    flag = false;
                } else if (!flag) {
                    arbitraryValuesForSlider = [ "Менее года", "2 года", "5 лет", "5-10 лет", "> 10 лет" ];
                    format = {
                        to: function(value) {
                            return arbitraryValuesForSlider[Math.round(value)];
                        },
                        from: function(value) {
                            return arbitraryValuesForSlider.indexOf(value);
                        }
                    };
                    nouislider.create(rangeItem, {
                        start: [ "Менее года" ],
                        connect: [ true, false ],
                        range: {
                            min: 0,
                            max: arbitraryValuesForSlider.length - 1
                        },
                        step: 1,
                        format,
                        pips: {
                            mode: "count",
                            format,
                            values: 5,
                            density: 50
                        }
                    });
                    flag = true;
                }
                window.addEventListener("resize", (e => {
                    if (window.innerWidth >= 700) {
                        if (flag) {
                            rangeItem.noUiSlider.destroy();
                            var activePips = [ null, null ];
                            var arbitraryValuesForSlider = [ "Менее года", "1 год", "2 года", "3 года", "4 года", "5 лет", "5-10 лет", "более 10 лет" ];
                            var format = {
                                to: function(value) {
                                    return arbitraryValuesForSlider[Math.round(value)];
                                },
                                from: function(value) {
                                    return arbitraryValuesForSlider.indexOf(value);
                                }
                            };
                            nouislider.create(rangeItem, {
                                start: [ "Менее года" ],
                                connect: [ true, false ],
                                range: {
                                    min: 0,
                                    max: arbitraryValuesForSlider.length - 1
                                },
                                step: 1,
                                format,
                                pips: {
                                    mode: "count",
                                    format,
                                    values: 8,
                                    density: 50
                                }
                            });
                            flag = false;
                            rangeItem.noUiSlider.on("update", (function(values, handle) {
                                if (activePips[handle]) activePips[handle].classList.remove("active-pip");
                                var dataValue = values[handle];
                                for (var i = 0; i < arbitraryValuesForSlider.length; i++) if (dataValue == arbitraryValuesForSlider[i]) activePips[handle] = rangeItem.querySelector('.noUi-value[data-value="' + i + '"]');
                                if (activePips[handle]) activePips[handle].classList.add("active-pip");
                            }));
                            var pips = rangeItem.querySelectorAll(".noUi-value");
                            for (var i = 0; i < pips.length; i++) {
                                pips[i].style.cursor = "pointer";
                                pips[i].addEventListener("click", clickOnPip);
                            }
                            function clickOnPip() {
                                var value = Number(this.getAttribute("data-value"));
                                rangeItem.noUiSlider.set(arbitraryValuesForSlider[value]);
                            }
                        }
                    } else if (window.innerWidth < 700) if (!flag) {
                        rangeItem.noUiSlider.destroy();
                        activePips = [ null, null ];
                        arbitraryValuesForSlider = [ "Менее года", "2 года", "5 лет", "5-10 лет", "> 10 лет" ];
                        format = {
                            to: function(value) {
                                return arbitraryValuesForSlider[Math.round(value)];
                            },
                            from: function(value) {
                                return arbitraryValuesForSlider.indexOf(value);
                            }
                        };
                        nouislider.create(rangeItem, {
                            start: [ "Менее года" ],
                            connect: [ true, false ],
                            range: {
                                min: 0,
                                max: arbitraryValuesForSlider.length - 1
                            },
                            step: 1,
                            format,
                            pips: {
                                mode: "count",
                                format,
                                values: 5,
                                density: 50
                            }
                        });
                        flag = true;
                        rangeItem.noUiSlider.on("update", (function(values, handle) {
                            if (activePips[handle]) activePips[handle].classList.remove("active-pip");
                            var dataValue = values[handle];
                            for (var i = 0; i < arbitraryValuesForSlider.length; i++) if (dataValue == arbitraryValuesForSlider[i]) activePips[handle] = rangeItem.querySelector('.noUi-value[data-value="' + i + '"]');
                            if (activePips[handle]) activePips[handle].classList.add("active-pip");
                        }));
                        pips = rangeItem.querySelectorAll(".noUi-value");
                        for (i = 0; i < pips.length; i++) {
                            pips[i].style.cursor = "pointer";
                            pips[i].addEventListener("click", clickOnPip);
                        }
                        function clickOnPip() {
                            var value = Number(this.getAttribute("data-value"));
                            rangeItem.noUiSlider.set(arbitraryValuesForSlider[value]);
                        }
                    }
                }));
                rangeItem.noUiSlider.on("update", (function(values, handle) {
                    if (activePips[handle]) activePips[handle].classList.remove("active-pip");
                    var dataValue = values[handle];
                    for (var i = 0; i < arbitraryValuesForSlider.length; i++) if (dataValue == arbitraryValuesForSlider[i]) activePips[handle] = rangeItem.querySelector('.noUi-value[data-value="' + i + '"]');
                    if (activePips[handle]) activePips[handle].classList.add("active-pip");
                }));
                var pips = rangeItem.querySelectorAll(".noUi-value");
                for (var i = 0; i < pips.length; i++) {
                    pips[i].style.cursor = "pointer";
                    pips[i].addEventListener("click", clickOnPip);
                }
                function clickOnPip() {
                    var value = Number(this.getAttribute("data-value"));
                    rangeItem.noUiSlider.set(arbitraryValuesForSlider[value]);
                }
            }));
        }
        rangeInit();
        function getWindow_getWindow(node) {
            if (null == node) return window;
            if ("[object Window]" !== node.toString()) {
                var ownerDocument = node.ownerDocument;
                return ownerDocument ? ownerDocument.defaultView || window : window;
            }
            return node;
        }
        function isElement(node) {
            var OwnElement = getWindow_getWindow(node).Element;
            return node instanceof OwnElement || node instanceof Element;
        }
        function isHTMLElement(node) {
            var OwnElement = getWindow_getWindow(node).HTMLElement;
            return node instanceof OwnElement || node instanceof HTMLElement;
        }
        function isShadowRoot(node) {
            if ("undefined" === typeof ShadowRoot) return false;
            var OwnElement = getWindow_getWindow(node).ShadowRoot;
            return node instanceof OwnElement || node instanceof ShadowRoot;
        }
        var math_max = Math.max;
        var math_min = Math.min;
        var math_round = Math.round;
        function getUAString() {
            var uaData = navigator.userAgentData;
            if (null != uaData && uaData.brands) return uaData.brands.map((function(item) {
                return item.brand + "/" + item.version;
            })).join(" ");
            return navigator.userAgent;
        }
        function isLayoutViewport() {
            return !/^((?!chrome|android).)*safari/i.test(getUAString());
        }
        function getBoundingClientRect(element, includeScale, isFixedStrategy) {
            if (void 0 === includeScale) includeScale = false;
            if (void 0 === isFixedStrategy) isFixedStrategy = false;
            var clientRect = element.getBoundingClientRect();
            var scaleX = 1;
            var scaleY = 1;
            if (includeScale && isHTMLElement(element)) {
                scaleX = element.offsetWidth > 0 ? math_round(clientRect.width) / element.offsetWidth || 1 : 1;
                scaleY = element.offsetHeight > 0 ? math_round(clientRect.height) / element.offsetHeight || 1 : 1;
            }
            var _ref = isElement(element) ? getWindow_getWindow(element) : window, visualViewport = _ref.visualViewport;
            var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;
            var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;
            var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;
            var width = clientRect.width / scaleX;
            var height = clientRect.height / scaleY;
            return {
                width,
                height,
                top: y,
                right: x + width,
                bottom: y + height,
                left: x,
                x,
                y
            };
        }
        function getWindowScroll(node) {
            var win = getWindow_getWindow(node);
            var scrollLeft = win.pageXOffset;
            var scrollTop = win.pageYOffset;
            return {
                scrollLeft,
                scrollTop
            };
        }
        function getHTMLElementScroll(element) {
            return {
                scrollLeft: element.scrollLeft,
                scrollTop: element.scrollTop
            };
        }
        function getNodeScroll(node) {
            if (node === getWindow_getWindow(node) || !isHTMLElement(node)) return getWindowScroll(node); else return getHTMLElementScroll(node);
        }
        function getNodeName(element) {
            return element ? (element.nodeName || "").toLowerCase() : null;
        }
        function getDocumentElement(element) {
            return ((isElement(element) ? element.ownerDocument : element.document) || window.document).documentElement;
        }
        function getWindowScrollBarX(element) {
            return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;
        }
        function getComputedStyle_getComputedStyle(element) {
            return getWindow_getWindow(element).getComputedStyle(element);
        }
        function isScrollParent(element) {
            var _getComputedStyle = getComputedStyle_getComputedStyle(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY;
            return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
        }
        function isElementScaled(element) {
            var rect = element.getBoundingClientRect();
            var scaleX = math_round(rect.width) / element.offsetWidth || 1;
            var scaleY = math_round(rect.height) / element.offsetHeight || 1;
            return 1 !== scaleX || 1 !== scaleY;
        }
        function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {
            if (void 0 === isFixed) isFixed = false;
            var isOffsetParentAnElement = isHTMLElement(offsetParent);
            var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);
            var documentElement = getDocumentElement(offsetParent);
            var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);
            var scroll = {
                scrollLeft: 0,
                scrollTop: 0
            };
            var offsets = {
                x: 0,
                y: 0
            };
            if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
                if ("body" !== getNodeName(offsetParent) || isScrollParent(documentElement)) scroll = getNodeScroll(offsetParent);
                if (isHTMLElement(offsetParent)) {
                    offsets = getBoundingClientRect(offsetParent, true);
                    offsets.x += offsetParent.clientLeft;
                    offsets.y += offsetParent.clientTop;
                } else if (documentElement) offsets.x = getWindowScrollBarX(documentElement);
            }
            return {
                x: rect.left + scroll.scrollLeft - offsets.x,
                y: rect.top + scroll.scrollTop - offsets.y,
                width: rect.width,
                height: rect.height
            };
        }
        function getLayoutRect(element) {
            var clientRect = getBoundingClientRect(element);
            var width = element.offsetWidth;
            var height = element.offsetHeight;
            if (Math.abs(clientRect.width - width) <= 1) width = clientRect.width;
            if (Math.abs(clientRect.height - height) <= 1) height = clientRect.height;
            return {
                x: element.offsetLeft,
                y: element.offsetTop,
                width,
                height
            };
        }
        function getParentNode(element) {
            if ("html" === getNodeName(element)) return element;
            return element.assignedSlot || element.parentNode || (isShadowRoot(element) ? element.host : null) || getDocumentElement(element);
        }
        function getScrollParent(node) {
            if ([ "html", "body", "#document" ].indexOf(getNodeName(node)) >= 0) return node.ownerDocument.body;
            if (isHTMLElement(node) && isScrollParent(node)) return node;
            return getScrollParent(getParentNode(node));
        }
        function listScrollParents(element, list) {
            var _element$ownerDocumen;
            if (void 0 === list) list = [];
            var scrollParent = getScrollParent(element);
            var isBody = scrollParent === (null == (_element$ownerDocumen = element.ownerDocument) ? void 0 : _element$ownerDocumen.body);
            var win = getWindow_getWindow(scrollParent);
            var target = isBody ? [ win ].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;
            var updatedList = list.concat(target);
            return isBody ? updatedList : updatedList.concat(listScrollParents(getParentNode(target)));
        }
        function isTableElement(element) {
            return [ "table", "td", "th" ].indexOf(getNodeName(element)) >= 0;
        }
        function getTrueOffsetParent(element) {
            if (!isHTMLElement(element) || "fixed" === getComputedStyle_getComputedStyle(element).position) return null;
            return element.offsetParent;
        }
        function getContainingBlock(element) {
            var isFirefox = /firefox/i.test(getUAString());
            var isIE = /Trident/i.test(getUAString());
            if (isIE && isHTMLElement(element)) {
                var elementCss = getComputedStyle_getComputedStyle(element);
                if ("fixed" === elementCss.position) return null;
            }
            var currentNode = getParentNode(element);
            if (isShadowRoot(currentNode)) currentNode = currentNode.host;
            while (isHTMLElement(currentNode) && [ "html", "body" ].indexOf(getNodeName(currentNode)) < 0) {
                var css = getComputedStyle_getComputedStyle(currentNode);
                if ("none" !== css.transform || "none" !== css.perspective || "paint" === css.contain || -1 !== [ "transform", "perspective" ].indexOf(css.willChange) || isFirefox && "filter" === css.willChange || isFirefox && css.filter && "none" !== css.filter) return currentNode; else currentNode = currentNode.parentNode;
            }
            return null;
        }
        function getOffsetParent(element) {
            var window = getWindow_getWindow(element);
            var offsetParent = getTrueOffsetParent(element);
            while (offsetParent && isTableElement(offsetParent) && "static" === getComputedStyle_getComputedStyle(offsetParent).position) offsetParent = getTrueOffsetParent(offsetParent);
            if (offsetParent && ("html" === getNodeName(offsetParent) || "body" === getNodeName(offsetParent) && "static" === getComputedStyle_getComputedStyle(offsetParent).position)) return window;
            return offsetParent || getContainingBlock(element) || window;
        }
        var enums_top = "top";
        var bottom = "bottom";
        var right = "right";
        var left = "left";
        var auto = "auto";
        var basePlacements = [ enums_top, bottom, right, left ];
        var start = "start";
        var end = "end";
        var clippingParents = "clippingParents";
        var viewport = "viewport";
        var popper = "popper";
        var reference = "reference";
        var variationPlacements = basePlacements.reduce((function(acc, placement) {
            return acc.concat([ placement + "-" + start, placement + "-" + end ]);
        }), []);
        var enums_placements = [].concat(basePlacements, [ auto ]).reduce((function(acc, placement) {
            return acc.concat([ placement, placement + "-" + start, placement + "-" + end ]);
        }), []);
        var beforeRead = "beforeRead";
        var read = "read";
        var afterRead = "afterRead";
        var beforeMain = "beforeMain";
        var main = "main";
        var afterMain = "afterMain";
        var beforeWrite = "beforeWrite";
        var write = "write";
        var afterWrite = "afterWrite";
        var modifierPhases = [ beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite ];
        function order(modifiers) {
            var map = new Map;
            var visited = new Set;
            var result = [];
            modifiers.forEach((function(modifier) {
                map.set(modifier.name, modifier);
            }));
            function sort(modifier) {
                visited.add(modifier.name);
                var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);
                requires.forEach((function(dep) {
                    if (!visited.has(dep)) {
                        var depModifier = map.get(dep);
                        if (depModifier) sort(depModifier);
                    }
                }));
                result.push(modifier);
            }
            modifiers.forEach((function(modifier) {
                if (!visited.has(modifier.name)) sort(modifier);
            }));
            return result;
        }
        function orderModifiers(modifiers) {
            var orderedModifiers = order(modifiers);
            return modifierPhases.reduce((function(acc, phase) {
                return acc.concat(orderedModifiers.filter((function(modifier) {
                    return modifier.phase === phase;
                })));
            }), []);
        }
        function debounce(fn) {
            var pending;
            return function() {
                if (!pending) pending = new Promise((function(resolve) {
                    Promise.resolve().then((function() {
                        pending = void 0;
                        resolve(fn());
                    }));
                }));
                return pending;
            };
        }
        function mergeByName(modifiers) {
            var merged = modifiers.reduce((function(merged, current) {
                var existing = merged[current.name];
                merged[current.name] = existing ? Object.assign({}, existing, current, {
                    options: Object.assign({}, existing.options, current.options),
                    data: Object.assign({}, existing.data, current.data)
                }) : current;
                return merged;
            }), {});
            return Object.keys(merged).map((function(key) {
                return merged[key];
            }));
        }
        var DEFAULT_OPTIONS = {
            placement: "bottom",
            modifiers: [],
            strategy: "absolute"
        };
        function areValidElements() {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];
            return !args.some((function(element) {
                return !(element && "function" === typeof element.getBoundingClientRect);
            }));
        }
        function popperGenerator(generatorOptions) {
            if (void 0 === generatorOptions) generatorOptions = {};
            var _generatorOptions = generatorOptions, _generatorOptions$def = _generatorOptions.defaultModifiers, defaultModifiers = void 0 === _generatorOptions$def ? [] : _generatorOptions$def, _generatorOptions$def2 = _generatorOptions.defaultOptions, defaultOptions = void 0 === _generatorOptions$def2 ? DEFAULT_OPTIONS : _generatorOptions$def2;
            return function createPopper(reference, popper, options) {
                if (void 0 === options) options = defaultOptions;
                var state = {
                    placement: "bottom",
                    orderedModifiers: [],
                    options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),
                    modifiersData: {},
                    elements: {
                        reference,
                        popper
                    },
                    attributes: {},
                    styles: {}
                };
                var effectCleanupFns = [];
                var isDestroyed = false;
                var instance = {
                    state,
                    setOptions: function setOptions(setOptionsAction) {
                        var options = "function" === typeof setOptionsAction ? setOptionsAction(state.options) : setOptionsAction;
                        cleanupModifierEffects();
                        state.options = Object.assign({}, defaultOptions, state.options, options);
                        state.scrollParents = {
                            reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],
                            popper: listScrollParents(popper)
                        };
                        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers)));
                        state.orderedModifiers = orderedModifiers.filter((function(m) {
                            return m.enabled;
                        }));
                        if (false) ;
                        runModifierEffects();
                        return instance.update();
                    },
                    forceUpdate: function forceUpdate() {
                        if (isDestroyed) return;
                        var _state$elements = state.elements, reference = _state$elements.reference, popper = _state$elements.popper;
                        if (!areValidElements(reference, popper)) {
                            if (false) ;
                            return;
                        }
                        state.rects = {
                            reference: getCompositeRect(reference, getOffsetParent(popper), "fixed" === state.options.strategy),
                            popper: getLayoutRect(popper)
                        };
                        state.reset = false;
                        state.placement = state.options.placement;
                        state.orderedModifiers.forEach((function(modifier) {
                            return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);
                        }));
                        for (var index = 0; index < state.orderedModifiers.length; index++) {
                            if (false) ;
                            if (true === state.reset) {
                                state.reset = false;
                                index = -1;
                                continue;
                            }
                            var _state$orderedModifie = state.orderedModifiers[index], fn = _state$orderedModifie.fn, _state$orderedModifie2 = _state$orderedModifie.options, _options = void 0 === _state$orderedModifie2 ? {} : _state$orderedModifie2, name = _state$orderedModifie.name;
                            if ("function" === typeof fn) state = fn({
                                state,
                                options: _options,
                                name,
                                instance
                            }) || state;
                        }
                    },
                    update: debounce((function() {
                        return new Promise((function(resolve) {
                            instance.forceUpdate();
                            resolve(state);
                        }));
                    })),
                    destroy: function destroy() {
                        cleanupModifierEffects();
                        isDestroyed = true;
                    }
                };
                if (!areValidElements(reference, popper)) {
                    if (false) ;
                    return instance;
                }
                instance.setOptions(options).then((function(state) {
                    if (!isDestroyed && options.onFirstUpdate) options.onFirstUpdate(state);
                }));
                function runModifierEffects() {
                    state.orderedModifiers.forEach((function(_ref3) {
                        var name = _ref3.name, _ref3$options = _ref3.options, options = void 0 === _ref3$options ? {} : _ref3$options, effect = _ref3.effect;
                        if ("function" === typeof effect) {
                            var cleanupFn = effect({
                                state,
                                name,
                                instance,
                                options
                            });
                            var noopFn = function noopFn() {};
                            effectCleanupFns.push(cleanupFn || noopFn);
                        }
                    }));
                }
                function cleanupModifierEffects() {
                    effectCleanupFns.forEach((function(fn) {
                        return fn();
                    }));
                    effectCleanupFns = [];
                }
                return instance;
            };
        }
        null && popperGenerator();
        var passive = {
            passive: true
        };
        function effect(_ref) {
            var state = _ref.state, instance = _ref.instance, options = _ref.options;
            var _options$scroll = options.scroll, scroll = void 0 === _options$scroll ? true : _options$scroll, _options$resize = options.resize, resize = void 0 === _options$resize ? true : _options$resize;
            var window = getWindow_getWindow(state.elements.popper);
            var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);
            if (scroll) scrollParents.forEach((function(scrollParent) {
                scrollParent.addEventListener("scroll", instance.update, passive);
            }));
            if (resize) window.addEventListener("resize", instance.update, passive);
            return function() {
                if (scroll) scrollParents.forEach((function(scrollParent) {
                    scrollParent.removeEventListener("scroll", instance.update, passive);
                }));
                if (resize) window.removeEventListener("resize", instance.update, passive);
            };
        }
        const eventListeners = {
            name: "eventListeners",
            enabled: true,
            phase: "write",
            fn: function fn() {},
            effect,
            data: {}
        };
        function getBasePlacement(placement) {
            return placement.split("-")[0];
        }
        function getVariation(placement) {
            return placement.split("-")[1];
        }
        function getMainAxisFromPlacement(placement) {
            return [ "top", "bottom" ].indexOf(placement) >= 0 ? "x" : "y";
        }
        function computeOffsets(_ref) {
            var reference = _ref.reference, element = _ref.element, placement = _ref.placement;
            var basePlacement = placement ? getBasePlacement(placement) : null;
            var variation = placement ? getVariation(placement) : null;
            var commonX = reference.x + reference.width / 2 - element.width / 2;
            var commonY = reference.y + reference.height / 2 - element.height / 2;
            var offsets;
            switch (basePlacement) {
              case enums_top:
                offsets = {
                    x: commonX,
                    y: reference.y - element.height
                };
                break;

              case bottom:
                offsets = {
                    x: commonX,
                    y: reference.y + reference.height
                };
                break;

              case right:
                offsets = {
                    x: reference.x + reference.width,
                    y: commonY
                };
                break;

              case left:
                offsets = {
                    x: reference.x - element.width,
                    y: commonY
                };
                break;

              default:
                offsets = {
                    x: reference.x,
                    y: reference.y
                };
            }
            var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;
            if (null != mainAxis) {
                var len = "y" === mainAxis ? "height" : "width";
                switch (variation) {
                  case start:
                    offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);
                    break;

                  case end:
                    offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);
                    break;

                  default:
                }
            }
            return offsets;
        }
        function popperOffsets(_ref) {
            var state = _ref.state, name = _ref.name;
            state.modifiersData[name] = computeOffsets({
                reference: state.rects.reference,
                element: state.rects.popper,
                strategy: "absolute",
                placement: state.placement
            });
        }
        const modifiers_popperOffsets = {
            name: "popperOffsets",
            enabled: true,
            phase: "read",
            fn: popperOffsets,
            data: {}
        };
        var unsetSides = {
            top: "auto",
            right: "auto",
            bottom: "auto",
            left: "auto"
        };
        function roundOffsetsByDPR(_ref) {
            var x = _ref.x, y = _ref.y;
            var win = window;
            var dpr = win.devicePixelRatio || 1;
            return {
                x: math_round(x * dpr) / dpr || 0,
                y: math_round(y * dpr) / dpr || 0
            };
        }
        function mapToStyles(_ref2) {
            var _Object$assign2;
            var popper = _ref2.popper, popperRect = _ref2.popperRect, placement = _ref2.placement, variation = _ref2.variation, offsets = _ref2.offsets, position = _ref2.position, gpuAcceleration = _ref2.gpuAcceleration, adaptive = _ref2.adaptive, roundOffsets = _ref2.roundOffsets, isFixed = _ref2.isFixed;
            var _offsets$x = offsets.x, x = void 0 === _offsets$x ? 0 : _offsets$x, _offsets$y = offsets.y, y = void 0 === _offsets$y ? 0 : _offsets$y;
            var _ref3 = "function" === typeof roundOffsets ? roundOffsets({
                x,
                y
            }) : {
                x,
                y
            };
            x = _ref3.x;
            y = _ref3.y;
            var hasX = offsets.hasOwnProperty("x");
            var hasY = offsets.hasOwnProperty("y");
            var sideX = left;
            var sideY = enums_top;
            var win = window;
            if (adaptive) {
                var offsetParent = getOffsetParent(popper);
                var heightProp = "clientHeight";
                var widthProp = "clientWidth";
                if (offsetParent === getWindow_getWindow(popper)) {
                    offsetParent = getDocumentElement(popper);
                    if ("static" !== getComputedStyle_getComputedStyle(offsetParent).position && "absolute" === position) {
                        heightProp = "scrollHeight";
                        widthProp = "scrollWidth";
                    }
                }
                offsetParent;
                if (placement === enums_top || (placement === left || placement === right) && variation === end) {
                    sideY = bottom;
                    var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : offsetParent[heightProp];
                    y -= offsetY - popperRect.height;
                    y *= gpuAcceleration ? 1 : -1;
                }
                if (placement === left || (placement === enums_top || placement === bottom) && variation === end) {
                    sideX = right;
                    var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : offsetParent[widthProp];
                    x -= offsetX - popperRect.width;
                    x *= gpuAcceleration ? 1 : -1;
                }
            }
            var commonStyles = Object.assign({
                position
            }, adaptive && unsetSides);
            var _ref4 = true === roundOffsets ? roundOffsetsByDPR({
                x,
                y
            }) : {
                x,
                y
            };
            x = _ref4.x;
            y = _ref4.y;
            if (gpuAcceleration) {
                var _Object$assign;
                return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? "0" : "", 
                _Object$assign[sideX] = hasX ? "0" : "", _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x + "px, " + y + "px)" : "translate3d(" + x + "px, " + y + "px, 0)", 
                _Object$assign));
            }
            return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + "px" : "", 
            _Object$assign2[sideX] = hasX ? x + "px" : "", _Object$assign2.transform = "", _Object$assign2));
        }
        function computeStyles(_ref5) {
            var state = _ref5.state, options = _ref5.options;
            var _options$gpuAccelerat = options.gpuAcceleration, gpuAcceleration = void 0 === _options$gpuAccelerat ? true : _options$gpuAccelerat, _options$adaptive = options.adaptive, adaptive = void 0 === _options$adaptive ? true : _options$adaptive, _options$roundOffsets = options.roundOffsets, roundOffsets = void 0 === _options$roundOffsets ? true : _options$roundOffsets;
            if (false) ;
            var commonStyles = {
                placement: getBasePlacement(state.placement),
                variation: getVariation(state.placement),
                popper: state.elements.popper,
                popperRect: state.rects.popper,
                gpuAcceleration,
                isFixed: "fixed" === state.options.strategy
            };
            if (null != state.modifiersData.popperOffsets) state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {
                offsets: state.modifiersData.popperOffsets,
                position: state.options.strategy,
                adaptive,
                roundOffsets
            })));
            if (null != state.modifiersData.arrow) state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {
                offsets: state.modifiersData.arrow,
                position: "absolute",
                adaptive: false,
                roundOffsets
            })));
            state.attributes.popper = Object.assign({}, state.attributes.popper, {
                "data-popper-placement": state.placement
            });
        }
        const modifiers_computeStyles = {
            name: "computeStyles",
            enabled: true,
            phase: "beforeWrite",
            fn: computeStyles,
            data: {}
        };
        function applyStyles(_ref) {
            var state = _ref.state;
            Object.keys(state.elements).forEach((function(name) {
                var style = state.styles[name] || {};
                var attributes = state.attributes[name] || {};
                var element = state.elements[name];
                if (!isHTMLElement(element) || !getNodeName(element)) return;
                Object.assign(element.style, style);
                Object.keys(attributes).forEach((function(name) {
                    var value = attributes[name];
                    if (false === value) element.removeAttribute(name); else element.setAttribute(name, true === value ? "" : value);
                }));
            }));
        }
        function applyStyles_effect(_ref2) {
            var state = _ref2.state;
            var initialStyles = {
                popper: {
                    position: state.options.strategy,
                    left: "0",
                    top: "0",
                    margin: "0"
                },
                arrow: {
                    position: "absolute"
                },
                reference: {}
            };
            Object.assign(state.elements.popper.style, initialStyles.popper);
            state.styles = initialStyles;
            if (state.elements.arrow) Object.assign(state.elements.arrow.style, initialStyles.arrow);
            return function() {
                Object.keys(state.elements).forEach((function(name) {
                    var element = state.elements[name];
                    var attributes = state.attributes[name] || {};
                    var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]);
                    var style = styleProperties.reduce((function(style, property) {
                        style[property] = "";
                        return style;
                    }), {});
                    if (!isHTMLElement(element) || !getNodeName(element)) return;
                    Object.assign(element.style, style);
                    Object.keys(attributes).forEach((function(attribute) {
                        element.removeAttribute(attribute);
                    }));
                }));
            };
        }
        const modifiers_applyStyles = {
            name: "applyStyles",
            enabled: true,
            phase: "write",
            fn: applyStyles,
            effect: applyStyles_effect,
            requires: [ "computeStyles" ]
        };
        function distanceAndSkiddingToXY(placement, rects, offset) {
            var basePlacement = getBasePlacement(placement);
            var invertDistance = [ left, enums_top ].indexOf(basePlacement) >= 0 ? -1 : 1;
            var _ref = "function" === typeof offset ? offset(Object.assign({}, rects, {
                placement
            })) : offset, skidding = _ref[0], distance = _ref[1];
            skidding = skidding || 0;
            distance = (distance || 0) * invertDistance;
            return [ left, right ].indexOf(basePlacement) >= 0 ? {
                x: distance,
                y: skidding
            } : {
                x: skidding,
                y: distance
            };
        }
        function offset(_ref2) {
            var state = _ref2.state, options = _ref2.options, name = _ref2.name;
            var _options$offset = options.offset, offset = void 0 === _options$offset ? [ 0, 0 ] : _options$offset;
            var data = enums_placements.reduce((function(acc, placement) {
                acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);
                return acc;
            }), {});
            var _data$state$placement = data[state.placement], x = _data$state$placement.x, y = _data$state$placement.y;
            if (null != state.modifiersData.popperOffsets) {
                state.modifiersData.popperOffsets.x += x;
                state.modifiersData.popperOffsets.y += y;
            }
            state.modifiersData[name] = data;
        }
        const modifiers_offset = {
            name: "offset",
            enabled: true,
            phase: "main",
            requires: [ "popperOffsets" ],
            fn: offset
        };
        var hash = {
            left: "right",
            right: "left",
            bottom: "top",
            top: "bottom"
        };
        function getOppositePlacement(placement) {
            return placement.replace(/left|right|bottom|top/g, (function(matched) {
                return hash[matched];
            }));
        }
        var getOppositeVariationPlacement_hash = {
            start: "end",
            end: "start"
        };
        function getOppositeVariationPlacement(placement) {
            return placement.replace(/start|end/g, (function(matched) {
                return getOppositeVariationPlacement_hash[matched];
            }));
        }
        function getViewportRect(element, strategy) {
            var win = getWindow_getWindow(element);
            var html = getDocumentElement(element);
            var visualViewport = win.visualViewport;
            var width = html.clientWidth;
            var height = html.clientHeight;
            var x = 0;
            var y = 0;
            if (visualViewport) {
                width = visualViewport.width;
                height = visualViewport.height;
                var layoutViewport = isLayoutViewport();
                if (layoutViewport || !layoutViewport && "fixed" === strategy) {
                    x = visualViewport.offsetLeft;
                    y = visualViewport.offsetTop;
                }
            }
            return {
                width,
                height,
                x: x + getWindowScrollBarX(element),
                y
            };
        }
        function getDocumentRect(element) {
            var _element$ownerDocumen;
            var html = getDocumentElement(element);
            var winScroll = getWindowScroll(element);
            var body = null == (_element$ownerDocumen = element.ownerDocument) ? void 0 : _element$ownerDocumen.body;
            var width = math_max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
            var height = math_max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
            var x = -winScroll.scrollLeft + getWindowScrollBarX(element);
            var y = -winScroll.scrollTop;
            if ("rtl" === getComputedStyle_getComputedStyle(body || html).direction) x += math_max(html.clientWidth, body ? body.clientWidth : 0) - width;
            return {
                width,
                height,
                x,
                y
            };
        }
        function contains_contains(parent, child) {
            var rootNode = child.getRootNode && child.getRootNode();
            if (parent.contains(child)) return true; else if (rootNode && isShadowRoot(rootNode)) {
                var next = child;
                do {
                    if (next && parent.isSameNode(next)) return true;
                    next = next.parentNode || next.host;
                } while (next);
            }
            return false;
        }
        function rectToClientRect(rect) {
            return Object.assign({}, rect, {
                left: rect.x,
                top: rect.y,
                right: rect.x + rect.width,
                bottom: rect.y + rect.height
            });
        }
        function getInnerBoundingClientRect(element, strategy) {
            var rect = getBoundingClientRect(element, false, "fixed" === strategy);
            rect.top = rect.top + element.clientTop;
            rect.left = rect.left + element.clientLeft;
            rect.bottom = rect.top + element.clientHeight;
            rect.right = rect.left + element.clientWidth;
            rect.width = element.clientWidth;
            rect.height = element.clientHeight;
            rect.x = rect.left;
            rect.y = rect.top;
            return rect;
        }
        function getClientRectFromMixedType(element, clippingParent, strategy) {
            return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));
        }
        function getClippingParents(element) {
            var clippingParents = listScrollParents(getParentNode(element));
            var canEscapeClipping = [ "absolute", "fixed" ].indexOf(getComputedStyle_getComputedStyle(element).position) >= 0;
            var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;
            if (!isElement(clipperElement)) return [];
            return clippingParents.filter((function(clippingParent) {
                return isElement(clippingParent) && contains_contains(clippingParent, clipperElement) && "body" !== getNodeName(clippingParent);
            }));
        }
        function getClippingRect(element, boundary, rootBoundary, strategy) {
            var mainClippingParents = "clippingParents" === boundary ? getClippingParents(element) : [].concat(boundary);
            var clippingParents = [].concat(mainClippingParents, [ rootBoundary ]);
            var firstClippingParent = clippingParents[0];
            var clippingRect = clippingParents.reduce((function(accRect, clippingParent) {
                var rect = getClientRectFromMixedType(element, clippingParent, strategy);
                accRect.top = math_max(rect.top, accRect.top);
                accRect.right = math_min(rect.right, accRect.right);
                accRect.bottom = math_min(rect.bottom, accRect.bottom);
                accRect.left = math_max(rect.left, accRect.left);
                return accRect;
            }), getClientRectFromMixedType(element, firstClippingParent, strategy));
            clippingRect.width = clippingRect.right - clippingRect.left;
            clippingRect.height = clippingRect.bottom - clippingRect.top;
            clippingRect.x = clippingRect.left;
            clippingRect.y = clippingRect.top;
            return clippingRect;
        }
        function getFreshSideObject() {
            return {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0
            };
        }
        function mergePaddingObject(paddingObject) {
            return Object.assign({}, getFreshSideObject(), paddingObject);
        }
        function expandToHashMap(value, keys) {
            return keys.reduce((function(hashMap, key) {
                hashMap[key] = value;
                return hashMap;
            }), {});
        }
        function detectOverflow(state, options) {
            if (void 0 === options) options = {};
            var _options = options, _options$placement = _options.placement, placement = void 0 === _options$placement ? state.placement : _options$placement, _options$strategy = _options.strategy, strategy = void 0 === _options$strategy ? state.strategy : _options$strategy, _options$boundary = _options.boundary, boundary = void 0 === _options$boundary ? clippingParents : _options$boundary, _options$rootBoundary = _options.rootBoundary, rootBoundary = void 0 === _options$rootBoundary ? viewport : _options$rootBoundary, _options$elementConte = _options.elementContext, elementContext = void 0 === _options$elementConte ? popper : _options$elementConte, _options$altBoundary = _options.altBoundary, altBoundary = void 0 === _options$altBoundary ? false : _options$altBoundary, _options$padding = _options.padding, padding = void 0 === _options$padding ? 0 : _options$padding;
            var paddingObject = mergePaddingObject("number" !== typeof padding ? padding : expandToHashMap(padding, basePlacements));
            var altContext = elementContext === popper ? reference : popper;
            var popperRect = state.rects.popper;
            var element = state.elements[altBoundary ? altContext : elementContext];
            var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);
            var referenceClientRect = getBoundingClientRect(state.elements.reference);
            var popperOffsets = computeOffsets({
                reference: referenceClientRect,
                element: popperRect,
                strategy: "absolute",
                placement
            });
            var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));
            var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect;
            var overflowOffsets = {
                top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
                bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
                left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
                right: elementClientRect.right - clippingClientRect.right + paddingObject.right
            };
            var offsetData = state.modifiersData.offset;
            if (elementContext === popper && offsetData) {
                var offset = offsetData[placement];
                Object.keys(overflowOffsets).forEach((function(key) {
                    var multiply = [ right, bottom ].indexOf(key) >= 0 ? 1 : -1;
                    var axis = [ enums_top, bottom ].indexOf(key) >= 0 ? "y" : "x";
                    overflowOffsets[key] += offset[axis] * multiply;
                }));
            }
            return overflowOffsets;
        }
        function computeAutoPlacement(state, options) {
            if (void 0 === options) options = {};
            var _options = options, placement = _options.placement, boundary = _options.boundary, rootBoundary = _options.rootBoundary, padding = _options.padding, flipVariations = _options.flipVariations, _options$allowedAutoP = _options.allowedAutoPlacements, allowedAutoPlacements = void 0 === _options$allowedAutoP ? enums_placements : _options$allowedAutoP;
            var variation = getVariation(placement);
            var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter((function(placement) {
                return getVariation(placement) === variation;
            })) : basePlacements;
            var allowedPlacements = placements.filter((function(placement) {
                return allowedAutoPlacements.indexOf(placement) >= 0;
            }));
            if (0 === allowedPlacements.length) {
                allowedPlacements = placements;
                if (false) ;
            }
            var overflows = allowedPlacements.reduce((function(acc, placement) {
                acc[placement] = detectOverflow(state, {
                    placement,
                    boundary,
                    rootBoundary,
                    padding
                })[getBasePlacement(placement)];
                return acc;
            }), {});
            return Object.keys(overflows).sort((function(a, b) {
                return overflows[a] - overflows[b];
            }));
        }
        function getExpandedFallbackPlacements(placement) {
            if (getBasePlacement(placement) === auto) return [];
            var oppositePlacement = getOppositePlacement(placement);
            return [ getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement) ];
        }
        function flip(_ref) {
            var state = _ref.state, options = _ref.options, name = _ref.name;
            if (state.modifiersData[name]._skip) return;
            var _options$mainAxis = options.mainAxis, checkMainAxis = void 0 === _options$mainAxis ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = void 0 === _options$altAxis ? true : _options$altAxis, specifiedFallbackPlacements = options.fallbackPlacements, padding = options.padding, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, _options$flipVariatio = options.flipVariations, flipVariations = void 0 === _options$flipVariatio ? true : _options$flipVariatio, allowedAutoPlacements = options.allowedAutoPlacements;
            var preferredPlacement = state.options.placement;
            var basePlacement = getBasePlacement(preferredPlacement);
            var isBasePlacement = basePlacement === preferredPlacement;
            var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [ getOppositePlacement(preferredPlacement) ] : getExpandedFallbackPlacements(preferredPlacement));
            var placements = [ preferredPlacement ].concat(fallbackPlacements).reduce((function(acc, placement) {
                return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {
                    placement,
                    boundary,
                    rootBoundary,
                    padding,
                    flipVariations,
                    allowedAutoPlacements
                }) : placement);
            }), []);
            var referenceRect = state.rects.reference;
            var popperRect = state.rects.popper;
            var checksMap = new Map;
            var makeFallbackChecks = true;
            var firstFittingPlacement = placements[0];
            for (var i = 0; i < placements.length; i++) {
                var placement = placements[i];
                var _basePlacement = getBasePlacement(placement);
                var isStartVariation = getVariation(placement) === start;
                var isVertical = [ enums_top, bottom ].indexOf(_basePlacement) >= 0;
                var len = isVertical ? "width" : "height";
                var overflow = detectOverflow(state, {
                    placement,
                    boundary,
                    rootBoundary,
                    altBoundary,
                    padding
                });
                var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : enums_top;
                if (referenceRect[len] > popperRect[len]) mainVariationSide = getOppositePlacement(mainVariationSide);
                var altVariationSide = getOppositePlacement(mainVariationSide);
                var checks = [];
                if (checkMainAxis) checks.push(overflow[_basePlacement] <= 0);
                if (checkAltAxis) checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);
                if (checks.every((function(check) {
                    return check;
                }))) {
                    firstFittingPlacement = placement;
                    makeFallbackChecks = false;
                    break;
                }
                checksMap.set(placement, checks);
            }
            if (makeFallbackChecks) {
                var numberOfChecks = flipVariations ? 3 : 1;
                var _loop = function _loop(_i) {
                    var fittingPlacement = placements.find((function(placement) {
                        var checks = checksMap.get(placement);
                        if (checks) return checks.slice(0, _i).every((function(check) {
                            return check;
                        }));
                    }));
                    if (fittingPlacement) {
                        firstFittingPlacement = fittingPlacement;
                        return "break";
                    }
                };
                for (var _i = numberOfChecks; _i > 0; _i--) {
                    var _ret = _loop(_i);
                    if ("break" === _ret) break;
                }
            }
            if (state.placement !== firstFittingPlacement) {
                state.modifiersData[name]._skip = true;
                state.placement = firstFittingPlacement;
                state.reset = true;
            }
        }
        const modifiers_flip = {
            name: "flip",
            enabled: true,
            phase: "main",
            fn: flip,
            requiresIfExists: [ "offset" ],
            data: {
                _skip: false
            }
        };
        function getAltAxis(axis) {
            return "x" === axis ? "y" : "x";
        }
        function within(min, value, max) {
            return math_max(min, math_min(value, max));
        }
        function withinMaxClamp(min, value, max) {
            var v = within(min, value, max);
            return v > max ? max : v;
        }
        function preventOverflow(_ref) {
            var state = _ref.state, options = _ref.options, name = _ref.name;
            var _options$mainAxis = options.mainAxis, checkMainAxis = void 0 === _options$mainAxis ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = void 0 === _options$altAxis ? false : _options$altAxis, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, padding = options.padding, _options$tether = options.tether, tether = void 0 === _options$tether ? true : _options$tether, _options$tetherOffset = options.tetherOffset, tetherOffset = void 0 === _options$tetherOffset ? 0 : _options$tetherOffset;
            var overflow = detectOverflow(state, {
                boundary,
                rootBoundary,
                padding,
                altBoundary
            });
            var basePlacement = getBasePlacement(state.placement);
            var variation = getVariation(state.placement);
            var isBasePlacement = !variation;
            var mainAxis = getMainAxisFromPlacement(basePlacement);
            var altAxis = getAltAxis(mainAxis);
            var popperOffsets = state.modifiersData.popperOffsets;
            var referenceRect = state.rects.reference;
            var popperRect = state.rects.popper;
            var tetherOffsetValue = "function" === typeof tetherOffset ? tetherOffset(Object.assign({}, state.rects, {
                placement: state.placement
            })) : tetherOffset;
            var normalizedTetherOffsetValue = "number" === typeof tetherOffsetValue ? {
                mainAxis: tetherOffsetValue,
                altAxis: tetherOffsetValue
            } : Object.assign({
                mainAxis: 0,
                altAxis: 0
            }, tetherOffsetValue);
            var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;
            var data = {
                x: 0,
                y: 0
            };
            if (!popperOffsets) return;
            if (checkMainAxis) {
                var _offsetModifierState$;
                var mainSide = "y" === mainAxis ? enums_top : left;
                var altSide = "y" === mainAxis ? bottom : right;
                var len = "y" === mainAxis ? "height" : "width";
                var offset = popperOffsets[mainAxis];
                var min = offset + overflow[mainSide];
                var max = offset - overflow[altSide];
                var additive = tether ? -popperRect[len] / 2 : 0;
                var minLen = variation === start ? referenceRect[len] : popperRect[len];
                var maxLen = variation === start ? -popperRect[len] : -referenceRect[len];
                var arrowElement = state.elements.arrow;
                var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {
                    width: 0,
                    height: 0
                };
                var arrowPaddingObject = state.modifiersData["arrow#persistent"] ? state.modifiersData["arrow#persistent"].padding : getFreshSideObject();
                var arrowPaddingMin = arrowPaddingObject[mainSide];
                var arrowPaddingMax = arrowPaddingObject[altSide];
                var arrowLen = within(0, referenceRect[len], arrowRect[len]);
                var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;
                var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;
                var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);
                var clientOffset = arrowOffsetParent ? "y" === mainAxis ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;
                var offsetModifierValue = null != (_offsetModifierState$ = null == offsetModifierState ? void 0 : offsetModifierState[mainAxis]) ? _offsetModifierState$ : 0;
                var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;
                var tetherMax = offset + maxOffset - offsetModifierValue;
                var preventedOffset = within(tether ? math_min(min, tetherMin) : min, offset, tether ? math_max(max, tetherMax) : max);
                popperOffsets[mainAxis] = preventedOffset;
                data[mainAxis] = preventedOffset - offset;
            }
            if (checkAltAxis) {
                var _offsetModifierState$2;
                var _mainSide = "x" === mainAxis ? enums_top : left;
                var _altSide = "x" === mainAxis ? bottom : right;
                var _offset = popperOffsets[altAxis];
                var _len = "y" === altAxis ? "height" : "width";
                var _min = _offset + overflow[_mainSide];
                var _max = _offset - overflow[_altSide];
                var isOriginSide = -1 !== [ enums_top, left ].indexOf(basePlacement);
                var _offsetModifierValue = null != (_offsetModifierState$2 = null == offsetModifierState ? void 0 : offsetModifierState[altAxis]) ? _offsetModifierState$2 : 0;
                var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;
                var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;
                var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);
                popperOffsets[altAxis] = _preventedOffset;
                data[altAxis] = _preventedOffset - _offset;
            }
            state.modifiersData[name] = data;
        }
        const modifiers_preventOverflow = {
            name: "preventOverflow",
            enabled: true,
            phase: "main",
            fn: preventOverflow,
            requiresIfExists: [ "offset" ]
        };
        var toPaddingObject = function toPaddingObject(padding, state) {
            padding = "function" === typeof padding ? padding(Object.assign({}, state.rects, {
                placement: state.placement
            })) : padding;
            return mergePaddingObject("number" !== typeof padding ? padding : expandToHashMap(padding, basePlacements));
        };
        function arrow(_ref) {
            var _state$modifiersData$;
            var state = _ref.state, name = _ref.name, options = _ref.options;
            var arrowElement = state.elements.arrow;
            var popperOffsets = state.modifiersData.popperOffsets;
            var basePlacement = getBasePlacement(state.placement);
            var axis = getMainAxisFromPlacement(basePlacement);
            var isVertical = [ left, right ].indexOf(basePlacement) >= 0;
            var len = isVertical ? "height" : "width";
            if (!arrowElement || !popperOffsets) return;
            var paddingObject = toPaddingObject(options.padding, state);
            var arrowRect = getLayoutRect(arrowElement);
            var minProp = "y" === axis ? enums_top : left;
            var maxProp = "y" === axis ? bottom : right;
            var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];
            var startDiff = popperOffsets[axis] - state.rects.reference[axis];
            var arrowOffsetParent = getOffsetParent(arrowElement);
            var clientSize = arrowOffsetParent ? "y" === axis ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
            var centerToReference = endDiff / 2 - startDiff / 2;
            var min = paddingObject[minProp];
            var max = clientSize - arrowRect[len] - paddingObject[maxProp];
            var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;
            var offset = within(min, center, max);
            var axisProp = axis;
            state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, 
            _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);
        }
        function arrow_effect(_ref2) {
            var state = _ref2.state, options = _ref2.options;
            var _options$element = options.element, arrowElement = void 0 === _options$element ? "[data-popper-arrow]" : _options$element;
            if (null == arrowElement) return;
            if ("string" === typeof arrowElement) {
                arrowElement = state.elements.popper.querySelector(arrowElement);
                if (!arrowElement) return;
            }
            if (false) ;
            if (!contains_contains(state.elements.popper, arrowElement)) {
                if (false) ;
                return;
            }
            state.elements.arrow = arrowElement;
        }
        const modifiers_arrow = {
            name: "arrow",
            enabled: true,
            phase: "main",
            fn: arrow,
            effect: arrow_effect,
            requires: [ "popperOffsets" ],
            requiresIfExists: [ "preventOverflow" ]
        };
        function getSideOffsets(overflow, rect, preventedOffsets) {
            if (void 0 === preventedOffsets) preventedOffsets = {
                x: 0,
                y: 0
            };
            return {
                top: overflow.top - rect.height - preventedOffsets.y,
                right: overflow.right - rect.width + preventedOffsets.x,
                bottom: overflow.bottom - rect.height + preventedOffsets.y,
                left: overflow.left - rect.width - preventedOffsets.x
            };
        }
        function isAnySideFullyClipped(overflow) {
            return [ enums_top, right, bottom, left ].some((function(side) {
                return overflow[side] >= 0;
            }));
        }
        function hide(_ref) {
            var state = _ref.state, name = _ref.name;
            var referenceRect = state.rects.reference;
            var popperRect = state.rects.popper;
            var preventedOffsets = state.modifiersData.preventOverflow;
            var referenceOverflow = detectOverflow(state, {
                elementContext: "reference"
            });
            var popperAltOverflow = detectOverflow(state, {
                altBoundary: true
            });
            var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);
            var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);
            var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);
            var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);
            state.modifiersData[name] = {
                referenceClippingOffsets,
                popperEscapeOffsets,
                isReferenceHidden,
                hasPopperEscaped
            };
            state.attributes.popper = Object.assign({}, state.attributes.popper, {
                "data-popper-reference-hidden": isReferenceHidden,
                "data-popper-escaped": hasPopperEscaped
            });
        }
        const modifiers_hide = {
            name: "hide",
            enabled: true,
            phase: "main",
            requiresIfExists: [ "preventOverflow" ],
            fn: hide
        };
        var defaultModifiers = [ eventListeners, modifiers_popperOffsets, modifiers_computeStyles, modifiers_applyStyles, modifiers_offset, modifiers_flip, modifiers_preventOverflow, modifiers_arrow, modifiers_hide ];
        var popper_createPopper = popperGenerator({
            defaultModifiers
        });
        var BOX_CLASS = "tippy-box";
        var CONTENT_CLASS = "tippy-content";
        var BACKDROP_CLASS = "tippy-backdrop";
        var ARROW_CLASS = "tippy-arrow";
        var SVG_ARROW_CLASS = "tippy-svg-arrow";
        var TOUCH_OPTIONS = {
            passive: true,
            capture: true
        };
        var TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {
            return document.body;
        };
        function getValueAtIndexOrReturn(value, index, defaultValue) {
            if (Array.isArray(value)) {
                var v = value[index];
                return null == v ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;
            }
            return value;
        }
        function isType(value, type) {
            var str = {}.toString.call(value);
            return 0 === str.indexOf("[object") && str.indexOf(type + "]") > -1;
        }
        function invokeWithArgsOrReturn(value, args) {
            return "function" === typeof value ? value.apply(void 0, args) : value;
        }
        function tippy_esm_debounce(fn, ms) {
            if (0 === ms) return fn;
            var timeout;
            return function(arg) {
                clearTimeout(timeout);
                timeout = setTimeout((function() {
                    fn(arg);
                }), ms);
            };
        }
        function splitBySpaces(value) {
            return value.split(/\s+/).filter(Boolean);
        }
        function normalizeToArray(value) {
            return [].concat(value);
        }
        function pushIfUnique(arr, value) {
            if (-1 === arr.indexOf(value)) arr.push(value);
        }
        function unique(arr) {
            return arr.filter((function(item, index) {
                return arr.indexOf(item) === index;
            }));
        }
        function tippy_esm_getBasePlacement(placement) {
            return placement.split("-")[0];
        }
        function arrayFrom(value) {
            return [].slice.call(value);
        }
        function removeUndefinedProps(obj) {
            return Object.keys(obj).reduce((function(acc, key) {
                if (void 0 !== obj[key]) acc[key] = obj[key];
                return acc;
            }), {});
        }
        function div() {
            return document.createElement("div");
        }
        function tippy_esm_isElement(value) {
            return [ "Element", "Fragment" ].some((function(type) {
                return isType(value, type);
            }));
        }
        function isNodeList(value) {
            return isType(value, "NodeList");
        }
        function isMouseEvent(value) {
            return isType(value, "MouseEvent");
        }
        function isReferenceElement(value) {
            return !!(value && value._tippy && value._tippy.reference === value);
        }
        function getArrayOfElements(value) {
            if (tippy_esm_isElement(value)) return [ value ];
            if (isNodeList(value)) return arrayFrom(value);
            if (Array.isArray(value)) return value;
            return arrayFrom(document.querySelectorAll(value));
        }
        function setTransitionDuration(els, value) {
            els.forEach((function(el) {
                if (el) el.style.transitionDuration = value + "ms";
            }));
        }
        function setVisibilityState(els, state) {
            els.forEach((function(el) {
                if (el) el.setAttribute("data-state", state);
            }));
        }
        function getOwnerDocument(elementOrElements) {
            var _element$ownerDocumen;
            var _normalizeToArray = normalizeToArray(elementOrElements), element = _normalizeToArray[0];
            return null != element && null != (_element$ownerDocumen = element.ownerDocument) && _element$ownerDocumen.body ? element.ownerDocument : document;
        }
        function isCursorOutsideInteractiveBorder(popperTreeData, event) {
            var clientX = event.clientX, clientY = event.clientY;
            return popperTreeData.every((function(_ref) {
                var popperRect = _ref.popperRect, popperState = _ref.popperState, props = _ref.props;
                var interactiveBorder = props.interactiveBorder;
                var basePlacement = tippy_esm_getBasePlacement(popperState.placement);
                var offsetData = popperState.modifiersData.offset;
                if (!offsetData) return true;
                var topDistance = "bottom" === basePlacement ? offsetData.top.y : 0;
                var bottomDistance = "top" === basePlacement ? offsetData.bottom.y : 0;
                var leftDistance = "right" === basePlacement ? offsetData.left.x : 0;
                var rightDistance = "left" === basePlacement ? offsetData.right.x : 0;
                var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;
                var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;
                var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;
                var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;
                return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;
            }));
        }
        function updateTransitionEndListener(box, action, listener) {
            var method = action + "EventListener";
            [ "transitionend", "webkitTransitionEnd" ].forEach((function(event) {
                box[method](event, listener);
            }));
        }
        function actualContains(parent, child) {
            var target = child;
            while (target) {
                var _target$getRootNode;
                if (parent.contains(target)) return true;
                target = null == target.getRootNode ? void 0 : null == (_target$getRootNode = target.getRootNode()) ? void 0 : _target$getRootNode.host;
            }
            return false;
        }
        var currentInput = {
            isTouch: false
        };
        var lastMouseMoveTime = 0;
        function onDocumentTouchStart() {
            if (currentInput.isTouch) return;
            currentInput.isTouch = true;
            if (window.performance) document.addEventListener("mousemove", onDocumentMouseMove);
        }
        function onDocumentMouseMove() {
            var now = performance.now();
            if (now - lastMouseMoveTime < 20) {
                currentInput.isTouch = false;
                document.removeEventListener("mousemove", onDocumentMouseMove);
            }
            lastMouseMoveTime = now;
        }
        function onWindowBlur() {
            var activeElement = document.activeElement;
            if (isReferenceElement(activeElement)) {
                var instance = activeElement._tippy;
                if (activeElement.blur && !instance.state.isVisible) activeElement.blur();
            }
        }
        function bindGlobalEventListeners() {
            document.addEventListener("touchstart", onDocumentTouchStart, TOUCH_OPTIONS);
            window.addEventListener("blur", onWindowBlur);
        }
        var isBrowser = "undefined" !== typeof window && "undefined" !== typeof document;
        var isIE11 = isBrowser ? !!window.msCrypto : false;
        if (false) ;
        var pluginProps = {
            animateFill: false,
            followCursor: false,
            inlinePositioning: false,
            sticky: false
        };
        var renderProps = {
            allowHTML: false,
            animation: "fade",
            arrow: true,
            content: "",
            inertia: false,
            maxWidth: 350,
            role: "tooltip",
            theme: "",
            zIndex: 9999
        };
        var defaultProps = Object.assign({
            appendTo: TIPPY_DEFAULT_APPEND_TO,
            aria: {
                content: "auto",
                expanded: "auto"
            },
            delay: 0,
            duration: [ 300, 250 ],
            getReferenceClientRect: null,
            hideOnClick: true,
            ignoreAttributes: false,
            interactive: false,
            interactiveBorder: 2,
            interactiveDebounce: 0,
            moveTransition: "",
            offset: [ 0, 10 ],
            onAfterUpdate: function onAfterUpdate() {},
            onBeforeUpdate: function onBeforeUpdate() {},
            onCreate: function onCreate() {},
            onDestroy: function onDestroy() {},
            onHidden: function onHidden() {},
            onHide: function onHide() {},
            onMount: function onMount() {},
            onShow: function onShow() {},
            onShown: function onShown() {},
            onTrigger: function onTrigger() {},
            onUntrigger: function onUntrigger() {},
            onClickOutside: function onClickOutside() {},
            placement: "top",
            plugins: [],
            popperOptions: {},
            render: null,
            showOnCreate: false,
            touch: true,
            trigger: "mouseenter focus",
            triggerTarget: null
        }, pluginProps, renderProps);
        var defaultKeys = Object.keys(defaultProps);
        var setDefaultProps = function setDefaultProps(partialProps) {
            if (false) ;
            var keys = Object.keys(partialProps);
            keys.forEach((function(key) {
                defaultProps[key] = partialProps[key];
            }));
        };
        function getExtendedPassedProps(passedProps) {
            var plugins = passedProps.plugins || [];
            var pluginProps = plugins.reduce((function(acc, plugin) {
                var name = plugin.name, defaultValue = plugin.defaultValue;
                if (name) {
                    var _name;
                    acc[name] = void 0 !== passedProps[name] ? passedProps[name] : null != (_name = defaultProps[name]) ? _name : defaultValue;
                }
                return acc;
            }), {});
            return Object.assign({}, passedProps, pluginProps);
        }
        function getDataAttributeProps(reference, plugins) {
            var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {
                plugins
            }))) : defaultKeys;
            var props = propKeys.reduce((function(acc, key) {
                var valueAsString = (reference.getAttribute("data-tippy-" + key) || "").trim();
                if (!valueAsString) return acc;
                if ("content" === key) acc[key] = valueAsString; else try {
                    acc[key] = JSON.parse(valueAsString);
                } catch (e) {
                    acc[key] = valueAsString;
                }
                return acc;
            }), {});
            return props;
        }
        function evaluateProps(reference, props) {
            var out = Object.assign({}, props, {
                content: invokeWithArgsOrReturn(props.content, [ reference ])
            }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));
            out.aria = Object.assign({}, defaultProps.aria, out.aria);
            out.aria = {
                expanded: "auto" === out.aria.expanded ? props.interactive : out.aria.expanded,
                content: "auto" === out.aria.content ? props.interactive ? null : "describedby" : out.aria.content
            };
            return out;
        }
        var innerHTML = function innerHTML() {
            return "innerHTML";
        };
        function dangerouslySetInnerHTML(element, html) {
            element[innerHTML()] = html;
        }
        function createArrowElement(value) {
            var arrow = div();
            if (true === value) arrow.className = ARROW_CLASS; else {
                arrow.className = SVG_ARROW_CLASS;
                if (tippy_esm_isElement(value)) arrow.appendChild(value); else dangerouslySetInnerHTML(arrow, value);
            }
            return arrow;
        }
        function setContent(content, props) {
            if (tippy_esm_isElement(props.content)) {
                dangerouslySetInnerHTML(content, "");
                content.appendChild(props.content);
            } else if ("function" !== typeof props.content) if (props.allowHTML) dangerouslySetInnerHTML(content, props.content); else content.textContent = props.content;
        }
        function getChildren(popper) {
            var box = popper.firstElementChild;
            var boxChildren = arrayFrom(box.children);
            return {
                box,
                content: boxChildren.find((function(node) {
                    return node.classList.contains(CONTENT_CLASS);
                })),
                arrow: boxChildren.find((function(node) {
                    return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);
                })),
                backdrop: boxChildren.find((function(node) {
                    return node.classList.contains(BACKDROP_CLASS);
                }))
            };
        }
        function render(instance) {
            var popper = div();
            var box = div();
            box.className = BOX_CLASS;
            box.setAttribute("data-state", "hidden");
            box.setAttribute("tabindex", "-1");
            var content = div();
            content.className = CONTENT_CLASS;
            content.setAttribute("data-state", "hidden");
            setContent(content, instance.props);
            popper.appendChild(box);
            box.appendChild(content);
            onUpdate(instance.props, instance.props);
            function onUpdate(prevProps, nextProps) {
                var _getChildren = getChildren(popper), box = _getChildren.box, content = _getChildren.content, arrow = _getChildren.arrow;
                if (nextProps.theme) box.setAttribute("data-theme", nextProps.theme); else box.removeAttribute("data-theme");
                if ("string" === typeof nextProps.animation) box.setAttribute("data-animation", nextProps.animation); else box.removeAttribute("data-animation");
                if (nextProps.inertia) box.setAttribute("data-inertia", ""); else box.removeAttribute("data-inertia");
                box.style.maxWidth = "number" === typeof nextProps.maxWidth ? nextProps.maxWidth + "px" : nextProps.maxWidth;
                if (nextProps.role) box.setAttribute("role", nextProps.role); else box.removeAttribute("role");
                if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) setContent(content, instance.props);
                if (nextProps.arrow) {
                    if (!arrow) box.appendChild(createArrowElement(nextProps.arrow)); else if (prevProps.arrow !== nextProps.arrow) {
                        box.removeChild(arrow);
                        box.appendChild(createArrowElement(nextProps.arrow));
                    }
                } else if (arrow) box.removeChild(arrow);
            }
            return {
                popper,
                onUpdate
            };
        }
        render.$$tippy = true;
        var idCounter = 1;
        var mouseMoveListeners = [];
        var mountedInstances = [];
        function createTippy(reference, passedProps) {
            var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps))));
            var showTimeout;
            var hideTimeout;
            var scheduleHideAnimationFrame;
            var isVisibleFromClick = false;
            var didHideDueToDocumentMouseDown = false;
            var didTouchMove = false;
            var ignoreOnFirstUpdate = false;
            var lastTriggerEvent;
            var currentTransitionEndListener;
            var onFirstUpdate;
            var listeners = [];
            var debouncedOnMouseMove = tippy_esm_debounce(onMouseMove, props.interactiveDebounce);
            var currentTarget;
            var id = idCounter++;
            var popperInstance = null;
            var plugins = unique(props.plugins);
            var state = {
                isEnabled: true,
                isVisible: false,
                isDestroyed: false,
                isMounted: false,
                isShown: false
            };
            var instance = {
                id,
                reference,
                popper: div(),
                popperInstance,
                props,
                state,
                plugins,
                clearDelayTimeouts,
                setProps,
                setContent,
                show,
                hide,
                hideWithInteractivity,
                enable,
                disable,
                unmount,
                destroy
            };
            if (!props.render) {
                if (false) ;
                return instance;
            }
            var _props$render = props.render(instance), popper = _props$render.popper, onUpdate = _props$render.onUpdate;
            popper.setAttribute("data-tippy-root", "");
            popper.id = "tippy-" + instance.id;
            instance.popper = popper;
            reference._tippy = instance;
            popper._tippy = instance;
            var pluginsHooks = plugins.map((function(plugin) {
                return plugin.fn(instance);
            }));
            var hasAriaExpanded = reference.hasAttribute("aria-expanded");
            addListeners();
            handleAriaExpandedAttribute();
            handleStyles();
            invokeHook("onCreate", [ instance ]);
            if (props.showOnCreate) scheduleShow();
            popper.addEventListener("mouseenter", (function() {
                if (instance.props.interactive && instance.state.isVisible) instance.clearDelayTimeouts();
            }));
            popper.addEventListener("mouseleave", (function() {
                if (instance.props.interactive && instance.props.trigger.indexOf("mouseenter") >= 0) getDocument().addEventListener("mousemove", debouncedOnMouseMove);
            }));
            return instance;
            function getNormalizedTouchSettings() {
                var touch = instance.props.touch;
                return Array.isArray(touch) ? touch : [ touch, 0 ];
            }
            function getIsCustomTouchBehavior() {
                return "hold" === getNormalizedTouchSettings()[0];
            }
            function getIsDefaultRenderFn() {
                var _instance$props$rende;
                return !!(null != (_instance$props$rende = instance.props.render) && _instance$props$rende.$$tippy);
            }
            function getCurrentTarget() {
                return currentTarget || reference;
            }
            function getDocument() {
                var parent = getCurrentTarget().parentNode;
                return parent ? getOwnerDocument(parent) : document;
            }
            function getDefaultTemplateChildren() {
                return getChildren(popper);
            }
            function getDelay(isShow) {
                if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && "focus" === lastTriggerEvent.type) return 0;
                return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);
            }
            function handleStyles(fromHide) {
                if (void 0 === fromHide) fromHide = false;
                popper.style.pointerEvents = instance.props.interactive && !fromHide ? "" : "none";
                popper.style.zIndex = "" + instance.props.zIndex;
            }
            function invokeHook(hook, args, shouldInvokePropsHook) {
                if (void 0 === shouldInvokePropsHook) shouldInvokePropsHook = true;
                pluginsHooks.forEach((function(pluginHooks) {
                    if (pluginHooks[hook]) pluginHooks[hook].apply(pluginHooks, args);
                }));
                if (shouldInvokePropsHook) {
                    var _instance$props;
                    (_instance$props = instance.props)[hook].apply(_instance$props, args);
                }
            }
            function handleAriaContentAttribute() {
                var aria = instance.props.aria;
                if (!aria.content) return;
                var attr = "aria-" + aria.content;
                var id = popper.id;
                var nodes = normalizeToArray(instance.props.triggerTarget || reference);
                nodes.forEach((function(node) {
                    var currentValue = node.getAttribute(attr);
                    if (instance.state.isVisible) node.setAttribute(attr, currentValue ? currentValue + " " + id : id); else {
                        var nextValue = currentValue && currentValue.replace(id, "").trim();
                        if (nextValue) node.setAttribute(attr, nextValue); else node.removeAttribute(attr);
                    }
                }));
            }
            function handleAriaExpandedAttribute() {
                if (hasAriaExpanded || !instance.props.aria.expanded) return;
                var nodes = normalizeToArray(instance.props.triggerTarget || reference);
                nodes.forEach((function(node) {
                    if (instance.props.interactive) node.setAttribute("aria-expanded", instance.state.isVisible && node === getCurrentTarget() ? "true" : "false"); else node.removeAttribute("aria-expanded");
                }));
            }
            function cleanupInteractiveMouseListeners() {
                getDocument().removeEventListener("mousemove", debouncedOnMouseMove);
                mouseMoveListeners = mouseMoveListeners.filter((function(listener) {
                    return listener !== debouncedOnMouseMove;
                }));
            }
            function onDocumentPress(event) {
                if (currentInput.isTouch) if (didTouchMove || "mousedown" === event.type) return;
                var actualTarget = event.composedPath && event.composedPath()[0] || event.target;
                if (instance.props.interactive && actualContains(popper, actualTarget)) return;
                if (normalizeToArray(instance.props.triggerTarget || reference).some((function(el) {
                    return actualContains(el, actualTarget);
                }))) {
                    if (currentInput.isTouch) return;
                    if (instance.state.isVisible && instance.props.trigger.indexOf("click") >= 0) return;
                } else invokeHook("onClickOutside", [ instance, event ]);
                if (true === instance.props.hideOnClick) {
                    instance.clearDelayTimeouts();
                    instance.hide();
                    didHideDueToDocumentMouseDown = true;
                    setTimeout((function() {
                        didHideDueToDocumentMouseDown = false;
                    }));
                    if (!instance.state.isMounted) removeDocumentPress();
                }
            }
            function onTouchMove() {
                didTouchMove = true;
            }
            function onTouchStart() {
                didTouchMove = false;
            }
            function addDocumentPress() {
                var doc = getDocument();
                doc.addEventListener("mousedown", onDocumentPress, true);
                doc.addEventListener("touchend", onDocumentPress, TOUCH_OPTIONS);
                doc.addEventListener("touchstart", onTouchStart, TOUCH_OPTIONS);
                doc.addEventListener("touchmove", onTouchMove, TOUCH_OPTIONS);
            }
            function removeDocumentPress() {
                var doc = getDocument();
                doc.removeEventListener("mousedown", onDocumentPress, true);
                doc.removeEventListener("touchend", onDocumentPress, TOUCH_OPTIONS);
                doc.removeEventListener("touchstart", onTouchStart, TOUCH_OPTIONS);
                doc.removeEventListener("touchmove", onTouchMove, TOUCH_OPTIONS);
            }
            function onTransitionedOut(duration, callback) {
                onTransitionEnd(duration, (function() {
                    if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) callback();
                }));
            }
            function onTransitionedIn(duration, callback) {
                onTransitionEnd(duration, callback);
            }
            function onTransitionEnd(duration, callback) {
                var box = getDefaultTemplateChildren().box;
                function listener(event) {
                    if (event.target === box) {
                        updateTransitionEndListener(box, "remove", listener);
                        callback();
                    }
                }
                if (0 === duration) return callback();
                updateTransitionEndListener(box, "remove", currentTransitionEndListener);
                updateTransitionEndListener(box, "add", listener);
                currentTransitionEndListener = listener;
            }
            function on(eventType, handler, options) {
                if (void 0 === options) options = false;
                var nodes = normalizeToArray(instance.props.triggerTarget || reference);
                nodes.forEach((function(node) {
                    node.addEventListener(eventType, handler, options);
                    listeners.push({
                        node,
                        eventType,
                        handler,
                        options
                    });
                }));
            }
            function addListeners() {
                if (getIsCustomTouchBehavior()) {
                    on("touchstart", onTrigger, {
                        passive: true
                    });
                    on("touchend", onMouseLeave, {
                        passive: true
                    });
                }
                splitBySpaces(instance.props.trigger).forEach((function(eventType) {
                    if ("manual" === eventType) return;
                    on(eventType, onTrigger);
                    switch (eventType) {
                      case "mouseenter":
                        on("mouseleave", onMouseLeave);
                        break;

                      case "focus":
                        on(isIE11 ? "focusout" : "blur", onBlurOrFocusOut);
                        break;

                      case "focusin":
                        on("focusout", onBlurOrFocusOut);
                        break;
                    }
                }));
            }
            function removeListeners() {
                listeners.forEach((function(_ref) {
                    var node = _ref.node, eventType = _ref.eventType, handler = _ref.handler, options = _ref.options;
                    node.removeEventListener(eventType, handler, options);
                }));
                listeners = [];
            }
            function onTrigger(event) {
                var _lastTriggerEvent;
                var shouldScheduleClickHide = false;
                if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) return;
                var wasFocused = "focus" === (null == (_lastTriggerEvent = lastTriggerEvent) ? void 0 : _lastTriggerEvent.type);
                lastTriggerEvent = event;
                currentTarget = event.currentTarget;
                handleAriaExpandedAttribute();
                if (!instance.state.isVisible && isMouseEvent(event)) mouseMoveListeners.forEach((function(listener) {
                    return listener(event);
                }));
                if ("click" === event.type && (instance.props.trigger.indexOf("mouseenter") < 0 || isVisibleFromClick) && false !== instance.props.hideOnClick && instance.state.isVisible) shouldScheduleClickHide = true; else scheduleShow(event);
                if ("click" === event.type) isVisibleFromClick = !shouldScheduleClickHide;
                if (shouldScheduleClickHide && !wasFocused) scheduleHide(event);
            }
            function onMouseMove(event) {
                var target = event.target;
                var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);
                if ("mousemove" === event.type && isCursorOverReferenceOrPopper) return;
                var popperTreeData = getNestedPopperTree().concat(popper).map((function(popper) {
                    var _instance$popperInsta;
                    var instance = popper._tippy;
                    var state = null == (_instance$popperInsta = instance.popperInstance) ? void 0 : _instance$popperInsta.state;
                    if (state) return {
                        popperRect: popper.getBoundingClientRect(),
                        popperState: state,
                        props
                    };
                    return null;
                })).filter(Boolean);
                if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {
                    cleanupInteractiveMouseListeners();
                    scheduleHide(event);
                }
            }
            function onMouseLeave(event) {
                var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf("click") >= 0 && isVisibleFromClick;
                if (shouldBail) return;
                if (instance.props.interactive) {
                    instance.hideWithInteractivity(event);
                    return;
                }
                scheduleHide(event);
            }
            function onBlurOrFocusOut(event) {
                if (instance.props.trigger.indexOf("focusin") < 0 && event.target !== getCurrentTarget()) return;
                if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) return;
                scheduleHide(event);
            }
            function isEventListenerStopped(event) {
                return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf("touch") >= 0 : false;
            }
            function createPopperInstance() {
                destroyPopperInstance();
                var _instance$props2 = instance.props, popperOptions = _instance$props2.popperOptions, placement = _instance$props2.placement, offset = _instance$props2.offset, getReferenceClientRect = _instance$props2.getReferenceClientRect, moveTransition = _instance$props2.moveTransition;
                var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;
                var computedReference = getReferenceClientRect ? {
                    getBoundingClientRect: getReferenceClientRect,
                    contextElement: getReferenceClientRect.contextElement || getCurrentTarget()
                } : reference;
                var tippyModifier = {
                    name: "$$tippy",
                    enabled: true,
                    phase: "beforeWrite",
                    requires: [ "computeStyles" ],
                    fn: function fn(_ref2) {
                        var state = _ref2.state;
                        if (getIsDefaultRenderFn()) {
                            var _getDefaultTemplateCh = getDefaultTemplateChildren(), box = _getDefaultTemplateCh.box;
                            [ "placement", "reference-hidden", "escaped" ].forEach((function(attr) {
                                if ("placement" === attr) box.setAttribute("data-placement", state.placement); else if (state.attributes.popper["data-popper-" + attr]) box.setAttribute("data-" + attr, ""); else box.removeAttribute("data-" + attr);
                            }));
                            state.attributes.popper = {};
                        }
                    }
                };
                var modifiers = [ {
                    name: "offset",
                    options: {
                        offset
                    }
                }, {
                    name: "preventOverflow",
                    options: {
                        padding: {
                            top: 2,
                            bottom: 2,
                            left: 5,
                            right: 5
                        }
                    }
                }, {
                    name: "flip",
                    options: {
                        padding: 5
                    }
                }, {
                    name: "computeStyles",
                    options: {
                        adaptive: !moveTransition
                    }
                }, tippyModifier ];
                if (getIsDefaultRenderFn() && arrow) modifiers.push({
                    name: "arrow",
                    options: {
                        element: arrow,
                        padding: 3
                    }
                });
                modifiers.push.apply(modifiers, (null == popperOptions ? void 0 : popperOptions.modifiers) || []);
                instance.popperInstance = popper_createPopper(computedReference, popper, Object.assign({}, popperOptions, {
                    placement,
                    onFirstUpdate,
                    modifiers
                }));
            }
            function destroyPopperInstance() {
                if (instance.popperInstance) {
                    instance.popperInstance.destroy();
                    instance.popperInstance = null;
                }
            }
            function mount() {
                var appendTo = instance.props.appendTo;
                var parentNode;
                var node = getCurrentTarget();
                if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || "parent" === appendTo) parentNode = node.parentNode; else parentNode = invokeWithArgsOrReturn(appendTo, [ node ]);
                if (!parentNode.contains(popper)) parentNode.appendChild(popper);
                instance.state.isMounted = true;
                createPopperInstance();
                if (false) ;
            }
            function getNestedPopperTree() {
                return arrayFrom(popper.querySelectorAll("[data-tippy-root]"));
            }
            function scheduleShow(event) {
                instance.clearDelayTimeouts();
                if (event) invokeHook("onTrigger", [ instance, event ]);
                addDocumentPress();
                var delay = getDelay(true);
                var _getNormalizedTouchSe = getNormalizedTouchSettings(), touchValue = _getNormalizedTouchSe[0], touchDelay = _getNormalizedTouchSe[1];
                if (currentInput.isTouch && "hold" === touchValue && touchDelay) delay = touchDelay;
                if (delay) showTimeout = setTimeout((function() {
                    instance.show();
                }), delay); else instance.show();
            }
            function scheduleHide(event) {
                instance.clearDelayTimeouts();
                invokeHook("onUntrigger", [ instance, event ]);
                if (!instance.state.isVisible) {
                    removeDocumentPress();
                    return;
                }
                if (instance.props.trigger.indexOf("mouseenter") >= 0 && instance.props.trigger.indexOf("click") >= 0 && [ "mouseleave", "mousemove" ].indexOf(event.type) >= 0 && isVisibleFromClick) return;
                var delay = getDelay(false);
                if (delay) hideTimeout = setTimeout((function() {
                    if (instance.state.isVisible) instance.hide();
                }), delay); else scheduleHideAnimationFrame = requestAnimationFrame((function() {
                    instance.hide();
                }));
            }
            function enable() {
                instance.state.isEnabled = true;
            }
            function disable() {
                instance.hide();
                instance.state.isEnabled = false;
            }
            function clearDelayTimeouts() {
                clearTimeout(showTimeout);
                clearTimeout(hideTimeout);
                cancelAnimationFrame(scheduleHideAnimationFrame);
            }
            function setProps(partialProps) {
                if (false) ;
                if (instance.state.isDestroyed) return;
                invokeHook("onBeforeUpdate", [ instance, partialProps ]);
                removeListeners();
                var prevProps = instance.props;
                var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {
                    ignoreAttributes: true
                }));
                instance.props = nextProps;
                addListeners();
                if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {
                    cleanupInteractiveMouseListeners();
                    debouncedOnMouseMove = tippy_esm_debounce(onMouseMove, nextProps.interactiveDebounce);
                }
                if (prevProps.triggerTarget && !nextProps.triggerTarget) normalizeToArray(prevProps.triggerTarget).forEach((function(node) {
                    node.removeAttribute("aria-expanded");
                })); else if (nextProps.triggerTarget) reference.removeAttribute("aria-expanded");
                handleAriaExpandedAttribute();
                handleStyles();
                if (onUpdate) onUpdate(prevProps, nextProps);
                if (instance.popperInstance) {
                    createPopperInstance();
                    getNestedPopperTree().forEach((function(nestedPopper) {
                        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);
                    }));
                }
                invokeHook("onAfterUpdate", [ instance, partialProps ]);
            }
            function setContent(content) {
                instance.setProps({
                    content
                });
            }
            function show() {
                if (false) ;
                var isAlreadyVisible = instance.state.isVisible;
                var isDestroyed = instance.state.isDestroyed;
                var isDisabled = !instance.state.isEnabled;
                var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;
                var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);
                if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) return;
                if (getCurrentTarget().hasAttribute("disabled")) return;
                invokeHook("onShow", [ instance ], false);
                if (false === instance.props.onShow(instance)) return;
                instance.state.isVisible = true;
                if (getIsDefaultRenderFn()) popper.style.visibility = "visible";
                handleStyles();
                addDocumentPress();
                if (!instance.state.isMounted) popper.style.transition = "none";
                if (getIsDefaultRenderFn()) {
                    var _getDefaultTemplateCh2 = getDefaultTemplateChildren(), box = _getDefaultTemplateCh2.box, content = _getDefaultTemplateCh2.content;
                    setTransitionDuration([ box, content ], 0);
                }
                onFirstUpdate = function onFirstUpdate() {
                    var _instance$popperInsta2;
                    if (!instance.state.isVisible || ignoreOnFirstUpdate) return;
                    ignoreOnFirstUpdate = true;
                    void popper.offsetHeight;
                    popper.style.transition = instance.props.moveTransition;
                    if (getIsDefaultRenderFn() && instance.props.animation) {
                        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(), _box = _getDefaultTemplateCh3.box, _content = _getDefaultTemplateCh3.content;
                        setTransitionDuration([ _box, _content ], duration);
                        setVisibilityState([ _box, _content ], "visible");
                    }
                    handleAriaContentAttribute();
                    handleAriaExpandedAttribute();
                    pushIfUnique(mountedInstances, instance);
                    null == (_instance$popperInsta2 = instance.popperInstance) ? void 0 : _instance$popperInsta2.forceUpdate();
                    invokeHook("onMount", [ instance ]);
                    if (instance.props.animation && getIsDefaultRenderFn()) onTransitionedIn(duration, (function() {
                        instance.state.isShown = true;
                        invokeHook("onShown", [ instance ]);
                    }));
                };
                mount();
            }
            function hide() {
                if (false) ;
                var isAlreadyHidden = !instance.state.isVisible;
                var isDestroyed = instance.state.isDestroyed;
                var isDisabled = !instance.state.isEnabled;
                var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);
                if (isAlreadyHidden || isDestroyed || isDisabled) return;
                invokeHook("onHide", [ instance ], false);
                if (false === instance.props.onHide(instance)) return;
                instance.state.isVisible = false;
                instance.state.isShown = false;
                ignoreOnFirstUpdate = false;
                isVisibleFromClick = false;
                if (getIsDefaultRenderFn()) popper.style.visibility = "hidden";
                cleanupInteractiveMouseListeners();
                removeDocumentPress();
                handleStyles(true);
                if (getIsDefaultRenderFn()) {
                    var _getDefaultTemplateCh4 = getDefaultTemplateChildren(), box = _getDefaultTemplateCh4.box, content = _getDefaultTemplateCh4.content;
                    if (instance.props.animation) {
                        setTransitionDuration([ box, content ], duration);
                        setVisibilityState([ box, content ], "hidden");
                    }
                }
                handleAriaContentAttribute();
                handleAriaExpandedAttribute();
                if (instance.props.animation) {
                    if (getIsDefaultRenderFn()) onTransitionedOut(duration, instance.unmount);
                } else instance.unmount();
            }
            function hideWithInteractivity(event) {
                if (false) ;
                getDocument().addEventListener("mousemove", debouncedOnMouseMove);
                pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);
                debouncedOnMouseMove(event);
            }
            function unmount() {
                if (false) ;
                if (instance.state.isVisible) instance.hide();
                if (!instance.state.isMounted) return;
                destroyPopperInstance();
                getNestedPopperTree().forEach((function(nestedPopper) {
                    nestedPopper._tippy.unmount();
                }));
                if (popper.parentNode) popper.parentNode.removeChild(popper);
                mountedInstances = mountedInstances.filter((function(i) {
                    return i !== instance;
                }));
                instance.state.isMounted = false;
                invokeHook("onHidden", [ instance ]);
            }
            function destroy() {
                if (false) ;
                if (instance.state.isDestroyed) return;
                instance.clearDelayTimeouts();
                instance.unmount();
                removeListeners();
                delete reference._tippy;
                instance.state.isDestroyed = true;
                invokeHook("onDestroy", [ instance ]);
            }
        }
        function tippy(targets, optionalProps) {
            if (void 0 === optionalProps) optionalProps = {};
            var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);
            if (false) ;
            bindGlobalEventListeners();
            var passedProps = Object.assign({}, optionalProps, {
                plugins
            });
            var elements = getArrayOfElements(targets);
            if (false) ;
            var instances = elements.reduce((function(acc, reference) {
                var instance = reference && createTippy(reference, passedProps);
                if (instance) acc.push(instance);
                return acc;
            }), []);
            return tippy_esm_isElement(targets) ? instances[0] : instances;
        }
        tippy.defaultProps = defaultProps;
        tippy.setDefaultProps = setDefaultProps;
        tippy.currentInput = currentInput;
        Object.assign({}, modifiers_applyStyles, {
            effect: function effect(_ref) {
                var state = _ref.state;
                var initialStyles = {
                    popper: {
                        position: state.options.strategy,
                        left: "0",
                        top: "0",
                        margin: "0"
                    },
                    arrow: {
                        position: "absolute"
                    },
                    reference: {}
                };
                Object.assign(state.elements.popper.style, initialStyles.popper);
                state.styles = initialStyles;
                if (state.elements.arrow) Object.assign(state.elements.arrow.style, initialStyles.arrow);
            }
        });
        tippy.setDefaultProps({
            render
        });
        const tippy_esm = tippy;
        flsModules.tippy = tippy_esm("[data-tippy-content]", {});
        function ssr_window_esm_isObject(obj) {
            return null !== obj && "object" === typeof obj && "constructor" in obj && obj.constructor === Object;
        }
        function extend(target = {}, src = {}) {
            Object.keys(src).forEach((key => {
                if ("undefined" === typeof target[key]) target[key] = src[key]; else if (ssr_window_esm_isObject(src[key]) && ssr_window_esm_isObject(target[key]) && Object.keys(src[key]).length > 0) extend(target[key], src[key]);
            }));
        }
        const ssrDocument = {
            body: {},
            addEventListener() {},
            removeEventListener() {},
            activeElement: {
                blur() {},
                nodeName: ""
            },
            querySelector() {
                return null;
            },
            querySelectorAll() {
                return [];
            },
            getElementById() {
                return null;
            },
            createEvent() {
                return {
                    initEvent() {}
                };
            },
            createElement() {
                return {
                    children: [],
                    childNodes: [],
                    style: {},
                    setAttribute() {},
                    getElementsByTagName() {
                        return [];
                    }
                };
            },
            createElementNS() {
                return {};
            },
            importNode() {
                return null;
            },
            location: {
                hash: "",
                host: "",
                hostname: "",
                href: "",
                origin: "",
                pathname: "",
                protocol: "",
                search: ""
            }
        };
        function ssr_window_esm_getDocument() {
            const doc = "undefined" !== typeof document ? document : {};
            extend(doc, ssrDocument);
            return doc;
        }
        const ssrWindow = {
            document: ssrDocument,
            navigator: {
                userAgent: ""
            },
            location: {
                hash: "",
                host: "",
                hostname: "",
                href: "",
                origin: "",
                pathname: "",
                protocol: "",
                search: ""
            },
            history: {
                replaceState() {},
                pushState() {},
                go() {},
                back() {}
            },
            CustomEvent: function CustomEvent() {
                return this;
            },
            addEventListener() {},
            removeEventListener() {},
            getComputedStyle() {
                return {
                    getPropertyValue() {
                        return "";
                    }
                };
            },
            Image() {},
            Date() {},
            screen: {},
            setTimeout() {},
            clearTimeout() {},
            matchMedia() {
                return {};
            },
            requestAnimationFrame(callback) {
                if ("undefined" === typeof setTimeout) {
                    callback();
                    return null;
                }
                return setTimeout(callback, 0);
            },
            cancelAnimationFrame(id) {
                if ("undefined" === typeof setTimeout) return;
                clearTimeout(id);
            }
        };
        function ssr_window_esm_getWindow() {
            const win = "undefined" !== typeof window ? window : {};
            extend(win, ssrWindow);
            return win;
        }
        function makeReactive(obj) {
            const proto = obj.__proto__;
            Object.defineProperty(obj, "__proto__", {
                get() {
                    return proto;
                },
                set(value) {
                    proto.__proto__ = value;
                }
            });
        }
        class Dom7 extends Array {
            constructor(items) {
                if ("number" === typeof items) super(items); else {
                    super(...items || []);
                    makeReactive(this);
                }
            }
        }
        function arrayFlat(arr = []) {
            const res = [];
            arr.forEach((el => {
                if (Array.isArray(el)) res.push(...arrayFlat(el)); else res.push(el);
            }));
            return res;
        }
        function arrayFilter(arr, callback) {
            return Array.prototype.filter.call(arr, callback);
        }
        function arrayUnique(arr) {
            const uniqueArray = [];
            for (let i = 0; i < arr.length; i += 1) if (-1 === uniqueArray.indexOf(arr[i])) uniqueArray.push(arr[i]);
            return uniqueArray;
        }
        function qsa(selector, context) {
            if ("string" !== typeof selector) return [ selector ];
            const a = [];
            const res = context.querySelectorAll(selector);
            for (let i = 0; i < res.length; i += 1) a.push(res[i]);
            return a;
        }
        function dom7_esm_$(selector, context) {
            const window = ssr_window_esm_getWindow();
            const document = ssr_window_esm_getDocument();
            let arr = [];
            if (!context && selector instanceof Dom7) return selector;
            if (!selector) return new Dom7(arr);
            if ("string" === typeof selector) {
                const html = selector.trim();
                if (html.indexOf("<") >= 0 && html.indexOf(">") >= 0) {
                    let toCreate = "div";
                    if (0 === html.indexOf("<li")) toCreate = "ul";
                    if (0 === html.indexOf("<tr")) toCreate = "tbody";
                    if (0 === html.indexOf("<td") || 0 === html.indexOf("<th")) toCreate = "tr";
                    if (0 === html.indexOf("<tbody")) toCreate = "table";
                    if (0 === html.indexOf("<option")) toCreate = "select";
                    const tempParent = document.createElement(toCreate);
                    tempParent.innerHTML = html;
                    for (let i = 0; i < tempParent.childNodes.length; i += 1) arr.push(tempParent.childNodes[i]);
                } else arr = qsa(selector.trim(), context || document);
            } else if (selector.nodeType || selector === window || selector === document) arr.push(selector); else if (Array.isArray(selector)) {
                if (selector instanceof Dom7) return selector;
                arr = selector;
            }
            return new Dom7(arrayUnique(arr));
        }
        dom7_esm_$.fn = Dom7.prototype;
        function dom7_esm_addClass(...classes) {
            const classNames = arrayFlat(classes.map((c => c.split(" "))));
            this.forEach((el => {
                el.classList.add(...classNames);
            }));
            return this;
        }
        function dom7_esm_removeClass(...classes) {
            const classNames = arrayFlat(classes.map((c => c.split(" "))));
            this.forEach((el => {
                el.classList.remove(...classNames);
            }));
            return this;
        }
        function toggleClass(...classes) {
            const classNames = arrayFlat(classes.map((c => c.split(" "))));
            this.forEach((el => {
                classNames.forEach((className => {
                    el.classList.toggle(className);
                }));
            }));
        }
        function hasClass(...classes) {
            const classNames = arrayFlat(classes.map((c => c.split(" "))));
            return arrayFilter(this, (el => classNames.filter((className => el.classList.contains(className))).length > 0)).length > 0;
        }
        function attr(attrs, value) {
            if (1 === arguments.length && "string" === typeof attrs) {
                if (this[0]) return this[0].getAttribute(attrs);
                return;
            }
            for (let i = 0; i < this.length; i += 1) if (2 === arguments.length) this[i].setAttribute(attrs, value); else for (const attrName in attrs) {
                this[i][attrName] = attrs[attrName];
                this[i].setAttribute(attrName, attrs[attrName]);
            }
            return this;
        }
        function removeAttr(attr) {
            for (let i = 0; i < this.length; i += 1) this[i].removeAttribute(attr);
            return this;
        }
        function transform(transform) {
            for (let i = 0; i < this.length; i += 1) this[i].style.transform = transform;
            return this;
        }
        function transition(duration) {
            for (let i = 0; i < this.length; i += 1) this[i].style.transitionDuration = "string" !== typeof duration ? `${duration}ms` : duration;
            return this;
        }
        function on(...args) {
            let [eventType, targetSelector, listener, capture] = args;
            if ("function" === typeof args[1]) {
                [eventType, listener, capture] = args;
                targetSelector = void 0;
            }
            if (!capture) capture = false;
            function handleLiveEvent(e) {
                const target = e.target;
                if (!target) return;
                const eventData = e.target.dom7EventData || [];
                if (eventData.indexOf(e) < 0) eventData.unshift(e);
                if (dom7_esm_$(target).is(targetSelector)) listener.apply(target, eventData); else {
                    const parents = dom7_esm_$(target).parents();
                    for (let k = 0; k < parents.length; k += 1) if (dom7_esm_$(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);
                }
            }
            function handleEvent(e) {
                const eventData = e && e.target ? e.target.dom7EventData || [] : [];
                if (eventData.indexOf(e) < 0) eventData.unshift(e);
                listener.apply(this, eventData);
            }
            const events = eventType.split(" ");
            let j;
            for (let i = 0; i < this.length; i += 1) {
                const el = this[i];
                if (!targetSelector) for (j = 0; j < events.length; j += 1) {
                    const event = events[j];
                    if (!el.dom7Listeners) el.dom7Listeners = {};
                    if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];
                    el.dom7Listeners[event].push({
                        listener,
                        proxyListener: handleEvent
                    });
                    el.addEventListener(event, handleEvent, capture);
                } else for (j = 0; j < events.length; j += 1) {
                    const event = events[j];
                    if (!el.dom7LiveListeners) el.dom7LiveListeners = {};
                    if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];
                    el.dom7LiveListeners[event].push({
                        listener,
                        proxyListener: handleLiveEvent
                    });
                    el.addEventListener(event, handleLiveEvent, capture);
                }
            }
            return this;
        }
        function off(...args) {
            let [eventType, targetSelector, listener, capture] = args;
            if ("function" === typeof args[1]) {
                [eventType, listener, capture] = args;
                targetSelector = void 0;
            }
            if (!capture) capture = false;
            const events = eventType.split(" ");
            for (let i = 0; i < events.length; i += 1) {
                const event = events[i];
                for (let j = 0; j < this.length; j += 1) {
                    const el = this[j];
                    let handlers;
                    if (!targetSelector && el.dom7Listeners) handlers = el.dom7Listeners[event]; else if (targetSelector && el.dom7LiveListeners) handlers = el.dom7LiveListeners[event];
                    if (handlers && handlers.length) for (let k = handlers.length - 1; k >= 0; k -= 1) {
                        const handler = handlers[k];
                        if (listener && handler.listener === listener) {
                            el.removeEventListener(event, handler.proxyListener, capture);
                            handlers.splice(k, 1);
                        } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {
                            el.removeEventListener(event, handler.proxyListener, capture);
                            handlers.splice(k, 1);
                        } else if (!listener) {
                            el.removeEventListener(event, handler.proxyListener, capture);
                            handlers.splice(k, 1);
                        }
                    }
                }
            }
            return this;
        }
        function trigger(...args) {
            const window = ssr_window_esm_getWindow();
            const events = args[0].split(" ");
            const eventData = args[1];
            for (let i = 0; i < events.length; i += 1) {
                const event = events[i];
                for (let j = 0; j < this.length; j += 1) {
                    const el = this[j];
                    if (window.CustomEvent) {
                        const evt = new window.CustomEvent(event, {
                            detail: eventData,
                            bubbles: true,
                            cancelable: true
                        });
                        el.dom7EventData = args.filter(((data, dataIndex) => dataIndex > 0));
                        el.dispatchEvent(evt);
                        el.dom7EventData = [];
                        delete el.dom7EventData;
                    }
                }
            }
            return this;
        }
        function transitionEnd(callback) {
            const dom = this;
            function fireCallBack(e) {
                if (e.target !== this) return;
                callback.call(this, e);
                dom.off("transitionend", fireCallBack);
            }
            if (callback) dom.on("transitionend", fireCallBack);
            return this;
        }
        function dom7_esm_outerWidth(includeMargins) {
            if (this.length > 0) {
                if (includeMargins) {
                    const styles = this.styles();
                    return this[0].offsetWidth + parseFloat(styles.getPropertyValue("margin-right")) + parseFloat(styles.getPropertyValue("margin-left"));
                }
                return this[0].offsetWidth;
            }
            return null;
        }
        function dom7_esm_outerHeight(includeMargins) {
            if (this.length > 0) {
                if (includeMargins) {
                    const styles = this.styles();
                    return this[0].offsetHeight + parseFloat(styles.getPropertyValue("margin-top")) + parseFloat(styles.getPropertyValue("margin-bottom"));
                }
                return this[0].offsetHeight;
            }
            return null;
        }
        function dom7_esm_offset() {
            if (this.length > 0) {
                const window = ssr_window_esm_getWindow();
                const document = ssr_window_esm_getDocument();
                const el = this[0];
                const box = el.getBoundingClientRect();
                const body = document.body;
                const clientTop = el.clientTop || body.clientTop || 0;
                const clientLeft = el.clientLeft || body.clientLeft || 0;
                const scrollTop = el === window ? window.scrollY : el.scrollTop;
                const scrollLeft = el === window ? window.scrollX : el.scrollLeft;
                return {
                    top: box.top + scrollTop - clientTop,
                    left: box.left + scrollLeft - clientLeft
                };
            }
            return null;
        }
        function styles() {
            const window = ssr_window_esm_getWindow();
            if (this[0]) return window.getComputedStyle(this[0], null);
            return {};
        }
        function css(props, value) {
            const window = ssr_window_esm_getWindow();
            let i;
            if (1 === arguments.length) if ("string" === typeof props) {
                if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);
            } else {
                for (i = 0; i < this.length; i += 1) for (const prop in props) this[i].style[prop] = props[prop];
                return this;
            }
            if (2 === arguments.length && "string" === typeof props) {
                for (i = 0; i < this.length; i += 1) this[i].style[props] = value;
                return this;
            }
            return this;
        }
        function dom7_esm_each(callback) {
            if (!callback) return this;
            this.forEach(((el, index) => {
                callback.apply(el, [ el, index ]);
            }));
            return this;
        }
        function filter(callback) {
            const result = arrayFilter(this, callback);
            return dom7_esm_$(result);
        }
        function html(html) {
            if ("undefined" === typeof html) return this[0] ? this[0].innerHTML : null;
            for (let i = 0; i < this.length; i += 1) this[i].innerHTML = html;
            return this;
        }
        function dom7_esm_text(text) {
            if ("undefined" === typeof text) return this[0] ? this[0].textContent.trim() : null;
            for (let i = 0; i < this.length; i += 1) this[i].textContent = text;
            return this;
        }
        function is(selector) {
            const window = ssr_window_esm_getWindow();
            const document = ssr_window_esm_getDocument();
            const el = this[0];
            let compareWith;
            let i;
            if (!el || "undefined" === typeof selector) return false;
            if ("string" === typeof selector) {
                if (el.matches) return el.matches(selector);
                if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);
                if (el.msMatchesSelector) return el.msMatchesSelector(selector);
                compareWith = dom7_esm_$(selector);
                for (i = 0; i < compareWith.length; i += 1) if (compareWith[i] === el) return true;
                return false;
            }
            if (selector === document) return el === document;
            if (selector === window) return el === window;
            if (selector.nodeType || selector instanceof Dom7) {
                compareWith = selector.nodeType ? [ selector ] : selector;
                for (i = 0; i < compareWith.length; i += 1) if (compareWith[i] === el) return true;
                return false;
            }
            return false;
        }
        function index() {
            let child = this[0];
            let i;
            if (child) {
                i = 0;
                while (null !== (child = child.previousSibling)) if (1 === child.nodeType) i += 1;
                return i;
            }
            return;
        }
        function eq(index) {
            if ("undefined" === typeof index) return this;
            const length = this.length;
            if (index > length - 1) return dom7_esm_$([]);
            if (index < 0) {
                const returnIndex = length + index;
                if (returnIndex < 0) return dom7_esm_$([]);
                return dom7_esm_$([ this[returnIndex] ]);
            }
            return dom7_esm_$([ this[index] ]);
        }
        function dom7_esm_append(...els) {
            let newChild;
            const document = ssr_window_esm_getDocument();
            for (let k = 0; k < els.length; k += 1) {
                newChild = els[k];
                for (let i = 0; i < this.length; i += 1) if ("string" === typeof newChild) {
                    const tempDiv = document.createElement("div");
                    tempDiv.innerHTML = newChild;
                    while (tempDiv.firstChild) this[i].appendChild(tempDiv.firstChild);
                } else if (newChild instanceof Dom7) for (let j = 0; j < newChild.length; j += 1) this[i].appendChild(newChild[j]); else this[i].appendChild(newChild);
            }
            return this;
        }
        function prepend(newChild) {
            const document = ssr_window_esm_getDocument();
            let i;
            let j;
            for (i = 0; i < this.length; i += 1) if ("string" === typeof newChild) {
                const tempDiv = document.createElement("div");
                tempDiv.innerHTML = newChild;
                for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);
            } else if (newChild instanceof Dom7) for (j = 0; j < newChild.length; j += 1) this[i].insertBefore(newChild[j], this[i].childNodes[0]); else this[i].insertBefore(newChild, this[i].childNodes[0]);
            return this;
        }
        function next(selector) {
            if (this.length > 0) {
                if (selector) {
                    if (this[0].nextElementSibling && dom7_esm_$(this[0].nextElementSibling).is(selector)) return dom7_esm_$([ this[0].nextElementSibling ]);
                    return dom7_esm_$([]);
                }
                if (this[0].nextElementSibling) return dom7_esm_$([ this[0].nextElementSibling ]);
                return dom7_esm_$([]);
            }
            return dom7_esm_$([]);
        }
        function nextAll(selector) {
            const nextEls = [];
            let el = this[0];
            if (!el) return dom7_esm_$([]);
            while (el.nextElementSibling) {
                const next = el.nextElementSibling;
                if (selector) {
                    if (dom7_esm_$(next).is(selector)) nextEls.push(next);
                } else nextEls.push(next);
                el = next;
            }
            return dom7_esm_$(nextEls);
        }
        function prev(selector) {
            if (this.length > 0) {
                const el = this[0];
                if (selector) {
                    if (el.previousElementSibling && dom7_esm_$(el.previousElementSibling).is(selector)) return dom7_esm_$([ el.previousElementSibling ]);
                    return dom7_esm_$([]);
                }
                if (el.previousElementSibling) return dom7_esm_$([ el.previousElementSibling ]);
                return dom7_esm_$([]);
            }
            return dom7_esm_$([]);
        }
        function prevAll(selector) {
            const prevEls = [];
            let el = this[0];
            if (!el) return dom7_esm_$([]);
            while (el.previousElementSibling) {
                const prev = el.previousElementSibling;
                if (selector) {
                    if (dom7_esm_$(prev).is(selector)) prevEls.push(prev);
                } else prevEls.push(prev);
                el = prev;
            }
            return dom7_esm_$(prevEls);
        }
        function dom7_esm_parent(selector) {
            const parents = [];
            for (let i = 0; i < this.length; i += 1) if (null !== this[i].parentNode) if (selector) {
                if (dom7_esm_$(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);
            } else parents.push(this[i].parentNode);
            return dom7_esm_$(parents);
        }
        function parents(selector) {
            const parents = [];
            for (let i = 0; i < this.length; i += 1) {
                let parent = this[i].parentNode;
                while (parent) {
                    if (selector) {
                        if (dom7_esm_$(parent).is(selector)) parents.push(parent);
                    } else parents.push(parent);
                    parent = parent.parentNode;
                }
            }
            return dom7_esm_$(parents);
        }
        function dom7_esm_closest(selector) {
            let closest = this;
            if ("undefined" === typeof selector) return dom7_esm_$([]);
            if (!closest.is(selector)) closest = closest.parents(selector).eq(0);
            return closest;
        }
        function dom7_esm_find(selector) {
            const foundElements = [];
            for (let i = 0; i < this.length; i += 1) {
                const found = this[i].querySelectorAll(selector);
                for (let j = 0; j < found.length; j += 1) foundElements.push(found[j]);
            }
            return dom7_esm_$(foundElements);
        }
        function children(selector) {
            const children = [];
            for (let i = 0; i < this.length; i += 1) {
                const childNodes = this[i].children;
                for (let j = 0; j < childNodes.length; j += 1) if (!selector || dom7_esm_$(childNodes[j]).is(selector)) children.push(childNodes[j]);
            }
            return dom7_esm_$(children);
        }
        function dom7_esm_remove() {
            for (let i = 0; i < this.length; i += 1) if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);
            return this;
        }
        const noTrigger = "resize scroll".split(" ");
        function shortcut(name) {
            function eventHandler(...args) {
                if ("undefined" === typeof args[0]) {
                    for (let i = 0; i < this.length; i += 1) if (noTrigger.indexOf(name) < 0) if (name in this[i]) this[i][name](); else dom7_esm_$(this[i]).trigger(name);
                    return this;
                }
                return this.on(name, ...args);
            }
            return eventHandler;
        }
        shortcut("click");
        shortcut("blur");
        shortcut("focus");
        shortcut("focusin");
        shortcut("focusout");
        shortcut("keyup");
        shortcut("keydown");
        shortcut("keypress");
        shortcut("submit");
        shortcut("change");
        shortcut("mousedown");
        shortcut("mousemove");
        shortcut("mouseup");
        shortcut("mouseenter");
        shortcut("mouseleave");
        shortcut("mouseout");
        shortcut("mouseover");
        shortcut("touchstart");
        shortcut("touchend");
        shortcut("touchmove");
        shortcut("resize");
        shortcut("scroll");
        const Methods = {
            addClass: dom7_esm_addClass,
            removeClass: dom7_esm_removeClass,
            hasClass,
            toggleClass,
            attr,
            removeAttr,
            transform,
            transition,
            on,
            off,
            trigger,
            transitionEnd,
            outerWidth: dom7_esm_outerWidth,
            outerHeight: dom7_esm_outerHeight,
            styles,
            offset: dom7_esm_offset,
            css,
            each: dom7_esm_each,
            html,
            text: dom7_esm_text,
            is,
            index,
            eq,
            append: dom7_esm_append,
            prepend,
            next,
            nextAll,
            prev,
            prevAll,
            parent: dom7_esm_parent,
            parents,
            closest: dom7_esm_closest,
            find: dom7_esm_find,
            children,
            filter,
            remove: dom7_esm_remove
        };
        Object.keys(Methods).forEach((methodName => {
            Object.defineProperty(dom7_esm_$.fn, methodName, {
                value: Methods[methodName],
                writable: true
            });
        }));
        const dom = dom7_esm_$;
        function deleteProps(obj) {
            const object = obj;
            Object.keys(object).forEach((key => {
                try {
                    object[key] = null;
                } catch (e) {}
                try {
                    delete object[key];
                } catch (e) {}
            }));
        }
        function utils_nextTick(callback, delay = 0) {
            return setTimeout(callback, delay);
        }
        function utils_now() {
            return Date.now();
        }
        function utils_getComputedStyle(el) {
            const window = ssr_window_esm_getWindow();
            let style;
            if (window.getComputedStyle) style = window.getComputedStyle(el, null);
            if (!style && el.currentStyle) style = el.currentStyle;
            if (!style) style = el.style;
            return style;
        }
        function utils_getTranslate(el, axis = "x") {
            const window = ssr_window_esm_getWindow();
            let matrix;
            let curTransform;
            let transformMatrix;
            const curStyle = utils_getComputedStyle(el, null);
            if (window.WebKitCSSMatrix) {
                curTransform = curStyle.transform || curStyle.webkitTransform;
                if (curTransform.split(",").length > 6) curTransform = curTransform.split(", ").map((a => a.replace(",", "."))).join(", ");
                transformMatrix = new window.WebKitCSSMatrix("none" === curTransform ? "" : curTransform);
            } else {
                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,");
                matrix = transformMatrix.toString().split(",");
            }
            if ("x" === axis) if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; else if (16 === matrix.length) curTransform = parseFloat(matrix[12]); else curTransform = parseFloat(matrix[4]);
            if ("y" === axis) if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; else if (16 === matrix.length) curTransform = parseFloat(matrix[13]); else curTransform = parseFloat(matrix[5]);
            return curTransform || 0;
        }
        function utils_isObject(o) {
            return "object" === typeof o && null !== o && o.constructor && "Object" === Object.prototype.toString.call(o).slice(8, -1);
        }
        function isNode(node) {
            if ("undefined" !== typeof window && "undefined" !== typeof window.HTMLElement) return node instanceof HTMLElement;
            return node && (1 === node.nodeType || 11 === node.nodeType);
        }
        function utils_extend(...args) {
            const to = Object(args[0]);
            const noExtend = [ "__proto__", "constructor", "prototype" ];
            for (let i = 1; i < args.length; i += 1) {
                const nextSource = args[i];
                if (void 0 !== nextSource && null !== nextSource && !isNode(nextSource)) {
                    const keysArray = Object.keys(Object(nextSource)).filter((key => noExtend.indexOf(key) < 0));
                    for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {
                        const nextKey = keysArray[nextIndex];
                        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
                        if (void 0 !== desc && desc.enumerable) if (utils_isObject(to[nextKey]) && utils_isObject(nextSource[nextKey])) if (nextSource[nextKey].__swiper__) to[nextKey] = nextSource[nextKey]; else utils_extend(to[nextKey], nextSource[nextKey]); else if (!utils_isObject(to[nextKey]) && utils_isObject(nextSource[nextKey])) {
                            to[nextKey] = {};
                            if (nextSource[nextKey].__swiper__) to[nextKey] = nextSource[nextKey]; else utils_extend(to[nextKey], nextSource[nextKey]);
                        } else to[nextKey] = nextSource[nextKey];
                    }
                }
            }
            return to;
        }
        function utils_setCSSProperty(el, varName, varValue) {
            el.style.setProperty(varName, varValue);
        }
        function animateCSSModeScroll({swiper, targetPosition, side}) {
            const window = ssr_window_esm_getWindow();
            const startPosition = -swiper.translate;
            let startTime = null;
            let time;
            const duration = swiper.params.speed;
            swiper.wrapperEl.style.scrollSnapType = "none";
            window.cancelAnimationFrame(swiper.cssModeFrameID);
            const dir = targetPosition > startPosition ? "next" : "prev";
            const isOutOfBound = (current, target) => "next" === dir && current >= target || "prev" === dir && current <= target;
            const animate = () => {
                time = (new Date).getTime();
                if (null === startTime) startTime = time;
                const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);
                const easeProgress = .5 - Math.cos(progress * Math.PI) / 2;
                let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);
                if (isOutOfBound(currentPosition, targetPosition)) currentPosition = targetPosition;
                swiper.wrapperEl.scrollTo({
                    [side]: currentPosition
                });
                if (isOutOfBound(currentPosition, targetPosition)) {
                    swiper.wrapperEl.style.overflow = "hidden";
                    swiper.wrapperEl.style.scrollSnapType = "";
                    setTimeout((() => {
                        swiper.wrapperEl.style.overflow = "";
                        swiper.wrapperEl.scrollTo({
                            [side]: currentPosition
                        });
                    }));
                    window.cancelAnimationFrame(swiper.cssModeFrameID);
                    return;
                }
                swiper.cssModeFrameID = window.requestAnimationFrame(animate);
            };
            animate();
        }
        let support;
        function calcSupport() {
            const window = ssr_window_esm_getWindow();
            const document = ssr_window_esm_getDocument();
            return {
                smoothScroll: document.documentElement && "scrollBehavior" in document.documentElement.style,
                touch: !!("ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch),
                passiveListener: function checkPassiveListener() {
                    let supportsPassive = false;
                    try {
                        const opts = Object.defineProperty({}, "passive", {
                            get() {
                                supportsPassive = true;
                            }
                        });
                        window.addEventListener("testPassiveListener", null, opts);
                    } catch (e) {}
                    return supportsPassive;
                }(),
                gestures: function checkGestures() {
                    return "ongesturestart" in window;
                }()
            };
        }
        function getSupport() {
            if (!support) support = calcSupport();
            return support;
        }
        let deviceCached;
        function calcDevice({userAgent} = {}) {
            const support = getSupport();
            const window = ssr_window_esm_getWindow();
            const platform = window.navigator.platform;
            const ua = userAgent || window.navigator.userAgent;
            const device = {
                ios: false,
                android: false
            };
            const screenWidth = window.screen.width;
            const screenHeight = window.screen.height;
            const android = ua.match(/(Android);?[\s\/]+([\d.]+)?/);
            let ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
            const ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
            const iphone = !ipad && ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
            const windows = "Win32" === platform;
            let macos = "MacIntel" === platform;
            const iPadScreens = [ "1024x1366", "1366x1024", "834x1194", "1194x834", "834x1112", "1112x834", "768x1024", "1024x768", "820x1180", "1180x820", "810x1080", "1080x810" ];
            if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {
                ipad = ua.match(/(Version)\/([\d.]+)/);
                if (!ipad) ipad = [ 0, 1, "13_0_0" ];
                macos = false;
            }
            if (android && !windows) {
                device.os = "android";
                device.android = true;
            }
            if (ipad || iphone || ipod) {
                device.os = "ios";
                device.ios = true;
            }
            return device;
        }
        function getDevice(overrides = {}) {
            if (!deviceCached) deviceCached = calcDevice(overrides);
            return deviceCached;
        }
        let browser;
        function calcBrowser() {
            const window = ssr_window_esm_getWindow();
            function isSafari() {
                const ua = window.navigator.userAgent.toLowerCase();
                return ua.indexOf("safari") >= 0 && ua.indexOf("chrome") < 0 && ua.indexOf("android") < 0;
            }
            return {
                isSafari: isSafari(),
                isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)
            };
        }
        function getBrowser() {
            if (!browser) browser = calcBrowser();
            return browser;
        }
        function Resize({swiper, on, emit}) {
            const window = ssr_window_esm_getWindow();
            let observer = null;
            let animationFrame = null;
            const resizeHandler = () => {
                if (!swiper || swiper.destroyed || !swiper.initialized) return;
                emit("beforeResize");
                emit("resize");
            };
            const createObserver = () => {
                if (!swiper || swiper.destroyed || !swiper.initialized) return;
                observer = new ResizeObserver((entries => {
                    animationFrame = window.requestAnimationFrame((() => {
                        const {width, height} = swiper;
                        let newWidth = width;
                        let newHeight = height;
                        entries.forEach((({contentBoxSize, contentRect, target}) => {
                            if (target && target !== swiper.el) return;
                            newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;
                            newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;
                        }));
                        if (newWidth !== width || newHeight !== height) resizeHandler();
                    }));
                }));
                observer.observe(swiper.el);
            };
            const removeObserver = () => {
                if (animationFrame) window.cancelAnimationFrame(animationFrame);
                if (observer && observer.unobserve && swiper.el) {
                    observer.unobserve(swiper.el);
                    observer = null;
                }
            };
            const orientationChangeHandler = () => {
                if (!swiper || swiper.destroyed || !swiper.initialized) return;
                emit("orientationchange");
            };
            on("init", (() => {
                if (swiper.params.resizeObserver && "undefined" !== typeof window.ResizeObserver) {
                    createObserver();
                    return;
                }
                window.addEventListener("resize", resizeHandler);
                window.addEventListener("orientationchange", orientationChangeHandler);
            }));
            on("destroy", (() => {
                removeObserver();
                window.removeEventListener("resize", resizeHandler);
                window.removeEventListener("orientationchange", orientationChangeHandler);
            }));
        }
        function Observer({swiper, extendParams, on, emit}) {
            const observers = [];
            const window = ssr_window_esm_getWindow();
            const attach = (target, options = {}) => {
                const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;
                const observer = new ObserverFunc((mutations => {
                    if (1 === mutations.length) {
                        emit("observerUpdate", mutations[0]);
                        return;
                    }
                    const observerUpdate = function observerUpdate() {
                        emit("observerUpdate", mutations[0]);
                    };
                    if (window.requestAnimationFrame) window.requestAnimationFrame(observerUpdate); else window.setTimeout(observerUpdate, 0);
                }));
                observer.observe(target, {
                    attributes: "undefined" === typeof options.attributes ? true : options.attributes,
                    childList: "undefined" === typeof options.childList ? true : options.childList,
                    characterData: "undefined" === typeof options.characterData ? true : options.characterData
                });
                observers.push(observer);
            };
            const init = () => {
                if (!swiper.params.observer) return;
                if (swiper.params.observeParents) {
                    const containerParents = swiper.$el.parents();
                    for (let i = 0; i < containerParents.length; i += 1) attach(containerParents[i]);
                }
                attach(swiper.$el[0], {
                    childList: swiper.params.observeSlideChildren
                });
                attach(swiper.$wrapperEl[0], {
                    attributes: false
                });
            };
            const destroy = () => {
                observers.forEach((observer => {
                    observer.disconnect();
                }));
                observers.splice(0, observers.length);
            };
            extendParams({
                observer: false,
                observeParents: false,
                observeSlideChildren: false
            });
            on("init", init);
            on("destroy", destroy);
        }
        const events_emitter = {
            on(events, handler, priority) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if ("function" !== typeof handler) return self;
                const method = priority ? "unshift" : "push";
                events.split(" ").forEach((event => {
                    if (!self.eventsListeners[event]) self.eventsListeners[event] = [];
                    self.eventsListeners[event][method](handler);
                }));
                return self;
            },
            once(events, handler, priority) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if ("function" !== typeof handler) return self;
                function onceHandler(...args) {
                    self.off(events, onceHandler);
                    if (onceHandler.__emitterProxy) delete onceHandler.__emitterProxy;
                    handler.apply(self, args);
                }
                onceHandler.__emitterProxy = handler;
                return self.on(events, onceHandler, priority);
            },
            onAny(handler, priority) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if ("function" !== typeof handler) return self;
                const method = priority ? "unshift" : "push";
                if (self.eventsAnyListeners.indexOf(handler) < 0) self.eventsAnyListeners[method](handler);
                return self;
            },
            offAny(handler) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if (!self.eventsAnyListeners) return self;
                const index = self.eventsAnyListeners.indexOf(handler);
                if (index >= 0) self.eventsAnyListeners.splice(index, 1);
                return self;
            },
            off(events, handler) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if (!self.eventsListeners) return self;
                events.split(" ").forEach((event => {
                    if ("undefined" === typeof handler) self.eventsListeners[event] = []; else if (self.eventsListeners[event]) self.eventsListeners[event].forEach(((eventHandler, index) => {
                        if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) self.eventsListeners[event].splice(index, 1);
                    }));
                }));
                return self;
            },
            emit(...args) {
                const self = this;
                if (!self.eventsListeners || self.destroyed) return self;
                if (!self.eventsListeners) return self;
                let events;
                let data;
                let context;
                if ("string" === typeof args[0] || Array.isArray(args[0])) {
                    events = args[0];
                    data = args.slice(1, args.length);
                    context = self;
                } else {
                    events = args[0].events;
                    data = args[0].data;
                    context = args[0].context || self;
                }
                data.unshift(context);
                const eventsArray = Array.isArray(events) ? events : events.split(" ");
                eventsArray.forEach((event => {
                    if (self.eventsAnyListeners && self.eventsAnyListeners.length) self.eventsAnyListeners.forEach((eventHandler => {
                        eventHandler.apply(context, [ event, ...data ]);
                    }));
                    if (self.eventsListeners && self.eventsListeners[event]) self.eventsListeners[event].forEach((eventHandler => {
                        eventHandler.apply(context, data);
                    }));
                }));
                return self;
            }
        };
        function updateSize() {
            const swiper = this;
            let width;
            let height;
            const $el = swiper.$el;
            if ("undefined" !== typeof swiper.params.width && null !== swiper.params.width) width = swiper.params.width; else width = $el[0].clientWidth;
            if ("undefined" !== typeof swiper.params.height && null !== swiper.params.height) height = swiper.params.height; else height = $el[0].clientHeight;
            if (0 === width && swiper.isHorizontal() || 0 === height && swiper.isVertical()) return;
            width = width - parseInt($el.css("padding-left") || 0, 10) - parseInt($el.css("padding-right") || 0, 10);
            height = height - parseInt($el.css("padding-top") || 0, 10) - parseInt($el.css("padding-bottom") || 0, 10);
            if (Number.isNaN(width)) width = 0;
            if (Number.isNaN(height)) height = 0;
            Object.assign(swiper, {
                width,
                height,
                size: swiper.isHorizontal() ? width : height
            });
        }
        function updateSlides() {
            const swiper = this;
            function getDirectionLabel(property) {
                if (swiper.isHorizontal()) return property;
                return {
                    width: "height",
                    "margin-top": "margin-left",
                    "margin-bottom ": "margin-right",
                    "margin-left": "margin-top",
                    "margin-right": "margin-bottom",
                    "padding-left": "padding-top",
                    "padding-right": "padding-bottom",
                    marginRight: "marginBottom"
                }[property];
            }
            function getDirectionPropertyValue(node, label) {
                return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);
            }
            const params = swiper.params;
            const {$wrapperEl, size: swiperSize, rtlTranslate: rtl, wrongRTL} = swiper;
            const isVirtual = swiper.virtual && params.virtual.enabled;
            const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;
            const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);
            const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;
            let snapGrid = [];
            const slidesGrid = [];
            const slidesSizesGrid = [];
            let offsetBefore = params.slidesOffsetBefore;
            if ("function" === typeof offsetBefore) offsetBefore = params.slidesOffsetBefore.call(swiper);
            let offsetAfter = params.slidesOffsetAfter;
            if ("function" === typeof offsetAfter) offsetAfter = params.slidesOffsetAfter.call(swiper);
            const previousSnapGridLength = swiper.snapGrid.length;
            const previousSlidesGridLength = swiper.slidesGrid.length;
            let spaceBetween = params.spaceBetween;
            let slidePosition = -offsetBefore;
            let prevSlideSize = 0;
            let index = 0;
            if ("undefined" === typeof swiperSize) return;
            if ("string" === typeof spaceBetween && spaceBetween.indexOf("%") >= 0) spaceBetween = parseFloat(spaceBetween.replace("%", "")) / 100 * swiperSize;
            swiper.virtualSize = -spaceBetween;
            if (rtl) slides.css({
                marginLeft: "",
                marginBottom: "",
                marginTop: ""
            }); else slides.css({
                marginRight: "",
                marginBottom: "",
                marginTop: ""
            });
            if (params.centeredSlides && params.cssMode) {
                utils_setCSSProperty(swiper.wrapperEl, "--swiper-centered-offset-before", "");
                utils_setCSSProperty(swiper.wrapperEl, "--swiper-centered-offset-after", "");
            }
            const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;
            if (gridEnabled) swiper.grid.initSlides(slidesLength);
            let slideSize;
            const shouldResetSlideSize = "auto" === params.slidesPerView && params.breakpoints && Object.keys(params.breakpoints).filter((key => "undefined" !== typeof params.breakpoints[key].slidesPerView)).length > 0;
            for (let i = 0; i < slidesLength; i += 1) {
                slideSize = 0;
                const slide = slides.eq(i);
                if (gridEnabled) swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);
                if ("none" === slide.css("display")) continue;
                if ("auto" === params.slidesPerView) {
                    if (shouldResetSlideSize) slides[i].style[getDirectionLabel("width")] = ``;
                    const slideStyles = getComputedStyle(slide[0]);
                    const currentTransform = slide[0].style.transform;
                    const currentWebKitTransform = slide[0].style.webkitTransform;
                    if (currentTransform) slide[0].style.transform = "none";
                    if (currentWebKitTransform) slide[0].style.webkitTransform = "none";
                    if (params.roundLengths) slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true); else {
                        const width = getDirectionPropertyValue(slideStyles, "width");
                        const paddingLeft = getDirectionPropertyValue(slideStyles, "padding-left");
                        const paddingRight = getDirectionPropertyValue(slideStyles, "padding-right");
                        const marginLeft = getDirectionPropertyValue(slideStyles, "margin-left");
                        const marginRight = getDirectionPropertyValue(slideStyles, "margin-right");
                        const boxSizing = slideStyles.getPropertyValue("box-sizing");
                        if (boxSizing && "border-box" === boxSizing) slideSize = width + marginLeft + marginRight; else {
                            const {clientWidth, offsetWidth} = slide[0];
                            slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);
                        }
                    }
                    if (currentTransform) slide[0].style.transform = currentTransform;
                    if (currentWebKitTransform) slide[0].style.webkitTransform = currentWebKitTransform;
                    if (params.roundLengths) slideSize = Math.floor(slideSize);
                } else {
                    slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;
                    if (params.roundLengths) slideSize = Math.floor(slideSize);
                    if (slides[i]) slides[i].style[getDirectionLabel("width")] = `${slideSize}px`;
                }
                if (slides[i]) slides[i].swiperSlideSize = slideSize;
                slidesSizesGrid.push(slideSize);
                if (params.centeredSlides) {
                    slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;
                    if (0 === prevSlideSize && 0 !== i) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
                    if (0 === i) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;
                    if (Math.abs(slidePosition) < 1 / 1e3) slidePosition = 0;
                    if (params.roundLengths) slidePosition = Math.floor(slidePosition);
                    if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);
                    slidesGrid.push(slidePosition);
                } else {
                    if (params.roundLengths) slidePosition = Math.floor(slidePosition);
                    if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);
                    slidesGrid.push(slidePosition);
                    slidePosition = slidePosition + slideSize + spaceBetween;
                }
                swiper.virtualSize += slideSize + spaceBetween;
                prevSlideSize = slideSize;
                index += 1;
            }
            swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;
            if (rtl && wrongRTL && ("slide" === params.effect || "coverflow" === params.effect)) $wrapperEl.css({
                width: `${swiper.virtualSize + params.spaceBetween}px`
            });
            if (params.setWrapperSize) $wrapperEl.css({
                [getDirectionLabel("width")]: `${swiper.virtualSize + params.spaceBetween}px`
            });
            if (gridEnabled) swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);
            if (!params.centeredSlides) {
                const newSlidesGrid = [];
                for (let i = 0; i < snapGrid.length; i += 1) {
                    let slidesGridItem = snapGrid[i];
                    if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);
                    if (snapGrid[i] <= swiper.virtualSize - swiperSize) newSlidesGrid.push(slidesGridItem);
                }
                snapGrid = newSlidesGrid;
                if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) snapGrid.push(swiper.virtualSize - swiperSize);
            }
            if (0 === snapGrid.length) snapGrid = [ 0 ];
            if (0 !== params.spaceBetween) {
                const key = swiper.isHorizontal() && rtl ? "marginLeft" : getDirectionLabel("marginRight");
                slides.filter(((_, slideIndex) => {
                    if (!params.cssMode) return true;
                    if (slideIndex === slides.length - 1) return false;
                    return true;
                })).css({
                    [key]: `${spaceBetween}px`
                });
            }
            if (params.centeredSlides && params.centeredSlidesBounds) {
                let allSlidesSize = 0;
                slidesSizesGrid.forEach((slideSizeValue => {
                    allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
                }));
                allSlidesSize -= params.spaceBetween;
                const maxSnap = allSlidesSize - swiperSize;
                snapGrid = snapGrid.map((snap => {
                    if (snap < 0) return -offsetBefore;
                    if (snap > maxSnap) return maxSnap + offsetAfter;
                    return snap;
                }));
            }
            if (params.centerInsufficientSlides) {
                let allSlidesSize = 0;
                slidesSizesGrid.forEach((slideSizeValue => {
                    allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);
                }));
                allSlidesSize -= params.spaceBetween;
                if (allSlidesSize < swiperSize) {
                    const allSlidesOffset = (swiperSize - allSlidesSize) / 2;
                    snapGrid.forEach(((snap, snapIndex) => {
                        snapGrid[snapIndex] = snap - allSlidesOffset;
                    }));
                    slidesGrid.forEach(((snap, snapIndex) => {
                        slidesGrid[snapIndex] = snap + allSlidesOffset;
                    }));
                }
            }
            Object.assign(swiper, {
                slides,
                snapGrid,
                slidesGrid,
                slidesSizesGrid
            });
            if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {
                utils_setCSSProperty(swiper.wrapperEl, "--swiper-centered-offset-before", `${-snapGrid[0]}px`);
                utils_setCSSProperty(swiper.wrapperEl, "--swiper-centered-offset-after", `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);
                const addToSnapGrid = -swiper.snapGrid[0];
                const addToSlidesGrid = -swiper.slidesGrid[0];
                swiper.snapGrid = swiper.snapGrid.map((v => v + addToSnapGrid));
                swiper.slidesGrid = swiper.slidesGrid.map((v => v + addToSlidesGrid));
            }
            if (slidesLength !== previousSlidesLength) swiper.emit("slidesLengthChange");
            if (snapGrid.length !== previousSnapGridLength) {
                if (swiper.params.watchOverflow) swiper.checkOverflow();
                swiper.emit("snapGridLengthChange");
            }
            if (slidesGrid.length !== previousSlidesGridLength) swiper.emit("slidesGridLengthChange");
            if (params.watchSlidesProgress) swiper.updateSlidesOffset();
            if (!isVirtual && !params.cssMode && ("slide" === params.effect || "fade" === params.effect)) {
                const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;
                const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);
                if (slidesLength <= params.maxBackfaceHiddenSlides) {
                    if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);
                } else if (hasClassBackfaceClassAdded) swiper.$el.removeClass(backFaceHiddenClass);
            }
        }
        function updateAutoHeight(speed) {
            const swiper = this;
            const activeSlides = [];
            const isVirtual = swiper.virtual && swiper.params.virtual.enabled;
            let newHeight = 0;
            let i;
            if ("number" === typeof speed) swiper.setTransition(speed); else if (true === speed) swiper.setTransition(swiper.params.speed);
            const getSlideByIndex = index => {
                if (isVirtual) return swiper.slides.filter((el => parseInt(el.getAttribute("data-swiper-slide-index"), 10) === index))[0];
                return swiper.slides.eq(index)[0];
            };
            if ("auto" !== swiper.params.slidesPerView && swiper.params.slidesPerView > 1) if (swiper.params.centeredSlides) (swiper.visibleSlides || dom([])).each((slide => {
                activeSlides.push(slide);
            })); else for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {
                const index = swiper.activeIndex + i;
                if (index > swiper.slides.length && !isVirtual) break;
                activeSlides.push(getSlideByIndex(index));
            } else activeSlides.push(getSlideByIndex(swiper.activeIndex));
            for (i = 0; i < activeSlides.length; i += 1) if ("undefined" !== typeof activeSlides[i]) {
                const height = activeSlides[i].offsetHeight;
                newHeight = height > newHeight ? height : newHeight;
            }
            if (newHeight || 0 === newHeight) swiper.$wrapperEl.css("height", `${newHeight}px`);
        }
        function updateSlidesOffset() {
            const swiper = this;
            const slides = swiper.slides;
            for (let i = 0; i < slides.length; i += 1) slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;
        }
        function updateSlidesProgress(translate = this && this.translate || 0) {
            const swiper = this;
            const params = swiper.params;
            const {slides, rtlTranslate: rtl, snapGrid} = swiper;
            if (0 === slides.length) return;
            if ("undefined" === typeof slides[0].swiperSlideOffset) swiper.updateSlidesOffset();
            let offsetCenter = -translate;
            if (rtl) offsetCenter = translate;
            slides.removeClass(params.slideVisibleClass);
            swiper.visibleSlidesIndexes = [];
            swiper.visibleSlides = [];
            for (let i = 0; i < slides.length; i += 1) {
                const slide = slides[i];
                let slideOffset = slide.swiperSlideOffset;
                if (params.cssMode && params.centeredSlides) slideOffset -= slides[0].swiperSlideOffset;
                const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);
                const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);
                const slideBefore = -(offsetCenter - slideOffset);
                const slideAfter = slideBefore + swiper.slidesSizesGrid[i];
                const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;
                if (isVisible) {
                    swiper.visibleSlides.push(slide);
                    swiper.visibleSlidesIndexes.push(i);
                    slides.eq(i).addClass(params.slideVisibleClass);
                }
                slide.progress = rtl ? -slideProgress : slideProgress;
                slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;
            }
            swiper.visibleSlides = dom(swiper.visibleSlides);
        }
        function updateProgress(translate) {
            const swiper = this;
            if ("undefined" === typeof translate) {
                const multiplier = swiper.rtlTranslate ? -1 : 1;
                translate = swiper && swiper.translate && swiper.translate * multiplier || 0;
            }
            const params = swiper.params;
            const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
            let {progress, isBeginning, isEnd} = swiper;
            const wasBeginning = isBeginning;
            const wasEnd = isEnd;
            if (0 === translatesDiff) {
                progress = 0;
                isBeginning = true;
                isEnd = true;
            } else {
                progress = (translate - swiper.minTranslate()) / translatesDiff;
                isBeginning = progress <= 0;
                isEnd = progress >= 1;
            }
            Object.assign(swiper, {
                progress,
                isBeginning,
                isEnd
            });
            if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);
            if (isBeginning && !wasBeginning) swiper.emit("reachBeginning toEdge");
            if (isEnd && !wasEnd) swiper.emit("reachEnd toEdge");
            if (wasBeginning && !isBeginning || wasEnd && !isEnd) swiper.emit("fromEdge");
            swiper.emit("progress", progress);
        }
        function updateSlidesClasses() {
            const swiper = this;
            const {slides, params, $wrapperEl, activeIndex, realIndex} = swiper;
            const isVirtual = swiper.virtual && params.virtual.enabled;
            slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);
            let activeSlide;
            if (isVirtual) activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index="${activeIndex}"]`); else activeSlide = slides.eq(activeIndex);
            activeSlide.addClass(params.slideActiveClass);
            if (params.loop) if (activeSlide.hasClass(params.slideDuplicateClass)) $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index="${realIndex}"]`).addClass(params.slideDuplicateActiveClass); else $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index="${realIndex}"]`).addClass(params.slideDuplicateActiveClass);
            let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);
            if (params.loop && 0 === nextSlide.length) {
                nextSlide = slides.eq(0);
                nextSlide.addClass(params.slideNextClass);
            }
            let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);
            if (params.loop && 0 === prevSlide.length) {
                prevSlide = slides.eq(-1);
                prevSlide.addClass(params.slidePrevClass);
            }
            if (params.loop) {
                if (nextSlide.hasClass(params.slideDuplicateClass)) $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index="${nextSlide.attr("data-swiper-slide-index")}"]`).addClass(params.slideDuplicateNextClass); else $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index="${nextSlide.attr("data-swiper-slide-index")}"]`).addClass(params.slideDuplicateNextClass);
                if (prevSlide.hasClass(params.slideDuplicateClass)) $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index="${prevSlide.attr("data-swiper-slide-index")}"]`).addClass(params.slideDuplicatePrevClass); else $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index="${prevSlide.attr("data-swiper-slide-index")}"]`).addClass(params.slideDuplicatePrevClass);
            }
            swiper.emitSlidesClasses();
        }
        function updateActiveIndex(newActiveIndex) {
            const swiper = this;
            const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;
            const {slidesGrid, snapGrid, params, activeIndex: previousIndex, realIndex: previousRealIndex, snapIndex: previousSnapIndex} = swiper;
            let activeIndex = newActiveIndex;
            let snapIndex;
            if ("undefined" === typeof activeIndex) {
                for (let i = 0; i < slidesGrid.length; i += 1) if ("undefined" !== typeof slidesGrid[i + 1]) {
                    if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) activeIndex = i; else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) activeIndex = i + 1;
                } else if (translate >= slidesGrid[i]) activeIndex = i;
                if (params.normalizeSlideIndex) if (activeIndex < 0 || "undefined" === typeof activeIndex) activeIndex = 0;
            }
            if (snapGrid.indexOf(translate) >= 0) snapIndex = snapGrid.indexOf(translate); else {
                const skip = Math.min(params.slidesPerGroupSkip, activeIndex);
                snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);
            }
            if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;
            if (activeIndex === previousIndex) {
                if (snapIndex !== previousSnapIndex) {
                    swiper.snapIndex = snapIndex;
                    swiper.emit("snapIndexChange");
                }
                return;
            }
            const realIndex = parseInt(swiper.slides.eq(activeIndex).attr("data-swiper-slide-index") || activeIndex, 10);
            Object.assign(swiper, {
                snapIndex,
                realIndex,
                previousIndex,
                activeIndex
            });
            swiper.emit("activeIndexChange");
            swiper.emit("snapIndexChange");
            if (previousRealIndex !== realIndex) swiper.emit("realIndexChange");
            if (swiper.initialized || swiper.params.runCallbacksOnInit) swiper.emit("slideChange");
        }
        function updateClickedSlide(e) {
            const swiper = this;
            const params = swiper.params;
            const slide = dom(e).closest(`.${params.slideClass}`)[0];
            let slideFound = false;
            let slideIndex;
            if (slide) for (let i = 0; i < swiper.slides.length; i += 1) if (swiper.slides[i] === slide) {
                slideFound = true;
                slideIndex = i;
                break;
            }
            if (slide && slideFound) {
                swiper.clickedSlide = slide;
                if (swiper.virtual && swiper.params.virtual.enabled) swiper.clickedIndex = parseInt(dom(slide).attr("data-swiper-slide-index"), 10); else swiper.clickedIndex = slideIndex;
            } else {
                swiper.clickedSlide = void 0;
                swiper.clickedIndex = void 0;
                return;
            }
            if (params.slideToClickedSlide && void 0 !== swiper.clickedIndex && swiper.clickedIndex !== swiper.activeIndex) swiper.slideToClickedSlide();
        }
        const update = {
            updateSize,
            updateSlides,
            updateAutoHeight,
            updateSlidesOffset,
            updateSlidesProgress,
            updateProgress,
            updateSlidesClasses,
            updateActiveIndex,
            updateClickedSlide
        };
        function getSwiperTranslate(axis = (this.isHorizontal() ? "x" : "y")) {
            const swiper = this;
            const {params, rtlTranslate: rtl, translate, $wrapperEl} = swiper;
            if (params.virtualTranslate) return rtl ? -translate : translate;
            if (params.cssMode) return translate;
            let currentTranslate = utils_getTranslate($wrapperEl[0], axis);
            if (rtl) currentTranslate = -currentTranslate;
            return currentTranslate || 0;
        }
        function setTranslate(translate, byController) {
            const swiper = this;
            const {rtlTranslate: rtl, params, $wrapperEl, wrapperEl, progress} = swiper;
            let x = 0;
            let y = 0;
            const z = 0;
            if (swiper.isHorizontal()) x = rtl ? -translate : translate; else y = translate;
            if (params.roundLengths) {
                x = Math.floor(x);
                y = Math.floor(y);
            }
            if (params.cssMode) wrapperEl[swiper.isHorizontal() ? "scrollLeft" : "scrollTop"] = swiper.isHorizontal() ? -x : -y; else if (!params.virtualTranslate) $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);
            swiper.previousTranslate = swiper.translate;
            swiper.translate = swiper.isHorizontal() ? x : y;
            let newProgress;
            const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
            if (0 === translatesDiff) newProgress = 0; else newProgress = (translate - swiper.minTranslate()) / translatesDiff;
            if (newProgress !== progress) swiper.updateProgress(translate);
            swiper.emit("setTranslate", swiper.translate, byController);
        }
        function minTranslate() {
            return -this.snapGrid[0];
        }
        function maxTranslate() {
            return -this.snapGrid[this.snapGrid.length - 1];
        }
        function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {
            const swiper = this;
            const {params, wrapperEl} = swiper;
            if (swiper.animating && params.preventInteractionOnTransition) return false;
            const minTranslate = swiper.minTranslate();
            const maxTranslate = swiper.maxTranslate();
            let newTranslate;
            if (translateBounds && translate > minTranslate) newTranslate = minTranslate; else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate; else newTranslate = translate;
            swiper.updateProgress(newTranslate);
            if (params.cssMode) {
                const isH = swiper.isHorizontal();
                if (0 === speed) wrapperEl[isH ? "scrollLeft" : "scrollTop"] = -newTranslate; else {
                    if (!swiper.support.smoothScroll) {
                        animateCSSModeScroll({
                            swiper,
                            targetPosition: -newTranslate,
                            side: isH ? "left" : "top"
                        });
                        return true;
                    }
                    wrapperEl.scrollTo({
                        [isH ? "left" : "top"]: -newTranslate,
                        behavior: "smooth"
                    });
                }
                return true;
            }
            if (0 === speed) {
                swiper.setTransition(0);
                swiper.setTranslate(newTranslate);
                if (runCallbacks) {
                    swiper.emit("beforeTransitionStart", speed, internal);
                    swiper.emit("transitionEnd");
                }
            } else {
                swiper.setTransition(speed);
                swiper.setTranslate(newTranslate);
                if (runCallbacks) {
                    swiper.emit("beforeTransitionStart", speed, internal);
                    swiper.emit("transitionStart");
                }
                if (!swiper.animating) {
                    swiper.animating = true;
                    if (!swiper.onTranslateToWrapperTransitionEnd) swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {
                        if (!swiper || swiper.destroyed) return;
                        if (e.target !== this) return;
                        swiper.$wrapperEl[0].removeEventListener("transitionend", swiper.onTranslateToWrapperTransitionEnd);
                        swiper.$wrapperEl[0].removeEventListener("webkitTransitionEnd", swiper.onTranslateToWrapperTransitionEnd);
                        swiper.onTranslateToWrapperTransitionEnd = null;
                        delete swiper.onTranslateToWrapperTransitionEnd;
                        if (runCallbacks) swiper.emit("transitionEnd");
                    };
                    swiper.$wrapperEl[0].addEventListener("transitionend", swiper.onTranslateToWrapperTransitionEnd);
                    swiper.$wrapperEl[0].addEventListener("webkitTransitionEnd", swiper.onTranslateToWrapperTransitionEnd);
                }
            }
            return true;
        }
        const translate = {
            getTranslate: getSwiperTranslate,
            setTranslate,
            minTranslate,
            maxTranslate,
            translateTo
        };
        function setTransition(duration, byController) {
            const swiper = this;
            if (!swiper.params.cssMode) swiper.$wrapperEl.transition(duration);
            swiper.emit("setTransition", duration, byController);
        }
        function transitionEmit({swiper, runCallbacks, direction, step}) {
            const {activeIndex, previousIndex} = swiper;
            let dir = direction;
            if (!dir) if (activeIndex > previousIndex) dir = "next"; else if (activeIndex < previousIndex) dir = "prev"; else dir = "reset";
            swiper.emit(`transition${step}`);
            if (runCallbacks && activeIndex !== previousIndex) {
                if ("reset" === dir) {
                    swiper.emit(`slideResetTransition${step}`);
                    return;
                }
                swiper.emit(`slideChangeTransition${step}`);
                if ("next" === dir) swiper.emit(`slideNextTransition${step}`); else swiper.emit(`slidePrevTransition${step}`);
            }
        }
        function transitionStart(runCallbacks = true, direction) {
            const swiper = this;
            const {params} = swiper;
            if (params.cssMode) return;
            if (params.autoHeight) swiper.updateAutoHeight();
            transitionEmit({
                swiper,
                runCallbacks,
                direction,
                step: "Start"
            });
        }
        function transitionEnd_transitionEnd(runCallbacks = true, direction) {
            const swiper = this;
            const {params} = swiper;
            swiper.animating = false;
            if (params.cssMode) return;
            swiper.setTransition(0);
            transitionEmit({
                swiper,
                runCallbacks,
                direction,
                step: "End"
            });
        }
        const core_transition = {
            setTransition,
            transitionStart,
            transitionEnd: transitionEnd_transitionEnd
        };
        function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {
            if ("number" !== typeof index && "string" !== typeof index) throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);
            if ("string" === typeof index) {
                const indexAsNumber = parseInt(index, 10);
                const isValidNumber = isFinite(indexAsNumber);
                if (!isValidNumber) throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);
                index = indexAsNumber;
            }
            const swiper = this;
            let slideIndex = index;
            if (slideIndex < 0) slideIndex = 0;
            const {params, snapGrid, slidesGrid, previousIndex, activeIndex, rtlTranslate: rtl, wrapperEl, enabled} = swiper;
            if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) return false;
            const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);
            let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);
            if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;
            const translate = -snapGrid[snapIndex];
            if (params.normalizeSlideIndex) for (let i = 0; i < slidesGrid.length; i += 1) {
                const normalizedTranslate = -Math.floor(100 * translate);
                const normalizedGrid = Math.floor(100 * slidesGrid[i]);
                const normalizedGridNext = Math.floor(100 * slidesGrid[i + 1]);
                if ("undefined" !== typeof slidesGrid[i + 1]) {
                    if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) slideIndex = i; else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) slideIndex = i + 1;
                } else if (normalizedTranslate >= normalizedGrid) slideIndex = i;
            }
            if (swiper.initialized && slideIndex !== activeIndex) {
                if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) return false;
                if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) if ((activeIndex || 0) !== slideIndex) return false;
            }
            if (slideIndex !== (previousIndex || 0) && runCallbacks) swiper.emit("beforeSlideChangeStart");
            swiper.updateProgress(translate);
            let direction;
            if (slideIndex > activeIndex) direction = "next"; else if (slideIndex < activeIndex) direction = "prev"; else direction = "reset";
            if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {
                swiper.updateActiveIndex(slideIndex);
                if (params.autoHeight) swiper.updateAutoHeight();
                swiper.updateSlidesClasses();
                if ("slide" !== params.effect) swiper.setTranslate(translate);
                if ("reset" !== direction) {
                    swiper.transitionStart(runCallbacks, direction);
                    swiper.transitionEnd(runCallbacks, direction);
                }
                return false;
            }
            if (params.cssMode) {
                const isH = swiper.isHorizontal();
                const t = rtl ? translate : -translate;
                if (0 === speed) {
                    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;
                    if (isVirtual) {
                        swiper.wrapperEl.style.scrollSnapType = "none";
                        swiper._immediateVirtual = true;
                    }
                    wrapperEl[isH ? "scrollLeft" : "scrollTop"] = t;
                    if (isVirtual) requestAnimationFrame((() => {
                        swiper.wrapperEl.style.scrollSnapType = "";
                        swiper._swiperImmediateVirtual = false;
                    }));
                } else {
                    if (!swiper.support.smoothScroll) {
                        animateCSSModeScroll({
                            swiper,
                            targetPosition: t,
                            side: isH ? "left" : "top"
                        });
                        return true;
                    }
                    wrapperEl.scrollTo({
                        [isH ? "left" : "top"]: t,
                        behavior: "smooth"
                    });
                }
                return true;
            }
            swiper.setTransition(speed);
            swiper.setTranslate(translate);
            swiper.updateActiveIndex(slideIndex);
            swiper.updateSlidesClasses();
            swiper.emit("beforeTransitionStart", speed, internal);
            swiper.transitionStart(runCallbacks, direction);
            if (0 === speed) swiper.transitionEnd(runCallbacks, direction); else if (!swiper.animating) {
                swiper.animating = true;
                if (!swiper.onSlideToWrapperTransitionEnd) swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {
                    if (!swiper || swiper.destroyed) return;
                    if (e.target !== this) return;
                    swiper.$wrapperEl[0].removeEventListener("transitionend", swiper.onSlideToWrapperTransitionEnd);
                    swiper.$wrapperEl[0].removeEventListener("webkitTransitionEnd", swiper.onSlideToWrapperTransitionEnd);
                    swiper.onSlideToWrapperTransitionEnd = null;
                    delete swiper.onSlideToWrapperTransitionEnd;
                    swiper.transitionEnd(runCallbacks, direction);
                };
                swiper.$wrapperEl[0].addEventListener("transitionend", swiper.onSlideToWrapperTransitionEnd);
                swiper.$wrapperEl[0].addEventListener("webkitTransitionEnd", swiper.onSlideToWrapperTransitionEnd);
            }
            return true;
        }
        function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {
            if ("string" === typeof index) {
                const indexAsNumber = parseInt(index, 10);
                const isValidNumber = isFinite(indexAsNumber);
                if (!isValidNumber) throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);
                index = indexAsNumber;
            }
            const swiper = this;
            let newIndex = index;
            if (swiper.params.loop) newIndex += swiper.loopedSlides;
            return swiper.slideTo(newIndex, speed, runCallbacks, internal);
        }
        function slideNext(speed = this.params.speed, runCallbacks = true, internal) {
            const swiper = this;
            const {animating, enabled, params} = swiper;
            if (!enabled) return swiper;
            let perGroup = params.slidesPerGroup;
            if ("auto" === params.slidesPerView && 1 === params.slidesPerGroup && params.slidesPerGroupAuto) perGroup = Math.max(swiper.slidesPerViewDynamic("current", true), 1);
            const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;
            if (params.loop) {
                if (animating && params.loopPreventsSlide) return false;
                swiper.loopFix();
                swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
            }
            if (params.rewind && swiper.isEnd) return swiper.slideTo(0, speed, runCallbacks, internal);
            return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);
        }
        function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {
            const swiper = this;
            const {params, animating, snapGrid, slidesGrid, rtlTranslate, enabled} = swiper;
            if (!enabled) return swiper;
            if (params.loop) {
                if (animating && params.loopPreventsSlide) return false;
                swiper.loopFix();
                swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
            }
            const translate = rtlTranslate ? swiper.translate : -swiper.translate;
            function normalize(val) {
                if (val < 0) return -Math.floor(Math.abs(val));
                return Math.floor(val);
            }
            const normalizedTranslate = normalize(translate);
            const normalizedSnapGrid = snapGrid.map((val => normalize(val)));
            let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];
            if ("undefined" === typeof prevSnap && params.cssMode) {
                let prevSnapIndex;
                snapGrid.forEach(((snap, snapIndex) => {
                    if (normalizedTranslate >= snap) prevSnapIndex = snapIndex;
                }));
                if ("undefined" !== typeof prevSnapIndex) prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];
            }
            let prevIndex = 0;
            if ("undefined" !== typeof prevSnap) {
                prevIndex = slidesGrid.indexOf(prevSnap);
                if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;
                if ("auto" === params.slidesPerView && 1 === params.slidesPerGroup && params.slidesPerGroupAuto) {
                    prevIndex = prevIndex - swiper.slidesPerViewDynamic("previous", true) + 1;
                    prevIndex = Math.max(prevIndex, 0);
                }
            }
            if (params.rewind && swiper.isBeginning) {
                const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;
                return swiper.slideTo(lastIndex, speed, runCallbacks, internal);
            }
            return swiper.slideTo(prevIndex, speed, runCallbacks, internal);
        }
        function slideReset(speed = this.params.speed, runCallbacks = true, internal) {
            const swiper = this;
            return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);
        }
        function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = .5) {
            const swiper = this;
            let index = swiper.activeIndex;
            const skip = Math.min(swiper.params.slidesPerGroupSkip, index);
            const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);
            const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;
            if (translate >= swiper.snapGrid[snapIndex]) {
                const currentSnap = swiper.snapGrid[snapIndex];
                const nextSnap = swiper.snapGrid[snapIndex + 1];
                if (translate - currentSnap > (nextSnap - currentSnap) * threshold) index += swiper.params.slidesPerGroup;
            } else {
                const prevSnap = swiper.snapGrid[snapIndex - 1];
                const currentSnap = swiper.snapGrid[snapIndex];
                if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) index -= swiper.params.slidesPerGroup;
            }
            index = Math.max(index, 0);
            index = Math.min(index, swiper.slidesGrid.length - 1);
            return swiper.slideTo(index, speed, runCallbacks, internal);
        }
        function slideToClickedSlide() {
            const swiper = this;
            const {params, $wrapperEl} = swiper;
            const slidesPerView = "auto" === params.slidesPerView ? swiper.slidesPerViewDynamic() : params.slidesPerView;
            let slideToIndex = swiper.clickedIndex;
            let realIndex;
            if (params.loop) {
                if (swiper.animating) return;
                realIndex = parseInt(dom(swiper.clickedSlide).attr("data-swiper-slide-index"), 10);
                if (params.centeredSlides) if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {
                    swiper.loopFix();
                    slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index="${realIndex}"]:not(.${params.slideDuplicateClass})`).eq(0).index();
                    utils_nextTick((() => {
                        swiper.slideTo(slideToIndex);
                    }));
                } else swiper.slideTo(slideToIndex); else if (slideToIndex > swiper.slides.length - slidesPerView) {
                    swiper.loopFix();
                    slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index="${realIndex}"]:not(.${params.slideDuplicateClass})`).eq(0).index();
                    utils_nextTick((() => {
                        swiper.slideTo(slideToIndex);
                    }));
                } else swiper.slideTo(slideToIndex);
            } else swiper.slideTo(slideToIndex);
        }
        const slide = {
            slideTo,
            slideToLoop,
            slideNext,
            slidePrev,
            slideReset,
            slideToClosest,
            slideToClickedSlide
        };
        function loopCreate() {
            const swiper = this;
            const document = ssr_window_esm_getDocument();
            const {params, $wrapperEl} = swiper;
            const $selector = $wrapperEl.children().length > 0 ? dom($wrapperEl.children()[0].parentNode) : $wrapperEl;
            $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();
            let slides = $selector.children(`.${params.slideClass}`);
            if (params.loopFillGroupWithBlank) {
                const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;
                if (blankSlidesNum !== params.slidesPerGroup) {
                    for (let i = 0; i < blankSlidesNum; i += 1) {
                        const blankNode = dom(document.createElement("div")).addClass(`${params.slideClass} ${params.slideBlankClass}`);
                        $selector.append(blankNode);
                    }
                    slides = $selector.children(`.${params.slideClass}`);
                }
            }
            if ("auto" === params.slidesPerView && !params.loopedSlides) params.loopedSlides = slides.length;
            swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));
            swiper.loopedSlides += params.loopAdditionalSlides;
            if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) swiper.loopedSlides = slides.length;
            const prependSlides = [];
            const appendSlides = [];
            slides.each(((el, index) => {
                const slide = dom(el);
                slide.attr("data-swiper-slide-index", index);
            }));
            for (let i = 0; i < swiper.loopedSlides; i += 1) {
                const index = i - Math.floor(i / slides.length) * slides.length;
                appendSlides.push(slides.eq(index)[0]);
                prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);
            }
            for (let i = 0; i < appendSlides.length; i += 1) $selector.append(dom(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));
            for (let i = prependSlides.length - 1; i >= 0; i -= 1) $selector.prepend(dom(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));
        }
        function loopFix() {
            const swiper = this;
            swiper.emit("beforeLoopFix");
            const {activeIndex, slides, loopedSlides, allowSlidePrev, allowSlideNext, snapGrid, rtlTranslate: rtl} = swiper;
            let newIndex;
            swiper.allowSlidePrev = true;
            swiper.allowSlideNext = true;
            const snapTranslate = -snapGrid[activeIndex];
            const diff = snapTranslate - swiper.getTranslate();
            if (activeIndex < loopedSlides) {
                newIndex = slides.length - 3 * loopedSlides + activeIndex;
                newIndex += loopedSlides;
                const slideChanged = swiper.slideTo(newIndex, 0, false, true);
                if (slideChanged && 0 !== diff) swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
            } else if (activeIndex >= slides.length - loopedSlides) {
                newIndex = -slides.length + activeIndex + loopedSlides;
                newIndex += loopedSlides;
                const slideChanged = swiper.slideTo(newIndex, 0, false, true);
                if (slideChanged && 0 !== diff) swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
            }
            swiper.allowSlidePrev = allowSlidePrev;
            swiper.allowSlideNext = allowSlideNext;
            swiper.emit("loopFix");
        }
        function loopDestroy() {
            const swiper = this;
            const {$wrapperEl, params, slides} = swiper;
            $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();
            slides.removeAttr("data-swiper-slide-index");
        }
        const loop = {
            loopCreate,
            loopFix,
            loopDestroy
        };
        function setGrabCursor(moving) {
            const swiper = this;
            if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;
            const el = "container" === swiper.params.touchEventsTarget ? swiper.el : swiper.wrapperEl;
            el.style.cursor = "move";
            el.style.cursor = moving ? "grabbing" : "grab";
        }
        function unsetGrabCursor() {
            const swiper = this;
            if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;
            swiper["container" === swiper.params.touchEventsTarget ? "el" : "wrapperEl"].style.cursor = "";
        }
        const grab_cursor = {
            setGrabCursor,
            unsetGrabCursor
        };
        function closestElement(selector, base = this) {
            function __closestFrom(el) {
                if (!el || el === ssr_window_esm_getDocument() || el === ssr_window_esm_getWindow()) return null;
                if (el.assignedSlot) el = el.assignedSlot;
                const found = el.closest(selector);
                if (!found && !el.getRootNode) return null;
                return found || __closestFrom(el.getRootNode().host);
            }
            return __closestFrom(base);
        }
        function onTouchStart(event) {
            const swiper = this;
            const document = ssr_window_esm_getDocument();
            const window = ssr_window_esm_getWindow();
            const data = swiper.touchEventsData;
            const {params, touches, enabled} = swiper;
            if (!enabled) return;
            if (swiper.animating && params.preventInteractionOnTransition) return;
            if (!swiper.animating && params.cssMode && params.loop) swiper.loopFix();
            let e = event;
            if (e.originalEvent) e = e.originalEvent;
            let $targetEl = dom(e.target);
            if ("wrapper" === params.touchEventsTarget) if (!$targetEl.closest(swiper.wrapperEl).length) return;
            data.isTouchEvent = "touchstart" === e.type;
            if (!data.isTouchEvent && "which" in e && 3 === e.which) return;
            if (!data.isTouchEvent && "button" in e && e.button > 0) return;
            if (data.isTouched && data.isMoved) return;
            const swipingClassHasValue = !!params.noSwipingClass && "" !== params.noSwipingClass;
            const eventPath = event.composedPath ? event.composedPath() : event.path;
            if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) $targetEl = dom(eventPath[0]);
            const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;
            const isTargetShadow = !!(e.target && e.target.shadowRoot);
            if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {
                swiper.allowClick = true;
                return;
            }
            if (params.swipeHandler) if (!$targetEl.closest(params.swipeHandler)[0]) return;
            touches.currentX = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX;
            touches.currentY = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY;
            const startX = touches.currentX;
            const startY = touches.currentY;
            const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;
            const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;
            if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) if ("prevent" === edgeSwipeDetection) event.preventDefault(); else return;
            Object.assign(data, {
                isTouched: true,
                isMoved: false,
                allowTouchCallbacks: true,
                isScrolling: void 0,
                startMoving: void 0
            });
            touches.startX = startX;
            touches.startY = startY;
            data.touchStartTime = utils_now();
            swiper.allowClick = true;
            swiper.updateSize();
            swiper.swipeDirection = void 0;
            if (params.threshold > 0) data.allowThresholdMove = false;
            if ("touchstart" !== e.type) {
                let preventDefault = true;
                if ($targetEl.is(data.focusableElements)) {
                    preventDefault = false;
                    if ("SELECT" === $targetEl[0].nodeName) data.isTouched = false;
                }
                if (document.activeElement && dom(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) document.activeElement.blur();
                const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;
                if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) e.preventDefault();
            }
            if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) swiper.freeMode.onTouchStart();
            swiper.emit("touchStart", e);
        }
        function onTouchMove(event) {
            const document = ssr_window_esm_getDocument();
            const swiper = this;
            const data = swiper.touchEventsData;
            const {params, touches, rtlTranslate: rtl, enabled} = swiper;
            if (!enabled) return;
            let e = event;
            if (e.originalEvent) e = e.originalEvent;
            if (!data.isTouched) {
                if (data.startMoving && data.isScrolling) swiper.emit("touchMoveOpposite", e);
                return;
            }
            if (data.isTouchEvent && "touchmove" !== e.type) return;
            const targetTouch = "touchmove" === e.type && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);
            const pageX = "touchmove" === e.type ? targetTouch.pageX : e.pageX;
            const pageY = "touchmove" === e.type ? targetTouch.pageY : e.pageY;
            if (e.preventedByNestedSwiper) {
                touches.startX = pageX;
                touches.startY = pageY;
                return;
            }
            if (!swiper.allowTouchMove) {
                if (!dom(e.target).is(data.focusableElements)) swiper.allowClick = false;
                if (data.isTouched) {
                    Object.assign(touches, {
                        startX: pageX,
                        startY: pageY,
                        currentX: pageX,
                        currentY: pageY
                    });
                    data.touchStartTime = utils_now();
                }
                return;
            }
            if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) if (swiper.isVertical()) {
                if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {
                    data.isTouched = false;
                    data.isMoved = false;
                    return;
                }
            } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) return;
            if (data.isTouchEvent && document.activeElement) if (e.target === document.activeElement && dom(e.target).is(data.focusableElements)) {
                data.isMoved = true;
                swiper.allowClick = false;
                return;
            }
            if (data.allowTouchCallbacks) swiper.emit("touchMove", e);
            if (e.targetTouches && e.targetTouches.length > 1) return;
            touches.currentX = pageX;
            touches.currentY = pageY;
            const diffX = touches.currentX - touches.startX;
            const diffY = touches.currentY - touches.startY;
            if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;
            if ("undefined" === typeof data.isScrolling) {
                let touchAngle;
                if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) data.isScrolling = false; else if (diffX * diffX + diffY * diffY >= 25) {
                    touchAngle = 180 * Math.atan2(Math.abs(diffY), Math.abs(diffX)) / Math.PI;
                    data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;
                }
            }
            if (data.isScrolling) swiper.emit("touchMoveOpposite", e);
            if ("undefined" === typeof data.startMoving) if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) data.startMoving = true;
            if (data.isScrolling) {
                data.isTouched = false;
                return;
            }
            if (!data.startMoving) return;
            swiper.allowClick = false;
            if (!params.cssMode && e.cancelable) e.preventDefault();
            if (params.touchMoveStopPropagation && !params.nested) e.stopPropagation();
            if (!data.isMoved) {
                if (params.loop && !params.cssMode) swiper.loopFix();
                data.startTranslate = swiper.getTranslate();
                swiper.setTransition(0);
                if (swiper.animating) swiper.$wrapperEl.trigger("webkitTransitionEnd transitionend");
                data.allowMomentumBounce = false;
                if (params.grabCursor && (true === swiper.allowSlideNext || true === swiper.allowSlidePrev)) swiper.setGrabCursor(true);
                swiper.emit("sliderFirstMove", e);
            }
            swiper.emit("sliderMove", e);
            data.isMoved = true;
            let diff = swiper.isHorizontal() ? diffX : diffY;
            touches.diff = diff;
            diff *= params.touchRatio;
            if (rtl) diff = -diff;
            swiper.swipeDirection = diff > 0 ? "prev" : "next";
            data.currentTranslate = diff + data.startTranslate;
            let disableParentSwiper = true;
            let resistanceRatio = params.resistanceRatio;
            if (params.touchReleaseOnEdges) resistanceRatio = 0;
            if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {
                disableParentSwiper = false;
                if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;
            } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {
                disableParentSwiper = false;
                if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;
            }
            if (disableParentSwiper) e.preventedByNestedSwiper = true;
            if (!swiper.allowSlideNext && "next" === swiper.swipeDirection && data.currentTranslate < data.startTranslate) data.currentTranslate = data.startTranslate;
            if (!swiper.allowSlidePrev && "prev" === swiper.swipeDirection && data.currentTranslate > data.startTranslate) data.currentTranslate = data.startTranslate;
            if (!swiper.allowSlidePrev && !swiper.allowSlideNext) data.currentTranslate = data.startTranslate;
            if (params.threshold > 0) if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {
                if (!data.allowThresholdMove) {
                    data.allowThresholdMove = true;
                    touches.startX = touches.currentX;
                    touches.startY = touches.currentY;
                    data.currentTranslate = data.startTranslate;
                    touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;
                    return;
                }
            } else {
                data.currentTranslate = data.startTranslate;
                return;
            }
            if (!params.followFinger || params.cssMode) return;
            if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
            }
            if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) swiper.freeMode.onTouchMove();
            swiper.updateProgress(data.currentTranslate);
            swiper.setTranslate(data.currentTranslate);
        }
        function onTouchEnd(event) {
            const swiper = this;
            const data = swiper.touchEventsData;
            const {params, touches, rtlTranslate: rtl, slidesGrid, enabled} = swiper;
            if (!enabled) return;
            let e = event;
            if (e.originalEvent) e = e.originalEvent;
            if (data.allowTouchCallbacks) swiper.emit("touchEnd", e);
            data.allowTouchCallbacks = false;
            if (!data.isTouched) {
                if (data.isMoved && params.grabCursor) swiper.setGrabCursor(false);
                data.isMoved = false;
                data.startMoving = false;
                return;
            }
            if (params.grabCursor && data.isMoved && data.isTouched && (true === swiper.allowSlideNext || true === swiper.allowSlidePrev)) swiper.setGrabCursor(false);
            const touchEndTime = utils_now();
            const timeDiff = touchEndTime - data.touchStartTime;
            if (swiper.allowClick) {
                const pathTree = e.path || e.composedPath && e.composedPath();
                swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);
                swiper.emit("tap click", e);
                if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) swiper.emit("doubleTap doubleClick", e);
            }
            data.lastClickTime = utils_now();
            utils_nextTick((() => {
                if (!swiper.destroyed) swiper.allowClick = true;
            }));
            if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || 0 === touches.diff || data.currentTranslate === data.startTranslate) {
                data.isTouched = false;
                data.isMoved = false;
                data.startMoving = false;
                return;
            }
            data.isTouched = false;
            data.isMoved = false;
            data.startMoving = false;
            let currentPos;
            if (params.followFinger) currentPos = rtl ? swiper.translate : -swiper.translate; else currentPos = -data.currentTranslate;
            if (params.cssMode) return;
            if (swiper.params.freeMode && params.freeMode.enabled) {
                swiper.freeMode.onTouchEnd({
                    currentPos
                });
                return;
            }
            let stopIndex = 0;
            let groupSize = swiper.slidesSizesGrid[0];
            for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {
                const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;
                if ("undefined" !== typeof slidesGrid[i + increment]) {
                    if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {
                        stopIndex = i;
                        groupSize = slidesGrid[i + increment] - slidesGrid[i];
                    }
                } else if (currentPos >= slidesGrid[i]) {
                    stopIndex = i;
                    groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];
                }
            }
            let rewindFirstIndex = null;
            let rewindLastIndex = null;
            if (params.rewind) if (swiper.isBeginning) rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1; else if (swiper.isEnd) rewindFirstIndex = 0;
            const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;
            const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;
            if (timeDiff > params.longSwipesMs) {
                if (!params.longSwipes) {
                    swiper.slideTo(swiper.activeIndex);
                    return;
                }
                if ("next" === swiper.swipeDirection) if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment); else swiper.slideTo(stopIndex);
                if ("prev" === swiper.swipeDirection) if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment); else if (null !== rewindLastIndex && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) swiper.slideTo(rewindLastIndex); else swiper.slideTo(stopIndex);
            } else {
                if (!params.shortSwipes) {
                    swiper.slideTo(swiper.activeIndex);
                    return;
                }
                const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);
                if (!isNavButtonTarget) {
                    if ("next" === swiper.swipeDirection) swiper.slideTo(null !== rewindFirstIndex ? rewindFirstIndex : stopIndex + increment);
                    if ("prev" === swiper.swipeDirection) swiper.slideTo(null !== rewindLastIndex ? rewindLastIndex : stopIndex);
                } else if (e.target === swiper.navigation.nextEl) swiper.slideTo(stopIndex + increment); else swiper.slideTo(stopIndex);
            }
        }
        function onResize() {
            const swiper = this;
            const {params, el} = swiper;
            if (el && 0 === el.offsetWidth) return;
            if (params.breakpoints) swiper.setBreakpoint();
            const {allowSlideNext, allowSlidePrev, snapGrid} = swiper;
            swiper.allowSlideNext = true;
            swiper.allowSlidePrev = true;
            swiper.updateSize();
            swiper.updateSlides();
            swiper.updateSlidesClasses();
            if (("auto" === params.slidesPerView || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) swiper.slideTo(swiper.slides.length - 1, 0, false, true); else swiper.slideTo(swiper.activeIndex, 0, false, true);
            if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) swiper.autoplay.run();
            swiper.allowSlidePrev = allowSlidePrev;
            swiper.allowSlideNext = allowSlideNext;
            if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) swiper.checkOverflow();
        }
        function onClick(e) {
            const swiper = this;
            if (!swiper.enabled) return;
            if (!swiper.allowClick) {
                if (swiper.params.preventClicks) e.preventDefault();
                if (swiper.params.preventClicksPropagation && swiper.animating) {
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                }
            }
        }
        function onScroll() {
            const swiper = this;
            const {wrapperEl, rtlTranslate, enabled} = swiper;
            if (!enabled) return;
            swiper.previousTranslate = swiper.translate;
            if (swiper.isHorizontal()) swiper.translate = -wrapperEl.scrollLeft; else swiper.translate = -wrapperEl.scrollTop;
            if (0 === swiper.translate) swiper.translate = 0;
            swiper.updateActiveIndex();
            swiper.updateSlidesClasses();
            let newProgress;
            const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
            if (0 === translatesDiff) newProgress = 0; else newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;
            if (newProgress !== swiper.progress) swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);
            swiper.emit("setTranslate", swiper.translate, false);
        }
        let dummyEventAttached = false;
        function dummyEventListener() {}
        const events = (swiper, method) => {
            const document = ssr_window_esm_getDocument();
            const {params, touchEvents, el, wrapperEl, device, support} = swiper;
            const capture = !!params.nested;
            const domMethod = "on" === method ? "addEventListener" : "removeEventListener";
            const swiperMethod = method;
            if (!support.touch) {
                el[domMethod](touchEvents.start, swiper.onTouchStart, false);
                document[domMethod](touchEvents.move, swiper.onTouchMove, capture);
                document[domMethod](touchEvents.end, swiper.onTouchEnd, false);
            } else {
                const passiveListener = "touchstart" === touchEvents.start && support.passiveListener && params.passiveListeners ? {
                    passive: true,
                    capture: false
                } : false;
                el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);
                el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {
                    passive: false,
                    capture
                } : capture);
                el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);
                if (touchEvents.cancel) el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);
            }
            if (params.preventClicks || params.preventClicksPropagation) el[domMethod]("click", swiper.onClick, true);
            if (params.cssMode) wrapperEl[domMethod]("scroll", swiper.onScroll);
            if (params.updateOnWindowResize) swiper[swiperMethod](device.ios || device.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", onResize, true); else swiper[swiperMethod]("observerUpdate", onResize, true);
        };
        function attachEvents() {
            const swiper = this;
            const document = ssr_window_esm_getDocument();
            const {params, support} = swiper;
            swiper.onTouchStart = onTouchStart.bind(swiper);
            swiper.onTouchMove = onTouchMove.bind(swiper);
            swiper.onTouchEnd = onTouchEnd.bind(swiper);
            if (params.cssMode) swiper.onScroll = onScroll.bind(swiper);
            swiper.onClick = onClick.bind(swiper);
            if (support.touch && !dummyEventAttached) {
                document.addEventListener("touchstart", dummyEventListener);
                dummyEventAttached = true;
            }
            events(swiper, "on");
        }
        function detachEvents() {
            const swiper = this;
            events(swiper, "off");
        }
        const core_events = {
            attachEvents,
            detachEvents
        };
        const isGridEnabled = (swiper, params) => swiper.grid && params.grid && params.grid.rows > 1;
        function setBreakpoint() {
            const swiper = this;
            const {activeIndex, initialized, loopedSlides = 0, params, $el} = swiper;
            const breakpoints = params.breakpoints;
            if (!breakpoints || breakpoints && 0 === Object.keys(breakpoints).length) return;
            const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);
            if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;
            const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : void 0;
            const breakpointParams = breakpointOnlyParams || swiper.originalParams;
            const wasMultiRow = isGridEnabled(swiper, params);
            const isMultiRow = isGridEnabled(swiper, breakpointParams);
            const wasEnabled = params.enabled;
            if (wasMultiRow && !isMultiRow) {
                $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);
                swiper.emitContainerClasses();
            } else if (!wasMultiRow && isMultiRow) {
                $el.addClass(`${params.containerModifierClass}grid`);
                if (breakpointParams.grid.fill && "column" === breakpointParams.grid.fill || !breakpointParams.grid.fill && "column" === params.grid.fill) $el.addClass(`${params.containerModifierClass}grid-column`);
                swiper.emitContainerClasses();
            }
            [ "navigation", "pagination", "scrollbar" ].forEach((prop => {
                const wasModuleEnabled = params[prop] && params[prop].enabled;
                const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;
                if (wasModuleEnabled && !isModuleEnabled) swiper[prop].disable();
                if (!wasModuleEnabled && isModuleEnabled) swiper[prop].enable();
            }));
            const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;
            const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);
            if (directionChanged && initialized) swiper.changeDirection();
            utils_extend(swiper.params, breakpointParams);
            const isEnabled = swiper.params.enabled;
            Object.assign(swiper, {
                allowTouchMove: swiper.params.allowTouchMove,
                allowSlideNext: swiper.params.allowSlideNext,
                allowSlidePrev: swiper.params.allowSlidePrev
            });
            if (wasEnabled && !isEnabled) swiper.disable(); else if (!wasEnabled && isEnabled) swiper.enable();
            swiper.currentBreakpoint = breakpoint;
            swiper.emit("_beforeBreakpoint", breakpointParams);
            if (needsReLoop && initialized) {
                swiper.loopDestroy();
                swiper.loopCreate();
                swiper.updateSlides();
                swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);
            }
            swiper.emit("breakpoint", breakpointParams);
        }
        function getBreakpoint(breakpoints, base = "window", containerEl) {
            if (!breakpoints || "container" === base && !containerEl) return;
            let breakpoint = false;
            const window = ssr_window_esm_getWindow();
            const currentHeight = "window" === base ? window.innerHeight : containerEl.clientHeight;
            const points = Object.keys(breakpoints).map((point => {
                if ("string" === typeof point && 0 === point.indexOf("@")) {
                    const minRatio = parseFloat(point.substr(1));
                    const value = currentHeight * minRatio;
                    return {
                        value,
                        point
                    };
                }
                return {
                    value: point,
                    point
                };
            }));
            points.sort(((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10)));
            for (let i = 0; i < points.length; i += 1) {
                const {point, value} = points[i];
                if ("window" === base) {
                    if (window.matchMedia(`(min-width: ${value}px)`).matches) breakpoint = point;
                } else if (value <= containerEl.clientWidth) breakpoint = point;
            }
            return breakpoint || "max";
        }
        const breakpoints = {
            setBreakpoint,
            getBreakpoint
        };
        function prepareClasses(entries, prefix) {
            const resultClasses = [];
            entries.forEach((item => {
                if ("object" === typeof item) Object.keys(item).forEach((classNames => {
                    if (item[classNames]) resultClasses.push(prefix + classNames);
                })); else if ("string" === typeof item) resultClasses.push(prefix + item);
            }));
            return resultClasses;
        }
        function addClasses() {
            const swiper = this;
            const {classNames, params, rtl, $el, device, support} = swiper;
            const suffixes = prepareClasses([ "initialized", params.direction, {
                "pointer-events": !support.touch
            }, {
                "free-mode": swiper.params.freeMode && params.freeMode.enabled
            }, {
                autoheight: params.autoHeight
            }, {
                rtl
            }, {
                grid: params.grid && params.grid.rows > 1
            }, {
                "grid-column": params.grid && params.grid.rows > 1 && "column" === params.grid.fill
            }, {
                android: device.android
            }, {
                ios: device.ios
            }, {
                "css-mode": params.cssMode
            }, {
                centered: params.cssMode && params.centeredSlides
            }, {
                "watch-progress": params.watchSlidesProgress
            } ], params.containerModifierClass);
            classNames.push(...suffixes);
            $el.addClass([ ...classNames ].join(" "));
            swiper.emitContainerClasses();
        }
        function removeClasses_removeClasses() {
            const swiper = this;
            const {$el, classNames} = swiper;
            $el.removeClass(classNames.join(" "));
            swiper.emitContainerClasses();
        }
        const classes = {
            addClasses,
            removeClasses: removeClasses_removeClasses
        };
        function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {
            const window = ssr_window_esm_getWindow();
            let image;
            function onReady() {
                if (callback) callback();
            }
            const isPicture = dom(imageEl).parent("picture")[0];
            if (!isPicture && (!imageEl.complete || !checkForComplete)) if (src) {
                image = new window.Image;
                image.onload = onReady;
                image.onerror = onReady;
                if (sizes) image.sizes = sizes;
                if (srcset) image.srcset = srcset;
                if (src) image.src = src;
            } else onReady(); else onReady();
        }
        function preloadImages() {
            const swiper = this;
            swiper.imagesToLoad = swiper.$el.find("img");
            function onReady() {
                if ("undefined" === typeof swiper || null === swiper || !swiper || swiper.destroyed) return;
                if (void 0 !== swiper.imagesLoaded) swiper.imagesLoaded += 1;
                if (swiper.imagesLoaded === swiper.imagesToLoad.length) {
                    if (swiper.params.updateOnImagesReady) swiper.update();
                    swiper.emit("imagesReady");
                }
            }
            for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {
                const imageEl = swiper.imagesToLoad[i];
                swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute("src"), imageEl.srcset || imageEl.getAttribute("srcset"), imageEl.sizes || imageEl.getAttribute("sizes"), true, onReady);
            }
        }
        const core_images = {
            loadImage,
            preloadImages
        };
        function checkOverflow() {
            const swiper = this;
            const {isLocked: wasLocked, params} = swiper;
            const {slidesOffsetBefore} = params;
            if (slidesOffsetBefore) {
                const lastSlideIndex = swiper.slides.length - 1;
                const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + 2 * slidesOffsetBefore;
                swiper.isLocked = swiper.size > lastSlideRightEdge;
            } else swiper.isLocked = 1 === swiper.snapGrid.length;
            if (true === params.allowSlideNext) swiper.allowSlideNext = !swiper.isLocked;
            if (true === params.allowSlidePrev) swiper.allowSlidePrev = !swiper.isLocked;
            if (wasLocked && wasLocked !== swiper.isLocked) swiper.isEnd = false;
            if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? "lock" : "unlock");
        }
        const check_overflow = {
            checkOverflow
        };
        const defaults = {
            init: true,
            direction: "horizontal",
            touchEventsTarget: "wrapper",
            initialSlide: 0,
            speed: 300,
            cssMode: false,
            updateOnWindowResize: true,
            resizeObserver: true,
            nested: false,
            createElements: false,
            enabled: true,
            focusableElements: "input, select, option, textarea, button, video, label",
            width: null,
            height: null,
            preventInteractionOnTransition: false,
            userAgent: null,
            url: null,
            edgeSwipeDetection: false,
            edgeSwipeThreshold: 20,
            autoHeight: false,
            setWrapperSize: false,
            virtualTranslate: false,
            effect: "slide",
            breakpoints: void 0,
            breakpointsBase: "window",
            spaceBetween: 0,
            slidesPerView: 1,
            slidesPerGroup: 1,
            slidesPerGroupSkip: 0,
            slidesPerGroupAuto: false,
            centeredSlides: false,
            centeredSlidesBounds: false,
            slidesOffsetBefore: 0,
            slidesOffsetAfter: 0,
            normalizeSlideIndex: true,
            centerInsufficientSlides: false,
            watchOverflow: true,
            roundLengths: false,
            touchRatio: 1,
            touchAngle: 45,
            simulateTouch: true,
            shortSwipes: true,
            longSwipes: true,
            longSwipesRatio: .5,
            longSwipesMs: 300,
            followFinger: true,
            allowTouchMove: true,
            threshold: 0,
            touchMoveStopPropagation: false,
            touchStartPreventDefault: true,
            touchStartForcePreventDefault: false,
            touchReleaseOnEdges: false,
            uniqueNavElements: true,
            resistance: true,
            resistanceRatio: .85,
            watchSlidesProgress: false,
            grabCursor: false,
            preventClicks: true,
            preventClicksPropagation: true,
            slideToClickedSlide: false,
            preloadImages: true,
            updateOnImagesReady: true,
            loop: false,
            loopAdditionalSlides: 0,
            loopedSlides: null,
            loopedSlidesLimit: true,
            loopFillGroupWithBlank: false,
            loopPreventsSlide: true,
            rewind: false,
            allowSlidePrev: true,
            allowSlideNext: true,
            swipeHandler: null,
            noSwiping: true,
            noSwipingClass: "swiper-no-swiping",
            noSwipingSelector: null,
            passiveListeners: true,
            maxBackfaceHiddenSlides: 10,
            containerModifierClass: "swiper-",
            slideClass: "swiper-slide",
            slideBlankClass: "swiper-slide-invisible-blank",
            slideActiveClass: "swiper-slide-active",
            slideDuplicateActiveClass: "swiper-slide-duplicate-active",
            slideVisibleClass: "swiper-slide-visible",
            slideDuplicateClass: "swiper-slide-duplicate",
            slideNextClass: "swiper-slide-next",
            slideDuplicateNextClass: "swiper-slide-duplicate-next",
            slidePrevClass: "swiper-slide-prev",
            slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
            wrapperClass: "swiper-wrapper",
            runCallbacksOnInit: true,
            _emitClasses: false
        };
        function moduleExtendParams(params, allModulesParams) {
            return function extendParams(obj = {}) {
                const moduleParamName = Object.keys(obj)[0];
                const moduleParams = obj[moduleParamName];
                if ("object" !== typeof moduleParams || null === moduleParams) {
                    utils_extend(allModulesParams, obj);
                    return;
                }
                if ([ "navigation", "pagination", "scrollbar" ].indexOf(moduleParamName) >= 0 && true === params[moduleParamName]) params[moduleParamName] = {
                    auto: true
                };
                if (!(moduleParamName in params && "enabled" in moduleParams)) {
                    utils_extend(allModulesParams, obj);
                    return;
                }
                if (true === params[moduleParamName]) params[moduleParamName] = {
                    enabled: true
                };
                if ("object" === typeof params[moduleParamName] && !("enabled" in params[moduleParamName])) params[moduleParamName].enabled = true;
                if (!params[moduleParamName]) params[moduleParamName] = {
                    enabled: false
                };
                utils_extend(allModulesParams, obj);
            };
        }
        const prototypes = {
            eventsEmitter: events_emitter,
            update,
            translate,
            transition: core_transition,
            slide,
            loop,
            grabCursor: grab_cursor,
            events: core_events,
            breakpoints,
            checkOverflow: check_overflow,
            classes,
            images: core_images
        };
        const extendedDefaults = {};
        class core_Swiper {
            constructor(...args) {
                let el;
                let params;
                if (1 === args.length && args[0].constructor && "Object" === Object.prototype.toString.call(args[0]).slice(8, -1)) params = args[0]; else [el, params] = args;
                if (!params) params = {};
                params = utils_extend({}, params);
                if (el && !params.el) params.el = el;
                if (params.el && dom(params.el).length > 1) {
                    const swipers = [];
                    dom(params.el).each((containerEl => {
                        const newParams = utils_extend({}, params, {
                            el: containerEl
                        });
                        swipers.push(new core_Swiper(newParams));
                    }));
                    return swipers;
                }
                const swiper = this;
                swiper.__swiper__ = true;
                swiper.support = getSupport();
                swiper.device = getDevice({
                    userAgent: params.userAgent
                });
                swiper.browser = getBrowser();
                swiper.eventsListeners = {};
                swiper.eventsAnyListeners = [];
                swiper.modules = [ ...swiper.__modules__ ];
                if (params.modules && Array.isArray(params.modules)) swiper.modules.push(...params.modules);
                const allModulesParams = {};
                swiper.modules.forEach((mod => {
                    mod({
                        swiper,
                        extendParams: moduleExtendParams(params, allModulesParams),
                        on: swiper.on.bind(swiper),
                        once: swiper.once.bind(swiper),
                        off: swiper.off.bind(swiper),
                        emit: swiper.emit.bind(swiper)
                    });
                }));
                const swiperParams = utils_extend({}, defaults, allModulesParams);
                swiper.params = utils_extend({}, swiperParams, extendedDefaults, params);
                swiper.originalParams = utils_extend({}, swiper.params);
                swiper.passedParams = utils_extend({}, params);
                if (swiper.params && swiper.params.on) Object.keys(swiper.params.on).forEach((eventName => {
                    swiper.on(eventName, swiper.params.on[eventName]);
                }));
                if (swiper.params && swiper.params.onAny) swiper.onAny(swiper.params.onAny);
                swiper.$ = dom;
                Object.assign(swiper, {
                    enabled: swiper.params.enabled,
                    el,
                    classNames: [],
                    slides: dom(),
                    slidesGrid: [],
                    snapGrid: [],
                    slidesSizesGrid: [],
                    isHorizontal() {
                        return "horizontal" === swiper.params.direction;
                    },
                    isVertical() {
                        return "vertical" === swiper.params.direction;
                    },
                    activeIndex: 0,
                    realIndex: 0,
                    isBeginning: true,
                    isEnd: false,
                    translate: 0,
                    previousTranslate: 0,
                    progress: 0,
                    velocity: 0,
                    animating: false,
                    allowSlideNext: swiper.params.allowSlideNext,
                    allowSlidePrev: swiper.params.allowSlidePrev,
                    touchEvents: function touchEvents() {
                        const touch = [ "touchstart", "touchmove", "touchend", "touchcancel" ];
                        const desktop = [ "pointerdown", "pointermove", "pointerup" ];
                        swiper.touchEventsTouch = {
                            start: touch[0],
                            move: touch[1],
                            end: touch[2],
                            cancel: touch[3]
                        };
                        swiper.touchEventsDesktop = {
                            start: desktop[0],
                            move: desktop[1],
                            end: desktop[2]
                        };
                        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;
                    }(),
                    touchEventsData: {
                        isTouched: void 0,
                        isMoved: void 0,
                        allowTouchCallbacks: void 0,
                        touchStartTime: void 0,
                        isScrolling: void 0,
                        currentTranslate: void 0,
                        startTranslate: void 0,
                        allowThresholdMove: void 0,
                        focusableElements: swiper.params.focusableElements,
                        lastClickTime: utils_now(),
                        clickTimeout: void 0,
                        velocities: [],
                        allowMomentumBounce: void 0,
                        isTouchEvent: void 0,
                        startMoving: void 0
                    },
                    allowClick: true,
                    allowTouchMove: swiper.params.allowTouchMove,
                    touches: {
                        startX: 0,
                        startY: 0,
                        currentX: 0,
                        currentY: 0,
                        diff: 0
                    },
                    imagesToLoad: [],
                    imagesLoaded: 0
                });
                swiper.emit("_swiper");
                if (swiper.params.init) swiper.init();
                return swiper;
            }
            enable() {
                const swiper = this;
                if (swiper.enabled) return;
                swiper.enabled = true;
                if (swiper.params.grabCursor) swiper.setGrabCursor();
                swiper.emit("enable");
            }
            disable() {
                const swiper = this;
                if (!swiper.enabled) return;
                swiper.enabled = false;
                if (swiper.params.grabCursor) swiper.unsetGrabCursor();
                swiper.emit("disable");
            }
            setProgress(progress, speed) {
                const swiper = this;
                progress = Math.min(Math.max(progress, 0), 1);
                const min = swiper.minTranslate();
                const max = swiper.maxTranslate();
                const current = (max - min) * progress + min;
                swiper.translateTo(current, "undefined" === typeof speed ? 0 : speed);
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
            }
            emitContainerClasses() {
                const swiper = this;
                if (!swiper.params._emitClasses || !swiper.el) return;
                const cls = swiper.el.className.split(" ").filter((className => 0 === className.indexOf("swiper") || 0 === className.indexOf(swiper.params.containerModifierClass)));
                swiper.emit("_containerClasses", cls.join(" "));
            }
            getSlideClasses(slideEl) {
                const swiper = this;
                if (swiper.destroyed) return "";
                return slideEl.className.split(" ").filter((className => 0 === className.indexOf("swiper-slide") || 0 === className.indexOf(swiper.params.slideClass))).join(" ");
            }
            emitSlidesClasses() {
                const swiper = this;
                if (!swiper.params._emitClasses || !swiper.el) return;
                const updates = [];
                swiper.slides.each((slideEl => {
                    const classNames = swiper.getSlideClasses(slideEl);
                    updates.push({
                        slideEl,
                        classNames
                    });
                    swiper.emit("_slideClass", slideEl, classNames);
                }));
                swiper.emit("_slideClasses", updates);
            }
            slidesPerViewDynamic(view = "current", exact = false) {
                const swiper = this;
                const {params, slides, slidesGrid, slidesSizesGrid, size: swiperSize, activeIndex} = swiper;
                let spv = 1;
                if (params.centeredSlides) {
                    let slideSize = slides[activeIndex].swiperSlideSize;
                    let breakLoop;
                    for (let i = activeIndex + 1; i < slides.length; i += 1) if (slides[i] && !breakLoop) {
                        slideSize += slides[i].swiperSlideSize;
                        spv += 1;
                        if (slideSize > swiperSize) breakLoop = true;
                    }
                    for (let i = activeIndex - 1; i >= 0; i -= 1) if (slides[i] && !breakLoop) {
                        slideSize += slides[i].swiperSlideSize;
                        spv += 1;
                        if (slideSize > swiperSize) breakLoop = true;
                    }
                } else if ("current" === view) for (let i = activeIndex + 1; i < slides.length; i += 1) {
                    const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;
                    if (slideInView) spv += 1;
                } else for (let i = activeIndex - 1; i >= 0; i -= 1) {
                    const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;
                    if (slideInView) spv += 1;
                }
                return spv;
            }
            update() {
                const swiper = this;
                if (!swiper || swiper.destroyed) return;
                const {snapGrid, params} = swiper;
                if (params.breakpoints) swiper.setBreakpoint();
                swiper.updateSize();
                swiper.updateSlides();
                swiper.updateProgress();
                swiper.updateSlidesClasses();
                function setTranslate() {
                    const translateValue = swiper.rtlTranslate ? -1 * swiper.translate : swiper.translate;
                    const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());
                    swiper.setTranslate(newTranslate);
                    swiper.updateActiveIndex();
                    swiper.updateSlidesClasses();
                }
                let translated;
                if (swiper.params.freeMode && swiper.params.freeMode.enabled) {
                    setTranslate();
                    if (swiper.params.autoHeight) swiper.updateAutoHeight();
                } else {
                    if (("auto" === swiper.params.slidesPerView || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true); else translated = swiper.slideTo(swiper.activeIndex, 0, false, true);
                    if (!translated) setTranslate();
                }
                if (params.watchOverflow && snapGrid !== swiper.snapGrid) swiper.checkOverflow();
                swiper.emit("update");
            }
            changeDirection(newDirection, needUpdate = true) {
                const swiper = this;
                const currentDirection = swiper.params.direction;
                if (!newDirection) newDirection = "horizontal" === currentDirection ? "vertical" : "horizontal";
                if (newDirection === currentDirection || "horizontal" !== newDirection && "vertical" !== newDirection) return swiper;
                swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);
                swiper.emitContainerClasses();
                swiper.params.direction = newDirection;
                swiper.slides.each((slideEl => {
                    if ("vertical" === newDirection) slideEl.style.width = ""; else slideEl.style.height = "";
                }));
                swiper.emit("changeDirection");
                if (needUpdate) swiper.update();
                return swiper;
            }
            changeLanguageDirection(direction) {
                const swiper = this;
                if (swiper.rtl && "rtl" === direction || !swiper.rtl && "ltr" === direction) return;
                swiper.rtl = "rtl" === direction;
                swiper.rtlTranslate = "horizontal" === swiper.params.direction && swiper.rtl;
                if (swiper.rtl) {
                    swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);
                    swiper.el.dir = "rtl";
                } else {
                    swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);
                    swiper.el.dir = "ltr";
                }
                swiper.update();
            }
            mount(el) {
                const swiper = this;
                if (swiper.mounted) return true;
                const $el = dom(el || swiper.params.el);
                el = $el[0];
                if (!el) return false;
                el.swiper = swiper;
                const getWrapperSelector = () => `.${(swiper.params.wrapperClass || "").trim().split(" ").join(".")}`;
                const getWrapper = () => {
                    if (el && el.shadowRoot && el.shadowRoot.querySelector) {
                        const res = dom(el.shadowRoot.querySelector(getWrapperSelector()));
                        res.children = options => $el.children(options);
                        return res;
                    }
                    if (!$el.children) return dom($el).children(getWrapperSelector());
                    return $el.children(getWrapperSelector());
                };
                let $wrapperEl = getWrapper();
                if (0 === $wrapperEl.length && swiper.params.createElements) {
                    const document = ssr_window_esm_getDocument();
                    const wrapper = document.createElement("div");
                    $wrapperEl = dom(wrapper);
                    wrapper.className = swiper.params.wrapperClass;
                    $el.append(wrapper);
                    $el.children(`.${swiper.params.slideClass}`).each((slideEl => {
                        $wrapperEl.append(slideEl);
                    }));
                }
                Object.assign(swiper, {
                    $el,
                    el,
                    $wrapperEl,
                    wrapperEl: $wrapperEl[0],
                    mounted: true,
                    rtl: "rtl" === el.dir.toLowerCase() || "rtl" === $el.css("direction"),
                    rtlTranslate: "horizontal" === swiper.params.direction && ("rtl" === el.dir.toLowerCase() || "rtl" === $el.css("direction")),
                    wrongRTL: "-webkit-box" === $wrapperEl.css("display")
                });
                return true;
            }
            init(el) {
                const swiper = this;
                if (swiper.initialized) return swiper;
                const mounted = swiper.mount(el);
                if (false === mounted) return swiper;
                swiper.emit("beforeInit");
                if (swiper.params.breakpoints) swiper.setBreakpoint();
                swiper.addClasses();
                if (swiper.params.loop) swiper.loopCreate();
                swiper.updateSize();
                swiper.updateSlides();
                if (swiper.params.watchOverflow) swiper.checkOverflow();
                if (swiper.params.grabCursor && swiper.enabled) swiper.setGrabCursor();
                if (swiper.params.preloadImages) swiper.preloadImages();
                if (swiper.params.loop) swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true); else swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);
                swiper.attachEvents();
                swiper.initialized = true;
                swiper.emit("init");
                swiper.emit("afterInit");
                return swiper;
            }
            destroy(deleteInstance = true, cleanStyles = true) {
                const swiper = this;
                const {params, $el, $wrapperEl, slides} = swiper;
                if ("undefined" === typeof swiper.params || swiper.destroyed) return null;
                swiper.emit("beforeDestroy");
                swiper.initialized = false;
                swiper.detachEvents();
                if (params.loop) swiper.loopDestroy();
                if (cleanStyles) {
                    swiper.removeClasses();
                    $el.removeAttr("style");
                    $wrapperEl.removeAttr("style");
                    if (slides && slides.length) slides.removeClass([ params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass ].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index");
                }
                swiper.emit("destroy");
                Object.keys(swiper.eventsListeners).forEach((eventName => {
                    swiper.off(eventName);
                }));
                if (false !== deleteInstance) {
                    swiper.$el[0].swiper = null;
                    deleteProps(swiper);
                }
                swiper.destroyed = true;
                return null;
            }
            static extendDefaults(newDefaults) {
                utils_extend(extendedDefaults, newDefaults);
            }
            static get extendedDefaults() {
                return extendedDefaults;
            }
            static get defaults() {
                return defaults;
            }
            static installModule(mod) {
                if (!core_Swiper.prototype.__modules__) core_Swiper.prototype.__modules__ = [];
                const modules = core_Swiper.prototype.__modules__;
                if ("function" === typeof mod && modules.indexOf(mod) < 0) modules.push(mod);
            }
            static use(module) {
                if (Array.isArray(module)) {
                    module.forEach((m => core_Swiper.installModule(m)));
                    return core_Swiper;
                }
                core_Swiper.installModule(module);
                return core_Swiper;
            }
        }
        Object.keys(prototypes).forEach((prototypeGroup => {
            Object.keys(prototypes[prototypeGroup]).forEach((protoMethod => {
                core_Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];
            }));
        }));
        core_Swiper.use([ Resize, Observer ]);
        const core = core_Swiper;
        function create_element_if_not_defined_createElementIfNotDefined(swiper, originalParams, params, checkProps) {
            const document = ssr_window_esm_getDocument();
            if (swiper.params.createElements) Object.keys(checkProps).forEach((key => {
                if (!params[key] && true === params.auto) {
                    let element = swiper.$el.children(`.${checkProps[key]}`)[0];
                    if (!element) {
                        element = document.createElement("div");
                        element.className = checkProps[key];
                        swiper.$el.append(element);
                    }
                    params[key] = element;
                    originalParams[key] = element;
                }
            }));
            return params;
        }
        function Navigation({swiper, extendParams, on, emit}) {
            extendParams({
                navigation: {
                    nextEl: null,
                    prevEl: null,
                    hideOnClick: false,
                    disabledClass: "swiper-button-disabled",
                    hiddenClass: "swiper-button-hidden",
                    lockClass: "swiper-button-lock",
                    navigationDisabledClass: "swiper-navigation-disabled"
                }
            });
            swiper.navigation = {
                nextEl: null,
                $nextEl: null,
                prevEl: null,
                $prevEl: null
            };
            function getEl(el) {
                let $el;
                if (el) {
                    $el = dom(el);
                    if (swiper.params.uniqueNavElements && "string" === typeof el && $el.length > 1 && 1 === swiper.$el.find(el).length) $el = swiper.$el.find(el);
                }
                return $el;
            }
            function toggleEl($el, disabled) {
                const params = swiper.params.navigation;
                if ($el && $el.length > 0) {
                    $el[disabled ? "addClass" : "removeClass"](params.disabledClass);
                    if ($el[0] && "BUTTON" === $el[0].tagName) $el[0].disabled = disabled;
                    if (swiper.params.watchOverflow && swiper.enabled) $el[swiper.isLocked ? "addClass" : "removeClass"](params.lockClass);
                }
            }
            function update() {
                if (swiper.params.loop) return;
                const {$nextEl, $prevEl} = swiper.navigation;
                toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);
                toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);
            }
            function onPrevClick(e) {
                e.preventDefault();
                if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;
                swiper.slidePrev();
                emit("navigationPrev");
            }
            function onNextClick(e) {
                e.preventDefault();
                if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;
                swiper.slideNext();
                emit("navigationNext");
            }
            function init() {
                const params = swiper.params.navigation;
                swiper.params.navigation = create_element_if_not_defined_createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {
                    nextEl: "swiper-button-next",
                    prevEl: "swiper-button-prev"
                });
                if (!(params.nextEl || params.prevEl)) return;
                const $nextEl = getEl(params.nextEl);
                const $prevEl = getEl(params.prevEl);
                if ($nextEl && $nextEl.length > 0) $nextEl.on("click", onNextClick);
                if ($prevEl && $prevEl.length > 0) $prevEl.on("click", onPrevClick);
                Object.assign(swiper.navigation, {
                    $nextEl,
                    nextEl: $nextEl && $nextEl[0],
                    $prevEl,
                    prevEl: $prevEl && $prevEl[0]
                });
                if (!swiper.enabled) {
                    if ($nextEl) $nextEl.addClass(params.lockClass);
                    if ($prevEl) $prevEl.addClass(params.lockClass);
                }
            }
            function destroy() {
                const {$nextEl, $prevEl} = swiper.navigation;
                if ($nextEl && $nextEl.length) {
                    $nextEl.off("click", onNextClick);
                    $nextEl.removeClass(swiper.params.navigation.disabledClass);
                }
                if ($prevEl && $prevEl.length) {
                    $prevEl.off("click", onPrevClick);
                    $prevEl.removeClass(swiper.params.navigation.disabledClass);
                }
            }
            on("init", (() => {
                if (false === swiper.params.navigation.enabled) disable(); else {
                    init();
                    update();
                }
            }));
            on("toEdge fromEdge lock unlock", (() => {
                update();
            }));
            on("destroy", (() => {
                destroy();
            }));
            on("enable disable", (() => {
                const {$nextEl, $prevEl} = swiper.navigation;
                if ($nextEl) $nextEl[swiper.enabled ? "removeClass" : "addClass"](swiper.params.navigation.lockClass);
                if ($prevEl) $prevEl[swiper.enabled ? "removeClass" : "addClass"](swiper.params.navigation.lockClass);
            }));
            on("click", ((_s, e) => {
                const {$nextEl, $prevEl} = swiper.navigation;
                const targetEl = e.target;
                if (swiper.params.navigation.hideOnClick && !dom(targetEl).is($prevEl) && !dom(targetEl).is($nextEl)) {
                    if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;
                    let isHidden;
                    if ($nextEl) isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass); else if ($prevEl) isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);
                    if (true === isHidden) emit("navigationShow"); else emit("navigationHide");
                    if ($nextEl) $nextEl.toggleClass(swiper.params.navigation.hiddenClass);
                    if ($prevEl) $prevEl.toggleClass(swiper.params.navigation.hiddenClass);
                }
            }));
            const enable = () => {
                swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);
                init();
                update();
            };
            const disable = () => {
                swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);
                destroy();
            };
            Object.assign(swiper.navigation, {
                enable,
                disable,
                update,
                init,
                destroy
            });
        }
        function classes_to_selector_classesToSelector(classes = "") {
            return `.${classes.trim().replace(/([\.:!\/])/g, "\\$1").replace(/ /g, ".")}`;
        }
        function Pagination({swiper, extendParams, on, emit}) {
            const pfx = "swiper-pagination";
            extendParams({
                pagination: {
                    el: null,
                    bulletElement: "span",
                    clickable: false,
                    hideOnClick: false,
                    renderBullet: null,
                    renderProgressbar: null,
                    renderFraction: null,
                    renderCustom: null,
                    progressbarOpposite: false,
                    type: "bullets",
                    dynamicBullets: false,
                    dynamicMainBullets: 1,
                    formatFractionCurrent: number => number,
                    formatFractionTotal: number => number,
                    bulletClass: `${pfx}-bullet`,
                    bulletActiveClass: `${pfx}-bullet-active`,
                    modifierClass: `${pfx}-`,
                    currentClass: `${pfx}-current`,
                    totalClass: `${pfx}-total`,
                    hiddenClass: `${pfx}-hidden`,
                    progressbarFillClass: `${pfx}-progressbar-fill`,
                    progressbarOppositeClass: `${pfx}-progressbar-opposite`,
                    clickableClass: `${pfx}-clickable`,
                    lockClass: `${pfx}-lock`,
                    horizontalClass: `${pfx}-horizontal`,
                    verticalClass: `${pfx}-vertical`,
                    paginationDisabledClass: `${pfx}-disabled`
                }
            });
            swiper.pagination = {
                el: null,
                $el: null,
                bullets: []
            };
            let bulletSize;
            let dynamicBulletIndex = 0;
            function isPaginationDisabled() {
                return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || 0 === swiper.pagination.$el.length;
            }
            function setSideBullets($bulletEl, position) {
                const {bulletActiveClass} = swiper.params.pagination;
                $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);
            }
            function update() {
                const rtl = swiper.rtl;
                const params = swiper.params.pagination;
                if (isPaginationDisabled()) return;
                const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
                const $el = swiper.pagination.$el;
                let current;
                const total = swiper.params.loop ? Math.ceil((slidesLength - 2 * swiper.loopedSlides) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;
                if (swiper.params.loop) {
                    current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);
                    if (current > slidesLength - 1 - 2 * swiper.loopedSlides) current -= slidesLength - 2 * swiper.loopedSlides;
                    if (current > total - 1) current -= total;
                    if (current < 0 && "bullets" !== swiper.params.paginationType) current = total + current;
                } else if ("undefined" !== typeof swiper.snapIndex) current = swiper.snapIndex; else current = swiper.activeIndex || 0;
                if ("bullets" === params.type && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {
                    const bullets = swiper.pagination.bullets;
                    let firstIndex;
                    let lastIndex;
                    let midIndex;
                    if (params.dynamicBullets) {
                        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? "outerWidth" : "outerHeight"](true);
                        $el.css(swiper.isHorizontal() ? "width" : "height", `${bulletSize * (params.dynamicMainBullets + 4)}px`);
                        if (params.dynamicMainBullets > 1 && void 0 !== swiper.previousIndex) {
                            dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);
                            if (dynamicBulletIndex > params.dynamicMainBullets - 1) dynamicBulletIndex = params.dynamicMainBullets - 1; else if (dynamicBulletIndex < 0) dynamicBulletIndex = 0;
                        }
                        firstIndex = Math.max(current - dynamicBulletIndex, 0);
                        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);
                        midIndex = (lastIndex + firstIndex) / 2;
                    }
                    bullets.removeClass([ "", "-next", "-next-next", "-prev", "-prev-prev", "-main" ].map((suffix => `${params.bulletActiveClass}${suffix}`)).join(" "));
                    if ($el.length > 1) bullets.each((bullet => {
                        const $bullet = dom(bullet);
                        const bulletIndex = $bullet.index();
                        if (bulletIndex === current) $bullet.addClass(params.bulletActiveClass);
                        if (params.dynamicBullets) {
                            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) $bullet.addClass(`${params.bulletActiveClass}-main`);
                            if (bulletIndex === firstIndex) setSideBullets($bullet, "prev");
                            if (bulletIndex === lastIndex) setSideBullets($bullet, "next");
                        }
                    })); else {
                        const $bullet = bullets.eq(current);
                        const bulletIndex = $bullet.index();
                        $bullet.addClass(params.bulletActiveClass);
                        if (params.dynamicBullets) {
                            const $firstDisplayedBullet = bullets.eq(firstIndex);
                            const $lastDisplayedBullet = bullets.eq(lastIndex);
                            for (let i = firstIndex; i <= lastIndex; i += 1) bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);
                            if (swiper.params.loop) if (bulletIndex >= bullets.length) {
                                for (let i = params.dynamicMainBullets; i >= 0; i -= 1) bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);
                                bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);
                            } else {
                                setSideBullets($firstDisplayedBullet, "prev");
                                setSideBullets($lastDisplayedBullet, "next");
                            } else {
                                setSideBullets($firstDisplayedBullet, "prev");
                                setSideBullets($lastDisplayedBullet, "next");
                            }
                        }
                    }
                    if (params.dynamicBullets) {
                        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);
                        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;
                        const offsetProp = rtl ? "right" : "left";
                        bullets.css(swiper.isHorizontal() ? offsetProp : "top", `${bulletsOffset}px`);
                    }
                }
                if ("fraction" === params.type) {
                    $el.find(classes_to_selector_classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));
                    $el.find(classes_to_selector_classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));
                }
                if ("progressbar" === params.type) {
                    let progressbarDirection;
                    if (params.progressbarOpposite) progressbarDirection = swiper.isHorizontal() ? "vertical" : "horizontal"; else progressbarDirection = swiper.isHorizontal() ? "horizontal" : "vertical";
                    const scale = (current + 1) / total;
                    let scaleX = 1;
                    let scaleY = 1;
                    if ("horizontal" === progressbarDirection) scaleX = scale; else scaleY = scale;
                    $el.find(classes_to_selector_classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);
                }
                if ("custom" === params.type && params.renderCustom) {
                    $el.html(params.renderCustom(swiper, current + 1, total));
                    emit("paginationRender", $el[0]);
                } else emit("paginationUpdate", $el[0]);
                if (swiper.params.watchOverflow && swiper.enabled) $el[swiper.isLocked ? "addClass" : "removeClass"](params.lockClass);
            }
            function render() {
                const params = swiper.params.pagination;
                if (isPaginationDisabled()) return;
                const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
                const $el = swiper.pagination.$el;
                let paginationHTML = "";
                if ("bullets" === params.type) {
                    let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - 2 * swiper.loopedSlides) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;
                    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) numberOfBullets = slidesLength;
                    for (let i = 0; i < numberOfBullets; i += 1) if (params.renderBullet) paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass); else paginationHTML += `<${params.bulletElement} class="${params.bulletClass}"></${params.bulletElement}>`;
                    $el.html(paginationHTML);
                    swiper.pagination.bullets = $el.find(classes_to_selector_classesToSelector(params.bulletClass));
                }
                if ("fraction" === params.type) {
                    if (params.renderFraction) paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass); else paginationHTML = `<span class="${params.currentClass}"></span>` + " / " + `<span class="${params.totalClass}"></span>`;
                    $el.html(paginationHTML);
                }
                if ("progressbar" === params.type) {
                    if (params.renderProgressbar) paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass); else paginationHTML = `<span class="${params.progressbarFillClass}"></span>`;
                    $el.html(paginationHTML);
                }
                if ("custom" !== params.type) emit("paginationRender", swiper.pagination.$el[0]);
            }
            function init() {
                swiper.params.pagination = create_element_if_not_defined_createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {
                    el: "swiper-pagination"
                });
                const params = swiper.params.pagination;
                if (!params.el) return;
                let $el = dom(params.el);
                if (0 === $el.length) return;
                if (swiper.params.uniqueNavElements && "string" === typeof params.el && $el.length > 1) {
                    $el = swiper.$el.find(params.el);
                    if ($el.length > 1) $el = $el.filter((el => {
                        if (dom(el).parents(".swiper")[0] !== swiper.el) return false;
                        return true;
                    }));
                }
                if ("bullets" === params.type && params.clickable) $el.addClass(params.clickableClass);
                $el.addClass(params.modifierClass + params.type);
                $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);
                if ("bullets" === params.type && params.dynamicBullets) {
                    $el.addClass(`${params.modifierClass}${params.type}-dynamic`);
                    dynamicBulletIndex = 0;
                    if (params.dynamicMainBullets < 1) params.dynamicMainBullets = 1;
                }
                if ("progressbar" === params.type && params.progressbarOpposite) $el.addClass(params.progressbarOppositeClass);
                if (params.clickable) $el.on("click", classes_to_selector_classesToSelector(params.bulletClass), (function onClick(e) {
                    e.preventDefault();
                    let index = dom(this).index() * swiper.params.slidesPerGroup;
                    if (swiper.params.loop) index += swiper.loopedSlides;
                    swiper.slideTo(index);
                }));
                Object.assign(swiper.pagination, {
                    $el,
                    el: $el[0]
                });
                if (!swiper.enabled) $el.addClass(params.lockClass);
            }
            function destroy() {
                const params = swiper.params.pagination;
                if (isPaginationDisabled()) return;
                const $el = swiper.pagination.$el;
                $el.removeClass(params.hiddenClass);
                $el.removeClass(params.modifierClass + params.type);
                $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);
                if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);
                if (params.clickable) $el.off("click", classes_to_selector_classesToSelector(params.bulletClass));
            }
            on("init", (() => {
                if (false === swiper.params.pagination.enabled) disable(); else {
                    init();
                    render();
                    update();
                }
            }));
            on("activeIndexChange", (() => {
                if (swiper.params.loop) update(); else if ("undefined" === typeof swiper.snapIndex) update();
            }));
            on("snapIndexChange", (() => {
                if (!swiper.params.loop) update();
            }));
            on("slidesLengthChange", (() => {
                if (swiper.params.loop) {
                    render();
                    update();
                }
            }));
            on("snapGridLengthChange", (() => {
                if (!swiper.params.loop) {
                    render();
                    update();
                }
            }));
            on("destroy", (() => {
                destroy();
            }));
            on("enable disable", (() => {
                const {$el} = swiper.pagination;
                if ($el) $el[swiper.enabled ? "removeClass" : "addClass"](swiper.params.pagination.lockClass);
            }));
            on("lock unlock", (() => {
                update();
            }));
            on("click", ((_s, e) => {
                const targetEl = e.target;
                const {$el} = swiper.pagination;
                if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !dom(targetEl).hasClass(swiper.params.pagination.bulletClass)) {
                    if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;
                    const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);
                    if (true === isHidden) emit("paginationShow"); else emit("paginationHide");
                    $el.toggleClass(swiper.params.pagination.hiddenClass);
                }
            }));
            const enable = () => {
                swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);
                if (swiper.pagination.$el) swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);
                init();
                render();
                update();
            };
            const disable = () => {
                swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);
                if (swiper.pagination.$el) swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);
                destroy();
            };
            Object.assign(swiper.pagination, {
                enable,
                disable,
                render,
                update,
                init,
                destroy
            });
        }
        function freeMode({swiper, extendParams, emit, once}) {
            extendParams({
                freeMode: {
                    enabled: false,
                    momentum: true,
                    momentumRatio: 1,
                    momentumBounce: true,
                    momentumBounceRatio: 1,
                    momentumVelocityRatio: 1,
                    sticky: false,
                    minimumVelocity: .02
                }
            });
            function onTouchStart() {
                const translate = swiper.getTranslate();
                swiper.setTranslate(translate);
                swiper.setTransition(0);
                swiper.touchEventsData.velocities.length = 0;
                swiper.freeMode.onTouchEnd({
                    currentPos: swiper.rtl ? swiper.translate : -swiper.translate
                });
            }
            function onTouchMove() {
                const {touchEventsData: data, touches} = swiper;
                if (0 === data.velocities.length) data.velocities.push({
                    position: touches[swiper.isHorizontal() ? "startX" : "startY"],
                    time: data.touchStartTime
                });
                data.velocities.push({
                    position: touches[swiper.isHorizontal() ? "currentX" : "currentY"],
                    time: utils_now()
                });
            }
            function onTouchEnd({currentPos}) {
                const {params, $wrapperEl, rtlTranslate: rtl, snapGrid, touchEventsData: data} = swiper;
                const touchEndTime = utils_now();
                const timeDiff = touchEndTime - data.touchStartTime;
                if (currentPos < -swiper.minTranslate()) {
                    swiper.slideTo(swiper.activeIndex);
                    return;
                }
                if (currentPos > -swiper.maxTranslate()) {
                    if (swiper.slides.length < snapGrid.length) swiper.slideTo(snapGrid.length - 1); else swiper.slideTo(swiper.slides.length - 1);
                    return;
                }
                if (params.freeMode.momentum) {
                    if (data.velocities.length > 1) {
                        const lastMoveEvent = data.velocities.pop();
                        const velocityEvent = data.velocities.pop();
                        const distance = lastMoveEvent.position - velocityEvent.position;
                        const time = lastMoveEvent.time - velocityEvent.time;
                        swiper.velocity = distance / time;
                        swiper.velocity /= 2;
                        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) swiper.velocity = 0;
                        if (time > 150 || utils_now() - lastMoveEvent.time > 300) swiper.velocity = 0;
                    } else swiper.velocity = 0;
                    swiper.velocity *= params.freeMode.momentumVelocityRatio;
                    data.velocities.length = 0;
                    let momentumDuration = 1e3 * params.freeMode.momentumRatio;
                    const momentumDistance = swiper.velocity * momentumDuration;
                    let newPosition = swiper.translate + momentumDistance;
                    if (rtl) newPosition = -newPosition;
                    let doBounce = false;
                    let afterBouncePosition;
                    const bounceAmount = 20 * Math.abs(swiper.velocity) * params.freeMode.momentumBounceRatio;
                    let needsLoopFix;
                    if (newPosition < swiper.maxTranslate()) {
                        if (params.freeMode.momentumBounce) {
                            if (newPosition + swiper.maxTranslate() < -bounceAmount) newPosition = swiper.maxTranslate() - bounceAmount;
                            afterBouncePosition = swiper.maxTranslate();
                            doBounce = true;
                            data.allowMomentumBounce = true;
                        } else newPosition = swiper.maxTranslate();
                        if (params.loop && params.centeredSlides) needsLoopFix = true;
                    } else if (newPosition > swiper.minTranslate()) {
                        if (params.freeMode.momentumBounce) {
                            if (newPosition - swiper.minTranslate() > bounceAmount) newPosition = swiper.minTranslate() + bounceAmount;
                            afterBouncePosition = swiper.minTranslate();
                            doBounce = true;
                            data.allowMomentumBounce = true;
                        } else newPosition = swiper.minTranslate();
                        if (params.loop && params.centeredSlides) needsLoopFix = true;
                    } else if (params.freeMode.sticky) {
                        let nextSlide;
                        for (let j = 0; j < snapGrid.length; j += 1) if (snapGrid[j] > -newPosition) {
                            nextSlide = j;
                            break;
                        }
                        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || "next" === swiper.swipeDirection) newPosition = snapGrid[nextSlide]; else newPosition = snapGrid[nextSlide - 1];
                        newPosition = -newPosition;
                    }
                    if (needsLoopFix) once("transitionEnd", (() => {
                        swiper.loopFix();
                    }));
                    if (0 !== swiper.velocity) {
                        if (rtl) momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity); else momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);
                        if (params.freeMode.sticky) {
                            const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);
                            const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];
                            if (moveDistance < currentSlideSize) momentumDuration = params.speed; else if (moveDistance < 2 * currentSlideSize) momentumDuration = 1.5 * params.speed; else momentumDuration = 2.5 * params.speed;
                        }
                    } else if (params.freeMode.sticky) {
                        swiper.slideToClosest();
                        return;
                    }
                    if (params.freeMode.momentumBounce && doBounce) {
                        swiper.updateProgress(afterBouncePosition);
                        swiper.setTransition(momentumDuration);
                        swiper.setTranslate(newPosition);
                        swiper.transitionStart(true, swiper.swipeDirection);
                        swiper.animating = true;
                        $wrapperEl.transitionEnd((() => {
                            if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;
                            emit("momentumBounce");
                            swiper.setTransition(params.speed);
                            setTimeout((() => {
                                swiper.setTranslate(afterBouncePosition);
                                $wrapperEl.transitionEnd((() => {
                                    if (!swiper || swiper.destroyed) return;
                                    swiper.transitionEnd();
                                }));
                            }), 0);
                        }));
                    } else if (swiper.velocity) {
                        emit("_freeModeNoMomentumRelease");
                        swiper.updateProgress(newPosition);
                        swiper.setTransition(momentumDuration);
                        swiper.setTranslate(newPosition);
                        swiper.transitionStart(true, swiper.swipeDirection);
                        if (!swiper.animating) {
                            swiper.animating = true;
                            $wrapperEl.transitionEnd((() => {
                                if (!swiper || swiper.destroyed) return;
                                swiper.transitionEnd();
                            }));
                        }
                    } else swiper.updateProgress(newPosition);
                    swiper.updateActiveIndex();
                    swiper.updateSlidesClasses();
                } else if (params.freeMode.sticky) {
                    swiper.slideToClosest();
                    return;
                } else if (params.freeMode) emit("_freeModeNoMomentumRelease");
                if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {
                    swiper.updateProgress();
                    swiper.updateActiveIndex();
                    swiper.updateSlidesClasses();
                }
            }
            Object.assign(swiper, {
                freeMode: {
                    onTouchStart,
                    onTouchMove,
                    onTouchEnd
                }
            });
        }
        function effect_init_effectInit(params) {
            const {effect, swiper, on, setTranslate, setTransition, overwriteParams, perspective, recreateShadows, getEffectParams} = params;
            on("beforeInit", (() => {
                if (swiper.params.effect !== effect) return;
                swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);
                if (perspective && perspective()) swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);
                const overwriteParamsResult = overwriteParams ? overwriteParams() : {};
                Object.assign(swiper.params, overwriteParamsResult);
                Object.assign(swiper.originalParams, overwriteParamsResult);
            }));
            on("setTranslate", (() => {
                if (swiper.params.effect !== effect) return;
                setTranslate();
            }));
            on("setTransition", ((_s, duration) => {
                if (swiper.params.effect !== effect) return;
                setTransition(duration);
            }));
            on("transitionEnd", (() => {
                if (swiper.params.effect !== effect) return;
                if (recreateShadows) {
                    if (!getEffectParams || !getEffectParams().slideShadows) return;
                    swiper.slides.each((slideEl => {
                        const $slideEl = swiper.$(slideEl);
                        $slideEl.find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove();
                    }));
                    recreateShadows();
                }
            }));
            let requireUpdateOnVirtual;
            on("virtualUpdate", (() => {
                if (swiper.params.effect !== effect) return;
                if (!swiper.slides.length) requireUpdateOnVirtual = true;
                requestAnimationFrame((() => {
                    if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {
                        setTranslate();
                        requireUpdateOnVirtual = false;
                    }
                }));
            }));
        }
        function effect_target_effectTarget(effectParams, $slideEl) {
            if (effectParams.transformEl) return $slideEl.find(effectParams.transformEl).css({
                "backface-visibility": "hidden",
                "-webkit-backface-visibility": "hidden"
            });
            return $slideEl;
        }
        function effect_virtual_transition_end_effectVirtualTransitionEnd({swiper, duration, transformEl, allSlides}) {
            const {slides, activeIndex, $wrapperEl} = swiper;
            if (swiper.params.virtualTranslate && 0 !== duration) {
                let eventTriggered = false;
                let $transitionEndTarget;
                if (allSlides) $transitionEndTarget = transformEl ? slides.find(transformEl) : slides; else $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);
                $transitionEndTarget.transitionEnd((() => {
                    if (eventTriggered) return;
                    if (!swiper || swiper.destroyed) return;
                    eventTriggered = true;
                    swiper.animating = false;
                    const triggerEvents = [ "webkitTransitionEnd", "transitionend" ];
                    for (let i = 0; i < triggerEvents.length; i += 1) $wrapperEl.trigger(triggerEvents[i]);
                }));
            }
        }
        function EffectFade({swiper, extendParams, on}) {
            extendParams({
                fadeEffect: {
                    crossFade: false,
                    transformEl: null
                }
            });
            const setTranslate = () => {
                const {slides} = swiper;
                const params = swiper.params.fadeEffect;
                for (let i = 0; i < slides.length; i += 1) {
                    const $slideEl = swiper.slides.eq(i);
                    const offset = $slideEl[0].swiperSlideOffset;
                    let tx = -offset;
                    if (!swiper.params.virtualTranslate) tx -= swiper.translate;
                    let ty = 0;
                    if (!swiper.isHorizontal()) {
                        ty = tx;
                        tx = 0;
                    }
                    const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);
                    const $targetEl = effect_target_effectTarget(params, $slideEl);
                    $targetEl.css({
                        opacity: slideOpacity
                    }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);
                }
            };
            const setTransition = duration => {
                const {transformEl} = swiper.params.fadeEffect;
                const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;
                $transitionElements.transition(duration);
                effect_virtual_transition_end_effectVirtualTransitionEnd({
                    swiper,
                    duration,
                    transformEl,
                    allSlides: true
                });
            };
            effect_init_effectInit({
                effect: "fade",
                swiper,
                on,
                setTranslate,
                setTransition,
                overwriteParams: () => ({
                    slidesPerView: 1,
                    slidesPerGroup: 1,
                    watchSlidesProgress: true,
                    spaceBetween: 0,
                    virtualTranslate: !swiper.params.cssMode
                })
            });
        }
        function initSliders() {
            if (document.querySelector(".hero-banner__slider")) new core(".hero-banner__slider", {
                modules: [ Navigation, Pagination, EffectFade ],
                observer: true,
                observeParents: true,
                slidesPerView: 1,
                spaceBetween: 0,
                autoHeight: true,
                speed: 800,
                effect: "fade",
                fadeEffect: {
                    crossFade: true
                },
                pagination: {
                    el: ".hero-banner__pagination",
                    clickable: true
                },
                navigation: {
                    prevEl: ".hero-banner__arrow-prev",
                    nextEl: ".hero-banner__arrow-next"
                },
                on: {}
            });
            const cardSliders = document.querySelectorAll(".card-slider");
            if (cardSliders) for (let index = 0; index < cardSliders.length; index++) {
                const slide = cardSliders[index];
                slide.classList.add(`slider-id-${index}`);
                slide.querySelector(".swiper-wrapper").classList.add(`slider-wrapper-id-${index}`);
                if (slide.classList.contains("card-slider--2")) new core(`.card-slider.slider-id-${index} .card-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.card-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.card-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.card-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: false,
                            slidesPerView: 1.1,
                            spaceBetween: 16
                        },
                        767.98: {
                            freeMode: false,
                            slidesPerView: 1,
                            spaceBetween: 28
                        },
                        991.98: {
                            freeMode: false,
                            slidesPerView: 2,
                            spaceBetween: 28
                        },
                        1199.98: {
                            freeMode: false,
                            slidesPerView: 2
                        }
                    },
                    on: {}
                });
                if (slide.classList.contains("card-slider--3")) new core(`.card-slider.slider-id-${index} .card-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.card-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.card-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.card-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: false,
                            slidesPerView: 1.1,
                            spaceBetween: 16
                        },
                        479.98: {
                            freeMode: true,
                            slidesPerView: "auto"
                        },
                        767.98: {
                            freeMode: false,
                            slidesPerView: 1,
                            spaceBetween: 28
                        },
                        991.98: {
                            freeMode: false,
                            slidesPerView: 2,
                            spaceBetween: 28
                        },
                        1199.98: {
                            freeMode: false,
                            slidesPerView: 2
                        },
                        1345: {
                            freeMode: false,
                            slidesPerView: 3
                        }
                    },
                    on: {}
                });
                if (slide.classList.contains("card-slider--4")) new core(`.card-slider.slider-id-${index} .card-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.card-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.card-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.card-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: true,
                            slidesPerView: "auto",
                            spaceBetween: 16
                        },
                        767.98: {
                            freeMode: false,
                            slidesPerView: 2,
                            spaceBetween: 28
                        },
                        991.98: {
                            freeMode: false,
                            slidesPerView: 3,
                            spaceBetween: 28
                        },
                        1199.98: {
                            freeMode: false,
                            slidesPerView: 3
                        },
                        1345: {
                            freeMode: false,
                            slidesPerView: 4
                        }
                    },
                    on: {}
                });
            }
            const newsSliders = document.querySelectorAll(".news-slider");
            if (newsSliders) for (let index = 0; index < newsSliders.length; index++) {
                const slide = newsSliders[index];
                slide.classList.add(`slider-id-${index}`);
                slide.querySelector(".swiper-wrapper").classList.add(`slider-wrapper-id-${index}`);
                if (slide.classList.contains("news-slider--2")) new core(`.news-slider.slider-id-${index} .news-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.news-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.news-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.news-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: false,
                            slidesPerView: 1.1
                        },
                        768: {
                            freeMode: true,
                            slidesPerView: "auto"
                        },
                        992: {},
                        1440: {
                            freeMode: false,
                            slidesPerView: 2
                        }
                    },
                    on: {}
                });
                if (slide.classList.contains("news-slider--3")) new core(`.news-slider.slider-id-${index} .news-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.news-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.news-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.news-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: false,
                            slidesPerView: 1.1
                        },
                        479.98: {
                            freeMode: true,
                            slidesPerView: "auto"
                        },
                        1440: {
                            freeMode: false,
                            slidesPerView: 3
                        }
                    },
                    on: {}
                });
                if (slide.classList.contains("news-slider--4")) new core(`.news-slider.slider-id-${index} .news-slider__list`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.news-slider.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.news-slider.slider-id-${index} .swiper-button-prev`,
                        nextEl: `.news-slider.slider-id-${index} .swiper-button-next`
                    },
                    breakpoints: {
                        320: {
                            freeMode: true,
                            slidesPerView: "auto"
                        },
                        1440: {
                            freeMode: false,
                            slidesPerView: 4
                        }
                    },
                    on: {}
                });
            }
            const gallerySliders = document.querySelectorAll(".gallery");
            if (gallerySliders) for (let index = 0; index < gallerySliders.length; index++) {
                const slide = gallerySliders[index];
                slide.classList.add(`slider-id-${index}`);
                slide.querySelector(".swiper-wrapper").classList.add(`slider-wrapper-id-${index}`);
                if (slide.classList.contains("gallery--2")) new core(`.gallery.slider-id-${index} .gallery__slider`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    slidesPerView: 2,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.gallery.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.gallery.slider-id-${index} .gallery__button-prev`,
                        nextEl: `.gallery.slider-id-${index} .gallery__button-next`
                    },
                    breakpoints: {
                        320: {
                            slidesPerView: 1
                        },
                        768: {
                            slidesPerView: 2
                        }
                    },
                    on: {}
                });
                if (slide.classList.contains("gallery--3")) new core(`.gallery.slider-id-${index} .gallery__slider`, {
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    spaceBetween: 28,
                    slidesPerView: 3,
                    speed: 800,
                    watchSlidesProgress: true,
                    pagination: {
                        el: `.gallery.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    navigation: {
                        prevEl: `.gallery.slider-id-${index} .gallery__button-prev`,
                        nextEl: `.gallery.slider-id-${index} .gallery__button-next`
                    },
                    breakpoints: {
                        320: {
                            slidesPerView: 1,
                            spaceBetween: 19
                        },
                        768: {
                            slidesPerView: 3,
                            spaceBetween: 19
                        },
                        1199: {
                            spaceBetween: 28
                        }
                    },
                    on: {}
                });
            }
            const tarifsSliders = document.querySelectorAll(".tarifs-slider__list");
            if (tarifsSliders) for (let index = 0; index < tarifsSliders.length; index++) {
                const slide = tarifsSliders[index];
                slide.classList.add(`slider-id-${index}`);
                slide.querySelector(".swiper-wrapper").classList.add(`slider-wrapper-id-${index}`);
                new core(`.tarifs-slider__list.slider-id-${index}`, {
                    slideClass: "details-card",
                    modules: [ Navigation, Pagination, freeMode ],
                    observer: true,
                    observeParents: true,
                    slidesPerView: "auto",
                    spaceBetween: 16,
                    speed: 800,
                    pagination: {
                        el: `.tarifs-slider__list.slider-id-${index} .swiper-pagination`,
                        clickable: true
                    },
                    on: {}
                });
            }
        }
        window.addEventListener("load", (function(e) {
            initSliders();
        }));
        __webpack_require__(2352);
        __webpack_require__(3542);
        var can_use_dom = __webpack_require__(1807);
        var can_use_dom_default = __webpack_require__.n(can_use_dom);
        __webpack_require__(4249);
        __webpack_require__(7692);
        __webpack_require__(8165);
        __webpack_require__(7543);
        __webpack_require__(3344);
        __webpack_require__(7323);
        __webpack_require__(4079);
        var lodash_throttle = __webpack_require__(3096);
        var lodash_throttle_default = __webpack_require__.n(lodash_throttle);
        var lodash_debounce = __webpack_require__(1296);
        var lodash_debounce_default = __webpack_require__.n(lodash_debounce);
        var lodash_memoize = __webpack_require__(773);
        var lodash_memoize_default = __webpack_require__.n(lodash_memoize);
        var resizeObservers = [];
        var hasActiveObservations = function() {
            return resizeObservers.some((function(ro) {
                return ro.activeTargets.length > 0;
            }));
        };
        var hasSkippedObservations = function() {
            return resizeObservers.some((function(ro) {
                return ro.skippedTargets.length > 0;
            }));
        };
        var msg = "ResizeObserver loop completed with undelivered notifications.";
        var deliverResizeLoopError = function() {
            var event;
            if ("function" === typeof ErrorEvent) event = new ErrorEvent("error", {
                message: msg
            }); else {
                event = document.createEvent("Event");
                event.initEvent("error", false, false);
                event.message = msg;
            }
            window.dispatchEvent(event);
        };
        var ResizeObserverBoxOptions;
        (function(ResizeObserverBoxOptions) {
            ResizeObserverBoxOptions["BORDER_BOX"] = "border-box";
            ResizeObserverBoxOptions["CONTENT_BOX"] = "content-box";
            ResizeObserverBoxOptions["DEVICE_PIXEL_CONTENT_BOX"] = "device-pixel-content-box";
        })(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));
        var freeze = function(obj) {
            return Object.freeze(obj);
        };
        var ResizeObserverSize = function() {
            function ResizeObserverSize(inlineSize, blockSize) {
                this.inlineSize = inlineSize;
                this.blockSize = blockSize;
                freeze(this);
            }
            return ResizeObserverSize;
        }();
        var DOMRectReadOnly = function() {
            function DOMRectReadOnly(x, y, width, height) {
                this.x = x;
                this.y = y;
                this.width = width;
                this.height = height;
                this.top = this.y;
                this.left = this.x;
                this.bottom = this.top + this.height;
                this.right = this.left + this.width;
                return freeze(this);
            }
            DOMRectReadOnly.prototype.toJSON = function() {
                var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;
                return {
                    x,
                    y,
                    top,
                    right,
                    bottom,
                    left,
                    width,
                    height
                };
            };
            DOMRectReadOnly.fromRect = function(rectangle) {
                return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);
            };
            return DOMRectReadOnly;
        }();
        var isSVG = function(target) {
            return target instanceof SVGElement && "getBBox" in target;
        };
        var isHidden = function(target) {
            if (isSVG(target)) {
                var _a = target.getBBox(), width = _a.width, height = _a.height;
                return !width && !height;
            }
            var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;
            return !(offsetWidth || offsetHeight || target.getClientRects().length);
        };
        var element_isElement = function(obj) {
            var _a;
            if (obj instanceof Element) return true;
            var scope = null === (_a = null === obj || void 0 === obj ? void 0 : obj.ownerDocument) || void 0 === _a ? void 0 : _a.defaultView;
            return !!(scope && obj instanceof scope.Element);
        };
        var isReplacedElement = function(target) {
            switch (target.tagName) {
              case "INPUT":
                if ("image" !== target.type) break;

              case "VIDEO":
              case "AUDIO":
              case "EMBED":
              case "OBJECT":
              case "CANVAS":
              case "IFRAME":
              case "IMG":
                return true;
            }
            return false;
        };
        var global = "undefined" !== typeof window ? window : {};
        var cache = new WeakMap;
        var scrollRegexp = /auto|scroll/;
        var verticalRegexp = /^tb|vertical/;
        var IE = /msie|trident/i.test(global.navigator && global.navigator.userAgent);
        var parseDimension = function(pixel) {
            return parseFloat(pixel || "0");
        };
        var size = function(inlineSize, blockSize, switchSizes) {
            if (void 0 === inlineSize) inlineSize = 0;
            if (void 0 === blockSize) blockSize = 0;
            if (void 0 === switchSizes) switchSizes = false;
            return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);
        };
        var zeroBoxes = freeze({
            devicePixelContentBoxSize: size(),
            borderBoxSize: size(),
            contentBoxSize: size(),
            contentRect: new DOMRectReadOnly(0, 0, 0, 0)
        });
        var calculateBoxSizes = function(target, forceRecalculation) {
            if (void 0 === forceRecalculation) forceRecalculation = false;
            if (cache.has(target) && !forceRecalculation) return cache.get(target);
            if (isHidden(target)) {
                cache.set(target, zeroBoxes);
                return zeroBoxes;
            }
            var cs = getComputedStyle(target);
            var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();
            var removePadding = !IE && "border-box" === cs.boxSizing;
            var switchSizes = verticalRegexp.test(cs.writingMode || "");
            var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || "");
            var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || "");
            var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);
            var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);
            var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);
            var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);
            var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);
            var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);
            var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);
            var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);
            var horizontalPadding = paddingLeft + paddingRight;
            var verticalPadding = paddingTop + paddingBottom;
            var horizontalBorderArea = borderLeft + borderRight;
            var verticalBorderArea = borderTop + borderBottom;
            var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;
            var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;
            var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;
            var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;
            var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;
            var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;
            var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;
            var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;
            var boxes = freeze({
                devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),
                borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),
                contentBoxSize: size(contentWidth, contentHeight, switchSizes),
                contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)
            });
            cache.set(target, boxes);
            return boxes;
        };
        var calculateBoxSize = function(target, observedBox, forceRecalculation) {
            var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;
            switch (observedBox) {
              case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:
                return devicePixelContentBoxSize;

              case ResizeObserverBoxOptions.BORDER_BOX:
                return borderBoxSize;

              default:
                return contentBoxSize;
            }
        };
        var ResizeObserverEntry = function() {
            function ResizeObserverEntry(target) {
                var boxes = calculateBoxSizes(target);
                this.target = target;
                this.contentRect = boxes.contentRect;
                this.borderBoxSize = freeze([ boxes.borderBoxSize ]);
                this.contentBoxSize = freeze([ boxes.contentBoxSize ]);
                this.devicePixelContentBoxSize = freeze([ boxes.devicePixelContentBoxSize ]);
            }
            return ResizeObserverEntry;
        }();
        var calculateDepthForNode = function(node) {
            if (isHidden(node)) return 1 / 0;
            var depth = 0;
            var parent = node.parentNode;
            while (parent) {
                depth += 1;
                parent = parent.parentNode;
            }
            return depth;
        };
        var broadcastActiveObservations = function() {
            var shallowestDepth = 1 / 0;
            var callbacks = [];
            resizeObservers.forEach((function processObserver(ro) {
                if (0 === ro.activeTargets.length) return;
                var entries = [];
                ro.activeTargets.forEach((function processTarget(ot) {
                    var entry = new ResizeObserverEntry(ot.target);
                    var targetDepth = calculateDepthForNode(ot.target);
                    entries.push(entry);
                    ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);
                    if (targetDepth < shallowestDepth) shallowestDepth = targetDepth;
                }));
                callbacks.push((function resizeObserverCallback() {
                    ro.callback.call(ro.observer, entries, ro.observer);
                }));
                ro.activeTargets.splice(0, ro.activeTargets.length);
            }));
            for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {
                var callback = callbacks_1[_i];
                callback();
            }
            return shallowestDepth;
        };
        var gatherActiveObservationsAtDepth = function(depth) {
            resizeObservers.forEach((function processObserver(ro) {
                ro.activeTargets.splice(0, ro.activeTargets.length);
                ro.skippedTargets.splice(0, ro.skippedTargets.length);
                ro.observationTargets.forEach((function processTarget(ot) {
                    if (ot.isActive()) if (calculateDepthForNode(ot.target) > depth) ro.activeTargets.push(ot); else ro.skippedTargets.push(ot);
                }));
            }));
        };
        var process = function() {
            var depth = 0;
            gatherActiveObservationsAtDepth(depth);
            while (hasActiveObservations()) {
                depth = broadcastActiveObservations();
                gatherActiveObservationsAtDepth(depth);
            }
            if (hasSkippedObservations()) deliverResizeLoopError();
            return depth > 0;
        };
        var queueMicroTask_trigger;
        var callbacks = [];
        var notify = function() {
            return callbacks.splice(0).forEach((function(cb) {
                return cb();
            }));
        };
        var queueMicroTask = function(callback) {
            if (!queueMicroTask_trigger) {
                var toggle_1 = 0;
                var el_1 = document.createTextNode("");
                var config = {
                    characterData: true
                };
                new MutationObserver((function() {
                    return notify();
                })).observe(el_1, config);
                queueMicroTask_trigger = function() {
                    el_1.textContent = "".concat(toggle_1 ? toggle_1-- : toggle_1++);
                };
            }
            callbacks.push(callback);
            queueMicroTask_trigger();
        };
        var queueResizeObserver = function(cb) {
            queueMicroTask((function ResizeObserver() {
                requestAnimationFrame(cb);
            }));
        };
        var watching = 0;
        var isWatching = function() {
            return !!watching;
        };
        var CATCH_PERIOD = 250;
        var observerConfig = {
            attributes: true,
            characterData: true,
            childList: true,
            subtree: true
        };
        var scheduler_events = [ "resize", "load", "transitionend", "animationend", "animationstart", "animationiteration", "keyup", "keydown", "mouseup", "mousedown", "mouseover", "mouseout", "blur", "focus" ];
        var time = function(timeout) {
            if (void 0 === timeout) timeout = 0;
            return Date.now() + timeout;
        };
        var scheduled = false;
        var Scheduler = function() {
            function Scheduler() {
                var _this = this;
                this.stopped = true;
                this.listener = function() {
                    return _this.schedule();
                };
            }
            Scheduler.prototype.run = function(timeout) {
                var _this = this;
                if (void 0 === timeout) timeout = CATCH_PERIOD;
                if (scheduled) return;
                scheduled = true;
                var until = time(timeout);
                queueResizeObserver((function() {
                    var elementsHaveResized = false;
                    try {
                        elementsHaveResized = process();
                    } finally {
                        scheduled = false;
                        timeout = until - time();
                        if (!isWatching()) return;
                        if (elementsHaveResized) _this.run(1e3); else if (timeout > 0) _this.run(timeout); else _this.start();
                    }
                }));
            };
            Scheduler.prototype.schedule = function() {
                this.stop();
                this.run();
            };
            Scheduler.prototype.observe = function() {
                var _this = this;
                var cb = function() {
                    return _this.observer && _this.observer.observe(document.body, observerConfig);
                };
                document.body ? cb() : global.addEventListener("DOMContentLoaded", cb);
            };
            Scheduler.prototype.start = function() {
                var _this = this;
                if (this.stopped) {
                    this.stopped = false;
                    this.observer = new MutationObserver(this.listener);
                    this.observe();
                    scheduler_events.forEach((function(name) {
                        return global.addEventListener(name, _this.listener, true);
                    }));
                }
            };
            Scheduler.prototype.stop = function() {
                var _this = this;
                if (!this.stopped) {
                    this.observer && this.observer.disconnect();
                    scheduler_events.forEach((function(name) {
                        return global.removeEventListener(name, _this.listener, true);
                    }));
                    this.stopped = true;
                }
            };
            return Scheduler;
        }();
        var scheduler = new Scheduler;
        var updateCount = function(n) {
            !watching && n > 0 && scheduler.start();
            watching += n;
            !watching && scheduler.stop();
        };
        var skipNotifyOnElement = function(target) {
            return !isSVG(target) && !isReplacedElement(target) && "inline" === getComputedStyle(target).display;
        };
        var ResizeObservation = function() {
            function ResizeObservation(target, observedBox) {
                this.target = target;
                this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;
                this.lastReportedSize = {
                    inlineSize: 0,
                    blockSize: 0
                };
            }
            ResizeObservation.prototype.isActive = function() {
                var size = calculateBoxSize(this.target, this.observedBox, true);
                if (skipNotifyOnElement(this.target)) this.lastReportedSize = size;
                if (this.lastReportedSize.inlineSize !== size.inlineSize || this.lastReportedSize.blockSize !== size.blockSize) return true;
                return false;
            };
            return ResizeObservation;
        }();
        var ResizeObserverDetail = function() {
            function ResizeObserverDetail(resizeObserver, callback) {
                this.activeTargets = [];
                this.skippedTargets = [];
                this.observationTargets = [];
                this.observer = resizeObserver;
                this.callback = callback;
            }
            return ResizeObserverDetail;
        }();
        var observerMap = new WeakMap;
        var getObservationIndex = function(observationTargets, target) {
            for (var i = 0; i < observationTargets.length; i += 1) if (observationTargets[i].target === target) return i;
            return -1;
        };
        var ResizeObserverController = function() {
            function ResizeObserverController() {}
            ResizeObserverController.connect = function(resizeObserver, callback) {
                var detail = new ResizeObserverDetail(resizeObserver, callback);
                observerMap.set(resizeObserver, detail);
            };
            ResizeObserverController.observe = function(resizeObserver, target, options) {
                var detail = observerMap.get(resizeObserver);
                var firstObservation = 0 === detail.observationTargets.length;
                if (getObservationIndex(detail.observationTargets, target) < 0) {
                    firstObservation && resizeObservers.push(detail);
                    detail.observationTargets.push(new ResizeObservation(target, options && options.box));
                    updateCount(1);
                    scheduler.schedule();
                }
            };
            ResizeObserverController.unobserve = function(resizeObserver, target) {
                var detail = observerMap.get(resizeObserver);
                var index = getObservationIndex(detail.observationTargets, target);
                var lastObservation = 1 === detail.observationTargets.length;
                if (index >= 0) {
                    lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);
                    detail.observationTargets.splice(index, 1);
                    updateCount(-1);
                }
            };
            ResizeObserverController.disconnect = function(resizeObserver) {
                var _this = this;
                var detail = observerMap.get(resizeObserver);
                detail.observationTargets.slice().forEach((function(ot) {
                    return _this.unobserve(resizeObserver, ot.target);
                }));
                detail.activeTargets.splice(0, detail.activeTargets.length);
            };
            return ResizeObserverController;
        }();
        var ResizeObserver_ResizeObserver = function() {
            function ResizeObserver(callback) {
                if (0 === arguments.length) throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");
                if ("function" !== typeof callback) throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");
                ResizeObserverController.connect(this, callback);
            }
            ResizeObserver.prototype.observe = function(target, options) {
                if (0 === arguments.length) throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");
                if (!element_isElement(target)) throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");
                ResizeObserverController.observe(this, target, options);
            };
            ResizeObserver.prototype.unobserve = function(target) {
                if (0 === arguments.length) throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");
                if (!element_isElement(target)) throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");
                ResizeObserverController.unobserve(this, target);
            };
            ResizeObserver.prototype.disconnect = function() {
                ResizeObserverController.disconnect(this);
            };
            ResizeObserver.toString = function() {
                return "function ResizeObserver () { [polyfill code] }";
            };
            return ResizeObserver;
        }();
        __webpack_require__(7985);
        __webpack_require__(9989);
        __webpack_require__(8307);
        __webpack_require__(6618);
        __webpack_require__(4390);
        var getOptions = function getOptions(obj) {
            var options = Array.prototype.reduce.call(obj, (function(acc, attribute) {
                var option = attribute.name.match(/data-simplebar-(.+)/);
                if (option) {
                    var key = option[1].replace(/\W+(.)/g, (function(x, chr) {
                        return chr.toUpperCase();
                    }));
                    switch (attribute.value) {
                      case "true":
                        acc[key] = true;
                        break;

                      case "false":
                        acc[key] = false;
                        break;

                      case void 0:
                        acc[key] = true;
                        break;

                      default:
                        acc[key] = attribute.value;
                    }
                }
                return acc;
            }), {});
            return options;
        };
        function getElementWindow(element) {
            if (!element || !element.ownerDocument || !element.ownerDocument.defaultView) return window;
            return element.ownerDocument.defaultView;
        }
        function getElementDocument(element) {
            if (!element || !element.ownerDocument) return document;
            return element.ownerDocument;
        }
        var cachedScrollbarWidth = null;
        var cachedDevicePixelRatio = null;
        if (can_use_dom_default()) window.addEventListener("resize", (function() {
            if (cachedDevicePixelRatio !== window.devicePixelRatio) {
                cachedDevicePixelRatio = window.devicePixelRatio;
                cachedScrollbarWidth = null;
            }
        }));
        function scrollbarWidth(el) {
            if (null === cachedScrollbarWidth) {
                var document = getElementDocument(el);
                if ("undefined" === typeof document) {
                    cachedScrollbarWidth = 0;
                    return cachedScrollbarWidth;
                }
                var body = document.body;
                var box = document.createElement("div");
                box.classList.add("simplebar-hide-scrollbar");
                body.appendChild(box);
                var width = box.getBoundingClientRect().right;
                body.removeChild(box);
                cachedScrollbarWidth = width;
            }
            return cachedScrollbarWidth;
        }
        var SimpleBar = function() {
            function SimpleBar(element, options) {
                var _this = this;
                this.onScroll = function() {
                    var elWindow = getElementWindow(_this.el);
                    if (!_this.scrollXTicking) {
                        elWindow.requestAnimationFrame(_this.scrollX);
                        _this.scrollXTicking = true;
                    }
                    if (!_this.scrollYTicking) {
                        elWindow.requestAnimationFrame(_this.scrollY);
                        _this.scrollYTicking = true;
                    }
                };
                this.scrollX = function() {
                    if (_this.axis.x.isOverflowing) {
                        _this.showScrollbar("x");
                        _this.positionScrollbar("x");
                    }
                    _this.scrollXTicking = false;
                };
                this.scrollY = function() {
                    if (_this.axis.y.isOverflowing) {
                        _this.showScrollbar("y");
                        _this.positionScrollbar("y");
                    }
                    _this.scrollYTicking = false;
                };
                this.onMouseEnter = function() {
                    _this.showScrollbar("x");
                    _this.showScrollbar("y");
                };
                this.onMouseMove = function(e) {
                    _this.mouseX = e.clientX;
                    _this.mouseY = e.clientY;
                    if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) _this.onMouseMoveForAxis("x");
                    if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) _this.onMouseMoveForAxis("y");
                };
                this.onMouseLeave = function() {
                    _this.onMouseMove.cancel();
                    if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) _this.onMouseLeaveForAxis("x");
                    if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) _this.onMouseLeaveForAxis("y");
                    _this.mouseX = -1;
                    _this.mouseY = -1;
                };
                this.onWindowResize = function() {
                    _this.scrollbarWidth = _this.getScrollbarWidth();
                    _this.hideNativeScrollbar();
                };
                this.hideScrollbars = function() {
                    _this.axis.x.track.rect = _this.axis.x.track.el.getBoundingClientRect();
                    _this.axis.y.track.rect = _this.axis.y.track.el.getBoundingClientRect();
                    if (!_this.isWithinBounds(_this.axis.y.track.rect)) {
                        _this.axis.y.scrollbar.el.classList.remove(_this.classNames.visible);
                        _this.axis.y.isVisible = false;
                    }
                    if (!_this.isWithinBounds(_this.axis.x.track.rect)) {
                        _this.axis.x.scrollbar.el.classList.remove(_this.classNames.visible);
                        _this.axis.x.isVisible = false;
                    }
                };
                this.onPointerEvent = function(e) {
                    var isWithinTrackXBounds, isWithinTrackYBounds;
                    _this.axis.x.track.rect = _this.axis.x.track.el.getBoundingClientRect();
                    _this.axis.y.track.rect = _this.axis.y.track.el.getBoundingClientRect();
                    if (_this.axis.x.isOverflowing || _this.axis.x.forceVisible) isWithinTrackXBounds = _this.isWithinBounds(_this.axis.x.track.rect);
                    if (_this.axis.y.isOverflowing || _this.axis.y.forceVisible) isWithinTrackYBounds = _this.isWithinBounds(_this.axis.y.track.rect);
                    if (isWithinTrackXBounds || isWithinTrackYBounds) {
                        e.preventDefault();
                        e.stopPropagation();
                        if ("mousedown" === e.type) {
                            if (isWithinTrackXBounds) {
                                _this.axis.x.scrollbar.rect = _this.axis.x.scrollbar.el.getBoundingClientRect();
                                if (_this.isWithinBounds(_this.axis.x.scrollbar.rect)) _this.onDragStart(e, "x"); else _this.onTrackClick(e, "x");
                            }
                            if (isWithinTrackYBounds) {
                                _this.axis.y.scrollbar.rect = _this.axis.y.scrollbar.el.getBoundingClientRect();
                                if (_this.isWithinBounds(_this.axis.y.scrollbar.rect)) _this.onDragStart(e, "y"); else _this.onTrackClick(e, "y");
                            }
                        }
                    }
                };
                this.drag = function(e) {
                    var eventOffset;
                    var track = _this.axis[_this.draggedAxis].track;
                    var trackSize = track.rect[_this.axis[_this.draggedAxis].sizeAttr];
                    var scrollbar = _this.axis[_this.draggedAxis].scrollbar;
                    var contentSize = _this.contentWrapperEl[_this.axis[_this.draggedAxis].scrollSizeAttr];
                    var hostSize = parseInt(_this.elStyles[_this.axis[_this.draggedAxis].sizeAttr], 10);
                    e.preventDefault();
                    e.stopPropagation();
                    if ("y" === _this.draggedAxis) eventOffset = e.pageY; else eventOffset = e.pageX;
                    var dragPos = eventOffset - track.rect[_this.axis[_this.draggedAxis].offsetAttr] - _this.axis[_this.draggedAxis].dragOffset;
                    var dragPerc = dragPos / (trackSize - scrollbar.size);
                    var scrollPos = dragPerc * (contentSize - hostSize);
                    if ("x" === _this.draggedAxis) {
                        scrollPos = _this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollbarInverted ? scrollPos - (trackSize + scrollbar.size) : scrollPos;
                        scrollPos = _this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollingInverted ? -scrollPos : scrollPos;
                    }
                    _this.contentWrapperEl[_this.axis[_this.draggedAxis].scrollOffsetAttr] = scrollPos;
                };
                this.onEndDrag = function(e) {
                    var elDocument = getElementDocument(_this.el);
                    var elWindow = getElementWindow(_this.el);
                    e.preventDefault();
                    e.stopPropagation();
                    _this.el.classList.remove(_this.classNames.dragging);
                    elDocument.removeEventListener("mousemove", _this.drag, true);
                    elDocument.removeEventListener("mouseup", _this.onEndDrag, true);
                    _this.removePreventClickId = elWindow.setTimeout((function() {
                        elDocument.removeEventListener("click", _this.preventClick, true);
                        elDocument.removeEventListener("dblclick", _this.preventClick, true);
                        _this.removePreventClickId = null;
                    }));
                };
                this.preventClick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                };
                this.el = element;
                this.minScrollbarWidth = 20;
                this.options = Object.assign({}, SimpleBar.defaultOptions, options);
                this.classNames = Object.assign({}, SimpleBar.defaultOptions.classNames, this.options.classNames);
                this.axis = {
                    x: {
                        scrollOffsetAttr: "scrollLeft",
                        sizeAttr: "width",
                        scrollSizeAttr: "scrollWidth",
                        offsetSizeAttr: "offsetWidth",
                        offsetAttr: "left",
                        overflowAttr: "overflowX",
                        dragOffset: 0,
                        isOverflowing: true,
                        isVisible: false,
                        forceVisible: false,
                        track: {},
                        scrollbar: {}
                    },
                    y: {
                        scrollOffsetAttr: "scrollTop",
                        sizeAttr: "height",
                        scrollSizeAttr: "scrollHeight",
                        offsetSizeAttr: "offsetHeight",
                        offsetAttr: "top",
                        overflowAttr: "overflowY",
                        dragOffset: 0,
                        isOverflowing: true,
                        isVisible: false,
                        forceVisible: false,
                        track: {},
                        scrollbar: {}
                    }
                };
                this.removePreventClickId = null;
                if (SimpleBar.instances.has(this.el)) return;
                this.recalculate = lodash_throttle_default()(this.recalculate.bind(this), 64);
                this.onMouseMove = lodash_throttle_default()(this.onMouseMove.bind(this), 64);
                this.hideScrollbars = lodash_debounce_default()(this.hideScrollbars.bind(this), this.options.timeout);
                this.onWindowResize = lodash_debounce_default()(this.onWindowResize.bind(this), 64, {
                    leading: true
                });
                SimpleBar.getRtlHelpers = lodash_memoize_default()(SimpleBar.getRtlHelpers);
                this.init();
            }
            SimpleBar.getRtlHelpers = function getRtlHelpers() {
                var dummyDiv = document.createElement("div");
                dummyDiv.innerHTML = '<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';
                var scrollbarDummyEl = dummyDiv.firstElementChild;
                document.body.appendChild(scrollbarDummyEl);
                var dummyContainerChild = scrollbarDummyEl.firstElementChild;
                scrollbarDummyEl.scrollLeft = 0;
                var dummyContainerOffset = SimpleBar.getOffset(scrollbarDummyEl);
                var dummyContainerChildOffset = SimpleBar.getOffset(dummyContainerChild);
                scrollbarDummyEl.scrollLeft = 999;
                var dummyContainerScrollOffsetAfterScroll = SimpleBar.getOffset(dummyContainerChild);
                return {
                    isRtlScrollingInverted: dummyContainerOffset.left !== dummyContainerChildOffset.left && dummyContainerChildOffset.left - dummyContainerScrollOffsetAfterScroll.left !== 0,
                    isRtlScrollbarInverted: dummyContainerOffset.left !== dummyContainerChildOffset.left
                };
            };
            SimpleBar.getOffset = function getOffset(el) {
                var rect = el.getBoundingClientRect();
                var elDocument = getElementDocument(el);
                var elWindow = getElementWindow(el);
                return {
                    top: rect.top + (elWindow.pageYOffset || elDocument.documentElement.scrollTop),
                    left: rect.left + (elWindow.pageXOffset || elDocument.documentElement.scrollLeft)
                };
            };
            var _proto = SimpleBar.prototype;
            _proto.init = function init() {
                SimpleBar.instances.set(this.el, this);
                if (can_use_dom_default()) {
                    this.initDOM();
                    this.setAccessibilityAttributes();
                    this.scrollbarWidth = this.getScrollbarWidth();
                    this.recalculate();
                    this.initListeners();
                }
            };
            _proto.initDOM = function initDOM() {
                var _this2 = this;
                if (Array.prototype.filter.call(this.el.children, (function(child) {
                    return child.classList.contains(_this2.classNames.wrapper);
                })).length) {
                    this.wrapperEl = this.el.querySelector("." + this.classNames.wrapper);
                    this.contentWrapperEl = this.options.scrollableNode || this.el.querySelector("." + this.classNames.contentWrapper);
                    this.contentEl = this.options.contentNode || this.el.querySelector("." + this.classNames.contentEl);
                    this.offsetEl = this.el.querySelector("." + this.classNames.offset);
                    this.maskEl = this.el.querySelector("." + this.classNames.mask);
                    this.placeholderEl = this.findChild(this.wrapperEl, "." + this.classNames.placeholder);
                    this.heightAutoObserverWrapperEl = this.el.querySelector("." + this.classNames.heightAutoObserverWrapperEl);
                    this.heightAutoObserverEl = this.el.querySelector("." + this.classNames.heightAutoObserverEl);
                    this.axis.x.track.el = this.findChild(this.el, "." + this.classNames.track + "." + this.classNames.horizontal);
                    this.axis.y.track.el = this.findChild(this.el, "." + this.classNames.track + "." + this.classNames.vertical);
                } else {
                    this.wrapperEl = document.createElement("div");
                    this.contentWrapperEl = document.createElement("div");
                    this.offsetEl = document.createElement("div");
                    this.maskEl = document.createElement("div");
                    this.contentEl = document.createElement("div");
                    this.placeholderEl = document.createElement("div");
                    this.heightAutoObserverWrapperEl = document.createElement("div");
                    this.heightAutoObserverEl = document.createElement("div");
                    this.wrapperEl.classList.add(this.classNames.wrapper);
                    this.contentWrapperEl.classList.add(this.classNames.contentWrapper);
                    this.offsetEl.classList.add(this.classNames.offset);
                    this.maskEl.classList.add(this.classNames.mask);
                    this.contentEl.classList.add(this.classNames.contentEl);
                    this.placeholderEl.classList.add(this.classNames.placeholder);
                    this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl);
                    this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);
                    while (this.el.firstChild) this.contentEl.appendChild(this.el.firstChild);
                    this.contentWrapperEl.appendChild(this.contentEl);
                    this.offsetEl.appendChild(this.contentWrapperEl);
                    this.maskEl.appendChild(this.offsetEl);
                    this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl);
                    this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl);
                    this.wrapperEl.appendChild(this.maskEl);
                    this.wrapperEl.appendChild(this.placeholderEl);
                    this.el.appendChild(this.wrapperEl);
                }
                if (!this.axis.x.track.el || !this.axis.y.track.el) {
                    var track = document.createElement("div");
                    var scrollbar = document.createElement("div");
                    track.classList.add(this.classNames.track);
                    scrollbar.classList.add(this.classNames.scrollbar);
                    track.appendChild(scrollbar);
                    this.axis.x.track.el = track.cloneNode(true);
                    this.axis.x.track.el.classList.add(this.classNames.horizontal);
                    this.axis.y.track.el = track.cloneNode(true);
                    this.axis.y.track.el.classList.add(this.classNames.vertical);
                    this.el.appendChild(this.axis.x.track.el);
                    this.el.appendChild(this.axis.y.track.el);
                }
                this.axis.x.scrollbar.el = this.axis.x.track.el.querySelector("." + this.classNames.scrollbar);
                this.axis.y.scrollbar.el = this.axis.y.track.el.querySelector("." + this.classNames.scrollbar);
                if (!this.options.autoHide) {
                    this.axis.x.scrollbar.el.classList.add(this.classNames.visible);
                    this.axis.y.scrollbar.el.classList.add(this.classNames.visible);
                }
                this.el.setAttribute("data-simplebar", "init");
            };
            _proto.setAccessibilityAttributes = function setAccessibilityAttributes() {
                var ariaLabel = this.options.ariaLabel || "scrollable content";
                this.contentWrapperEl.setAttribute("tabindex", "0");
                this.contentWrapperEl.setAttribute("role", "region");
                this.contentWrapperEl.setAttribute("aria-label", ariaLabel);
            };
            _proto.initListeners = function initListeners() {
                var _this3 = this;
                var elWindow = getElementWindow(this.el);
                if (this.options.autoHide) this.el.addEventListener("mouseenter", this.onMouseEnter);
                [ "mousedown", "click", "dblclick" ].forEach((function(e) {
                    _this3.el.addEventListener(e, _this3.onPointerEvent, true);
                }));
                [ "touchstart", "touchend", "touchmove" ].forEach((function(e) {
                    _this3.el.addEventListener(e, _this3.onPointerEvent, {
                        capture: true,
                        passive: true
                    });
                }));
                this.el.addEventListener("mousemove", this.onMouseMove);
                this.el.addEventListener("mouseleave", this.onMouseLeave);
                this.contentWrapperEl.addEventListener("scroll", this.onScroll);
                elWindow.addEventListener("resize", this.onWindowResize);
                var resizeObserverStarted = false;
                var resizeAnimationFrameId = null;
                var resizeObserver = elWindow.ResizeObserver || ResizeObserver_ResizeObserver;
                this.resizeObserver = new resizeObserver((function() {
                    if (!resizeObserverStarted || null !== resizeAnimationFrameId) return;
                    resizeAnimationFrameId = elWindow.requestAnimationFrame((function() {
                        _this3.recalculate();
                        resizeAnimationFrameId = null;
                    }));
                }));
                this.resizeObserver.observe(this.el);
                this.resizeObserver.observe(this.contentEl);
                elWindow.requestAnimationFrame((function() {
                    resizeObserverStarted = true;
                }));
                this.mutationObserver = new elWindow.MutationObserver(this.recalculate);
                this.mutationObserver.observe(this.contentEl, {
                    childList: true,
                    subtree: true,
                    characterData: true
                });
            };
            _proto.recalculate = function recalculate() {
                var elWindow = getElementWindow(this.el);
                this.elStyles = elWindow.getComputedStyle(this.el);
                this.isRtl = "rtl" === this.elStyles.direction;
                var isHeightAuto = this.heightAutoObserverEl.offsetHeight <= 1;
                var isWidthAuto = this.heightAutoObserverEl.offsetWidth <= 1;
                var contentElOffsetWidth = this.contentEl.offsetWidth;
                var contentWrapperElOffsetWidth = this.contentWrapperEl.offsetWidth;
                var elOverflowX = this.elStyles.overflowX;
                var elOverflowY = this.elStyles.overflowY;
                this.contentEl.style.padding = this.elStyles.paddingTop + " " + this.elStyles.paddingRight + " " + this.elStyles.paddingBottom + " " + this.elStyles.paddingLeft;
                this.wrapperEl.style.margin = "-" + this.elStyles.paddingTop + " -" + this.elStyles.paddingRight + " -" + this.elStyles.paddingBottom + " -" + this.elStyles.paddingLeft;
                var contentElScrollHeight = this.contentEl.scrollHeight;
                var contentElScrollWidth = this.contentEl.scrollWidth;
                this.contentWrapperEl.style.height = isHeightAuto ? "auto" : "100%";
                this.placeholderEl.style.width = isWidthAuto ? contentElOffsetWidth + "px" : "auto";
                this.placeholderEl.style.height = contentElScrollHeight + "px";
                var contentWrapperElOffsetHeight = this.contentWrapperEl.offsetHeight;
                this.axis.x.isOverflowing = contentElScrollWidth > contentElOffsetWidth;
                this.axis.y.isOverflowing = contentElScrollHeight > contentWrapperElOffsetHeight;
                this.axis.x.isOverflowing = "hidden" === elOverflowX ? false : this.axis.x.isOverflowing;
                this.axis.y.isOverflowing = "hidden" === elOverflowY ? false : this.axis.y.isOverflowing;
                this.axis.x.forceVisible = "x" === this.options.forceVisible || true === this.options.forceVisible;
                this.axis.y.forceVisible = "y" === this.options.forceVisible || true === this.options.forceVisible;
                this.hideNativeScrollbar();
                var offsetForXScrollbar = this.axis.x.isOverflowing ? this.scrollbarWidth : 0;
                var offsetForYScrollbar = this.axis.y.isOverflowing ? this.scrollbarWidth : 0;
                this.axis.x.isOverflowing = this.axis.x.isOverflowing && contentElScrollWidth > contentWrapperElOffsetWidth - offsetForYScrollbar;
                this.axis.y.isOverflowing = this.axis.y.isOverflowing && contentElScrollHeight > contentWrapperElOffsetHeight - offsetForXScrollbar;
                this.axis.x.scrollbar.size = this.getScrollbarSize("x");
                this.axis.y.scrollbar.size = this.getScrollbarSize("y");
                this.axis.x.scrollbar.el.style.width = this.axis.x.scrollbar.size + "px";
                this.axis.y.scrollbar.el.style.height = this.axis.y.scrollbar.size + "px";
                this.positionScrollbar("x");
                this.positionScrollbar("y");
                this.toggleTrackVisibility("x");
                this.toggleTrackVisibility("y");
            };
            _proto.getScrollbarSize = function getScrollbarSize(axis) {
                if (void 0 === axis) axis = "y";
                if (!this.axis[axis].isOverflowing) return 0;
                var contentSize = this.contentEl[this.axis[axis].scrollSizeAttr];
                var trackSize = this.axis[axis].track.el[this.axis[axis].offsetSizeAttr];
                var scrollbarSize;
                var scrollbarRatio = trackSize / contentSize;
                scrollbarSize = Math.max(~~(scrollbarRatio * trackSize), this.options.scrollbarMinSize);
                if (this.options.scrollbarMaxSize) scrollbarSize = Math.min(scrollbarSize, this.options.scrollbarMaxSize);
                return scrollbarSize;
            };
            _proto.positionScrollbar = function positionScrollbar(axis) {
                if (void 0 === axis) axis = "y";
                if (!this.axis[axis].isOverflowing) return;
                var contentSize = this.contentWrapperEl[this.axis[axis].scrollSizeAttr];
                var trackSize = this.axis[axis].track.el[this.axis[axis].offsetSizeAttr];
                var hostSize = parseInt(this.elStyles[this.axis[axis].sizeAttr], 10);
                var scrollbar = this.axis[axis].scrollbar;
                var scrollOffset = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];
                scrollOffset = "x" === axis && this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollingInverted ? -scrollOffset : scrollOffset;
                var scrollPourcent = scrollOffset / (contentSize - hostSize);
                var handleOffset = ~~((trackSize - scrollbar.size) * scrollPourcent);
                handleOffset = "x" === axis && this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollbarInverted ? handleOffset + (trackSize - scrollbar.size) : handleOffset;
                scrollbar.el.style.transform = "x" === axis ? "translate3d(" + handleOffset + "px, 0, 0)" : "translate3d(0, " + handleOffset + "px, 0)";
            };
            _proto.toggleTrackVisibility = function toggleTrackVisibility(axis) {
                if (void 0 === axis) axis = "y";
                var track = this.axis[axis].track.el;
                var scrollbar = this.axis[axis].scrollbar.el;
                if (this.axis[axis].isOverflowing || this.axis[axis].forceVisible) {
                    track.style.visibility = "visible";
                    this.contentWrapperEl.style[this.axis[axis].overflowAttr] = "scroll";
                } else {
                    track.style.visibility = "hidden";
                    this.contentWrapperEl.style[this.axis[axis].overflowAttr] = "hidden";
                }
                if (this.axis[axis].isOverflowing) scrollbar.style.display = "block"; else scrollbar.style.display = "none";
            };
            _proto.hideNativeScrollbar = function hideNativeScrollbar() {
                this.offsetEl.style[this.isRtl ? "left" : "right"] = this.axis.y.isOverflowing || this.axis.y.forceVisible ? "-" + this.scrollbarWidth + "px" : 0;
                this.offsetEl.style.bottom = this.axis.x.isOverflowing || this.axis.x.forceVisible ? "-" + this.scrollbarWidth + "px" : 0;
            };
            _proto.onMouseMoveForAxis = function onMouseMoveForAxis(axis) {
                if (void 0 === axis) axis = "y";
                this.axis[axis].track.rect = this.axis[axis].track.el.getBoundingClientRect();
                this.axis[axis].scrollbar.rect = this.axis[axis].scrollbar.el.getBoundingClientRect();
                var isWithinScrollbarBoundsX = this.isWithinBounds(this.axis[axis].scrollbar.rect);
                if (isWithinScrollbarBoundsX) this.axis[axis].scrollbar.el.classList.add(this.classNames.hover); else this.axis[axis].scrollbar.el.classList.remove(this.classNames.hover);
                if (this.isWithinBounds(this.axis[axis].track.rect)) {
                    this.showScrollbar(axis);
                    this.axis[axis].track.el.classList.add(this.classNames.hover);
                } else this.axis[axis].track.el.classList.remove(this.classNames.hover);
            };
            _proto.onMouseLeaveForAxis = function onMouseLeaveForAxis(axis) {
                if (void 0 === axis) axis = "y";
                this.axis[axis].track.el.classList.remove(this.classNames.hover);
                this.axis[axis].scrollbar.el.classList.remove(this.classNames.hover);
            };
            _proto.showScrollbar = function showScrollbar(axis) {
                if (void 0 === axis) axis = "y";
                var scrollbar = this.axis[axis].scrollbar.el;
                if (!this.axis[axis].isVisible) {
                    scrollbar.classList.add(this.classNames.visible);
                    this.axis[axis].isVisible = true;
                }
                if (this.options.autoHide) this.hideScrollbars();
            };
            _proto.onDragStart = function onDragStart(e, axis) {
                if (void 0 === axis) axis = "y";
                var elDocument = getElementDocument(this.el);
                var elWindow = getElementWindow(this.el);
                var scrollbar = this.axis[axis].scrollbar;
                var eventOffset = "y" === axis ? e.pageY : e.pageX;
                this.axis[axis].dragOffset = eventOffset - scrollbar.rect[this.axis[axis].offsetAttr];
                this.draggedAxis = axis;
                this.el.classList.add(this.classNames.dragging);
                elDocument.addEventListener("mousemove", this.drag, true);
                elDocument.addEventListener("mouseup", this.onEndDrag, true);
                if (null === this.removePreventClickId) {
                    elDocument.addEventListener("click", this.preventClick, true);
                    elDocument.addEventListener("dblclick", this.preventClick, true);
                } else {
                    elWindow.clearTimeout(this.removePreventClickId);
                    this.removePreventClickId = null;
                }
            };
            _proto.onTrackClick = function onTrackClick(e, axis) {
                var _this4 = this;
                if (void 0 === axis) axis = "y";
                if (!this.options.clickOnTrack) return;
                var elWindow = getElementWindow(this.el);
                this.axis[axis].scrollbar.rect = this.axis[axis].scrollbar.el.getBoundingClientRect();
                var scrollbar = this.axis[axis].scrollbar;
                var scrollbarOffset = scrollbar.rect[this.axis[axis].offsetAttr];
                var hostSize = parseInt(this.elStyles[this.axis[axis].sizeAttr], 10);
                var scrolled = this.contentWrapperEl[this.axis[axis].scrollOffsetAttr];
                var t = "y" === axis ? this.mouseY - scrollbarOffset : this.mouseX - scrollbarOffset;
                var dir = t < 0 ? -1 : 1;
                var scrollSize = -1 === dir ? scrolled - hostSize : scrolled + hostSize;
                var scrollTo = function scrollTo() {
                    if (-1 === dir) {
                        if (scrolled > scrollSize) {
                            var _this4$contentWrapper;
                            scrolled -= _this4.options.clickOnTrackSpeed;
                            _this4.contentWrapperEl.scrollTo((_this4$contentWrapper = {}, _this4$contentWrapper[_this4.axis[axis].offsetAttr] = scrolled, 
                            _this4$contentWrapper));
                            elWindow.requestAnimationFrame(scrollTo);
                        }
                    } else if (scrolled < scrollSize) {
                        var _this4$contentWrapper2;
                        scrolled += _this4.options.clickOnTrackSpeed;
                        _this4.contentWrapperEl.scrollTo((_this4$contentWrapper2 = {}, _this4$contentWrapper2[_this4.axis[axis].offsetAttr] = scrolled, 
                        _this4$contentWrapper2));
                        elWindow.requestAnimationFrame(scrollTo);
                    }
                };
                scrollTo();
            };
            _proto.getContentElement = function getContentElement() {
                return this.contentEl;
            };
            _proto.getScrollElement = function getScrollElement() {
                return this.contentWrapperEl;
            };
            _proto.getScrollbarWidth = function getScrollbarWidth() {
                try {
                    if ("none" === getComputedStyle(this.contentWrapperEl, "::-webkit-scrollbar").display || "scrollbarWidth" in document.documentElement.style || "-ms-overflow-style" in document.documentElement.style) return 0; else return scrollbarWidth(this.el);
                } catch (e) {
                    return scrollbarWidth(this.el);
                }
            };
            _proto.removeListeners = function removeListeners() {
                var _this5 = this;
                var elWindow = getElementWindow(this.el);
                if (this.options.autoHide) this.el.removeEventListener("mouseenter", this.onMouseEnter);
                [ "mousedown", "click", "dblclick" ].forEach((function(e) {
                    _this5.el.removeEventListener(e, _this5.onPointerEvent, true);
                }));
                [ "touchstart", "touchend", "touchmove" ].forEach((function(e) {
                    _this5.el.removeEventListener(e, _this5.onPointerEvent, {
                        capture: true,
                        passive: true
                    });
                }));
                this.el.removeEventListener("mousemove", this.onMouseMove);
                this.el.removeEventListener("mouseleave", this.onMouseLeave);
                if (this.contentWrapperEl) this.contentWrapperEl.removeEventListener("scroll", this.onScroll);
                elWindow.removeEventListener("resize", this.onWindowResize);
                if (this.mutationObserver) this.mutationObserver.disconnect();
                if (this.resizeObserver) this.resizeObserver.disconnect();
                this.recalculate.cancel();
                this.onMouseMove.cancel();
                this.hideScrollbars.cancel();
                this.onWindowResize.cancel();
            };
            _proto.unMount = function unMount() {
                this.removeListeners();
                SimpleBar.instances.delete(this.el);
            };
            _proto.isWithinBounds = function isWithinBounds(bbox) {
                return this.mouseX >= bbox.left && this.mouseX <= bbox.left + bbox.width && this.mouseY >= bbox.top && this.mouseY <= bbox.top + bbox.height;
            };
            _proto.findChild = function findChild(el, query) {
                var matches = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;
                return Array.prototype.filter.call(el.children, (function(child) {
                    return matches.call(child, query);
                }))[0];
            };
            return SimpleBar;
        }();
        SimpleBar.defaultOptions = {
            autoHide: true,
            forceVisible: false,
            clickOnTrack: true,
            clickOnTrackSpeed: 40,
            classNames: {
                contentEl: "simplebar-content",
                contentWrapper: "simplebar-content-wrapper",
                offset: "simplebar-offset",
                mask: "simplebar-mask",
                wrapper: "simplebar-wrapper",
                placeholder: "simplebar-placeholder",
                scrollbar: "simplebar-scrollbar",
                track: "simplebar-track",
                heightAutoObserverWrapperEl: "simplebar-height-auto-observer-wrapper",
                heightAutoObserverEl: "simplebar-height-auto-observer",
                visible: "simplebar-visible",
                horizontal: "simplebar-horizontal",
                vertical: "simplebar-vertical",
                hover: "simplebar-hover",
                dragging: "simplebar-dragging"
            },
            scrollbarMinSize: 25,
            scrollbarMaxSize: 0,
            timeout: 1e3
        };
        SimpleBar.instances = new WeakMap;
        SimpleBar.initDOMLoadedElements = function() {
            document.removeEventListener("DOMContentLoaded", this.initDOMLoadedElements);
            window.removeEventListener("load", this.initDOMLoadedElements);
            Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"), (function(el) {
                if ("init" !== el.getAttribute("data-simplebar") && !SimpleBar.instances.has(el)) new SimpleBar(el, getOptions(el.attributes));
            }));
        };
        SimpleBar.removeObserver = function() {
            this.globalObserver.disconnect();
        };
        SimpleBar.initHtmlApi = function() {
            this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this);
            if ("undefined" !== typeof MutationObserver) {
                this.globalObserver = new MutationObserver(SimpleBar.handleMutations);
                this.globalObserver.observe(document, {
                    childList: true,
                    subtree: true
                });
            }
            if ("complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll) window.setTimeout(this.initDOMLoadedElements); else {
                document.addEventListener("DOMContentLoaded", this.initDOMLoadedElements);
                window.addEventListener("load", this.initDOMLoadedElements);
            }
        };
        SimpleBar.handleMutations = function(mutations) {
            mutations.forEach((function(mutation) {
                Array.prototype.forEach.call(mutation.addedNodes, (function(addedNode) {
                    if (1 === addedNode.nodeType) if (addedNode.hasAttribute("data-simplebar")) !SimpleBar.instances.has(addedNode) && document.documentElement.contains(addedNode) && new SimpleBar(addedNode, getOptions(addedNode.attributes)); else Array.prototype.forEach.call(addedNode.querySelectorAll("[data-simplebar]"), (function(el) {
                        if ("init" !== el.getAttribute("data-simplebar") && !SimpleBar.instances.has(el) && document.documentElement.contains(el)) new SimpleBar(el, getOptions(el.attributes));
                    }));
                }));
                Array.prototype.forEach.call(mutation.removedNodes, (function(removedNode) {
                    if (1 === removedNode.nodeType) if ("init" === removedNode.getAttribute("data-simplebar")) SimpleBar.instances.has(removedNode) && !document.documentElement.contains(removedNode) && SimpleBar.instances.get(removedNode).unMount(); else Array.prototype.forEach.call(removedNode.querySelectorAll('[data-simplebar="init"]'), (function(el) {
                        SimpleBar.instances.has(el) && !document.documentElement.contains(el) && SimpleBar.instances.get(el).unMount();
                    }));
                }));
            }));
        };
        SimpleBar.getOptions = getOptions;
        if (can_use_dom_default()) SimpleBar.initHtmlApi();
        const simplebar_esm = SimpleBar;
        if (document.querySelectorAll("[data-simplebar]").length) document.querySelectorAll("[data-simplebar]").forEach((scrollBlock => {
            new simplebar_esm(scrollBlock, {
                autoHide: false
            });
        }));
        var lazyload_min = __webpack_require__(2732);
        new lazyload_min({
            elements_selector: "[data-src],[data-srcset],[data-bg],[data-bg-hidpi]",
            class_loaded: "_lazy-loaded"
        });
        class ScrollWatcher {
            constructor(props) {
                let defaultConfig = {
                    logging: true
                };
                this.config = Object.assign(defaultConfig, props);
                this.observer;
                !document.documentElement.classList.contains("watcher") ? this.scrollWatcherRun() : null;
            }
            scrollWatcherUpdate() {
                this.scrollWatcherRun();
            }
            scrollWatcherRun() {
                document.documentElement.classList.add("watcher");
                this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"));
            }
            scrollWatcherConstructor(items) {
                if (items.length) {
                    this.scrollWatcherLogging(`Проснулся, слежу за объектами (${items.length})...`);
                    let uniqParams = uniqArray(Array.from(items).map((function(item) {
                        return `${item.dataset.watchRoot ? item.dataset.watchRoot : null}|${item.dataset.watchMargin ? item.dataset.watchMargin : "0px"}|${item.dataset.watchThreshold ? item.dataset.watchThreshold : 0}`;
                    })));
                    uniqParams.forEach((uniqParam => {
                        let uniqParamArray = uniqParam.split("|");
                        let paramsWatch = {
                            root: uniqParamArray[0],
                            margin: uniqParamArray[1],
                            threshold: uniqParamArray[2]
                        };
                        let groupItems = Array.from(items).filter((function(item) {
                            let watchRoot = item.dataset.watchRoot ? item.dataset.watchRoot : null;
                            let watchMargin = item.dataset.watchMargin ? item.dataset.watchMargin : "0px";
                            let watchThreshold = item.dataset.watchThreshold ? item.dataset.watchThreshold : 0;
                            if (String(watchRoot) === paramsWatch.root && String(watchMargin) === paramsWatch.margin && String(watchThreshold) === paramsWatch.threshold) return item;
                        }));
                        let configWatcher = this.getScrollWatcherConfig(paramsWatch);
                        this.scrollWatcherInit(groupItems, configWatcher);
                    }));
                } else this.scrollWatcherLogging("Сплю, нет объектов для слежения. ZzzZZzz");
            }
            getScrollWatcherConfig(paramsWatch) {
                let configWatcher = {};
                if (document.querySelector(paramsWatch.root)) configWatcher.root = document.querySelector(paramsWatch.root); else if ("null" !== paramsWatch.root) this.scrollWatcherLogging(`Эмм... родительского объекта ${paramsWatch.root} нет на странице`);
                configWatcher.rootMargin = paramsWatch.margin;
                if (paramsWatch.margin.indexOf("px") < 0 && paramsWatch.margin.indexOf("%") < 0) {
                    this.scrollWatcherLogging(`Ой ой, настройку data-watch-margin нужно задавать в PX или %`);
                    return;
                }
                if ("prx" === paramsWatch.threshold) {
                    paramsWatch.threshold = [];
                    for (let i = 0; i <= 1; i += .005) paramsWatch.threshold.push(i);
                } else paramsWatch.threshold = paramsWatch.threshold.split(",");
                configWatcher.threshold = paramsWatch.threshold;
                return configWatcher;
            }
            scrollWatcherCreate(configWatcher) {
                this.observer = new IntersectionObserver(((entries, observer) => {
                    entries.forEach((entry => {
                        this.scrollWatcherCallback(entry, observer);
                    }));
                }), configWatcher);
            }
            scrollWatcherInit(items, configWatcher) {
                this.scrollWatcherCreate(configWatcher);
                items.forEach((item => this.observer.observe(item)));
            }
            scrollWatcherIntersecting(entry, targetElement) {
                if (entry.isIntersecting) {
                    !targetElement.classList.contains("_watcher-view") ? targetElement.classList.add("_watcher-view") : null;
                    this.scrollWatcherLogging(`Я вижу ${targetElement.classList}, добавил класс _watcher-view`);
                } else {
                    targetElement.classList.contains("_watcher-view") ? targetElement.classList.remove("_watcher-view") : null;
                    this.scrollWatcherLogging(`Я не вижу ${targetElement.classList}, убрал класс _watcher-view`);
                }
            }
            scrollWatcherOff(targetElement, observer) {
                observer.unobserve(targetElement);
                this.scrollWatcherLogging(`Я перестал следить за ${targetElement.classList}`);
            }
            scrollWatcherLogging(message) {
                this.config.logging ? FLS(`[Наблюдатель]: ${message}`) : null;
            }
            scrollWatcherCallback(entry, observer) {
                const targetElement = entry.target;
                this.scrollWatcherIntersecting(entry, targetElement);
                targetElement.hasAttribute("data-watch-once") && entry.isIntersecting ? this.scrollWatcherOff(targetElement, observer) : null;
                document.dispatchEvent(new CustomEvent("watcherCallback", {
                    detail: {
                        entry
                    }
                }));
            }
        }
        flsModules.watcher = new ScrollWatcher({});
        let addWindowScrollEvent = false;
        function headerScroll() {
            addWindowScrollEvent = true;
            const header = document.querySelector("header.header");
            const headerShow = header.hasAttribute("data-scroll-show");
            const headerShowTimer = header.dataset.scrollShow ? header.dataset.scrollShow : 500;
            const startPoint = header.dataset.scroll ? header.dataset.scroll : 1;
            let scrollDirection = 0;
            let timer;
            document.addEventListener("windowScroll", (function(e) {
                const scrollTop = window.scrollY;
                clearTimeout(timer);
                if (scrollTop >= startPoint) {
                    !header.classList.contains("_header-scroll") ? header.classList.add("_header-scroll") : null;
                    if (headerShow) {
                        if (scrollTop > scrollDirection) header.classList.contains("_header-show") ? header.classList.remove("_header-show") : null; else !header.classList.contains("_header-show") ? header.classList.add("_header-show") : null;
                        timer = setTimeout((() => {
                            !header.classList.contains("_header-show") ? header.classList.add("_header-show") : null;
                        }), headerShowTimer);
                    }
                } else {
                    header.classList.contains("_header-scroll") ? header.classList.remove("_header-scroll") : null;
                    if (headerShow) header.classList.contains("_header-show") ? header.classList.remove("_header-show") : null;
                }
                scrollDirection = scrollTop <= 0 ? 0 : scrollTop;
            }));
        }
        setTimeout((() => {
            if (addWindowScrollEvent) {
                let windowScroll = new Event("windowScroll");
                window.addEventListener("scroll", (function(e) {
                    document.dispatchEvent(windowScroll);
                }));
            }
        }), 0);
        /*!
 * lightgallery | 2.7.0 | October 9th 2022
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */
        /*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
        var lightgallery_es5_assign = function() {
            lightgallery_es5_assign = Object.assign || function __assign(t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                }
                return t;
            };
            return lightgallery_es5_assign.apply(this, arguments);
        };
        function lightgallery_es5_spreadArrays() {
            for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
            var r = Array(s), k = 0;
            for (i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, 
            k++) r[k] = a[j];
            return r;
        }
        var lGEvents = {
            afterAppendSlide: "lgAfterAppendSlide",
            init: "lgInit",
            hasVideo: "lgHasVideo",
            containerResize: "lgContainerResize",
            updateSlides: "lgUpdateSlides",
            afterAppendSubHtml: "lgAfterAppendSubHtml",
            beforeOpen: "lgBeforeOpen",
            afterOpen: "lgAfterOpen",
            slideItemLoad: "lgSlideItemLoad",
            beforeSlide: "lgBeforeSlide",
            afterSlide: "lgAfterSlide",
            posterClick: "lgPosterClick",
            dragStart: "lgDragStart",
            dragMove: "lgDragMove",
            dragEnd: "lgDragEnd",
            beforeNextSlide: "lgBeforeNextSlide",
            beforePrevSlide: "lgBeforePrevSlide",
            beforeClose: "lgBeforeClose",
            afterClose: "lgAfterClose",
            rotateLeft: "lgRotateLeft",
            rotateRight: "lgRotateRight",
            flipHorizontal: "lgFlipHorizontal",
            flipVertical: "lgFlipVertical",
            autoplay: "lgAutoplay",
            autoplayStart: "lgAutoplayStart",
            autoplayStop: "lgAutoplayStop"
        };
        var lightGalleryCoreSettings = {
            mode: "lg-slide",
            easing: "ease",
            speed: 400,
            licenseKey: "0000-0000-000-0000",
            height: "100%",
            width: "100%",
            addClass: "",
            startClass: "lg-start-zoom",
            backdropDuration: 300,
            container: "",
            startAnimationDuration: 400,
            zoomFromOrigin: true,
            hideBarsDelay: 0,
            showBarsAfter: 1e4,
            slideDelay: 0,
            supportLegacyBrowser: true,
            allowMediaOverlap: false,
            videoMaxSize: "1280-720",
            loadYouTubePoster: true,
            defaultCaptionHeight: 0,
            ariaLabelledby: "",
            ariaDescribedby: "",
            resetScrollPosition: true,
            hideScrollbar: false,
            closable: true,
            swipeToClose: true,
            closeOnTap: true,
            showCloseIcon: true,
            showMaximizeIcon: false,
            loop: true,
            escKey: true,
            keyPress: true,
            trapFocus: true,
            controls: true,
            slideEndAnimation: true,
            hideControlOnEnd: false,
            mousewheel: false,
            getCaptionFromTitleOrAlt: true,
            appendSubHtmlTo: ".lg-sub-html",
            subHtmlSelectorRelative: false,
            preload: 2,
            numberOfSlideItemsInDom: 10,
            selector: "",
            selectWithin: "",
            nextHtml: "",
            prevHtml: "",
            index: 0,
            iframeWidth: "100%",
            iframeHeight: "100%",
            iframeMaxWidth: "100%",
            iframeMaxHeight: "100%",
            download: true,
            counter: true,
            appendCounterTo: ".lg-toolbar",
            swipeThreshold: 50,
            enableSwipe: true,
            enableDrag: true,
            dynamic: false,
            dynamicEl: [],
            extraProps: [],
            exThumbImage: "",
            isMobile: void 0,
            mobileSettings: {
                controls: false,
                showCloseIcon: false,
                download: false
            },
            plugins: [],
            strings: {
                closeGallery: "Close gallery",
                toggleMaximize: "Toggle maximize",
                previousSlide: "Previous slide",
                nextSlide: "Next slide",
                download: "Download",
                playVideo: "Play video"
            }
        };
        function initLgPolyfills() {
            (function() {
                if ("function" === typeof window.CustomEvent) return false;
                function CustomEvent(event, params) {
                    params = params || {
                        bubbles: false,
                        cancelable: false,
                        detail: null
                    };
                    var evt = document.createEvent("CustomEvent");
                    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
                    return evt;
                }
                window.CustomEvent = CustomEvent;
            })();
            (function() {
                if (!Element.prototype.matches) Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
            })();
        }
        var lgQuery = function() {
            function lgQuery(selector) {
                this.cssVenderPrefixes = [ "TransitionDuration", "TransitionTimingFunction", "Transform", "Transition" ];
                this.selector = this._getSelector(selector);
                this.firstElement = this._getFirstEl();
                return this;
            }
            lgQuery.generateUUID = function() {
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(c) {
                    var r = 16 * Math.random() | 0, v = "x" == c ? r : 3 & r | 8;
                    return v.toString(16);
                }));
            };
            lgQuery.prototype._getSelector = function(selector, context) {
                if (void 0 === context) context = document;
                if ("string" !== typeof selector) return selector;
                context = context || document;
                var fl = selector.substring(0, 1);
                if ("#" === fl) return context.querySelector(selector); else return context.querySelectorAll(selector);
            };
            lgQuery.prototype._each = function(func) {
                if (!this.selector) return this;
                if (void 0 !== this.selector.length) [].forEach.call(this.selector, func); else func(this.selector, 0);
                return this;
            };
            lgQuery.prototype._setCssVendorPrefix = function(el, cssProperty, value) {
                var property = cssProperty.replace(/-([a-z])/gi, (function(s, group1) {
                    return group1.toUpperCase();
                }));
                if (-1 !== this.cssVenderPrefixes.indexOf(property)) {
                    el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;
                    el.style["webkit" + property] = value;
                    el.style["moz" + property] = value;
                    el.style["ms" + property] = value;
                    el.style["o" + property] = value;
                } else el.style[property] = value;
            };
            lgQuery.prototype._getFirstEl = function() {
                if (this.selector && void 0 !== this.selector.length) return this.selector[0]; else return this.selector;
            };
            lgQuery.prototype.isEventMatched = function(event, eventName) {
                var eventNamespace = eventName.split(".");
                return event.split(".").filter((function(e) {
                    return e;
                })).every((function(e) {
                    return -1 !== eventNamespace.indexOf(e);
                }));
            };
            lgQuery.prototype.attr = function(attr, value) {
                if (void 0 === value) {
                    if (!this.firstElement) return "";
                    return this.firstElement.getAttribute(attr);
                }
                this._each((function(el) {
                    el.setAttribute(attr, value);
                }));
                return this;
            };
            lgQuery.prototype.find = function(selector) {
                return $LG(this._getSelector(selector, this.selector));
            };
            lgQuery.prototype.first = function() {
                if (this.selector && void 0 !== this.selector.length) return $LG(this.selector[0]); else return $LG(this.selector);
            };
            lgQuery.prototype.eq = function(index) {
                return $LG(this.selector[index]);
            };
            lgQuery.prototype.parent = function() {
                return $LG(this.selector.parentElement);
            };
            lgQuery.prototype.get = function() {
                return this._getFirstEl();
            };
            lgQuery.prototype.removeAttr = function(attributes) {
                var attrs = attributes.split(" ");
                this._each((function(el) {
                    attrs.forEach((function(attr) {
                        return el.removeAttribute(attr);
                    }));
                }));
                return this;
            };
            lgQuery.prototype.wrap = function(className) {
                if (!this.firstElement) return this;
                var wrapper = document.createElement("div");
                wrapper.className = className;
                this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);
                this.firstElement.parentNode.removeChild(this.firstElement);
                wrapper.appendChild(this.firstElement);
                return this;
            };
            lgQuery.prototype.addClass = function(classNames) {
                if (void 0 === classNames) classNames = "";
                this._each((function(el) {
                    classNames.split(" ").forEach((function(className) {
                        if (className) el.classList.add(className);
                    }));
                }));
                return this;
            };
            lgQuery.prototype.removeClass = function(classNames) {
                this._each((function(el) {
                    classNames.split(" ").forEach((function(className) {
                        if (className) el.classList.remove(className);
                    }));
                }));
                return this;
            };
            lgQuery.prototype.hasClass = function(className) {
                if (!this.firstElement) return false;
                return this.firstElement.classList.contains(className);
            };
            lgQuery.prototype.hasAttribute = function(attribute) {
                if (!this.firstElement) return false;
                return this.firstElement.hasAttribute(attribute);
            };
            lgQuery.prototype.toggleClass = function(className) {
                if (!this.firstElement) return this;
                if (this.hasClass(className)) this.removeClass(className); else this.addClass(className);
                return this;
            };
            lgQuery.prototype.css = function(property, value) {
                var _this = this;
                this._each((function(el) {
                    _this._setCssVendorPrefix(el, property, value);
                }));
                return this;
            };
            lgQuery.prototype.on = function(events, listener) {
                var _this = this;
                if (!this.selector) return this;
                events.split(" ").forEach((function(event) {
                    if (!Array.isArray(lgQuery.eventListeners[event])) lgQuery.eventListeners[event] = [];
                    lgQuery.eventListeners[event].push(listener);
                    _this.selector.addEventListener(event.split(".")[0], listener);
                }));
                return this;
            };
            lgQuery.prototype.once = function(event, listener) {
                var _this = this;
                this.on(event, (function() {
                    _this.off(event);
                    listener(event);
                }));
                return this;
            };
            lgQuery.prototype.off = function(event) {
                var _this = this;
                if (!this.selector) return this;
                Object.keys(lgQuery.eventListeners).forEach((function(eventName) {
                    if (_this.isEventMatched(event, eventName)) {
                        lgQuery.eventListeners[eventName].forEach((function(listener) {
                            _this.selector.removeEventListener(eventName.split(".")[0], listener);
                        }));
                        lgQuery.eventListeners[eventName] = [];
                    }
                }));
                return this;
            };
            lgQuery.prototype.trigger = function(event, detail) {
                if (!this.firstElement) return this;
                var customEvent = new CustomEvent(event.split(".")[0], {
                    detail: detail || null
                });
                this.firstElement.dispatchEvent(customEvent);
                return this;
            };
            lgQuery.prototype.load = function(url) {
                var _this = this;
                fetch(url).then((function(res) {
                    return res.text();
                })).then((function(html) {
                    _this.selector.innerHTML = html;
                }));
                return this;
            };
            lgQuery.prototype.html = function(html) {
                if (void 0 === html) {
                    if (!this.firstElement) return "";
                    return this.firstElement.innerHTML;
                }
                this._each((function(el) {
                    el.innerHTML = html;
                }));
                return this;
            };
            lgQuery.prototype.append = function(html) {
                this._each((function(el) {
                    if ("string" === typeof html) el.insertAdjacentHTML("beforeend", html); else el.appendChild(html);
                }));
                return this;
            };
            lgQuery.prototype.prepend = function(html) {
                this._each((function(el) {
                    el.insertAdjacentHTML("afterbegin", html);
                }));
                return this;
            };
            lgQuery.prototype.remove = function() {
                this._each((function(el) {
                    el.parentNode.removeChild(el);
                }));
                return this;
            };
            lgQuery.prototype.empty = function() {
                this._each((function(el) {
                    el.innerHTML = "";
                }));
                return this;
            };
            lgQuery.prototype.scrollTop = function(scrollTop) {
                if (void 0 !== scrollTop) {
                    document.body.scrollTop = scrollTop;
                    document.documentElement.scrollTop = scrollTop;
                    return this;
                } else return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
            };
            lgQuery.prototype.scrollLeft = function(scrollLeft) {
                if (void 0 !== scrollLeft) {
                    document.body.scrollLeft = scrollLeft;
                    document.documentElement.scrollLeft = scrollLeft;
                    return this;
                } else return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
            };
            lgQuery.prototype.offset = function() {
                if (!this.firstElement) return {
                    left: 0,
                    top: 0
                };
                var rect = this.firstElement.getBoundingClientRect();
                var bodyMarginLeft = $LG("body").style().marginLeft;
                return {
                    left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),
                    top: rect.top + this.scrollTop()
                };
            };
            lgQuery.prototype.style = function() {
                if (!this.firstElement) return {};
                return this.firstElement.currentStyle || window.getComputedStyle(this.firstElement);
            };
            lgQuery.prototype.width = function() {
                var style = this.style();
                return this.firstElement.clientWidth - parseFloat(style.paddingLeft) - parseFloat(style.paddingRight);
            };
            lgQuery.prototype.height = function() {
                var style = this.style();
                return this.firstElement.clientHeight - parseFloat(style.paddingTop) - parseFloat(style.paddingBottom);
            };
            lgQuery.eventListeners = {};
            return lgQuery;
        }();
        function $LG(selector) {
            initLgPolyfills();
            return new lgQuery(selector);
        }
        var defaultDynamicOptions = [ "src", "sources", "subHtml", "subHtmlUrl", "html", "video", "poster", "slideName", "responsive", "srcset", "sizes", "iframe", "downloadUrl", "download", "width", "facebookShareUrl", "tweetText", "iframeTitle", "twitterShareUrl", "pinterestShareUrl", "pinterestText", "fbHtml", "disqusIdentifier", "disqusUrl" ];
        function convertToData(attr) {
            if ("href" === attr) return "src";
            attr = attr.replace("data-", "");
            attr = attr.charAt(0).toLowerCase() + attr.slice(1);
            attr = attr.replace(/-([a-z])/g, (function(g) {
                return g[1].toUpperCase();
            }));
            return attr;
        }
        var utils = {
            getSize: function(el, container, spacing, defaultLgSize) {
                if (void 0 === spacing) spacing = 0;
                var LGel = $LG(el);
                var lgSize = LGel.attr("data-lg-size") || defaultLgSize;
                if (!lgSize) return;
                var isResponsiveSizes = lgSize.split(",");
                if (isResponsiveSizes[1]) {
                    var wWidth = window.innerWidth;
                    for (var i = 0; i < isResponsiveSizes.length; i++) {
                        var size_1 = isResponsiveSizes[i];
                        var responsiveWidth = parseInt(size_1.split("-")[2], 10);
                        if (responsiveWidth > wWidth) {
                            lgSize = size_1;
                            break;
                        }
                        if (i === isResponsiveSizes.length - 1) lgSize = size_1;
                    }
                }
                var size = lgSize.split("-");
                var width = parseInt(size[0], 10);
                var height = parseInt(size[1], 10);
                var cWidth = container.width();
                var cHeight = container.height() - spacing;
                var maxWidth = Math.min(cWidth, width);
                var maxHeight = Math.min(cHeight, height);
                var ratio = Math.min(maxWidth / width, maxHeight / height);
                return {
                    width: width * ratio,
                    height: height * ratio
                };
            },
            getTransform: function(el, container, top, bottom, imageSize) {
                if (!imageSize) return;
                var LGel = $LG(el).find("img").first();
                if (!LGel.get()) return;
                var containerRect = container.get().getBoundingClientRect();
                var wWidth = containerRect.width;
                var wHeight = container.height() - (top + bottom);
                var elWidth = LGel.width();
                var elHeight = LGel.height();
                var elStyle = LGel.style();
                var x = (wWidth - elWidth) / 2 - LGel.offset().left + (parseFloat(elStyle.paddingLeft) || 0) + (parseFloat(elStyle.borderLeft) || 0) + $LG(window).scrollLeft() + containerRect.left;
                var y = (wHeight - elHeight) / 2 - LGel.offset().top + (parseFloat(elStyle.paddingTop) || 0) + (parseFloat(elStyle.borderTop) || 0) + $LG(window).scrollTop() + top;
                var scX = elWidth / imageSize.width;
                var scY = elHeight / imageSize.height;
                var transform = "translate3d(" + (x *= -1) + "px, " + (y *= -1) + "px, 0) scale3d(" + scX + ", " + scY + ", 1)";
                return transform;
            },
            getIframeMarkup: function(iframeWidth, iframeHeight, iframeMaxWidth, iframeMaxHeight, src, iframeTitle) {
                var title = iframeTitle ? 'title="' + iframeTitle + '"' : "";
                return '<div class="lg-video-cont lg-has-iframe" style="width:' + iframeWidth + "; max-width:" + iframeMaxWidth + "; height: " + iframeHeight + "; max-height:" + iframeMaxHeight + '">\n                    <iframe class="lg-object" frameborder="0" ' + title + ' src="' + src + '"  allowfullscreen="true"></iframe>\n                </div>';
            },
            getImgMarkup: function(index, src, altAttr, srcset, sizes, sources) {
                var srcsetAttr = srcset ? 'srcset="' + srcset + '"' : "";
                var sizesAttr = sizes ? 'sizes="' + sizes + '"' : "";
                var imgMarkup = "<img " + altAttr + " " + srcsetAttr + "  " + sizesAttr + ' class="lg-object lg-image" data-index="' + index + '" src="' + src + '" />';
                var sourceTag = "";
                if (sources) {
                    var sourceObj = "string" === typeof sources ? JSON.parse(sources) : sources;
                    sourceTag = sourceObj.map((function(source) {
                        var attrs = "";
                        Object.keys(source).forEach((function(key) {
                            attrs += " " + key + '="' + source[key] + '"';
                        }));
                        return "<source " + attrs + "></source>";
                    }));
                }
                return "" + sourceTag + imgMarkup;
            },
            getResponsiveSrc: function(srcItms) {
                var rsWidth = [];
                var rsSrc = [];
                var src = "";
                for (var i = 0; i < srcItms.length; i++) {
                    var _src = srcItms[i].split(" ");
                    if ("" === _src[0]) _src.splice(0, 1);
                    rsSrc.push(_src[0]);
                    rsWidth.push(_src[1]);
                }
                var wWidth = window.innerWidth;
                for (var j = 0; j < rsWidth.length; j++) if (parseInt(rsWidth[j], 10) > wWidth) {
                    src = rsSrc[j];
                    break;
                }
                return src;
            },
            isImageLoaded: function(img) {
                if (!img) return false;
                if (!img.complete) return false;
                if (0 === img.naturalWidth) return false;
                return true;
            },
            getVideoPosterMarkup: function(_poster, dummyImg, videoContStyle, playVideoString, _isVideo) {
                var videoClass = "";
                if (_isVideo && _isVideo.youtube) videoClass = "lg-has-youtube"; else if (_isVideo && _isVideo.vimeo) videoClass = "lg-has-vimeo"; else videoClass = "lg-has-html5";
                return '<div class="lg-video-cont ' + videoClass + '" style="' + videoContStyle + '">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="' + playVideoString + '"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>' + playVideoString + '</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            ' + (dummyImg || "") + '\n            <img class="lg-object lg-video-poster" src="' + _poster + '" />\n        </div>';
            },
            getFocusableElements: function(container) {
                var elements = container.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');
                var visibleElements = [].filter.call(elements, (function(element) {
                    var style = window.getComputedStyle(element);
                    return "none" !== style.display && "hidden" !== style.visibility;
                }));
                return visibleElements;
            },
            getDynamicOptions: function(items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {
                var dynamicElements = [];
                var availableDynamicOptions = lightgallery_es5_spreadArrays(defaultDynamicOptions, extraProps);
                [].forEach.call(items, (function(item) {
                    var dynamicEl = {};
                    for (var i = 0; i < item.attributes.length; i++) {
                        var attr = item.attributes[i];
                        if (attr.specified) {
                            var dynamicAttr = convertToData(attr.name);
                            var label = "";
                            if (availableDynamicOptions.indexOf(dynamicAttr) > -1) label = dynamicAttr;
                            if (label) dynamicEl[label] = attr.value;
                        }
                    }
                    var currentItem = $LG(item);
                    var alt = currentItem.find("img").first().attr("alt");
                    var title = currentItem.attr("title");
                    var thumb = exThumbImage ? currentItem.attr(exThumbImage) : currentItem.find("img").first().attr("src");
                    dynamicEl.thumb = thumb;
                    if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) dynamicEl.subHtml = title || alt || "";
                    dynamicEl.alt = alt || title || "";
                    dynamicElements.push(dynamicEl);
                }));
                return dynamicElements;
            },
            isMobile: function() {
                return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            },
            isVideo: function(src, isHTML5VIdeo, index) {
                if (!src) if (isHTML5VIdeo) return {
                    html5: true
                }; else {
                    console.error("lightGallery :- data-src is not provided on slide item " + (index + 1) + ". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");
                    return;
                }
                var youtube = src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i);
                var vimeo = src.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i);
                var wistia = src.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);
                if (youtube) return {
                    youtube
                }; else if (vimeo) return {
                    vimeo
                }; else if (wistia) return {
                    wistia
                };
            }
        };
        var lgId = 0;
        var LightGallery = function() {
            function LightGallery(element, options) {
                this.lgOpened = false;
                this.index = 0;
                this.plugins = [];
                this.lGalleryOn = false;
                this.lgBusy = false;
                this.currentItemsInDom = [];
                this.prevScrollTop = 0;
                this.bodyPaddingRight = 0;
                this.isDummyImageRemoved = false;
                this.dragOrSwipeEnabled = false;
                this.mediaContainerPosition = {
                    top: 0,
                    bottom: 0
                };
                if (!element) return this;
                lgId++;
                this.lgId = lgId;
                this.el = element;
                this.LGel = $LG(element);
                this.generateSettings(options);
                this.buildModules();
                if (this.settings.dynamic && void 0 !== this.settings.dynamicEl && !Array.isArray(this.settings.dynamicEl)) throw "When using dynamic mode, you must also define dynamicEl as an Array.";
                this.galleryItems = this.getItems();
                this.normalizeSettings();
                this.init();
                this.validateLicense();
                return this;
            }
            LightGallery.prototype.generateSettings = function(options) {
                this.settings = lightgallery_es5_assign(lightgallery_es5_assign({}, lightGalleryCoreSettings), options);
                if (this.settings.isMobile && "function" === typeof this.settings.isMobile ? this.settings.isMobile() : utils.isMobile()) {
                    var mobileSettings = lightgallery_es5_assign(lightgallery_es5_assign({}, this.settings.mobileSettings), this.settings.mobileSettings);
                    this.settings = lightgallery_es5_assign(lightgallery_es5_assign({}, this.settings), mobileSettings);
                }
            };
            LightGallery.prototype.normalizeSettings = function() {
                if (this.settings.slideEndAnimation) this.settings.hideControlOnEnd = false;
                if (!this.settings.closable) this.settings.swipeToClose = false;
                this.zoomFromOrigin = this.settings.zoomFromOrigin;
                if (this.settings.dynamic) this.zoomFromOrigin = false;
                if (!this.settings.container) this.settings.container = document.body;
                this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);
            };
            LightGallery.prototype.init = function() {
                var _this = this;
                this.addSlideVideoInfo(this.galleryItems);
                this.buildStructure();
                this.LGel.trigger(lGEvents.init, {
                    instance: this
                });
                if (this.settings.keyPress) this.keyPress();
                setTimeout((function() {
                    _this.enableDrag();
                    _this.enableSwipe();
                    _this.triggerPosterClick();
                }), 50);
                this.arrow();
                if (this.settings.mousewheel) this.mousewheel();
                if (!this.settings.dynamic) this.openGalleryOnItemClick();
            };
            LightGallery.prototype.openGalleryOnItemClick = function() {
                var _this = this;
                var _loop_1 = function(index) {
                    var element = this_1.items[index];
                    var $element = $LG(element);
                    var uuid = lgQuery.generateUUID();
                    $element.attr("data-lg-id", uuid).on("click.lgcustom-item-" + uuid, (function(e) {
                        e.preventDefault();
                        var currentItemIndex = _this.settings.index || index;
                        _this.openGallery(currentItemIndex, element);
                    }));
                };
                var this_1 = this;
                for (var index = 0; index < this.items.length; index++) _loop_1(index);
            };
            LightGallery.prototype.buildModules = function() {
                var _this = this;
                this.settings.plugins.forEach((function(plugin) {
                    _this.plugins.push(new plugin(_this, $LG));
                }));
            };
            LightGallery.prototype.validateLicense = function() {
                if (!this.settings.licenseKey) console.error("Please provide a valid license key"); else if ("0000-0000-000-0000" === this.settings.licenseKey) console.warn("lightGallery: " + this.settings.licenseKey + " license key is not valid for production use");
            };
            LightGallery.prototype.getSlideItem = function(index) {
                return $LG(this.getSlideItemId(index));
            };
            LightGallery.prototype.getSlideItemId = function(index) {
                return "#lg-item-" + this.lgId + "-" + index;
            };
            LightGallery.prototype.getIdName = function(id) {
                return id + "-" + this.lgId;
            };
            LightGallery.prototype.getElementById = function(id) {
                return $LG("#" + this.getIdName(id));
            };
            LightGallery.prototype.manageSingleSlideClassName = function() {
                if (this.galleryItems.length < 2) this.outer.addClass("lg-single-item"); else this.outer.removeClass("lg-single-item");
            };
            LightGallery.prototype.buildStructure = function() {
                var _this = this;
                var container = this.$container && this.$container.get();
                if (container) return;
                var controls = "";
                var subHtmlCont = "";
                if (this.settings.controls) controls = '<button type="button" id="' + this.getIdName("lg-prev") + '" aria-label="' + this.settings.strings["previousSlide"] + '" class="lg-prev lg-icon"> ' + this.settings.prevHtml + ' </button>\n                <button type="button" id="' + this.getIdName("lg-next") + '" aria-label="' + this.settings.strings["nextSlide"] + '" class="lg-next lg-icon"> ' + this.settings.nextHtml + " </button>";
                if (".lg-item" !== this.settings.appendSubHtmlTo) subHtmlCont = '<div class="lg-sub-html" role="status" aria-live="polite"></div>';
                var addClasses = "";
                if (this.settings.allowMediaOverlap) addClasses += "lg-media-overlap ";
                var ariaLabelledby = this.settings.ariaLabelledby ? 'aria-labelledby="' + this.settings.ariaLabelledby + '"' : "";
                var ariaDescribedby = this.settings.ariaDescribedby ? 'aria-describedby="' + this.settings.ariaDescribedby + '"' : "";
                var containerClassName = "lg-container " + this.settings.addClass + " " + (document.body !== this.settings.container ? "lg-inline" : "");
                var closeIcon = this.settings.closable && this.settings.showCloseIcon ? '<button type="button" aria-label="' + this.settings.strings["closeGallery"] + '" id="' + this.getIdName("lg-close") + '" class="lg-close lg-icon"></button>' : "";
                var maximizeIcon = this.settings.showMaximizeIcon ? '<button type="button" aria-label="' + this.settings.strings["toggleMaximize"] + '" id="' + this.getIdName("lg-maximize") + '" class="lg-maximize lg-icon"></button>' : "";
                var template = '\n        <div class="' + containerClassName + '" id="' + this.getIdName("lg-container") + '" tabindex="-1" aria-modal="true" ' + ariaLabelledby + " " + ariaDescribedby + ' role="dialog"\n        >\n            <div id="' + this.getIdName("lg-backdrop") + '" class="lg-backdrop"></div>\n\n            <div id="' + this.getIdName("lg-outer") + '" class="lg-outer lg-use-css3 lg-css3 lg-hide-items ' + addClasses + ' ">\n\n              <div id="' + this.getIdName("lg-content") + '" class="lg-content">\n                <div id="' + this.getIdName("lg-inner") + '" class="lg-inner">\n                </div>\n                ' + controls + '\n              </div>\n                <div id="' + this.getIdName("lg-toolbar") + '" class="lg-toolbar lg-group">\n                    ' + maximizeIcon + "\n                    " + closeIcon + "\n                    </div>\n                    " + (".lg-outer" === this.settings.appendSubHtmlTo ? subHtmlCont : "") + '\n                <div id="' + this.getIdName("lg-components") + '" class="lg-components">\n                    ' + (".lg-sub-html" === this.settings.appendSubHtmlTo ? subHtmlCont : "") + "\n                </div>\n            </div>\n        </div>\n        ";
                $LG(this.settings.container).append(template);
                if (document.body !== this.settings.container) $LG(this.settings.container).css("position", "relative");
                this.outer = this.getElementById("lg-outer");
                this.$lgComponents = this.getElementById("lg-components");
                this.$backdrop = this.getElementById("lg-backdrop");
                this.$container = this.getElementById("lg-container");
                this.$inner = this.getElementById("lg-inner");
                this.$content = this.getElementById("lg-content");
                this.$toolbar = this.getElementById("lg-toolbar");
                this.$backdrop.css("transition-duration", this.settings.backdropDuration + "ms");
                var outerClassNames = this.settings.mode + " ";
                this.manageSingleSlideClassName();
                if (this.settings.enableDrag) outerClassNames += "lg-grab ";
                this.outer.addClass(outerClassNames);
                this.$inner.css("transition-timing-function", this.settings.easing);
                this.$inner.css("transition-duration", this.settings.speed + "ms");
                if (this.settings.download) this.$toolbar.append('<a id="' + this.getIdName("lg-download") + '" target="_blank" rel="noopener" aria-label="' + this.settings.strings["download"] + '" download class="lg-download lg-icon"></a>');
                this.counter();
                $LG(window).on("resize.lg.global" + this.lgId + " orientationchange.lg.global" + this.lgId, (function() {
                    _this.refreshOnResize();
                }));
                this.hideBars();
                this.manageCloseGallery();
                this.toggleMaximize();
                this.initModules();
            };
            LightGallery.prototype.refreshOnResize = function() {
                if (this.lgOpened) {
                    var currentGalleryItem = this.galleryItems[this.index];
                    var __slideVideoInfo = currentGalleryItem.__slideVideoInfo;
                    this.mediaContainerPosition = this.getMediaContainerPosition();
                    var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;
                    this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, __slideVideoInfo && this.settings.videoMaxSize);
                    if (__slideVideoInfo) this.resizeVideoSlide(this.index, this.currentImageSize);
                    if (this.zoomFromOrigin && !this.isDummyImageRemoved) {
                        var imgStyle = this.getDummyImgStyles(this.currentImageSize);
                        this.outer.find(".lg-current .lg-dummy-img").first().attr("style", imgStyle);
                    }
                    this.LGel.trigger(lGEvents.containerResize);
                }
            };
            LightGallery.prototype.resizeVideoSlide = function(index, imageSize) {
                var lgVideoStyle = this.getVideoContStyle(imageSize);
                var currentSlide = this.getSlideItem(index);
                currentSlide.find(".lg-video-cont").attr("style", lgVideoStyle);
            };
            LightGallery.prototype.updateSlides = function(items, index) {
                if (this.index > items.length - 1) this.index = items.length - 1;
                if (1 === items.length) this.index = 0;
                if (!items.length) {
                    this.closeGallery();
                    return;
                }
                var currentSrc = this.galleryItems[index].src;
                this.galleryItems = items;
                this.updateControls();
                this.$inner.empty();
                this.currentItemsInDom = [];
                var _index = 0;
                this.galleryItems.some((function(galleryItem, itemIndex) {
                    if (galleryItem.src === currentSrc) {
                        _index = itemIndex;
                        return true;
                    }
                    return false;
                }));
                this.currentItemsInDom = this.organizeSlideItems(_index, -1);
                this.loadContent(_index, true);
                this.getSlideItem(_index).addClass("lg-current");
                this.index = _index;
                this.updateCurrentCounter(_index);
                this.LGel.trigger(lGEvents.updateSlides);
            };
            LightGallery.prototype.getItems = function() {
                this.items = [];
                if (!this.settings.dynamic) {
                    if ("this" === this.settings.selector) this.items.push(this.el); else if (this.settings.selector) if ("string" === typeof this.settings.selector) if (this.settings.selectWithin) {
                        var selectWithin = $LG(this.settings.selectWithin);
                        this.items = selectWithin.find(this.settings.selector).get();
                    } else this.items = this.el.querySelectorAll(this.settings.selector); else this.items = this.settings.selector; else this.items = this.el.children;
                    return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);
                } else return this.settings.dynamicEl || [];
            };
            LightGallery.prototype.shouldHideScrollbar = function() {
                return this.settings.hideScrollbar && document.body === this.settings.container;
            };
            LightGallery.prototype.hideScrollbar = function() {
                if (!this.shouldHideScrollbar()) return;
                this.bodyPaddingRight = parseFloat($LG("body").style().paddingRight);
                var bodyRect = document.documentElement.getBoundingClientRect();
                var scrollbarWidth = window.innerWidth - bodyRect.width;
                $LG(document.body).css("padding-right", scrollbarWidth + this.bodyPaddingRight + "px");
                $LG(document.body).addClass("lg-overlay-open");
            };
            LightGallery.prototype.resetScrollBar = function() {
                if (!this.shouldHideScrollbar()) return;
                $LG(document.body).css("padding-right", this.bodyPaddingRight + "px");
                $LG(document.body).removeClass("lg-overlay-open");
            };
            LightGallery.prototype.openGallery = function(index, element) {
                var _this = this;
                if (void 0 === index) index = this.settings.index;
                if (this.lgOpened) return;
                this.lgOpened = true;
                this.outer.removeClass("lg-hide-items");
                this.hideScrollbar();
                this.$container.addClass("lg-show");
                var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);
                this.currentItemsInDom = itemsToBeInsertedToDom;
                var items = "";
                itemsToBeInsertedToDom.forEach((function(item) {
                    items = items + '<div id="' + item + '" class="lg-item"></div>';
                }));
                this.$inner.append(items);
                this.addHtml(index);
                var transform = "";
                this.mediaContainerPosition = this.getMediaContainerPosition();
                var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;
                if (!this.settings.allowMediaOverlap) this.setMediaContainerPosition(top, bottom);
                var __slideVideoInfo = this.galleryItems[index].__slideVideoInfo;
                if (this.zoomFromOrigin && element) {
                    this.currentImageSize = utils.getSize(element, this.outer, top + bottom, __slideVideoInfo && this.settings.videoMaxSize);
                    transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);
                }
                if (!this.zoomFromOrigin || !transform) {
                    this.outer.addClass(this.settings.startClass);
                    this.getSlideItem(index).removeClass("lg-complete");
                }
                var timeout = this.settings.zoomFromOrigin ? 100 : this.settings.backdropDuration;
                setTimeout((function() {
                    _this.outer.addClass("lg-components-open");
                }), timeout);
                this.index = index;
                this.LGel.trigger(lGEvents.beforeOpen);
                this.getSlideItem(index).addClass("lg-current");
                this.lGalleryOn = false;
                this.prevScrollTop = $LG(window).scrollTop();
                setTimeout((function() {
                    if (_this.zoomFromOrigin && transform) {
                        var currentSlide_1 = _this.getSlideItem(index);
                        currentSlide_1.css("transform", transform);
                        setTimeout((function() {
                            currentSlide_1.addClass("lg-start-progress lg-start-end-progress").css("transition-duration", _this.settings.startAnimationDuration + "ms");
                            _this.outer.addClass("lg-zoom-from-image");
                        }));
                        setTimeout((function() {
                            currentSlide_1.css("transform", "translate3d(0, 0, 0)");
                        }), 100);
                    }
                    setTimeout((function() {
                        _this.$backdrop.addClass("in");
                        _this.$container.addClass("lg-show-in");
                    }), 10);
                    setTimeout((function() {
                        if (_this.settings.trapFocus && document.body === _this.settings.container) _this.trapFocus();
                    }), _this.settings.backdropDuration + 50);
                    if (!_this.zoomFromOrigin || !transform) setTimeout((function() {
                        _this.outer.addClass("lg-visible");
                    }), _this.settings.backdropDuration);
                    _this.slide(index, false, false, false);
                    _this.LGel.trigger(lGEvents.afterOpen);
                }));
                if (document.body === this.settings.container) $LG("html").addClass("lg-on");
            };
            LightGallery.prototype.getMediaContainerPosition = function() {
                if (this.settings.allowMediaOverlap) return {
                    top: 0,
                    bottom: 0
                };
                var top = this.$toolbar.get().clientHeight || 0;
                var subHtml = this.outer.find(".lg-components .lg-sub-html").get();
                var captionHeight = this.settings.defaultCaptionHeight || subHtml && subHtml.clientHeight || 0;
                var thumbContainer = this.outer.find(".lg-thumb-outer").get();
                var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;
                var bottom = thumbHeight + captionHeight;
                return {
                    top,
                    bottom
                };
            };
            LightGallery.prototype.setMediaContainerPosition = function(top, bottom) {
                if (void 0 === top) top = 0;
                if (void 0 === bottom) bottom = 0;
                this.$content.css("top", top + "px").css("bottom", bottom + "px");
            };
            LightGallery.prototype.hideBars = function() {
                var _this = this;
                setTimeout((function() {
                    _this.outer.removeClass("lg-hide-items");
                    if (_this.settings.hideBarsDelay > 0) {
                        _this.outer.on("mousemove.lg click.lg touchstart.lg", (function() {
                            _this.outer.removeClass("lg-hide-items");
                            clearTimeout(_this.hideBarTimeout);
                            _this.hideBarTimeout = setTimeout((function() {
                                _this.outer.addClass("lg-hide-items");
                            }), _this.settings.hideBarsDelay);
                        }));
                        _this.outer.trigger("mousemove.lg");
                    }
                }), this.settings.showBarsAfter);
            };
            LightGallery.prototype.initPictureFill = function($img) {
                if (this.settings.supportLegacyBrowser) try {
                    picturefill({
                        elements: [ $img.get() ]
                    });
                } catch (e) {
                    console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.");
                }
            };
            LightGallery.prototype.counter = function() {
                if (this.settings.counter) {
                    var counterHtml = '<div class="lg-counter" role="status" aria-live="polite">\n                <span id="' + this.getIdName("lg-counter-current") + '" class="lg-counter-current">' + (this.index + 1) + ' </span> /\n                <span id="' + this.getIdName("lg-counter-all") + '" class="lg-counter-all">' + this.galleryItems.length + " </span></div>";
                    this.outer.find(this.settings.appendCounterTo).append(counterHtml);
                }
            };
            LightGallery.prototype.addHtml = function(index) {
                var subHtml;
                var subHtmlUrl;
                if (this.galleryItems[index].subHtmlUrl) subHtmlUrl = this.galleryItems[index].subHtmlUrl; else subHtml = this.galleryItems[index].subHtml;
                if (!subHtmlUrl) if (subHtml) {
                    var fL = subHtml.substring(0, 1);
                    if ("." === fL || "#" === fL) if (this.settings.subHtmlSelectorRelative && !this.settings.dynamic) subHtml = $LG(this.items).eq(index).find(subHtml).first().html(); else subHtml = $LG(subHtml).first().html();
                } else subHtml = "";
                if (".lg-item" !== this.settings.appendSubHtmlTo) if (subHtmlUrl) this.outer.find(".lg-sub-html").load(subHtmlUrl); else this.outer.find(".lg-sub-html").html(subHtml); else {
                    var currentSlide = $LG(this.getSlideItemId(index));
                    if (subHtmlUrl) currentSlide.load(subHtmlUrl); else currentSlide.append('<div class="lg-sub-html">' + subHtml + "</div>");
                }
                if ("undefined" !== typeof subHtml && null !== subHtml) if ("" === subHtml) this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"); else this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html");
                this.LGel.trigger(lGEvents.afterAppendSubHtml, {
                    index
                });
            };
            LightGallery.prototype.preload = function(index) {
                for (var i = 1; i <= this.settings.preload; i++) {
                    if (i >= this.galleryItems.length - index) break;
                    this.loadContent(index + i, false);
                }
                for (var j = 1; j <= this.settings.preload; j++) {
                    if (index - j < 0) break;
                    this.loadContent(index - j, false);
                }
            };
            LightGallery.prototype.getDummyImgStyles = function(imageSize) {
                if (!imageSize) return "";
                return "width:" + imageSize.width + "px;\n                margin-left: -" + imageSize.width / 2 + "px;\n                margin-top: -" + imageSize.height / 2 + "px;\n                height:" + imageSize.height + "px";
            };
            LightGallery.prototype.getVideoContStyle = function(imageSize) {
                if (!imageSize) return "";
                return "width:" + imageSize.width + "px;\n                height:" + imageSize.height + "px";
            };
            LightGallery.prototype.getDummyImageContent = function($currentSlide, index, alt) {
                var $currentItem;
                if (!this.settings.dynamic) $currentItem = $LG(this.items).eq(index);
                if ($currentItem) {
                    var _dummyImgSrc = void 0;
                    if (!this.settings.exThumbImage) _dummyImgSrc = $currentItem.find("img").first().attr("src"); else _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);
                    if (!_dummyImgSrc) return "";
                    var imgStyle = this.getDummyImgStyles(this.currentImageSize);
                    var dummyImgContent = "<img " + alt + ' style="' + imgStyle + '" class="lg-dummy-img" src="' + _dummyImgSrc + '" />';
                    $currentSlide.addClass("lg-first-slide");
                    this.outer.addClass("lg-first-slide-loading");
                    return dummyImgContent;
                }
                return "";
            };
            LightGallery.prototype.setImgMarkup = function(src, $currentSlide, index) {
                var currentGalleryItem = this.galleryItems[index];
                var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;
                var imgContent = "";
                var altAttr = alt ? 'alt="' + alt + '"' : "";
                if (this.isFirstSlideWithZoomAnimation()) imgContent = this.getDummyImageContent($currentSlide, index, altAttr); else imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);
                var imgMarkup = '<picture class="lg-img-wrap"> ' + imgContent + "</picture>";
                $currentSlide.prepend(imgMarkup);
            };
            LightGallery.prototype.onSlideObjectLoad = function($slide, isHTML5VideoWithoutPoster, onLoad, onError) {
                var mediaObject = $slide.find(".lg-object").first();
                if (utils.isImageLoaded(mediaObject.get()) || isHTML5VideoWithoutPoster) onLoad(); else {
                    mediaObject.on("load.lg error.lg", (function() {
                        onLoad && onLoad();
                    }));
                    mediaObject.on("error.lg", (function() {
                        onError && onError();
                    }));
                }
            };
            LightGallery.prototype.onLgObjectLoad = function(currentSlide, index, delay, speed, isFirstSlide, isHTML5VideoWithoutPoster) {
                var _this = this;
                this.onSlideObjectLoad(currentSlide, isHTML5VideoWithoutPoster, (function() {
                    _this.triggerSlideItemLoad(currentSlide, index, delay, speed, isFirstSlide);
                }), (function() {
                    currentSlide.addClass("lg-complete lg-complete_");
                    currentSlide.html('<span class="lg-error-msg">Oops... Failed to load content...</span>');
                }));
            };
            LightGallery.prototype.triggerSlideItemLoad = function($currentSlide, index, delay, speed, isFirstSlide) {
                var _this = this;
                var currentGalleryItem = this.galleryItems[index];
                var _speed = isFirstSlide && "video" === this.getSlideType(currentGalleryItem) && !currentGalleryItem.poster ? speed : 0;
                setTimeout((function() {
                    $currentSlide.addClass("lg-complete lg-complete_");
                    _this.LGel.trigger(lGEvents.slideItemLoad, {
                        index,
                        delay: delay || 0,
                        isFirstSlide
                    });
                }), _speed);
            };
            LightGallery.prototype.isFirstSlideWithZoomAnimation = function() {
                return !!(!this.lGalleryOn && this.zoomFromOrigin && this.currentImageSize);
            };
            LightGallery.prototype.addSlideVideoInfo = function(items) {
                var _this = this;
                items.forEach((function(element, index) {
                    element.__slideVideoInfo = utils.isVideo(element.src, !!element.video, index);
                    if (element.__slideVideoInfo && _this.settings.loadYouTubePoster && !element.poster && element.__slideVideoInfo.youtube) element.poster = "//img.youtube.com/vi/" + element.__slideVideoInfo.youtube[1] + "/maxresdefault.jpg";
                }));
            };
            LightGallery.prototype.loadContent = function(index, rec) {
                var _this = this;
                var currentGalleryItem = this.galleryItems[index];
                var $currentSlide = $LG(this.getSlideItemId(index));
                var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;
                var src = currentGalleryItem.src;
                var video = currentGalleryItem.video;
                var _html5Video = video && "string" === typeof video ? JSON.parse(video) : video;
                if (currentGalleryItem.responsive) {
                    var srcDyItms = currentGalleryItem.responsive.split(",");
                    src = utils.getResponsiveSrc(srcDyItms) || src;
                }
                var videoInfo = currentGalleryItem.__slideVideoInfo;
                var lgVideoStyle = "";
                var iframe = !!currentGalleryItem.iframe;
                var isFirstSlide = !this.lGalleryOn;
                var delay = 0;
                if (isFirstSlide) if (this.zoomFromOrigin && this.currentImageSize) delay = this.settings.startAnimationDuration + 10; else delay = this.settings.backdropDuration + 10;
                if (!$currentSlide.hasClass("lg-loaded")) {
                    if (videoInfo) {
                        var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;
                        var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);
                        lgVideoStyle = this.getVideoContStyle(videoSize);
                    }
                    if (iframe) {
                        var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, this.settings.iframeMaxWidth, this.settings.iframeMaxHeight, src, currentGalleryItem.iframeTitle);
                        $currentSlide.prepend(markup);
                    } else if (poster) {
                        var dummyImg = "";
                        var hasStartAnimation = isFirstSlide && this.zoomFromOrigin && this.currentImageSize;
                        if (hasStartAnimation) dummyImg = this.getDummyImageContent($currentSlide, index, "");
                        markup = utils.getVideoPosterMarkup(poster, dummyImg || "", lgVideoStyle, this.settings.strings["playVideo"], videoInfo);
                        $currentSlide.prepend(markup);
                    } else if (videoInfo) {
                        markup = '<div class="lg-video-cont " style="' + lgVideoStyle + '"></div>';
                        $currentSlide.prepend(markup);
                    } else {
                        this.setImgMarkup(src, $currentSlide, index);
                        if (srcset || sources) {
                            var $img = $currentSlide.find(".lg-object");
                            this.initPictureFill($img);
                        }
                    }
                    if (poster || videoInfo) this.LGel.trigger(lGEvents.hasVideo, {
                        index,
                        src,
                        html5Video: _html5Video,
                        hasPoster: !!poster
                    });
                    this.LGel.trigger(lGEvents.afterAppendSlide, {
                        index
                    });
                    if (this.lGalleryOn && ".lg-item" === this.settings.appendSubHtmlTo) this.addHtml(index);
                }
                var _speed = 0;
                if (delay && !$LG(document.body).hasClass("lg-from-hash")) _speed = delay;
                if (this.isFirstSlideWithZoomAnimation()) {
                    setTimeout((function() {
                        $currentSlide.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style");
                    }), this.settings.startAnimationDuration + 100);
                    if (!$currentSlide.hasClass("lg-loaded")) setTimeout((function() {
                        if ("image" === _this.getSlideType(currentGalleryItem)) {
                            var alt = currentGalleryItem.alt;
                            var altAttr = alt ? 'alt="' + alt + '"' : "";
                            $currentSlide.find(".lg-img-wrap").append(utils.getImgMarkup(index, src, altAttr, srcset, sizes, currentGalleryItem.sources));
                            if (srcset || sources) {
                                var $img = $currentSlide.find(".lg-object");
                                _this.initPictureFill($img);
                            }
                        }
                        if ("image" === _this.getSlideType(currentGalleryItem) || "video" === _this.getSlideType(currentGalleryItem) && poster) {
                            _this.onLgObjectLoad($currentSlide, index, delay, _speed, true, false);
                            _this.onSlideObjectLoad($currentSlide, !!(videoInfo && videoInfo.html5 && !poster), (function() {
                                _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);
                            }), (function() {
                                _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);
                            }));
                        }
                    }), this.settings.startAnimationDuration + 100);
                }
                $currentSlide.addClass("lg-loaded");
                if (!this.isFirstSlideWithZoomAnimation() || "video" === this.getSlideType(currentGalleryItem) && !poster) this.onLgObjectLoad($currentSlide, index, delay, _speed, isFirstSlide, !!(videoInfo && videoInfo.html5 && !poster));
                if ((!this.zoomFromOrigin || !this.currentImageSize) && $currentSlide.hasClass("lg-complete_") && !this.lGalleryOn) setTimeout((function() {
                    $currentSlide.addClass("lg-complete");
                }), this.settings.backdropDuration);
                this.lGalleryOn = true;
                if (true === rec) if (!$currentSlide.hasClass("lg-complete_")) $currentSlide.find(".lg-object").first().on("load.lg error.lg", (function() {
                    _this.preload(index);
                })); else this.preload(index);
            };
            LightGallery.prototype.loadContentOnFirstSlideLoad = function(index, $currentSlide, speed) {
                var _this = this;
                setTimeout((function() {
                    $currentSlide.find(".lg-dummy-img").remove();
                    $currentSlide.removeClass("lg-first-slide");
                    _this.outer.removeClass("lg-first-slide-loading");
                    _this.isDummyImageRemoved = true;
                    _this.preload(index);
                }), speed + 300);
            };
            LightGallery.prototype.getItemsToBeInsertedToDom = function(index, prevIndex, numberOfItems) {
                var _this = this;
                if (void 0 === numberOfItems) numberOfItems = 0;
                var itemsToBeInsertedToDom = [];
                var possibleNumberOfItems = Math.max(numberOfItems, 3);
                possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);
                var prevIndexItem = "lg-item-" + this.lgId + "-" + prevIndex;
                if (this.galleryItems.length <= 3) {
                    this.galleryItems.forEach((function(_element, index) {
                        itemsToBeInsertedToDom.push("lg-item-" + _this.lgId + "-" + index);
                    }));
                    return itemsToBeInsertedToDom;
                }
                if (index < (this.galleryItems.length - 1) / 2) {
                    for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + idx);
                    var numberOfExistingItems = itemsToBeInsertedToDom.length;
                    for (idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + (index + idx + 1));
                } else {
                    for (idx = index; idx <= this.galleryItems.length - 1 && idx < index + possibleNumberOfItems / 2; idx++) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + idx);
                    numberOfExistingItems = itemsToBeInsertedToDom.length;
                    for (idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + (index - idx - 1));
                }
                if (this.settings.loop) if (index === this.galleryItems.length - 1) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + 0); else if (0 === index) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + (this.galleryItems.length - 1));
                if (-1 === itemsToBeInsertedToDom.indexOf(prevIndexItem)) itemsToBeInsertedToDom.push("lg-item-" + this.lgId + "-" + prevIndex);
                return itemsToBeInsertedToDom;
            };
            LightGallery.prototype.organizeSlideItems = function(index, prevIndex) {
                var _this = this;
                var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);
                itemsToBeInsertedToDom.forEach((function(item) {
                    if (-1 === _this.currentItemsInDom.indexOf(item)) _this.$inner.append('<div id="' + item + '" class="lg-item"></div>');
                }));
                this.currentItemsInDom.forEach((function(item) {
                    if (-1 === itemsToBeInsertedToDom.indexOf(item)) $LG("#" + item).remove();
                }));
                return itemsToBeInsertedToDom;
            };
            LightGallery.prototype.getPreviousSlideIndex = function() {
                var prevIndex = 0;
                try {
                    var currentItemId = this.outer.find(".lg-current").first().attr("id");
                    prevIndex = parseInt(currentItemId.split("-")[3]) || 0;
                } catch (error) {
                    prevIndex = 0;
                }
                return prevIndex;
            };
            LightGallery.prototype.setDownloadValue = function(index) {
                if (this.settings.download) {
                    var currentGalleryItem = this.galleryItems[index];
                    var hideDownloadBtn = false === currentGalleryItem.downloadUrl || "false" === currentGalleryItem.downloadUrl;
                    if (hideDownloadBtn) this.outer.addClass("lg-hide-download"); else {
                        var $download = this.getElementById("lg-download");
                        this.outer.removeClass("lg-hide-download");
                        $download.attr("href", currentGalleryItem.downloadUrl || currentGalleryItem.src);
                        if (currentGalleryItem.download) $download.attr("download", currentGalleryItem.download);
                    }
                }
            };
            LightGallery.prototype.makeSlideAnimation = function(direction, currentSlideItem, previousSlideItem) {
                var _this = this;
                if (this.lGalleryOn) previousSlideItem.addClass("lg-slide-progress");
                setTimeout((function() {
                    _this.outer.addClass("lg-no-trans");
                    _this.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide");
                    if ("prev" === direction) {
                        currentSlideItem.addClass("lg-prev-slide");
                        previousSlideItem.addClass("lg-next-slide");
                    } else {
                        currentSlideItem.addClass("lg-next-slide");
                        previousSlideItem.addClass("lg-prev-slide");
                    }
                    setTimeout((function() {
                        _this.outer.find(".lg-item").removeClass("lg-current");
                        currentSlideItem.addClass("lg-current");
                        _this.outer.removeClass("lg-no-trans");
                    }), 50);
                }), this.lGalleryOn ? this.settings.slideDelay : 0);
            };
            LightGallery.prototype.slide = function(index, fromTouch, fromThumb, direction) {
                var _this = this;
                var prevIndex = this.getPreviousSlideIndex();
                this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);
                if (this.lGalleryOn && prevIndex === index) return;
                var numberOfGalleryItems = this.galleryItems.length;
                if (!this.lgBusy) {
                    if (this.settings.counter) this.updateCurrentCounter(index);
                    var currentSlideItem = this.getSlideItem(index);
                    var previousSlideItem_1 = this.getSlideItem(prevIndex);
                    var currentGalleryItem = this.galleryItems[index];
                    var videoInfo = currentGalleryItem.__slideVideoInfo;
                    this.outer.attr("data-lg-slide-type", this.getSlideType(currentGalleryItem));
                    this.setDownloadValue(index);
                    if (videoInfo) {
                        var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;
                        var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);
                        this.resizeVideoSlide(index, videoSize);
                    }
                    this.LGel.trigger(lGEvents.beforeSlide, {
                        prevIndex,
                        index,
                        fromTouch: !!fromTouch,
                        fromThumb: !!fromThumb
                    });
                    this.lgBusy = true;
                    clearTimeout(this.hideBarTimeout);
                    this.arrowDisable(index);
                    if (!direction) if (index < prevIndex) direction = "prev"; else if (index > prevIndex) direction = "next";
                    if (!fromTouch) this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1); else {
                        this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");
                        var touchPrev = void 0;
                        var touchNext = void 0;
                        if (numberOfGalleryItems > 2) {
                            touchPrev = index - 1;
                            touchNext = index + 1;
                            if (0 === index && prevIndex === numberOfGalleryItems - 1) {
                                touchNext = 0;
                                touchPrev = numberOfGalleryItems - 1;
                            } else if (index === numberOfGalleryItems - 1 && 0 === prevIndex) {
                                touchNext = 0;
                                touchPrev = numberOfGalleryItems - 1;
                            }
                        } else {
                            touchPrev = 0;
                            touchNext = 1;
                        }
                        if ("prev" === direction) this.getSlideItem(touchNext).addClass("lg-next-slide"); else this.getSlideItem(touchPrev).addClass("lg-prev-slide");
                        currentSlideItem.addClass("lg-current");
                    }
                    if (!this.lGalleryOn) this.loadContent(index, true); else setTimeout((function() {
                        _this.loadContent(index, true);
                        if (".lg-item" !== _this.settings.appendSubHtmlTo) _this.addHtml(index);
                    }), this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));
                    setTimeout((function() {
                        _this.lgBusy = false;
                        previousSlideItem_1.removeClass("lg-slide-progress");
                        _this.LGel.trigger(lGEvents.afterSlide, {
                            prevIndex,
                            index,
                            fromTouch,
                            fromThumb
                        });
                    }), (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));
                }
                this.index = index;
            };
            LightGallery.prototype.updateCurrentCounter = function(index) {
                this.getElementById("lg-counter-current").html(index + 1 + "");
            };
            LightGallery.prototype.updateCounterTotal = function() {
                this.getElementById("lg-counter-all").html(this.galleryItems.length + "");
            };
            LightGallery.prototype.getSlideType = function(item) {
                if (item.__slideVideoInfo) return "video"; else if (item.iframe) return "iframe"; else return "image";
            };
            LightGallery.prototype.touchMove = function(startCoords, endCoords, e) {
                var distanceX = endCoords.pageX - startCoords.pageX;
                var distanceY = endCoords.pageY - startCoords.pageY;
                var allowSwipe = false;
                if (this.swipeDirection) allowSwipe = true; else if (Math.abs(distanceX) > 15) {
                    this.swipeDirection = "horizontal";
                    allowSwipe = true;
                } else if (Math.abs(distanceY) > 15) {
                    this.swipeDirection = "vertical";
                    allowSwipe = true;
                }
                if (!allowSwipe) return;
                var $currentSlide = this.getSlideItem(this.index);
                if ("horizontal" === this.swipeDirection) {
                    null === e || void 0 === e ? void 0 : e.preventDefault();
                    this.outer.addClass("lg-dragging");
                    this.setTranslate($currentSlide, distanceX, 0);
                    var width = $currentSlide.get().offsetWidth;
                    var slideWidthAmount = 15 * width / 100;
                    var gutter = slideWidthAmount - Math.abs(10 * distanceX / 100);
                    this.setTranslate(this.outer.find(".lg-prev-slide").first(), -width + distanceX - gutter, 0);
                    this.setTranslate(this.outer.find(".lg-next-slide").first(), width + distanceX + gutter, 0);
                } else if ("vertical" === this.swipeDirection) if (this.settings.swipeToClose) {
                    null === e || void 0 === e ? void 0 : e.preventDefault();
                    this.$container.addClass("lg-dragging-vertical");
                    var opacity = 1 - Math.abs(distanceY) / window.innerHeight;
                    this.$backdrop.css("opacity", opacity);
                    var scale = 1 - Math.abs(distanceY) / (2 * window.innerWidth);
                    this.setTranslate($currentSlide, 0, distanceY, scale, scale);
                    if (Math.abs(distanceY) > 100) this.outer.addClass("lg-hide-items").removeClass("lg-components-open");
                }
            };
            LightGallery.prototype.touchEnd = function(endCoords, startCoords, event) {
                var _this = this;
                var distance;
                if ("lg-slide" !== this.settings.mode) this.outer.addClass("lg-slide");
                setTimeout((function() {
                    _this.$container.removeClass("lg-dragging-vertical");
                    _this.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");
                    var triggerClick = true;
                    if ("horizontal" === _this.swipeDirection) {
                        distance = endCoords.pageX - startCoords.pageX;
                        var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);
                        if (distance < 0 && distanceAbs > _this.settings.swipeThreshold) {
                            _this.goToNextSlide(true);
                            triggerClick = false;
                        } else if (distance > 0 && distanceAbs > _this.settings.swipeThreshold) {
                            _this.goToPrevSlide(true);
                            triggerClick = false;
                        }
                    } else if ("vertical" === _this.swipeDirection) {
                        distance = Math.abs(endCoords.pageY - startCoords.pageY);
                        if (_this.settings.closable && _this.settings.swipeToClose && distance > 100) {
                            _this.closeGallery();
                            return;
                        } else _this.$backdrop.css("opacity", 1);
                    }
                    _this.outer.find(".lg-item").removeAttr("style");
                    if (triggerClick && Math.abs(endCoords.pageX - startCoords.pageX) < 5) {
                        var target = $LG(event.target);
                        if (_this.isPosterElement(target)) _this.LGel.trigger(lGEvents.posterClick);
                    }
                    _this.swipeDirection = void 0;
                }));
                setTimeout((function() {
                    if (!_this.outer.hasClass("lg-dragging") && "lg-slide" !== _this.settings.mode) _this.outer.removeClass("lg-slide");
                }), this.settings.speed + 100);
            };
            LightGallery.prototype.enableSwipe = function() {
                var _this = this;
                var startCoords = {};
                var endCoords = {};
                var isMoved = false;
                var isSwiping = false;
                if (this.settings.enableSwipe) {
                    this.$inner.on("touchstart.lg", (function(e) {
                        _this.dragOrSwipeEnabled = true;
                        var $item = _this.getSlideItem(_this.index);
                        if (($LG(e.target).hasClass("lg-item") || $item.get().contains(e.target)) && !_this.outer.hasClass("lg-zoomed") && !_this.lgBusy && 1 === e.touches.length) {
                            isSwiping = true;
                            _this.touchAction = "swipe";
                            _this.manageSwipeClass();
                            startCoords = {
                                pageX: e.touches[0].pageX,
                                pageY: e.touches[0].pageY
                            };
                        }
                    }));
                    this.$inner.on("touchmove.lg", (function(e) {
                        if (isSwiping && "swipe" === _this.touchAction && 1 === e.touches.length) {
                            endCoords = {
                                pageX: e.touches[0].pageX,
                                pageY: e.touches[0].pageY
                            };
                            _this.touchMove(startCoords, endCoords, e);
                            isMoved = true;
                        }
                    }));
                    this.$inner.on("touchend.lg", (function(event) {
                        if ("swipe" === _this.touchAction) {
                            if (isMoved) {
                                isMoved = false;
                                _this.touchEnd(endCoords, startCoords, event);
                            } else if (isSwiping) {
                                var target = $LG(event.target);
                                if (_this.isPosterElement(target)) _this.LGel.trigger(lGEvents.posterClick);
                            }
                            _this.touchAction = void 0;
                            isSwiping = false;
                        }
                    }));
                }
            };
            LightGallery.prototype.enableDrag = function() {
                var _this = this;
                var startCoords = {};
                var endCoords = {};
                var isDraging = false;
                var isMoved = false;
                if (this.settings.enableDrag) {
                    this.outer.on("mousedown.lg", (function(e) {
                        _this.dragOrSwipeEnabled = true;
                        var $item = _this.getSlideItem(_this.index);
                        if ($LG(e.target).hasClass("lg-item") || $item.get().contains(e.target)) if (!_this.outer.hasClass("lg-zoomed") && !_this.lgBusy) {
                            e.preventDefault();
                            if (!_this.lgBusy) {
                                _this.manageSwipeClass();
                                startCoords = {
                                    pageX: e.pageX,
                                    pageY: e.pageY
                                };
                                isDraging = true;
                                _this.outer.get().scrollLeft += 1;
                                _this.outer.get().scrollLeft -= 1;
                                _this.outer.removeClass("lg-grab").addClass("lg-grabbing");
                                _this.LGel.trigger(lGEvents.dragStart);
                            }
                        }
                    }));
                    $LG(window).on("mousemove.lg.global" + this.lgId, (function(e) {
                        if (isDraging && _this.lgOpened) {
                            isMoved = true;
                            endCoords = {
                                pageX: e.pageX,
                                pageY: e.pageY
                            };
                            _this.touchMove(startCoords, endCoords);
                            _this.LGel.trigger(lGEvents.dragMove);
                        }
                    }));
                    $LG(window).on("mouseup.lg.global" + this.lgId, (function(event) {
                        if (!_this.lgOpened) return;
                        var target = $LG(event.target);
                        if (isMoved) {
                            isMoved = false;
                            _this.touchEnd(endCoords, startCoords, event);
                            _this.LGel.trigger(lGEvents.dragEnd);
                        } else if (_this.isPosterElement(target)) _this.LGel.trigger(lGEvents.posterClick);
                        if (isDraging) {
                            isDraging = false;
                            _this.outer.removeClass("lg-grabbing").addClass("lg-grab");
                        }
                    }));
                }
            };
            LightGallery.prototype.triggerPosterClick = function() {
                var _this = this;
                this.$inner.on("click.lg", (function(event) {
                    if (!_this.dragOrSwipeEnabled && _this.isPosterElement($LG(event.target))) _this.LGel.trigger(lGEvents.posterClick);
                }));
            };
            LightGallery.prototype.manageSwipeClass = function() {
                var _touchNext = this.index + 1;
                var _touchPrev = this.index - 1;
                if (this.settings.loop && this.galleryItems.length > 2) if (0 === this.index) _touchPrev = this.galleryItems.length - 1; else if (this.index === this.galleryItems.length - 1) _touchNext = 0;
                this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide");
                if (_touchPrev > -1) this.getSlideItem(_touchPrev).addClass("lg-prev-slide");
                this.getSlideItem(_touchNext).addClass("lg-next-slide");
            };
            LightGallery.prototype.goToNextSlide = function(fromTouch) {
                var _this = this;
                var _loop = this.settings.loop;
                if (fromTouch && this.galleryItems.length < 3) _loop = false;
                if (!this.lgBusy) if (this.index + 1 < this.galleryItems.length) {
                    this.index++;
                    this.LGel.trigger(lGEvents.beforeNextSlide, {
                        index: this.index
                    });
                    this.slide(this.index, !!fromTouch, false, "next");
                } else if (_loop) {
                    this.index = 0;
                    this.LGel.trigger(lGEvents.beforeNextSlide, {
                        index: this.index
                    });
                    this.slide(this.index, !!fromTouch, false, "next");
                } else if (this.settings.slideEndAnimation && !fromTouch) {
                    this.outer.addClass("lg-right-end");
                    setTimeout((function() {
                        _this.outer.removeClass("lg-right-end");
                    }), 400);
                }
            };
            LightGallery.prototype.goToPrevSlide = function(fromTouch) {
                var _this = this;
                var _loop = this.settings.loop;
                if (fromTouch && this.galleryItems.length < 3) _loop = false;
                if (!this.lgBusy) if (this.index > 0) {
                    this.index--;
                    this.LGel.trigger(lGEvents.beforePrevSlide, {
                        index: this.index,
                        fromTouch
                    });
                    this.slide(this.index, !!fromTouch, false, "prev");
                } else if (_loop) {
                    this.index = this.galleryItems.length - 1;
                    this.LGel.trigger(lGEvents.beforePrevSlide, {
                        index: this.index,
                        fromTouch
                    });
                    this.slide(this.index, !!fromTouch, false, "prev");
                } else if (this.settings.slideEndAnimation && !fromTouch) {
                    this.outer.addClass("lg-left-end");
                    setTimeout((function() {
                        _this.outer.removeClass("lg-left-end");
                    }), 400);
                }
            };
            LightGallery.prototype.keyPress = function() {
                var _this = this;
                $LG(window).on("keydown.lg.global" + this.lgId, (function(e) {
                    if (_this.lgOpened && true === _this.settings.escKey && 27 === e.keyCode) {
                        e.preventDefault();
                        if (_this.settings.allowMediaOverlap && _this.outer.hasClass("lg-can-toggle") && _this.outer.hasClass("lg-components-open")) _this.outer.removeClass("lg-components-open"); else _this.closeGallery();
                    }
                    if (_this.lgOpened && _this.galleryItems.length > 1) {
                        if (37 === e.keyCode) {
                            e.preventDefault();
                            _this.goToPrevSlide();
                        }
                        if (39 === e.keyCode) {
                            e.preventDefault();
                            _this.goToNextSlide();
                        }
                    }
                }));
            };
            LightGallery.prototype.arrow = function() {
                var _this = this;
                this.getElementById("lg-prev").on("click.lg", (function() {
                    _this.goToPrevSlide();
                }));
                this.getElementById("lg-next").on("click.lg", (function() {
                    _this.goToNextSlide();
                }));
            };
            LightGallery.prototype.arrowDisable = function(index) {
                if (!this.settings.loop && this.settings.hideControlOnEnd) {
                    var $prev = this.getElementById("lg-prev");
                    var $next = this.getElementById("lg-next");
                    if (index + 1 === this.galleryItems.length) $next.attr("disabled", "disabled").addClass("disabled"); else $next.removeAttr("disabled").removeClass("disabled");
                    if (0 === index) $prev.attr("disabled", "disabled").addClass("disabled"); else $prev.removeAttr("disabled").removeClass("disabled");
                }
            };
            LightGallery.prototype.setTranslate = function($el, xValue, yValue, scaleX, scaleY) {
                if (void 0 === scaleX) scaleX = 1;
                if (void 0 === scaleY) scaleY = 1;
                $el.css("transform", "translate3d(" + xValue + "px, " + yValue + "px, 0px) scale3d(" + scaleX + ", " + scaleY + ", 1)");
            };
            LightGallery.prototype.mousewheel = function() {
                var _this = this;
                var lastCall = 0;
                this.outer.on("wheel.lg", (function(e) {
                    if (!e.deltaY || _this.galleryItems.length < 2) return;
                    e.preventDefault();
                    var now = (new Date).getTime();
                    if (now - lastCall < 1e3) return;
                    lastCall = now;
                    if (e.deltaY > 0) _this.goToNextSlide(); else if (e.deltaY < 0) _this.goToPrevSlide();
                }));
            };
            LightGallery.prototype.isSlideElement = function(target) {
                return target.hasClass("lg-outer") || target.hasClass("lg-item") || target.hasClass("lg-img-wrap");
            };
            LightGallery.prototype.isPosterElement = function(target) {
                var playButton = this.getSlideItem(this.index).find(".lg-video-play-button").get();
                return target.hasClass("lg-video-poster") || target.hasClass("lg-video-play-button") || playButton && playButton.contains(target.get());
            };
            LightGallery.prototype.toggleMaximize = function() {
                var _this = this;
                this.getElementById("lg-maximize").on("click.lg", (function() {
                    _this.$container.toggleClass("lg-inline");
                    _this.refreshOnResize();
                }));
            };
            LightGallery.prototype.invalidateItems = function() {
                for (var index = 0; index < this.items.length; index++) {
                    var element = this.items[index];
                    var $element = $LG(element);
                    $element.off("click.lgcustom-item-" + $element.attr("data-lg-id"));
                }
            };
            LightGallery.prototype.trapFocus = function() {
                var _this = this;
                this.$container.get().focus({
                    preventScroll: true
                });
                $LG(window).on("keydown.lg.global" + this.lgId, (function(e) {
                    if (!_this.lgOpened) return;
                    var isTabPressed = "Tab" === e.key || 9 === e.keyCode;
                    if (!isTabPressed) return;
                    var focusableEls = utils.getFocusableElements(_this.$container.get());
                    var firstFocusableEl = focusableEls[0];
                    var lastFocusableEl = focusableEls[focusableEls.length - 1];
                    if (e.shiftKey) {
                        if (document.activeElement === firstFocusableEl) {
                            lastFocusableEl.focus();
                            e.preventDefault();
                        }
                    } else if (document.activeElement === lastFocusableEl) {
                        firstFocusableEl.focus();
                        e.preventDefault();
                    }
                }));
            };
            LightGallery.prototype.manageCloseGallery = function() {
                var _this = this;
                if (!this.settings.closable) return;
                var mousedown = false;
                this.getElementById("lg-close").on("click.lg", (function() {
                    _this.closeGallery();
                }));
                if (this.settings.closeOnTap) {
                    this.outer.on("mousedown.lg", (function(e) {
                        var target = $LG(e.target);
                        if (_this.isSlideElement(target)) mousedown = true; else mousedown = false;
                    }));
                    this.outer.on("mousemove.lg", (function() {
                        mousedown = false;
                    }));
                    this.outer.on("mouseup.lg", (function(e) {
                        var target = $LG(e.target);
                        if (_this.isSlideElement(target) && mousedown) if (!_this.outer.hasClass("lg-dragging")) _this.closeGallery();
                    }));
                }
            };
            LightGallery.prototype.closeGallery = function(force) {
                var _this = this;
                if (!this.lgOpened || !this.settings.closable && !force) return 0;
                this.LGel.trigger(lGEvents.beforeClose);
                if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) $LG(window).scrollTop(this.prevScrollTop);
                var currentItem = this.items[this.index];
                var transform;
                if (this.zoomFromOrigin && currentItem) {
                    var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;
                    var _b = this.galleryItems[this.index], __slideVideoInfo = _b.__slideVideoInfo, poster = _b.poster;
                    var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, __slideVideoInfo && poster && this.settings.videoMaxSize);
                    transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);
                }
                if (this.zoomFromOrigin && transform) {
                    this.outer.addClass("lg-closing lg-zoom-from-image");
                    this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration", this.settings.startAnimationDuration + "ms").css("transform", transform);
                } else {
                    this.outer.addClass("lg-hide-items");
                    this.outer.removeClass("lg-zoom-from-image");
                }
                this.destroyModules();
                this.lGalleryOn = false;
                this.isDummyImageRemoved = false;
                this.zoomFromOrigin = this.settings.zoomFromOrigin;
                clearTimeout(this.hideBarTimeout);
                this.hideBarTimeout = false;
                $LG("html").removeClass("lg-on");
                this.outer.removeClass("lg-visible lg-components-open");
                this.$backdrop.removeClass("in").css("opacity", 0);
                var removeTimeout = this.zoomFromOrigin && transform ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration) : this.settings.backdropDuration;
                this.$container.removeClass("lg-show-in");
                setTimeout((function() {
                    if (_this.zoomFromOrigin && transform) _this.outer.removeClass("lg-zoom-from-image");
                    _this.$container.removeClass("lg-show");
                    _this.resetScrollBar();
                    _this.$backdrop.removeAttr("style").css("transition-duration", _this.settings.backdropDuration + "ms");
                    _this.outer.removeClass("lg-closing " + _this.settings.startClass);
                    _this.getSlideItem(_this.index).removeClass("lg-start-end-progress");
                    _this.$inner.empty();
                    if (_this.lgOpened) _this.LGel.trigger(lGEvents.afterClose, {
                        instance: _this
                    });
                    if (_this.$container.get()) _this.$container.get().blur();
                    _this.lgOpened = false;
                }), removeTimeout + 100);
                return removeTimeout + 100;
            };
            LightGallery.prototype.initModules = function() {
                this.plugins.forEach((function(module) {
                    try {
                        module.init();
                    } catch (err) {
                        console.warn("lightGallery:- make sure lightGallery module is properly initiated");
                    }
                }));
            };
            LightGallery.prototype.destroyModules = function(destroy) {
                this.plugins.forEach((function(module) {
                    try {
                        if (destroy) module.destroy(); else module.closeGallery && module.closeGallery();
                    } catch (err) {
                        console.warn("lightGallery:- make sure lightGallery module is properly destroyed");
                    }
                }));
            };
            LightGallery.prototype.refresh = function(galleryItems) {
                if (!this.settings.dynamic) this.invalidateItems();
                if (galleryItems) this.galleryItems = galleryItems; else this.galleryItems = this.getItems();
                this.updateControls();
                this.openGalleryOnItemClick();
                this.LGel.trigger(lGEvents.updateSlides);
            };
            LightGallery.prototype.updateControls = function() {
                this.addSlideVideoInfo(this.galleryItems);
                this.updateCounterTotal();
                this.manageSingleSlideClassName();
            };
            LightGallery.prototype.destroyGallery = function() {
                this.destroyModules(true);
                if (!this.settings.dynamic) this.invalidateItems();
                $LG(window).off(".lg.global" + this.lgId);
                this.LGel.off(".lg");
                this.$container.remove();
            };
            LightGallery.prototype.destroy = function() {
                var closeTimeout = this.closeGallery(true);
                if (closeTimeout) setTimeout(this.destroyGallery.bind(this), closeTimeout); else this.destroyGallery();
                return closeTimeout;
            };
            return LightGallery;
        }();
        function lightGallery(el, options) {
            return new LightGallery(el, options);
        }
        const lightgallery_es5 = lightGallery;
        __webpack_require__(5097);
        var lg_video_min = __webpack_require__(1363);
        const galleries = document.querySelectorAll("[data-gallery]");
        if (galleries.length) {
            let galleyItems = [];
            galleries.forEach((gallery => {
                galleyItems.push({
                    gallery,
                    galleryClass: lightgallery_es5(gallery, {
                        plugins: [ lg_video_min ],
                        licenseKey: "7EC452A9-0CFD441C-BD984C7C-17C8456E",
                        speed: 500,
                        preload: 2,
                        enableDrag: true,
                        youtubePlayerParams: {
                            modestbranding: 1,
                            showinfo: 0,
                            rel: 0,
                            controls: 0
                        },
                        loadYoutubeThumbnail: true
                    })
                });
            }));
            flsModules.gallery = galleyItems;
        }
        document.addEventListener("DOMContentLoaded", (() => {
            const nextAll = element => {
                const nextElements = [];
                while (element.nextElementSibling) {
                    nextElements.push(element.nextElementSibling);
                    element = element.nextElementSibling;
                }
                return nextElements;
            };
            const headerBody = document.querySelector(".header__body"), headerButton = (headerBody.offsetWidth, 
            document.querySelector(".header__button")), more = (headerButton.offsetWidth, document.querySelector(".menu__more")), moreWidth = window.getComputedStyle(more).width, menu = document.querySelector(".menu__list"), subMenu = (menu.querySelectorAll(".menu__item"), 
            document.querySelector(".menu__more-sub"));
            document.querySelector(".menu__body");
            let windowWidth = window.innerWidth;
            const contract = () => {
                let w = 0, outerWidth = headerBody.offsetWidth - headerButton.offsetWidth - parseInt(moreWidth) - 30;
                let menuItems = menu.querySelectorAll(".menu__item");
                for (let i = 0; i < menuItems.length; i++) {
                    w += menuItems[i].offsetWidth;
                    if (w > outerWidth) {
                        let nextElements = nextAll(menuItems[i - 1]);
                        let nextReverse = nextElements.reverse();
                        nextReverse.forEach((el => {
                            el.remove();
                            subMenu.prepend(el);
                        }));
                        break;
                    }
                }
            };
            const expand = () => {
                let w = 0, outerWidth = headerBody.offsetWidth - headerButton.offsetWidth - parseInt(moreWidth) - 110;
                let menuItems = menu.querySelectorAll(".menu__item");
                menuItems.forEach((el => {
                    w += el.offsetWidth;
                }));
                let submenuItems = subMenu.querySelectorAll(".menu__item");
                for (let i = 0; i < submenuItems.length; i++) {
                    w += submenuItems[i].offsetWidth;
                    if (w > outerWidth) {
                        let a = 0;
                        while (a < i) {
                            submenuItems[a].remove();
                            menu.appendChild(submenuItems[a]);
                            a++;
                        }
                        break;
                    }
                }
                if (submenuItems.length > 0) {
                    let lastOffset = submenuItems[submenuItems.length - 1].offsetWidth;
                    if (menu.offsetWidth + lastOffset <= outerWidth) {
                        submenuItems[submenuItems.length - 1].remove();
                        menu.appendChild(submenuItems[submenuItems.length - 1]);
                    }
                }
            };
            const checkActive = () => {
                if (subMenu.querySelectorAll(".menu__item").length) more.classList.add("active"); else more.classList.remove("active");
            };
            contract();
            checkActive();
            window.addEventListener("resize", (() => {
                window.innerWidth > windowWidth ? expand() : contract();
                checkActive();
                windowWidth = window.innerWidth;
            }));
        }));
        let map_map = document.querySelector("#map");
        if (map_map) {
            ymaps.ready(init);
            function init() {
                ymaps.templateLayoutFactory.createClass(`\n\t\t\t\t\t<div class="search-map">\n\t\t\t\t\t\t<div class="search-map__body">\n\t\t\t\t\t\t\t<form data-da=".header__mob-search, 991.98" action="" class="search-map__form">\n\t\t\t\t\t\t\t\t<button type="submit" class="search-map__button">\n\t\t\t\t\t\t\t\t\t<svg>\n\t\t\t\t\t\t\t\t\t\t<use xlink:href="img/icons/icons.svg#svg-search"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div class="search-map__input-wrap">\n\t\t\t\t\t\t\t\t\t<input autocomplete="off" type="text" name="form[]" placeholder="" class="search-map__input">\n\t\t\t\t\t\t\t\t\t<button type="button" class="search-map__input-clear">\n\t\t\t\t\t\t\t\t\t\t<svg>\n\t\t\t\t\t\t\t\t\t\t\t<use xlink:href="@img/icons/icons.svg#svg-close"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<div class="search-map__results"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t   `);
                ymaps.templateLayoutFactory.createClass(`\n\t\t<div class="ymaps-2-1-79-searchbox">\n\t\t<button class="search-map__icon">\n\t\t\t<svg>\n\t\t\t\t<use xlink:href="img/icons/icons.svg#svg-search"></use>\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n\t\t\n\t\t`);
                ymaps.templateLayoutFactory.createClass(`\n\t\t\t\n\t\t`);
                var inputSearch = new ymaps.control.SearchControl({
                    options: {
                        size: "small",
                        provider: "yandex#search",
                        position: {
                            right: 36,
                            top: 20
                        }
                    }
                });
                var MyZoomLayout = ymaps.templateLayoutFactory.createClass(`<div class='map-zoom'>\n            <div id='zoom-in' class='map-zoom__button map-zoom__button-in'>\n               <svg>\n                  <use xlink:href="img/icons/icons.svg#svg-math-plus"></use>\n               </svg>\n            </div>\n            <div id='zoom-out' class='map-zoom__button map-zoom__button-out'>\n               <svg>\n                  <use xlink:href="img/icons/icons.svg#svg-math-minus"></use>\n               </svg>\n            </div>\n         </div>\n      `, {
                    build: function() {
                        MyZoomLayout.superclass.build.call(this);
                        document.getElementById("zoom-in").addEventListener("click", ymaps.util.bind(this.zoomIn, this));
                        document.getElementById("zoom-out").addEventListener("click", ymaps.util.bind(this.zoomOut, this));
                    },
                    clear: function() {
                        document.getElementById("zoom-in").removeEventListener("click");
                        document.getElementById("zoom-out").removeEventListener("click");
                        MyZoomLayout.superclass.clear.call(this);
                    },
                    zoomIn: function() {
                        var map = this.getData().control.getMap();
                        this.events.fire("zoomchange", {
                            oldZoom: map.getZoom(),
                            newZoom: map.getZoom() + 1
                        });
                    },
                    zoomOut: function() {
                        var map = this.getData().control.getMap();
                        this.events.fire("zoomchange", {
                            oldZoom: map.getZoom(),
                            newZoom: map.getZoom() - 1
                        });
                    }
                });
                var zoomControl = new ymaps.control.ZoomControl({
                    options: {
                        size: "small",
                        position: {
                            right: 36,
                            top: 304
                        },
                        layout: MyZoomLayout
                    }
                });
                var MyLocationLayout = ymaps.templateLayoutFactory.createClass(`\n         <div id='map-location' class='map-location'>\n            <svg>\n               <use xlink:href="img/icons/icons.svg#svg-pointer"></use>\n            </svg>\n         </div>\n         `);
                var geolocationControl = new ymaps.control.GeolocationControl({
                    options: {
                        position: {
                            right: 36,
                            bottom: 36
                        },
                        layout: MyLocationLayout
                    }
                });
                if (window.innerWidth < 767.98) {
                    geolocationControl.options.set("position", {
                        right: 16,
                        bottom: 40
                    });
                    inputSearch.options.set("position", {
                        right: 16,
                        top: 24
                    });
                }
                if (window.innerWidth < 1199.98) zoomControl.options.set("position", {
                    right: 36,
                    top: 200
                });
                window.addEventListener("resize", (e => {
                    if (window.innerWidth < 767.98) {
                        geolocationControl.options.set("position", {
                            right: 16,
                            bottom: 40
                        });
                        inputSearch.options.set("position", {
                            right: 16,
                            top: 24
                        });
                    } else {
                        geolocationControl.options.set("position", {
                            right: 36,
                            bottom: 36
                        });
                        inputSearch.options.set("position", {
                            right: 36,
                            top: 20
                        });
                    }
                    if (window.innerWidth < 1199.98) zoomControl.options.set("position", {
                        right: 36,
                        top: 200
                    }); else zoomControl.options.set("position", {
                        right: 36,
                        top: 304
                    });
                }));
                var data;
                function getFile(fileName) {
                    var request = new XMLHttpRequest;
                    request.open("GET", fileName);
                    request.onloadend = function() {
                        parse(request.responseText);
                    };
                    request.send();
                }
                getFile("./files/markers.json");
                function parse(item) {
                    data = JSON.parse(item);
                    getListAddresses(data.features);
                    getAddresses(data.features);
                    data.features.forEach((function(obj) {
                        let metroCode = ``;
                        obj.properties.metro.forEach((item => {
                            metroCode += `<div class="card-balloon__round round-${item.code}">${item.code}</div>`;
                        }));
                        let metroStation = "";
                        if (obj.properties.metro.length) {
                            metroStation = obj.properties.metro[0].station;
                            if (obj.properties.metro.length > 1) for (let i = 1; i < obj.properties.metro.length; i++) metroStation = metroStation + ", " + obj.properties.metro[i].station;
                        }
                        let individualsTemplate = ``;
                        if (obj.properties["working-hours"].individuals) individualsTemplate += `<div class="card-balloon__working-hours">\n\t\t\t\t\t<span>Физическим лицам</span>\n\t\t\t\t\t${obj.properties["working-hours"].individuals}\n\t\t\t\t</div>`;
                        let legalEntitiesTemplate = ``;
                        if (obj.properties["working-hours"]["legal-entities"]) legalEntitiesTemplate += `<div class="card-balloon__working-hours">\n\t\t\t\t\t<span>Юридическим лицам</span>\n\t\t\t\t\t${obj.properties["working-hours"]["legal-entities"]}\n\t\t\t\t</div>`;
                        let safeBoxesTemplate = ``;
                        if (obj.properties["working-hours"]["safe-boxes"]) safeBoxesTemplate += `<div class="card-balloon__working-hours">\n\t\t\t\t\t<span>Сейфовые ячейки</span>\n\t\t\t\t\t${obj.properties["working-hours"]["safe-boxes"]}\n\t\t\t\t</div>`;
                        let currencyTemplate = ``;
                        obj.properties.currency.forEach((item => {
                            currencyTemplate += `<div class="card-balloon__currency-item">${item}</div>`;
                        }));
                        let phone = parseInt(obj.properties.phone.replace(/\s+/g, ""));
                        obj.properties.balloonContent = `\n\t\t\t\t<div class="card-balloon">\n\t\t\t\t<div class="card-balloon__main">\n\t\t\t\t\t<div class="card-balloon__head">\n\t\t\t\t\t\t<div class="card-balloon__rounds">\n\t\t\t\t\t\t${metroCode}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="card-balloon__title">${metroStation}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="card-balloon__address">${obj.properties.address}</div>\n\t\t\t\t\t<div class="card-balloon__contacts">\n\t\t\t\t\t\t<a href="tel:${phone}" class="card-office__phone">${obj.properties.phone}</a>\n\t\t\t\t\t\t\t<a href="mailto:${obj.properties.email}" class="card-office__email">${obj.properties.email}</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="card-balloon__details">\n\t\t\t\t\t${individualsTemplate}\n\t\t\t\t\t${legalEntitiesTemplate}\n\t\t\t\t\t${safeBoxesTemplate}\n\t\t\t\t\t<div class="card-balloon__currency">\n\t\t\t\t\t\t${currencyTemplate}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\t`;
                        obj.options = {
                            iconLayout: "default#image",
                            iconImageHref: "img/map-pin.svg",
                            iconImageSize: [ 48, 55 ],
                            iconImageOffset: [ -48, -55 ],
                            balloonMinWidth: 371,
                            balloonMaxWidth: 371,
                            balloonMinHeight: 400,
                            balloonMaxHeight: 400,
                            hideIconOnBalloonOpen: false,
                            balloonCloseButton: false,
                            balloonOffset: [ -153.11, 420 ],
                            balloonAutoPanMargin: 0
                        };
                    }));
                    objectManager.add(data);
                    myMap.geoObjects.add(objectManager);
                }
                function getListAddresses(obj) {
                    const listWraps = document.querySelectorAll(".map__list-wrap");
                    listWraps.forEach((listWrap => {
                        obj.forEach((item => {
                            let metroCode = ``;
                            item.properties.metro.forEach((elem => {
                                metroCode += `<div class="card-map-list__round round-${elem.code}">${elem.code}</div>`;
                            }));
                            let templateMetro = ``;
                            if (item.properties.metro.length) {
                                templateMetro = item.properties.metro[0].station;
                                if (item.properties.metro.length > 1) for (let i = 1; i < item.properties.metro.length; i++) templateMetro = templateMetro + ", " + item.properties.metro[i].station;
                            }
                            let currencyTemplate = ``;
                            item.properties.currency.forEach((elem => {
                                currencyTemplate += `<div class="card-map-list__currency-item">${elem}</div>`;
                            }));
                            let template = `\n\t\t\t\t\t<div class="card-map-list card_interactive">\n\t\t\t\t\t<div class="card-map-list__main">\n\t\t\t\t\t\t<div class="card-map-list__head">\n\t\t\t\t\t\t\t<div class="card-map-list__rounds">\n\t\t\t\t\t\t\t${metroCode}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="card-map-list__title">${templateMetro}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="card-map-list__address">${item.properties.address}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="card-map-list__details">\n\t\t\t\t\t\t<div class="card-map-list__currency">\n\t\t\t\t\t\t\t${currencyTemplate}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t`;
                            listWrap.insertAdjacentHTML("beforeend", template);
                        }));
                    }));
                }
                function getAddresses(objects) {
                    const listWrap = document.querySelector(".addresses-list__body");
                    if (listWrap) objects.forEach((obj => {
                        let metroCode = ``;
                        obj.properties.metro.forEach((item => {
                            metroCode += `<div class="card-office__round round-${item.code}">${item.code}</div>`;
                        }));
                        let metroStation = "";
                        if (obj.properties.metro.length) {
                            metroStation = obj.properties.metro[0].station;
                            if (obj.properties.metro.length > 1) for (let i = 1; i < obj.properties.metro.length; i++) metroStation = metroStation + ", " + obj.properties.metro[i].station;
                        }
                        let individualsTemplate = ``;
                        if (obj.properties["working-hours"].individuals) individualsTemplate += `<div class="card-office__working-hours">\n\t\t\t\t\t\t<span>Физическим лицам</span>\n\t\t\t\t\t\t${obj.properties["working-hours"].individuals}\n\t\t\t\t\t</div>`;
                        let legalEntitiesTemplate = ``;
                        if (obj.properties["working-hours"]["legal-entities"]) legalEntitiesTemplate += `<div class="card-office__working-hours">\n\t\t\t\t\t\t<span>Юридическим лицам</span>\n\t\t\t\t\t\t${obj.properties["working-hours"]["legal-entities"]}\n\t\t\t\t\t</div>`;
                        let safeBoxesTemplate = ``;
                        if (obj.properties["working-hours"]["safe-boxes"]) safeBoxesTemplate += `<div class="card-office__working-hours">\n\t\t\t\t\t\t<span>Сейфовые ячейки</span>\n\t\t\t\t\t\t${obj.properties["working-hours"]["safe-boxes"]}\n\t\t\t\t\t</div>`;
                        let currencyTemplate = ``;
                        obj.properties.currency.forEach((item => {
                            currencyTemplate += `<div class="card-office__currency-item">${item}</div>`;
                        }));
                        let phone = parseInt(obj.properties.phone.replace(/\s+/g, ""));
                        let template = `\n\t\t\t\t\t<div class="card-office">\n\t\t\t\t\t<div class="card-office__main">\n\t\t\t\t\t\t<div class="card-office__head">\n\t\t\t\t\t\t\t<div class="card-office__rounds">\n\t\t\t\t\t\t\t${metroCode}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="card-office__title">${metroStation}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="card-office__address">${obj.properties.address}</div>\n\t\t\t\t\t\t<div class="card-office__contacts">\n\t\t\t\t\t\t\t<a href="tel:${phone}" class="card-office__phone">${obj.properties.phone}</a>\n\t\t\t\t\t\t\t<a href="mailto:${obj.properties.email}" class="card-office__email">${obj.properties.email}</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="card-office__details">\n\t\t\t\t\t\t${individualsTemplate}\n\t\t\t\t\t\t${legalEntitiesTemplate}\n\t\t\t\t\t\t${safeBoxesTemplate}\n\t\t\t\t\t\t<div class="card-office__currency">\n\t\t\t\t\t\t\t${currencyTemplate}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t`;
                        listWrap.insertAdjacentHTML("beforeend", template);
                    }));
                }
                var LayoutClass = ymaps.templateLayoutFactory.createClass('<div class="map-cluster-count">{{ properties.geoObjects.length }}</div>');
                var myMap = new ymaps.Map("map", {
                    center: [ 55.75466, 37.603751 ],
                    zoom: 11,
                    controls: []
                });
                var objectManager = new ymaps.ObjectManager({
                    groupByCoordinates: false,
                    clusterize: true,
                    clusterHasBalloon: false,
                    clusterIconImageSize: [ 48, 55 ],
                    clusterIconImageOffset: [ -48, -55 ],
                    clusterIconLayout: "default#imageWithContent",
                    clusterIconImageHref: "img/map-pin.svg",
                    clusterIconContentOffset: [ 19.5, 14.5 ],
                    clusterIconContentLayout: LayoutClass
                });
                objectManager.ba;
                myMap.controls.add(zoomControl);
                myMap.controls.add(geolocationControl);
                myMap.controls.add(inputSearch);
                myMap.behaviors.disable("scrollZoom");
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) myMap.behaviors.disable("drag");
                myMap.events.add("balloonopen", (function(e) {
                    e.get("balloon");
                    myMap.events.add("click", (function(e) {
                        if (e.get("target") === myMap) myMap.balloon.close();
                    }));
                    myMap.balloon.events.add("click", (function(e) {
                        myMap.balloon.close();
                    }));
                }));
                function onObjectEvent(e) {
                    var objectId = e.get("objectId");
                    let obj = objectManager.objects.getAll();
                    let clustersArray = objectManager.clusters.getAll();
                    if ("balloonopen" == e.get("type")) {
                        for (let i = 0; i < obj.length; i++) objectManager.objects.setObjectOptions(i, {
                            iconImageHref: "img/map-pin-disable.svg"
                        });
                        objectManager.objects.setObjectOptions(objectId, {
                            iconImageHref: "img/map-pin.svg"
                        });
                        clustersArray.forEach((cluster => {
                            objectManager.clusters.setClusterOptions(cluster.id, {
                                clusterIconImageHref: "img/map-pin-disable.svg"
                            });
                        }));
                    } else {
                        for (let i = 0; i < Object.keys(obj).length; i++) objectManager.objects.setObjectOptions(i, {
                            iconImageHref: "img/map-pin.svg"
                        });
                        clustersArray.forEach((cluster => {
                            objectManager.clusters.setClusterOptions(cluster.id, {
                                clusterIconImageHref: "img/map-pin.svg"
                            });
                        }));
                    }
                }
                objectManager.objects.events.add([ "balloonopen", "balloonclose" ], onObjectEvent);
            }
        }
        let mapSmall = document.querySelector("#map2");
        if (mapSmall) {
            ymaps.ready(init);
            function init() {
                var myMap = new ymaps.Map("map2", {
                    center: [ 55.75466, 37.603751 ],
                    zoom: 11,
                    controls: []
                });
                myMap.behaviors.disable("scrollZoom");
            }
        }
        function DynamicAdapt(type) {
            this.type = type;
        }
        DynamicAdapt.prototype.init = function() {
            const _this = this;
            this.оbjects = [];
            this.daClassname = "_dynamic_adapt_";
            this.nodes = document.querySelectorAll("[data-da]");
            for (let i = 0; i < this.nodes.length; i++) {
                const node = this.nodes[i];
                const data = node.dataset.da.trim();
                const dataArray = data.split(",");
                const оbject = {};
                оbject.element = node;
                оbject.parent = node.parentNode;
                оbject.destination = document.querySelector(dataArray[0].trim());
                оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : "767";
                оbject.place = dataArray[2] ? dataArray[2].trim() : "last";
                оbject.index = this.indexInParent(оbject.parent, оbject.element);
                this.оbjects.push(оbject);
            }
            this.arraySort(this.оbjects);
            this.mediaQueries = Array.prototype.map.call(this.оbjects, (function(item) {
                return "(" + this.type + "-width: " + item.breakpoint + "px)," + item.breakpoint;
            }), this);
            this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, (function(item, index, self) {
                return Array.prototype.indexOf.call(self, item) === index;
            }));
            for (let i = 0; i < this.mediaQueries.length; i++) {
                const media = this.mediaQueries[i];
                const mediaSplit = String.prototype.split.call(media, ",");
                const matchMedia = window.matchMedia(mediaSplit[0]);
                const mediaBreakpoint = mediaSplit[1];
                const оbjectsFilter = Array.prototype.filter.call(this.оbjects, (function(item) {
                    return item.breakpoint === mediaBreakpoint;
                }));
                matchMedia.addListener((function() {
                    _this.mediaHandler(matchMedia, оbjectsFilter);
                }));
                this.mediaHandler(matchMedia, оbjectsFilter);
            }
        };
        DynamicAdapt.prototype.mediaHandler = function(matchMedia, оbjects) {
            if (matchMedia.matches) for (let i = 0; i < оbjects.length; i++) {
                const оbject = оbjects[i];
                оbject.index = this.indexInParent(оbject.parent, оbject.element);
                this.moveTo(оbject.place, оbject.element, оbject.destination);
            } else for (let i = оbjects.length - 1; i >= 0; i--) {
                const оbject = оbjects[i];
                if (оbject.element.classList.contains(this.daClassname)) this.moveBack(оbject.parent, оbject.element, оbject.index);
            }
        };
        DynamicAdapt.prototype.moveTo = function(place, element, destination) {
            element.classList.add(this.daClassname);
            if ("last" === place || place >= destination.children.length) {
                destination.insertAdjacentElement("beforeend", element);
                return;
            }
            if ("first" === place) {
                destination.insertAdjacentElement("afterbegin", element);
                return;
            }
            destination.children[place].insertAdjacentElement("beforebegin", element);
        };
        DynamicAdapt.prototype.moveBack = function(parent, element, index) {
            element.classList.remove(this.daClassname);
            if (void 0 !== parent.children[index]) parent.children[index].insertAdjacentElement("beforebegin", element); else parent.insertAdjacentElement("beforeend", element);
        };
        DynamicAdapt.prototype.indexInParent = function(parent, element) {
            const array = Array.prototype.slice.call(parent.children);
            return Array.prototype.indexOf.call(array, element);
        };
        DynamicAdapt.prototype.arraySort = function(arr) {
            if ("min" === this.type) Array.prototype.sort.call(arr, (function(a, b) {
                if (a.breakpoint === b.breakpoint) {
                    if (a.place === b.place) return 0;
                    if ("first" === a.place || "last" === b.place) return -1;
                    if ("last" === a.place || "first" === b.place) return 1;
                    return a.place - b.place;
                }
                return a.breakpoint - b.breakpoint;
            })); else {
                Array.prototype.sort.call(arr, (function(a, b) {
                    if (a.breakpoint === b.breakpoint) {
                        if (a.place === b.place) return 0;
                        if ("first" === a.place || "last" === b.place) return 1;
                        if ("last" === a.place || "first" === b.place) return -1;
                        return b.place - a.place;
                    }
                    return b.breakpoint - a.breakpoint;
                }));
                return;
            }
        };
        const da = new DynamicAdapt("max");
        da.init();
        var aos = __webpack_require__(2711);
        window.addEventListener("load", (function(e) {
            aos.init({
                disable: "phone",
                startEvent: "DOMContentLoaded",
                initClassName: "aos-init",
                animatedClassName: "aos-animate",
                useClassNames: false,
                disableMutationObserver: false,
                debounceDelay: 50,
                throttleDelay: 99,
                offset: 200,
                delay: 0,
                duration: 400,
                easing: "ease",
                once: true,
                mirror: true,
                anchorPlacement: "top-bottom"
            });
        }));
        const mapAddresses = document.querySelector("#map-addresses");
        window.onload = function() {
            if (document.body.classList.contains("transition_disabled")) document.body.classList.remove("transition_disabled");
            const mapSearchInput = document.querySelector(".ymaps-2-1-79-searchbox-input__input");
            if (mapSearchInput) mapSearchInput.addEventListener("input", (function(e) {
                if (mapSearchInput.value) {
                    if (mapAddresses) mapAddresses.classList.add("_search");
                } else if (!mapSearchInput.value) if (mapAddresses) mapAddresses.classList.remove("_search");
            }));
        };
        function switcher() {
            const switchers = document.querySelectorAll("[data-switcher]");
            if (switchers.length) switchersInit(switchers);
            function switchersInit(switchers) {
                switchers.forEach((switcher => {
                    switcherInit(switcher);
                }));
            }
            function switcherInit(switcher) {
                const elements = switcher.children;
                console.log(elements);
                for (let i = 0; i < elements.length; i++) addAction(elements[i], switcher);
            }
            function addAction(element, switcher) {
                element.addEventListener("click", (e => {
                    const activeElement = switcher.querySelector("._active");
                    if (activeElement && activeElement != element) activeElement.classList.remove("_active");
                    element.classList.add("_active");
                }));
            }
        }
        document.addEventListener("click", documentActionsClick);
        function documentActionsClick(e) {
            const el = e.target;
            if (el.closest(".header-tabs__button")) if (window.innerWidth < 992) {
                const bodyMenu = document.querySelector(".menu__body");
                bodyMenu.classList.toggle("_active");
                e.preventDefault();
            }
            if (el.closest(".menu__link")) {
                const link = el.closest(".menu__link");
                const activeLink = document.querySelector(".menu__link_active");
                const subMenuId = link.dataset.parent ? link.dataset.parent : null;
                const subMenu = document.querySelector(`[data-submenu="${subMenuId}"]`);
                const submenuActive = document.querySelector(".sub-menu_active");
                if (isMobile.any()) {
                    if (activeLink && activeLink !== link) {
                        activeLink.classList.remove("menu__link_active");
                        submenuActive.classList.remove("sub-menu_active");
                    }
                    if (subMenu) {
                        e.preventDefault();
                        link.classList.toggle("menu__link_active");
                        subMenu.classList.toggle("sub-menu_active");
                        document.querySelector(".page").classList.toggle("_overflow");
                    } else document.querySelector(".page").classList.remove("_overflow");
                }
            }
            if (!el.closest(".menu__link") && !el.closest(".sub-menu")) if (isMobile.any()) {
                const activeLink = document.querySelector(".menu__link_active");
                const submenuActive = document.querySelector(".sub-menu_active");
                if (activeLink) activeLink.classList.remove("menu__link_active");
                if (submenuActive) submenuActive.classList.remove("sub-menu_active");
                document.querySelector(".page").classList.remove("_overflow");
            }
            if (el.closest(".mob-menu__main-link")) {
                const link = el.closest(".mob-menu__main-link");
                if (link.nextElementSibling) {
                    e.preventDefault();
                    const menu = link.nextElementSibling.querySelector(".mob-menu__menu-wrap");
                    menu.classList.toggle("_active");
                }
            }
            if (el.closest(".mob-menu__menu-back")) {
                const back = el.closest(".mob-menu__menu-back");
                back.parentElement.classList.remove("_active");
            }
            if (el.closest(".mob-menu__menu-link")) {
                const link = el.closest(".mob-menu__menu-link");
                if (link.nextElementSibling) {
                    e.preventDefault();
                    const menu = link.nextElementSibling.querySelector(".mob-submenu__wrap");
                    menu.classList.toggle("_active");
                }
            }
            if (el.closest(".mob-submenu__back")) {
                const back = el.closest(".mob-submenu__back");
                back.parentElement.classList.remove("_active");
            }
            if (el.closest(".search-header__icon")) if (bodyLockStatus) {
                const button = el.closest(".search-header__icon");
                const search = el.closest(".search-header");
                search.classList.toggle("_active");
                button.classList.toggle("_active");
                bodyLockToggle();
                document.documentElement.classList.toggle("search-open");
                button.nextElementSibling.classList.toggle("_active");
            }
            if (bodyLockStatus && !el.closest(".search-header__body._active") && !el.closest(".search-header__icon._active")) {
                const searchBtn = document.querySelector(".search-header__icon._active");
                const search = document.querySelector(".search-header__body._active");
                if (search && searchBtn) {
                    search.classList.remove("_active");
                    searchBtn.classList.remove("_active");
                    bodyUnlock();
                    document.documentElement.classList.toggle("search-open");
                }
            }
            if (el.closest(".card-product__button")) ;
            if (el.closest(".form__input-clear")) {
                const btnClear = el.closest(".form__input-clear");
                const input = btnClear.previousElementSibling;
                if (input) {
                    input.value = "";
                    input.classList.remove("_filled");
                    btnClear.classList.remove("_active");
                }
            }
            if (el.closest(".search-header__input-clear")) {
                const btnClear = el.closest(".search-header__input-clear");
                const input = btnClear.previousElementSibling;
                if (input) {
                    input.value = "";
                    btnClear.classList.remove("_active");
                }
            }
            if (el.closest(".tabs__button")) {
                const tab = el.closest(".tabs__button");
                const parent = tab.closest(".faq-categories");
                if (parent) {
                    currentTabInit(parent);
                    const head = tab.closest(".faq-categories__head");
                    if (head) if (head.classList.contains("_active")) {
                        head.classList.remove("_active");
                        bodyUnlock();
                    }
                }
                tab.scrollIntoViewIfNeeded();
            }
            if (el.closest(".faq-categories__button")) {
                const button = el.closest(".faq-categories__button");
                const parent = button.closest(".faq-categories");
                const head = parent.querySelector(".faq-categories__head");
                head.classList.toggle("_active");
                bodyLock();
            }
            if (el.closest(".faq-categories__back")) {
                const head = el.closest(".faq-categories__head");
                head.classList.remove("_active");
                bodyUnlock();
            }
            if (el.closest(".currency-switcher__item")) {
                const switherButton = el.closest(".currency-switcher__item");
                const switcherBody = switherButton.closest(".currency-switcher");
                const switherButtonActive = switcherBody.querySelector(".currency-switcher__item._active");
                if (switherButtonActive && switherButtonActive != switherButton) switherButtonActive.classList.remove("_active");
                switherButton.classList.add("_active");
            }
            if (el.closest(".currency-dynamic__switcher-item")) {
                const switherButton = el.closest(".currency-dynamic__switcher-item");
                const switcherBody = switherButton.closest(".currency-dynamic__switcher");
                const switherButtonActive = switcherBody.querySelector(".currency-dynamic__switcher-item._active");
                if (switherButtonActive && switherButtonActive != switherButton) switherButtonActive.classList.remove("_active");
                switherButton.classList.add("_active");
            }
            if (el.closest(".form-actions__button-next")) {
                el.closest(".form-actions__button-next");
                const form = el.closest(".form");
                const stepActive = form.querySelector(".form__step._active");
                const error = formValidate.getErrors(stepActive);
                const popup = document.querySelector("#popup-request-credit");
                if (0 === error) {
                    popup.scrollTop = 200;
                    stepActive.classList.remove("_active");
                    stepActive.nextElementSibling.classList.add("_active");
                }
            }
            if (el.closest(".form-actions__button-prev")) {
                el.closest(".form-actions__button-prev");
                const form = el.closest(".form");
                const stepActive = form.querySelector(".form__step._active");
                stepActive.classList.remove("_active");
                stepActive.hidden = true;
                stepActive.previousElementSibling.classList.add("_active");
                popup.scrollTop = 200;
            }
            if (el.closest("[data-filters-button]")) {
                const filtersButton = el.closest("[data-filters-button]");
                const filtersBlock = document.querySelector("[data-filters-body]");
                if (window.innerWidth >= 768) {
                    if (!filtersBlock.classList.contains("._slide")) {
                        filtersButton.classList.toggle("_active");
                        _slideToggle(filtersBlock);
                    }
                    e.preventDefault();
                } else if (window.innerWidth < 768) {
                    filtersButton.classList.toggle("_active");
                    filtersBlock.classList.toggle("_active");
                    bodyLock();
                }
            }
            if (el.closest(".search-filters__back")) {
                const filtersButton = document.querySelector("[data-filters-button]");
                const filtersBlock = document.querySelector("[data-filters-body]");
                filtersButton.classList.toggle("_active");
                filtersBlock.classList.toggle("_active");
                bodyUnlock();
            }
            if (el.closest(".search-filters__apply-button")) {
                const filtersButton = document.querySelector("[data-filters-button]");
                const filtersBlock = document.querySelector("[data-filters-body]");
                filtersButton.classList.toggle("_active");
                filtersBlock.classList.toggle("_active");
                bodyUnlock();
            }
            if (el.closest(".search-filters__clear")) {
                const clearButton = el.closest(".search-filters__clear");
                const body = clearButton.parentElement;
                const inputs = body.querySelectorAll("input[type=checkbox]");
                inputs.forEach((input => {
                    input.checked = false;
                }));
            }
            if (el.closest("[data-map-list]")) {
                const button = el.closest("[data-map-list]");
                const icons = button.querySelectorAll("svg");
                const labels = button.querySelectorAll("span");
                const map = document.querySelector(".map");
                const addressesList = document.querySelector(".addresses-list");
                map.classList.toggle("_active");
                addressesList.classList.toggle("_active");
                icons.forEach((icon => {
                    icon.classList.toggle("_active");
                }));
                labels.forEach((label => {
                    label.classList.toggle("_active");
                }));
            }
            if (el.closest(".map-swither__item")) {
                el.closest(".map-swither__item");
                const mapAddresses = document.querySelector("#map-addresses");
                const metroAddresses = document.querySelector("#metro-addresses");
                if (mapAddresses) mapAddresses.classList.toggle("_active");
                if (metroAddresses) metroAddresses.classList.toggle("_active");
            }
        }
        const menuLinks = document.querySelectorAll(".menu__link");
        if (menuLinks.length) menuLinks.forEach((item => {
            const subMenuId = item.dataset.parent ? item.dataset.parent : null;
            const subMenu = document.querySelector(`[data-submenu="${subMenuId}"]`);
            item.addEventListener("mouseenter", (e => {
                if (!isMobile.any()) {
                    if (document.querySelector(".menu__link_active")) document.querySelector(".menu__link_active").classList.remove("menu__link_active");
                    item.classList.add("menu__link_active");
                    if (document.querySelector(".sub-menu_active")) document.querySelector(".sub-menu_active").classList.remove("sub-menu_active");
                    if (subMenu) {
                        subMenu.classList.add("sub-menu_active");
                        document.querySelector(".page").classList.add("_overflow");
                    } else document.querySelector(".page").classList.remove("_overflow");
                }
            }));
        }));
        const headerMenu = document.querySelector(".menu");
        headerMenu.addEventListener("mouseleave", (e => {
            if (!isMobile.any()) {
                if (document.querySelector(".menu__link_active")) document.querySelector(".menu__link_active").classList.remove("menu__link_active");
                if (document.querySelector(".sub-menu_active")) document.querySelector(".sub-menu_active").classList.remove("sub-menu_active");
                document.querySelector(".page").classList.remove("_overflow");
            }
        }));
        const inputs = document.querySelectorAll(".form__input");
        const searchInput = document.querySelector(".search-header__input");
        inputs.forEach((input => {
            input.addEventListener("input", (function(e) {
                const btnClear = input.nextElementSibling;
                if (input.value) {
                    if (btnClear) btnClear.classList.add("_active");
                } else if (!input.value) if (btnClear) btnClear.classList.remove("_active");
            }));
        }));
        if (searchInput) searchInput.addEventListener("input", (function(e) {
            const btnClear = searchInput.nextElementSibling;
            if (searchInput.value) {
                if (btnClear) btnClear.classList.add("_active");
            } else if (!searchInput.value) if (btnClear) btnClear.classList.remove("_active");
        }));
        const faqCategories = document.querySelectorAll(".faq-categories");
        if (faqCategories.length) faqCategories.forEach((faqCategorie => {
            currentTabInit(faqCategorie);
        }));
        function currentTabInit(faqCategorie) {
            const activeTab = faqCategorie.querySelector("._tab-active");
            if (activeTab) {
                let textTab = activeTab.textContent;
                let currentTab = faqCategorie.querySelector(".faq-categories__current span");
                currentTab.innerHTML = textTab;
            }
        }
        const radioTrue = document.getElementById("client_true");
        if (radioTrue) radioTrue.addEventListener("change", (function() {
            document.getElementById("info-client").hidden = false;
        }));
        const radioFalse = document.getElementById("client_false");
        if (radioFalse) radioFalse.addEventListener("change", (function() {
            document.getElementById("info-client").hidden = true;
        }));
        function showFilters() {
            const filtersBodyArray = document.querySelectorAll("[data-filters]");
            if (filtersBodyArray.length > 0) {
                const filtersBodyRegular = Array.from(filtersBodyArray).filter((function(item, index, self) {
                    return !item.dataset.filters.split(",")[0];
                }));
                if (filtersBodyRegular.length) initFilters(filtersBodyRegular);
                let mdQueriesArray = dataMediaQueries(filtersBodyArray, "filters");
                if (mdQueriesArray && mdQueriesArray.length) {
                    mdQueriesArray.forEach((mdQueriesItem => {
                        mdQueriesItem.matchMedia.addEventListener("change", (function() {
                            initFilters(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                        }));
                    }));
                    initFiltersMedia(mdQueriesArray);
                }
                function initFiltersMedia(mdQueriesArray) {
                    mdQueriesArray.forEach((mdQueriesItem => {
                        initFilters(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
                    }));
                }
                function initFilters(elementBlocks, matchMedia) {
                    elementBlocks.forEach((elementBlock => {
                        initFilter(elementBlock, matchMedia);
                    }));
                }
                function initFilter(parent, matchMedia = false) {
                    parent = matchMedia ? parent.item : parent;
                    const filterButton = parent.querySelector("[data-filters-button]");
                    const filterBody = parent.querySelector("[data-filters-body]");
                    console.log(filterBody);
                    if (matchMedia.matches || !matchMedia) {
                        if (filterBody.classList.contains("_active")) filterBody.classList.remove("_active");
                        if (filterButton.classList.contains("_active")) filterButton.classList.remove("_active");
                        _slideUp(filterBody);
                        filterBody.hidden = true;
                        bodyUnlock();
                    } else {
                        if (filterBody.classList.contains("_active")) filterBody.classList.remove("_active");
                        if (filterButton.classList.contains("_active")) filterButton.classList.remove("_active");
                        filterBody.hidden = false;
                    }
                }
            }
        }
        showFilters();
        function popupCoinInit() {
            const popupButtons = document.querySelectorAll('[data-popup="#popup-coin"]');
            console.log(popupButtons);
            const popupCoins = document.querySelectorAll("#popup-coin");
            if (popupButtons) for (let i = 0; i < popupButtons.length; i++) {
                const popupButton = popupButtons[i];
                popupButton.setAttribute("data-popup", `#popup-coin-${i}`);
            }
            if (popupCoins) for (let i = 0; i < popupCoins.length; i++) {
                const element = popupCoins[i];
                element.id = `popup-coin-${i}`;
            }
        }
        popupCoinInit();
        function popupJobInit() {
            const popupButtons = document.querySelectorAll('[data-popup="#popup-job"]');
            console.log(popupButtons);
            const popupCoins = document.querySelectorAll("#popup-job");
            if (popupButtons) for (let i = 0; i < popupButtons.length; i++) {
                const popupButton = popupButtons[i];
                popupButton.setAttribute("data-popup", `#popup-coin-${i}`);
            }
            if (popupCoins) for (let i = 0; i < popupCoins.length; i++) {
                const element = popupCoins[i];
                element.id = `popup-coin-${i}`;
            }
        }
        popupJobInit();
        function additionalTerms() {
            const additionalTerms = document.querySelector(".additional-terms");
            if (additionalTerms) {
                const additionalTermsInputs = additionalTerms.querySelectorAll("input[type=checkbox]");
                additionalTermsInit(additionalTerms, additionalTermsInputs);
                additionalTermsInputs.forEach((additionalTermsInput => {
                    additionalTermsInputAction(additionalTermsInput, additionalTermsInputs, additionalTerms);
                }));
                function additionalTermsInit(additionalTerms, additionalTermsInputs) {
                    let additionalTermsCurrent = additionalTerms.querySelector(".additional-terms-spollers__current span");
                    let additionalTermsCurrentCounter = 0;
                    additionalTermsInputs.forEach((additionalTermsInput => {
                        if (additionalTermsInput.checked) additionalTermsCurrentCounter += 1;
                    }));
                    additionalTermsSet(additionalTermsCurrent, additionalTermsCurrentCounter);
                }
                function additionalTermsInputAction(additionalTermsInput, additionalTermsInputs, additionalTerms) {
                    additionalTermsInput.addEventListener("change", (function() {
                        additionalTermsInit(additionalTerms, additionalTermsInputs);
                    }));
                }
                function additionalTermsSet(additionalTermsCurrent, count) {
                    if (0 == count || count > 4) additionalTermsCurrent.textContent = `${count} условий`; else if (1 == count) additionalTermsCurrent.textContent = `${count} условие`; else if (count > 1 || count < 5) additionalTermsCurrent.textContent = `${count} условия`;
                }
            }
        }
        additionalTerms();
        function initMapList() {
            const map = document.querySelector(".addresses-map");
            if (map) {
                const buttonList = document.querySelector("[data-map-list]");
                if (buttonList) {
                    const addressesList = document.querySelector(".addresses-list");
                    if (buttonList.classList.contains("_active")) buttonList.classList.remove("_active");
                    if (addressesList.classList.contains("_active")) addressesList.classList.remove("_active");
                    if (!map.classList.contains("_active")) map.classList.add("_active");
                }
            }
        }
        initMapList();
        let flag;
        if (window.innerWidth < 767.98) flag = true; else flag = false;
        switcher();
        window.addEventListener("resize", (e => {
            if (window.innerWidth < 767.98) {
                if (!flag) {
                    switcher();
                    flag = true;
                    console.log("1");
                }
            } else if (flag) {
                switcher();
                flag = false;
                console.log("2");
            }
        }));
        const tableTitle = document.querySelector("[data-table-title]");
        if (tableTitle) {
            const tableRow = document.querySelector("[data-table-row]");
            const tableRowchildren = Array.from(tableRow.children);
            tableTitle.setAttribute("colspan", tableRowchildren.length);
        }
        window["FLS"] = true;
        isWebp();
        addTouchClass();
        menuInit();
        spollers();
        tabs();
        showMore();
        elementsCounter();
        formFieldsInit({
            viewPass: false,
            autoHeight: false
        });
        formSubmit();
        headerScroll();
    })();
})();