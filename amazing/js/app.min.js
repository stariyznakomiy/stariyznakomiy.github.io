(()=>{"use strict";const e={};let t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};let s=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},i=(e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},n=(e,t=500)=>e.hidden?i(e,t):s(e,t),a=!0,l=(e=500)=>{let t=document.querySelector("body");if(a){let s=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<s.length;e++){s[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),a=!1,setTimeout((function(){a=!0}),e)}},o=(e=500)=>{let t=document.querySelector("body");if(a){let s=document.querySelectorAll("[data-lp]");for(let e=0;e<s.length;e++){s[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),a=!1,setTimeout((function(){a=!0}),e)}};function r(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}function c(e){return e.filter((function(e,t,s){return s.indexOf(e)===t}))}function d(e,t){const s=Array.from(e).filter((function(e,s,i){if(e.dataset[t])return e.dataset[t].split(",")[0]}));if(s.length){const e=[];s.forEach((s=>{const i={},n=s.dataset[t].split(",");i.value=n[0],i.type=n[1]?n[1].trim():"max",i.item=s,e.push(i)}));let i=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));i=c(i);const n=[];if(i.length)return i.forEach((t=>{const s=t.split(","),i=s[1],a=s[2],l=window.matchMedia(s[0]),o=e.filter((function(e){if(e.value===i&&e.type===a)return!0}));n.push({itemsArray:o,matchMedia:l})})),n}}
/*!
 * simpleParallax - simpleParallax is a simple JavaScript library that gives your website parallax animations on any images or videos, 
 * @date: 20-08-2020 14:0:14, 
 * @version: 5.6.2,
 * @link: https://simpleparallax.com/
 */
var u,h;e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Проснулся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Ой ой, не заполнен атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(a)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const s=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${s}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&o(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Открыл попап")}else this.popupLogging("Ой ой, такого попапа нет.Проверьте корректность ввода. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&a&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&l(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрыл попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;(document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`))&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),i=s.indexOf(document.activeElement);e.shiftKey&&0===i&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||i!==s.length-1||(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&r(`[Попапос]: ${e}`)}}({}),u=window,h=function(){return function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){s.r(t),s.d(t,"default",(function(){return S}));var i=function(){return Element.prototype.closest&&"IntersectionObserver"in window};function n(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.positions={top:0,bottom:0,height:0}}var t,s,i;return t=e,(s=[{key:"setViewportTop",value:function(e){return this.positions.top=e?e.scrollTop:window.pageYOffset,this.positions}},{key:"setViewportBottom",value:function(){return this.positions.bottom=this.positions.top+this.positions.height,this.positions}},{key:"setViewportAll",value:function(e){return this.positions.top=e?e.scrollTop:window.pageYOffset,this.positions.height=e?e.clientHeight:document.documentElement.clientHeight,this.positions.bottom=this.positions.top+this.positions.height,this.positions}}])&&n(t.prototype,s),i&&n(t,i),e}()),l=function(e){return NodeList.prototype.isPrototypeOf(e)||HTMLCollection.prototype.isPrototypeOf(e)?Array.from(e):"string"==typeof e||e instanceof String?document.querySelectorAll(e):[e]},o=function(){for(var e,t="transform webkitTransform mozTransform oTransform msTransform".split(" "),s=0;void 0===e;)e=void 0!==document.createElement("div").style[t[s]]?t[s]:void 0,s+=1;return e}(),r=function(e){return"img"!==e.tagName.toLowerCase()&&"picture"!==e.tagName.toLowerCase()||!!e&&!!e.complete&&(void 0===e.naturalWidth||0!==e.naturalWidth)};function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function u(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(){function e(t,s){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.elementContainer=t,this.settings=s,this.isVisible=!0,this.isInit=!1,this.oldTranslateValue=-1,this.init=this.init.bind(this),this.customWrapper=this.settings.customWrapper&&this.element.closest(this.settings.customWrapper)?this.element.closest(this.settings.customWrapper):null,r(t)?this.init():this.element.addEventListener("load",(function(){setTimeout((function(){i.init(!0)}),50)}))}var t,s,i;return t=e,(s=[{key:"init",value:function(e){var t=this;this.isInit||(e&&(this.rangeMax=null),this.element.closest(".simpleParallax")||(!1===this.settings.overflow&&this.wrapElement(this.element),this.setTransformCSS(),this.getElementOffset(),this.intersectionObserver(),this.getTranslateValue(),this.animate(),this.settings.delay>0?setTimeout((function(){t.setTransitionCSS(),t.elementContainer.classList.add("simple-parallax-initialized")}),10):this.elementContainer.classList.add("simple-parallax-initialized"),this.isInit=!0))}},{key:"wrapElement",value:function(){var e=this.element.closest("picture")||this.element,t=this.customWrapper||document.createElement("div");t.classList.add("simpleParallax"),t.style.overflow="hidden",this.customWrapper||(e.parentNode.insertBefore(t,e),t.appendChild(e)),this.elementContainer=t}},{key:"unWrapElement",value:function(){var e=this.elementContainer;this.customWrapper?(e.classList.remove("simpleParallax"),e.style.overflow=""):e.replaceWith.apply(e,c(e.childNodes))}},{key:"setTransformCSS",value:function(){!1===this.settings.overflow&&(this.element.style[o]="scale(".concat(this.settings.scale,")")),this.element.style.willChange="transform"}},{key:"setTransitionCSS",value:function(){this.element.style.transition="transform ".concat(this.settings.delay,"s ").concat(this.settings.transition)}},{key:"unSetStyle",value:function(){this.element.style.willChange="",this.element.style[o]="",this.element.style.transition=""}},{key:"getElementOffset",value:function(){var e=this.elementContainer.getBoundingClientRect();if(this.elementHeight=e.height,this.elementTop=e.top+a.positions.top,this.settings.customContainer){var t=this.settings.customContainer.getBoundingClientRect();this.elementTop=e.top-t.top+a.positions.top}this.elementBottom=this.elementHeight+this.elementTop}},{key:"buildThresholdList",value:function(){for(var e=[],t=1;t<=this.elementHeight;t++){var s=t/this.elementHeight;e.push(s)}return e}},{key:"intersectionObserver",value:function(){var e={root:null,threshold:this.buildThresholdList()};this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),e),this.observer.observe(this.element)}},{key:"intersectionObserverCallback",value:function(e){var t=this;e.forEach((function(e){e.isIntersecting?t.isVisible=!0:t.isVisible=!1}))}},{key:"checkIfVisible",value:function(){return this.elementBottom>a.positions.top&&this.elementTop<a.positions.bottom}},{key:"getRangeMax",value:function(){var e=this.element.clientHeight;this.rangeMax=e*this.settings.scale-e}},{key:"getTranslateValue",value:function(){var e=((a.positions.bottom-this.elementTop)/((a.positions.height+this.elementHeight)/100)).toFixed(1);return e=Math.min(100,Math.max(0,e)),0!==this.settings.maxTransition&&e>this.settings.maxTransition&&(e=this.settings.maxTransition),this.oldPercentage!==e&&(this.rangeMax||this.getRangeMax(),this.translateValue=(e/100*this.rangeMax-this.rangeMax/2).toFixed(0),this.oldTranslateValue!==this.translateValue&&(this.oldPercentage=e,this.oldTranslateValue=this.translateValue,!0))}},{key:"animate",value:function(){var e,t=0,s=0;(this.settings.orientation.includes("left")||this.settings.orientation.includes("right"))&&(s="".concat(this.settings.orientation.includes("left")?-1*this.translateValue:this.translateValue,"px")),(this.settings.orientation.includes("up")||this.settings.orientation.includes("down"))&&(t="".concat(this.settings.orientation.includes("up")?-1*this.translateValue:this.translateValue,"px")),e=!1===this.settings.overflow?"translate3d(".concat(s,", ").concat(t,", 0) scale(").concat(this.settings.scale,")"):"translate3d(".concat(s,", ").concat(t,", 0)"),this.element.style[o]=e}}])&&u(t.prototype,s),i&&u(t,i),e}();function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],i=!0,n=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(i=(l=o.next()).done)&&(s.push(l.value),!t||s.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return f(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function b(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y,v,w=!1,T=[],S=function(){function e(t,s){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&i()){if(this.elements=l(t),this.defaults={delay:0,orientation:"up",scale:1.3,overflow:!1,transition:"cubic-bezier(0,0,0,1)",customContainer:"",customWrapper:"",maxTransition:0},this.settings=Object.assign(this.defaults,s),this.settings.customContainer){var n=m(l(this.settings.customContainer),1);this.customContainer=n[0]}this.lastPosition=-1,this.resizeIsDone=this.resizeIsDone.bind(this),this.refresh=this.refresh.bind(this),this.proceedRequestAnimationFrame=this.proceedRequestAnimationFrame.bind(this),this.init()}}var t,s,n;return t=e,(s=[{key:"init",value:function(){var e=this;a.setViewportAll(this.customContainer),T=[].concat(p(this.elements.map((function(t){return new h(t,e.settings)}))),p(T)),w||(this.proceedRequestAnimationFrame(),window.addEventListener("resize",this.resizeIsDone),w=!0)}},{key:"resizeIsDone",value:function(){clearTimeout(v),v=setTimeout(this.refresh,200)}},{key:"proceedRequestAnimationFrame",value:function(){var e=this;a.setViewportTop(this.customContainer),this.lastPosition!==a.positions.top?(a.setViewportBottom(),T.forEach((function(t){e.proceedElement(t)})),y=window.requestAnimationFrame(this.proceedRequestAnimationFrame),this.lastPosition=a.positions.top):y=window.requestAnimationFrame(this.proceedRequestAnimationFrame)}},{key:"proceedElement",value:function(e){(this.customContainer?e.checkIfVisible():e.isVisible)&&e.getTranslateValue()&&e.animate()}},{key:"refresh",value:function(){a.setViewportAll(this.customContainer),T.forEach((function(e){e.getElementOffset(),e.getRangeMax()})),this.lastPosition=-1}},{key:"destroy",value:function(){var e=this,t=[];T=T.filter((function(s){return e.elements.includes(s.element)?(t.push(s),!1):s})),t.forEach((function(t){t.unSetStyle(),!1===e.settings.overflow&&t.unWrapElement()})),T.length||(window.cancelAnimationFrame(y),window.removeEventListener("resize",this.refresh),w=!1)}}])&&b(t.prototype,s),n&&b(t,n),e}()}]).default},"object"==typeof exports&&"object"==typeof module?module.exports=h():"function"==typeof define&&define.amd?define("simpleParallax",[],h):"object"==typeof exports?exports.simpleParallax=h():u.simpleParallax=h();let p=(e,t=!1,s=500,i=0)=>{const n=document.querySelector(e);if(n){let a="",o=0;t&&(a="header.header",o=document.querySelector(a).offsetHeight);let c={speedAsDuration:!0,speed:s,header:a,offset:i,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&(l(),document.documentElement.classList.remove("menu-open")),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(n,"",c);else{let e=n.getBoundingClientRect().top+scrollY;e=o?e-o:e,e=i?e-i:e,window.scrollTo({top:e,behavior:"smooth"})}r(`[gotoBlock]: Юхуу...едем к ${e}`)}else r(`[gotoBlock]: Ой ой..Такого блока нет на странице: ${e}`)};let m={getErrors(e){let t=0,s=e.querySelectorAll("*[data-required]");return s.length&&s.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return"email"===e.dataset.required?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value.trim()?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout((()=>{let s=t.querySelectorAll("input,textarea");for(let e=0;e<s.length;e++){const t=s[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),m.removeError(t)}let i=t.querySelectorAll(".checkbox__input");if(i.length>0)for(let e=0;e<i.length;e++){i[e].checked=!1}if(e.select){let s=t.querySelectorAll(".select");if(s.length)for(let t=0;t<s.length;t++){const i=s[t].querySelector("select");e.select.selectBuild(i)}}}),0)},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};function g(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function f(e={},t={}){Object.keys(t).forEach((s=>{void 0===e[s]?e[s]=t[s]:g(t[s])&&g(e[s])&&Object.keys(t[s]).length>0&&f(e[s],t[s])}))}e.select=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const e=t?document.querySelectorAll(t):document.querySelectorAll("select");e.length?(this.selectsInit(e),this.setLogging(`Проснулся, построил селектов: (${e.length})`)):this.setLogging("Сплю, нет ни одного select zzZZZzZZz")}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach(((e,t)=>{this.selectInit(e,t+1)})),document.addEventListener("click",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("keydown",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusin",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusout",function(e){this.selectsActions(e)}.bind(this))}selectInit(e,t){const s=this;let i=document.createElement("div");if(i.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(i,e),i.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show)){this.getSelectElement(i,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)}i.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:"150",e.addEventListener("change",(function(e){s.selectChange(e)}))}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const i=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),n=this.getSelectElement(i).originalSelect;if("click"===s){if(!n.disabled)if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),s=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`);this.optionAction(i,n,s)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(i);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(i,n,e)}}else"focusin"===s||"focusout"===s?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&("focusin"===s?i.classList.add(this.selectClasses.classSelectFocus):i.classList.remove(this.selectClasses.classSelectFocus)):"keydown"===s&&"Escape"===e.code&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const t=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);t.length&&t.forEach((e=>{this.selectСlose(e)}))}selectСlose(e){const t=this.getSelectElement(e).originalSelect,i=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;i.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),s(i,t.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;if(t.closest("[data-one-select]")){const e=t.closest("[data-one-select]");this.selectsСlose(e)}s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),n(s,t.dataset.speed))}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,i=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;i&&i.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t))}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map((t=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let i="",n="";if(t.hasAttribute("data-pseudo-label")&&(i=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заполните атрибут"',n=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${i} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const e=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${i} class="${this.selectClasses.classSelectValue}${n}"><span class="${this.selectClasses.classSelectContent}${e}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let i="";return i+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",i+=t?`<span class="${this.selectClasses.classSelectData}">`:"",i+=t?s:"",i+=t?"</span>":"",i+=t?`<span class="${this.selectClasses.classSelectText}">`:"",i+=e.textContent,i+=t?"</span>":"",i+=t?"</span>":"",i}getSelectPlaceholder(e){const t=Array.from(e.options).find((e=>!e.value));if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter((e=>e.value)).filter((e=>e.selected)):s.push(e.options[e.selectedIndex]),{elements:s.map((e=>e)),values:s.filter((e=>e.value)).map((e=>e.value)),html:s.map((e=>this.getSelectElementContent(e)))}}getOptions(e){let t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=e.dataset.scroll?`style="max-height:${e.dataset.scroll}px"`:"",i=Array.from(e.options);if(i.length>0){let n="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(i=i.filter((e=>e.value))),n+=t?`<div ${t} ${s} class="${this.selectClasses.classSelectOptionsScroll}">`:"",i.forEach((t=>{n+=this.getOption(t,e)})),n+=t?"</div>":"",n}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",i=!e.selected||t.hasAttribute("data-show-selected")||t.multiple?"":"hidden",n=e.dataset.class?` ${e.dataset.class}`:"",a=!!e.dataset.href&&e.dataset.href,l=e.hasAttribute("data-href-blank")?'target="_blank"':"";let o="";return o+=a?`<a ${l} ${i} href="${a}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${n}${s}">`:`<button ${i} class="${this.selectClasses.classSelectOption}${n}${s}" data-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=a?"</a>":"</button>",o}setOptions(e,t){this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement.innerHTML=this.getOptions(t)}optionAction(e,t,s){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);this.getSelectedOptionsData(t).elements.forEach((e=>{e.removeAttribute("selected")}));e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e=>{t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected","selected")}))}else t.hasAttribute("data-show-selected")||(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&m.validateInput(e),e.hasAttribute("data-submit")&&e.value){let t=document.createElement("button");t.type="submit",e.closest("form").append(t),t.click(),t.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,i=s.querySelectorAll(`.${this.selectClasses.classSelectOption}`),n=this;t.addEventListener("input",(function(){i.forEach((e=>{e.textContent.toUpperCase().indexOf(t.value.toUpperCase())>=0?e.hidden=!1:e.hidden=!0})),!0===s.hidden&&n.selectAction(e)}))}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}setLogging(e){this.config.logging&&r(`[select]: ${e}`)}}({});const b={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function y(){const e="undefined"!=typeof document?document:{};return f(e,b),e}const v={document:b,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function w(){const e="undefined"!=typeof window?window:{};return f(e,v),e}class T extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function S(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...S(e)):t.push(e)})),t}function C(e,t){return Array.prototype.filter.call(e,t)}function E(e,t){const s=w(),i=y();let n=[];if(!t&&e instanceof T)return e;if(!e)return new T(n);if("string"==typeof e){const s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let e="div";0===s.indexOf("<li")&&(e="ul"),0===s.indexOf("<tr")&&(e="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(e="tr"),0===s.indexOf("<tbody")&&(e="table"),0===s.indexOf("<option")&&(e="select");const t=i.createElement(e);t.innerHTML=s;for(let e=0;e<t.childNodes.length;e+=1)n.push(t.childNodes[e])}else n=function(e,t){if("string"!=typeof e)return[e];const s=[],i=t.querySelectorAll(e);for(let e=0;e<i.length;e+=1)s.push(i[e]);return s}(e.trim(),t||i)}else if(e.nodeType||e===s||e===i)n.push(e);else if(Array.isArray(e)){if(e instanceof T)return e;n=e}return new T(function(e){const t=[];for(let s=0;s<e.length;s+=1)-1===t.indexOf(e[s])&&t.push(e[s]);return t}(n))}E.fn=T.prototype;const k="resize scroll".split(" ");function x(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)k.indexOf(e)<0&&(e in this[t]?this[t][e]():E(this[t]).trigger(e));return this}return this.on(e,...t)}}x("click"),x("blur"),x("focus"),x("focusin"),x("focusout"),x("keyup"),x("keydown"),x("keypress"),x("submit"),x("change"),x("mousedown"),x("mousemove"),x("mouseup"),x("mouseenter"),x("mouseleave"),x("mouseout"),x("mouseover"),x("touchstart"),x("touchend"),x("touchmove"),x("resize"),x("scroll");const A={addClass:function(...e){const t=S(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=S(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=S(e.map((e=>e.split(" "))));return C(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=S(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let s=0;s<this.length;s+=1)if(2===arguments.length)this[s].setAttribute(e,t);else for(const t in e)this[s][t]=e[t],this[s].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,s,i,n]=e;function a(e){const t=e.target;if(!t)return;const n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),E(t).is(s))i.apply(t,n);else{const e=E(t).parents();for(let t=0;t<e.length;t+=1)E(e[t]).is(s)&&i.apply(e[t],n)}}function l(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),i.apply(this,t)}"function"==typeof e[1]&&([t,i,n]=e,s=void 0),n||(n=!1);const o=t.split(" ");let r;for(let e=0;e<this.length;e+=1){const t=this[e];if(s)for(r=0;r<o.length;r+=1){const e=o[r];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:i,proxyListener:a}),t.addEventListener(e,a,n)}else for(r=0;r<o.length;r+=1){const e=o[r];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:i,proxyListener:l}),t.addEventListener(e,l,n)}}return this},off:function(...e){let[t,s,i,n]=e;"function"==typeof e[1]&&([t,i,n]=e,s=void 0),n||(n=!1);const a=t.split(" ");for(let e=0;e<a.length;e+=1){const t=a[e];for(let e=0;e<this.length;e+=1){const a=this[e];let l;if(!s&&a.dom7Listeners?l=a.dom7Listeners[t]:s&&a.dom7LiveListeners&&(l=a.dom7LiveListeners[t]),l&&l.length)for(let e=l.length-1;e>=0;e-=1){const s=l[e];i&&s.listener===i||i&&s.listener&&s.listener.dom7proxy&&s.listener.dom7proxy===i?(a.removeEventListener(t,s.proxyListener,n),l.splice(e,1)):i||(a.removeEventListener(t,s.proxyListener,n),l.splice(e,1))}}}return this},trigger:function(...e){const t=w(),s=e[0].split(" "),i=e[1];for(let n=0;n<s.length;n+=1){const a=s[n];for(let s=0;s<this.length;s+=1){const n=this[s];if(t.CustomEvent){const s=new t.CustomEvent(a,{detail:i,bubbles:!0,cancelable:!0});n.dom7EventData=e.filter(((e,t)=>t>0)),n.dispatchEvent(s),n.dom7EventData=[],delete n.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function s(i){i.target===this&&(e.call(this,i),t.off("transitionend",s))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=w();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=w(),t=y(),s=this[0],i=s.getBoundingClientRect(),n=t.body,a=s.clientTop||n.clientTop||0,l=s.clientLeft||n.clientLeft||0,o=s===e?e.scrollY:s.scrollTop,r=s===e?e.scrollX:s.scrollLeft;return{top:i.top+o-a,left:i.left+r-l}}return null},css:function(e,t){const s=w();let i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(const t in e)this[i].style[t]=e[t];return this}if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,s)=>{e.apply(t,[t,s])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=w(),s=y(),i=this[0];let n,a;if(!i||void 0===e)return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(n=E(e),a=0;a<n.length;a+=1)if(n[a]===i)return!0;return!1}if(e===s)return i===s;if(e===t)return i===t;if(e.nodeType||e instanceof T){for(n=e.nodeType?[e]:e,a=0;a<n.length;a+=1)if(n[a]===i)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return E([]);if(e<0){const s=t+e;return E(s<0?[]:[this[s]])}return E([this[e]])},append:function(...e){let t;const s=y();for(let i=0;i<e.length;i+=1){t=e[i];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const i=s.createElement("div");for(i.innerHTML=t;i.firstChild;)this[e].appendChild(i.firstChild)}else if(t instanceof T)for(let s=0;s<t.length;s+=1)this[e].appendChild(t[s]);else this[e].appendChild(t)}return this},prepend:function(e){const t=y();let s,i;for(s=0;s<this.length;s+=1)if("string"==typeof e){const n=t.createElement("div");for(n.innerHTML=e,i=n.childNodes.length-1;i>=0;i-=1)this[s].insertBefore(n.childNodes[i],this[s].childNodes[0])}else if(e instanceof T)for(i=0;i<e.length;i+=1)this[s].insertBefore(e[i],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&E(this[0].nextElementSibling).is(e)?E([this[0].nextElementSibling]):E([]):this[0].nextElementSibling?E([this[0].nextElementSibling]):E([]):E([])},nextAll:function(e){const t=[];let s=this[0];if(!s)return E([]);for(;s.nextElementSibling;){const i=s.nextElementSibling;e?E(i).is(e)&&t.push(i):t.push(i),s=i}return E(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&E(t.previousElementSibling).is(e)?E([t.previousElementSibling]):E([]):t.previousElementSibling?E([t.previousElementSibling]):E([])}return E([])},prevAll:function(e){const t=[];let s=this[0];if(!s)return E([]);for(;s.previousElementSibling;){const i=s.previousElementSibling;e?E(i).is(e)&&t.push(i):t.push(i),s=i}return E(t)},parent:function(e){const t=[];for(let s=0;s<this.length;s+=1)null!==this[s].parentNode&&(e?E(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return E(t)},parents:function(e){const t=[];for(let s=0;s<this.length;s+=1){let i=this[s].parentNode;for(;i;)e?E(i).is(e)&&t.push(i):t.push(i),i=i.parentNode}return E(t)},closest:function(e){let t=this;return void 0===e?E([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let s=0;s<this.length;s+=1){const i=this[s].querySelectorAll(e);for(let e=0;e<i.length;e+=1)t.push(i[e])}return E(t)},children:function(e){const t=[];for(let s=0;s<this.length;s+=1){const i=this[s].children;for(let s=0;s<i.length;s+=1)e&&!E(i[s]).is(e)||t.push(i[s])}return E(t)},filter:function(e){return E(C(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(A).forEach((e=>{Object.defineProperty(E.fn,e,{value:A[e],writable:!0})}));const L=E;function P(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function M(){return Date.now()}function _(e,t){void 0===t&&(t="x");const s=w();let i,n,a;const l=function(e){const t=w();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(n=l.transform||l.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map((e=>e.replace(",","."))).join(", ")),a=new s.WebKitCSSMatrix("none"===n?"":n)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),"x"===t&&(n=s.WebKitCSSMatrix?a.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=s.WebKitCSSMatrix?a.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}function O(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function $(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function I(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const i=s<0||arguments.length<=s?void 0:arguments[s];if(null!=i&&!$(i)){const s=Object.keys(Object(i)).filter((e=>t.indexOf(e)<0));for(let t=0,n=s.length;t<n;t+=1){const n=s[t],a=Object.getOwnPropertyDescriptor(i,n);void 0!==a&&a.enumerable&&(O(e[n])&&O(i[n])?i[n].__swiper__?e[n]=i[n]:I(e[n],i[n]):!O(e[n])&&O(i[n])?(e[n]={},i[n].__swiper__?e[n]=i[n]:I(e[n],i[n])):e[n]=i[n])}}}return e}function N(e,t,s){e.style.setProperty(t,s)}function D(e){let{swiper:t,targetPosition:s,side:i}=e;const n=w(),a=-t.translate;let l,o=null;const r=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const c=s>a?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{l=(new Date).getTime(),null===o&&(o=l);const e=Math.max(Math.min((l-o)/r,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=a+c*(s-a);if(d(h,s)&&(h=s),t.wrapperEl.scrollTo({[i]:h}),d(h,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:h})})),void n.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=n.requestAnimationFrame(u)};u()}let q,H,j;function B(){return q||(q=function(){const e=w(),t=y();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const s=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,s)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),q}function V(e){return void 0===e&&(e={}),H||(H=function(e){let{userAgent:t}=void 0===e?{}:e;const s=B(),i=w(),n=i.navigator.platform,a=t||i.navigator.userAgent,l={ios:!1,android:!1},o=i.screen.width,r=i.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const u=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let m="MacIntel"===n;return!d&&m&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${r}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(l.os="android",l.android=!0),(d||h||u)&&(l.os="ios",l.ios=!0),l}(e)),H}function z(){return j||(j=function(){const e=w();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),j}const R={on(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const n=s?"unshift":"push";return e.split(" ").forEach((e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][n](t)})),i},once(e,t,s){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;function n(){i.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];t.apply(i,a)}return n.__emitterProxy=t,i.on(e,n,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const i=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[i](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(((i,n)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&s.eventsListeners[e].splice(n,1)}))})),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,i;for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];"string"==typeof a[0]||Array.isArray(a[0])?(t=a[0],s=a.slice(1,a.length),i=e):(t=a[0].events,s=a[0].data,i=a[0].context||e),s.unshift(i);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(i,[t,...s])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(i,s)}))})),e}};const F={updateSize:function(){const e=this;let t,s;const i=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:i[0].clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:i[0].clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),s=s-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function s(e,s){return parseFloat(e.getPropertyValue(t(s))||0)}const i=e.params,{$wrapperEl:n,size:a,rtlTranslate:l,wrongRTL:o}=e,r=e.virtual&&i.virtual.enabled,c=r?e.virtual.slides.length:e.slides.length,d=n.children(`.${e.params.slideClass}`),u=r?e.virtual.slides.length:d.length;let h=[];const p=[],m=[];let g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(e));let f=i.slidesOffsetAfter;"function"==typeof f&&(f=i.slidesOffsetAfter.call(e));const b=e.snapGrid.length,y=e.slidesGrid.length;let v=i.spaceBetween,w=-g,T=0,S=0;if(void 0===a)return;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*a),e.virtualSize=-v,l?d.css({marginLeft:"",marginBottom:"",marginTop:""}):d.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(N(e.wrapperEl,"--swiper-centered-offset-before",""),N(e.wrapperEl,"--swiper-centered-offset-after",""));const C=i.grid&&i.grid.rows>1&&e.grid;let E;C&&e.grid.initSlides(u);const k="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let n=0;n<u;n+=1){E=0;const l=d.eq(n);if(C&&e.grid.updateSlide(n,l,u,t),"none"!==l.css("display")){if("auto"===i.slidesPerView){k&&(d[n].style[t("width")]="");const a=getComputedStyle(l[0]),o=l[0].style.transform,r=l[0].style.webkitTransform;if(o&&(l[0].style.transform="none"),r&&(l[0].style.webkitTransform="none"),i.roundLengths)E=e.isHorizontal()?l.outerWidth(!0):l.outerHeight(!0);else{const e=s(a,"width"),t=s(a,"padding-left"),i=s(a,"padding-right"),n=s(a,"margin-left"),o=s(a,"margin-right"),r=a.getPropertyValue("box-sizing");if(r&&"border-box"===r)E=e+n+o;else{const{clientWidth:s,offsetWidth:a}=l[0];E=e+t+i+n+o+(a-s)}}o&&(l[0].style.transform=o),r&&(l[0].style.webkitTransform=r),i.roundLengths&&(E=Math.floor(E))}else E=(a-(i.slidesPerView-1)*v)/i.slidesPerView,i.roundLengths&&(E=Math.floor(E)),d[n]&&(d[n].style[t("width")]=`${E}px`);d[n]&&(d[n].swiperSlideSize=E),m.push(E),i.centeredSlides?(w=w+E/2+T/2+v,0===T&&0!==n&&(w=w-a/2-v),0===n&&(w=w-a/2-v),Math.abs(w)<.001&&(w=0),i.roundLengths&&(w=Math.floor(w)),S%i.slidesPerGroup==0&&h.push(w),p.push(w)):(i.roundLengths&&(w=Math.floor(w)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup==0&&h.push(w),p.push(w),w=w+E+v),e.virtualSize+=E+v,T=E,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+f,l&&o&&("slide"===i.effect||"coverflow"===i.effect)&&n.css({width:`${e.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&n.css({[t("width")]:`${e.virtualSize+i.spaceBetween}px`}),C&&e.grid.updateWrapperSize(E,h,t),!i.centeredSlides){const t=[];for(let s=0;s<h.length;s+=1){let n=h[s];i.roundLengths&&(n=Math.floor(n)),h[s]<=e.virtualSize-a&&t.push(n)}h=t,Math.floor(e.virtualSize-a)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-a)}if(0===h.length&&(h=[0]),0!==i.spaceBetween){const s=e.isHorizontal()&&l?"marginLeft":t("marginRight");d.filter(((e,t)=>!i.cssMode||t!==d.length-1)).css({[s]:`${v}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;m.forEach((t=>{e+=t+(i.spaceBetween?i.spaceBetween:0)})),e-=i.spaceBetween;const t=e-a;h=h.map((e=>e<0?-g:e>t?t+f:e))}if(i.centerInsufficientSlides){let e=0;if(m.forEach((t=>{e+=t+(i.spaceBetween?i.spaceBetween:0)})),e-=i.spaceBetween,e<a){const t=(a-e)/2;h.forEach(((e,s)=>{h[s]=e-t})),p.forEach(((e,s)=>{p[s]=e+t}))}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){N(e.wrapperEl,"--swiper-centered-offset-before",-h[0]+"px"),N(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+s))}if(u!==c&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),!(r||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,s=e.$el.hasClass(t);u<=i.maxBackfaceHiddenSlides?s||e.$el.addClass(t):s&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,s=[],i=t.virtual&&t.params.virtual.enabled;let n,a=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const l=e=>i?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{s.push(e)}));else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){const e=t.activeIndex+n;if(e>t.slides.length&&!i)break;s.push(l(e))}else s.push(l(t.activeIndex));for(n=0;n<s.length;n+=1)if(void 0!==s[n]){const e=s[n].offsetHeight;a=e>a?e:a}(a||0===a)&&t.$wrapperEl.css("height",`${a}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:i,rtlTranslate:n,snapGrid:a}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let l=-e;n&&(l=e),i.removeClass(s.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<i.length;e+=1){const o=i[e];let r=o.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(r-=i[0].swiperSlideOffset);const c=(l+(s.centeredSlides?t.minTranslate():0)-r)/(o.swiperSlideSize+s.spaceBetween),d=(l-a[0]+(s.centeredSlides?t.minTranslate():0)-r)/(o.swiperSlideSize+s.spaceBetween),u=-(l-r),h=u+t.slidesSizesGrid[e];(u>=0&&u<t.size-1||h>1&&h<=t.size||u<=0&&h>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e),i.eq(e).addClass(s.slideVisibleClass)),o.progress=n?-c:c,o.originalProgress=n?-d:d}t.visibleSlides=L(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:n,isBeginning:a,isEnd:l}=t;const o=a,r=l;0===i?(n=0,a=!0,l=!0):(n=(e-t.minTranslate())/i,a=n<=0,l=n>=1),Object.assign(t,{progress:n,isBeginning:a,isEnd:l}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),a&&!o&&t.emit("reachBeginning toEdge"),l&&!r&&t.emit("reachEnd toEdge"),(o&&!a||r&&!l)&&t.emit("fromEdge"),t.emit("progress",n)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,$wrapperEl:i,activeIndex:n,realIndex:a}=e,l=e.virtual&&s.virtual.enabled;let o;t.removeClass(`${s.slideActiveClass} ${s.slideNextClass} ${s.slidePrevClass} ${s.slideDuplicateActiveClass} ${s.slideDuplicateNextClass} ${s.slideDuplicatePrevClass}`),o=l?e.$wrapperEl.find(`.${s.slideClass}[data-swiper-slide-index="${n}"]`):t.eq(n),o.addClass(s.slideActiveClass),s.loop&&(o.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(s.slideDuplicateActiveClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(s.slideDuplicateActiveClass));let r=o.nextAll(`.${s.slideClass}`).eq(0).addClass(s.slideNextClass);s.loop&&0===r.length&&(r=t.eq(0),r.addClass(s.slideNextClass));let c=o.prevAll(`.${s.slideClass}`).eq(0).addClass(s.slidePrevClass);s.loop&&0===c.length&&(c=t.eq(-1),c.addClass(s.slidePrevClass)),s.loop&&(r.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${r.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${r.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass),c.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:i,snapGrid:n,params:a,activeIndex:l,realIndex:o,snapIndex:r}=t;let c,d=e;if(void 0===d){for(let e=0;e<i.length;e+=1)void 0!==i[e+1]?s>=i[e]&&s<i[e+1]-(i[e+1]-i[e])/2?d=e:s>=i[e]&&s<i[e+1]&&(d=e+1):s>=i[e]&&(d=e);a.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if(n.indexOf(s)>=0)c=n.indexOf(s);else{const e=Math.min(a.slidesPerGroupSkip,d);c=e+Math.floor((d-e)/a.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),d===l)return void(c!==r&&(t.snapIndex=c,t.emit("snapIndexChange")));const u=parseInt(t.slides.eq(d).attr("data-swiper-slide-index")||d,10);Object.assign(t,{snapIndex:c,realIndex:u,previousIndex:l,activeIndex:d}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==u&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,s=t.params,i=L(e).closest(`.${s.slideClass}`)[0];let n,a=!1;if(i)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===i){a=!0,n=e;break}if(!i||!a)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(L(i).attr("data-swiper-slide-index"),10):t.clickedIndex=n,s.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};const W={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:i,$wrapperEl:n}=this;if(t.virtualTranslate)return s?-i:i;if(t.cssMode)return i;let a=_(n[0],e);return s&&(a=-a),a||0},setTranslate:function(e,t){const s=this,{rtlTranslate:i,params:n,$wrapperEl:a,wrapperEl:l,progress:o}=s;let r,c=0,d=0;s.isHorizontal()?c=i?-e:e:d=e,n.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),n.cssMode?l[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-c:-d:n.virtualTranslate||a.transform(`translate3d(${c}px, ${d}px, 0px)`),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?c:d;const u=s.maxTranslate()-s.minTranslate();r=0===u?0:(e-s.minTranslate())/u,r!==o&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,i,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===i&&(i=!0);const a=this,{params:l,wrapperEl:o}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const r=a.minTranslate(),c=a.maxTranslate();let d;if(d=i&&e>r?r:i&&e<c?c:e,a.updateProgress(d),l.cssMode){const e=a.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return D({swiper:a,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(d),s&&(a.emit("beforeTransitionStart",t,n),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(d),s&&(a.emit("beforeTransitionStart",t,n),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,s&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function G(e){let{swiper:t,runCallbacks:s,direction:i,step:n}=e;const{activeIndex:a,previousIndex:l}=t;let o=i;if(o||(o=a>l?"next":a<l?"prev":"reset"),t.emit(`transition${n}`),s&&a!==l){if("reset"===o)return void t.emit(`slideResetTransition${n}`);t.emit(`slideChangeTransition${n}`),"next"===o?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`)}}const U={slideTo:function(e,t,s,i,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const a=this;let l=e;l<0&&(l=0);const{params:o,snapGrid:r,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=a;if(a.animating&&o.preventInteractionOnTransition||!m&&!i&&!n)return!1;const g=Math.min(a.params.slidesPerGroupSkip,l);let f=g+Math.floor((l-g)/a.params.slidesPerGroup);f>=r.length&&(f=r.length-1),(u||o.initialSlide||0)===(d||0)&&s&&a.emit("beforeSlideChangeStart");const b=-r[f];if(a.updateProgress(b),o.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*b),s=Math.floor(100*c[e]),i=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=s&&t<i-(i-s)/2?l=e:t>=s&&t<i&&(l=e+1):t>=s&&(l=e)}if(a.initialized&&l!==u){if(!a.allowSlideNext&&b<a.translate&&b<a.minTranslate())return!1;if(!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(u||0)!==l)return!1}let y;if(y=l>u?"next":l<u?"prev":"reset",h&&-b===a.translate||!h&&b===a.translate)return a.updateActiveIndex(l),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(b),"reset"!==y&&(a.transitionStart(s,y),a.transitionEnd(s,y)),!1;if(o.cssMode){const e=a.isHorizontal(),s=h?b:-b;if(0===t){const t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=s,t&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1}))}else{if(!a.support.smoothScroll)return D({swiper:a,targetPosition:s,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(b),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,i),a.transitionStart(s,y),0===t?a.transitionEnd(s,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(s,y))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0);const n=this;let a=e;return n.params.loop&&(a+=n.loopedSlides),n.slideTo(a,t,s,i)},slideNext:function(e,t,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{animating:n,enabled:a,params:l}=i;if(!a)return i;let o=l.slidesPerGroup;"auto"===l.slidesPerView&&1===l.slidesPerGroup&&l.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const r=i.activeIndex<l.slidesPerGroupSkip?1:o;if(l.loop){if(n&&l.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return l.rewind&&i.isEnd?i.slideTo(0,e,t,s):i.slideTo(i.activeIndex+r,e,t,s)},slidePrev:function(e,t,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{params:n,animating:a,snapGrid:l,slidesGrid:o,rtlTranslate:r,enabled:c}=i;if(!c)return i;if(n.loop){if(a&&n.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=d(r?i.translate:-i.translate),h=l.map((e=>d(e)));let p=l[h.indexOf(u)-1];if(void 0===p&&n.cssMode){let e;l.forEach(((t,s)=>{u>=t&&(e=s)})),void 0!==e&&(p=l[e>0?e-1:e])}let m=0;if(void 0!==p&&(m=o.indexOf(p),m<0&&(m=i.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),n.rewind&&i.isBeginning){const n=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(n,e,t,s)}return i.slideTo(m,e,t,s)},slideReset:function(e,t,s){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,s)},slideToClosest:function(e,t,s,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);const n=this;let a=n.activeIndex;const l=Math.min(n.params.slidesPerGroupSkip,a),o=l+Math.floor((a-l)/n.params.slidesPerGroup),r=n.rtlTranslate?n.translate:-n.translate;if(r>=n.snapGrid[o]){const e=n.snapGrid[o];r-e>(n.snapGrid[o+1]-e)*i&&(a+=n.params.slidesPerGroup)}else{const e=n.snapGrid[o-1];r-e<=(n.snapGrid[o]-e)*i&&(a-=n.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,n.slidesGrid.length-1),n.slideTo(a,e,t,s)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:s}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let n,a=e.clickedIndex;if(t.loop){if(e.animating)return;n=parseInt(L(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?a<e.loopedSlides-i/2||a>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),a=s.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),P((()=>{e.slideTo(a)}))):e.slideTo(a):a>e.slides.length-i?(e.loopFix(),a=s.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),P((()=>{e.slideTo(a)}))):e.slideTo(a)}else e.slideTo(a)}};const Y={loopCreate:function(){const e=this,t=y(),{params:s,$wrapperEl:i}=e,n=i.children().length>0?L(i.children()[0].parentNode):i;n.children(`.${s.slideClass}.${s.slideDuplicateClass}`).remove();let a=n.children(`.${s.slideClass}`);if(s.loopFillGroupWithBlank){const e=s.slidesPerGroup-a.length%s.slidesPerGroup;if(e!==s.slidesPerGroup){for(let i=0;i<e;i+=1){const e=L(t.createElement("div")).addClass(`${s.slideClass} ${s.slideBlankClass}`);n.append(e)}a=n.children(`.${s.slideClass}`)}}"auto"!==s.slidesPerView||s.loopedSlides||(s.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(s.loopedSlides||s.slidesPerView,10)),e.loopedSlides+=s.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);const l=[],o=[];a.each(((t,s)=>{const i=L(t);s<e.loopedSlides&&o.push(t),s<a.length&&s>=a.length-e.loopedSlides&&l.push(t),i.attr("data-swiper-slide-index",s)}));for(let e=0;e<o.length;e+=1)n.append(L(o[e].cloneNode(!0)).addClass(s.slideDuplicateClass));for(let e=l.length-1;e>=0;e-=1)n.prepend(L(l[e].cloneNode(!0)).addClass(s.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:s,loopedSlides:i,allowSlidePrev:n,allowSlideNext:a,snapGrid:l,rtlTranslate:o}=e;let r;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-l[t]-e.getTranslate();if(t<i){r=s.length-3*i+t,r+=i;e.slideTo(r,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c)}else if(t>=s.length-i){r=-s.length+t+i,r+=i;e.slideTo(r,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c)}e.allowSlidePrev=n,e.allowSlideNext=a,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:s}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),s.removeAttr("data-swiper-slide-index")}};function X(e){const t=this,s=y(),i=w(),n=t.touchEventsData,{params:a,touches:l,enabled:o}=t;if(!o)return;if(t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let r=e;r.originalEvent&&(r=r.originalEvent);let c=L(r.target);if("wrapper"===a.touchEventsTarget&&!c.closest(t.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===r.type,!n.isTouchEvent&&"which"in r&&3===r.which)return;if(!n.isTouchEvent&&"button"in r&&r.button>0)return;if(n.isTouched&&n.isMoved)return;!!a.noSwipingClass&&""!==a.noSwipingClass&&r.target&&r.target.shadowRoot&&e.path&&e.path[0]&&(c=L(e.path[0]));const d=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,u=!(!r.target||!r.target.shadowRoot);if(a.noSwiping&&(u?function(e,t){return void 0===t&&(t=this),function t(s){return s&&s!==y()&&s!==w()?(s.assignedSlot&&(s=s.assignedSlot),s.closest(e)||t(s.getRootNode().host)):null}(t)}(d,r.target):c.closest(d)[0]))return void(t.allowClick=!0);if(a.swipeHandler&&!c.closest(a.swipeHandler)[0])return;l.currentX="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,l.currentY="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY;const h=l.currentX,p=l.currentY,m=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,g=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(m&&(h<=g||h>=i.innerWidth-g)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=h,l.startY=p,n.touchStartTime=M(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==r.type){let e=!0;c.is(n.focusableElements)&&(e=!1,"SELECT"===c[0].nodeName&&(n.isTouched=!1)),s.activeElement&&L(s.activeElement).is(n.focusableElements)&&s.activeElement!==c[0]&&s.activeElement.blur();const i=e&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!i||c[0].isContentEditable||r.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function K(e){const t=y(),s=this,i=s.touchEventsData,{params:n,touches:a,rtlTranslate:l,enabled:o}=s;if(!o)return;let r=e;if(r.originalEvent&&(r=r.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",r));if(i.isTouchEvent&&"touchmove"!==r.type)return;const c="touchmove"===r.type&&r.targetTouches&&(r.targetTouches[0]||r.changedTouches[0]),d="touchmove"===r.type?c.pageX:r.pageX,u="touchmove"===r.type?c.pageY:r.pageY;if(r.preventedByNestedSwiper)return a.startX=d,void(a.startY=u);if(!s.allowTouchMove)return L(r.target).is(i.focusableElements)||(s.allowClick=!1),void(i.isTouched&&(Object.assign(a,{startX:d,startY:u,currentX:d,currentY:u}),i.touchStartTime=M()));if(i.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(s.isVertical()){if(u<a.startY&&s.translate<=s.maxTranslate()||u>a.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(d<a.startX&&s.translate<=s.maxTranslate()||d>a.startX&&s.translate>=s.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&r.target===t.activeElement&&L(r.target).is(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);if(i.allowTouchCallbacks&&s.emit("touchMove",r),r.targetTouches&&r.targetTouches.length>1)return;a.currentX=d,a.currentY=u;const h=a.currentX-a.startX,p=a.currentY-a.startY;if(s.params.threshold&&Math.sqrt(h**2+p**2)<s.params.threshold)return;if(void 0===i.isScrolling){let e;s.isHorizontal()&&a.currentY===a.startY||s.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,i.isScrolling=s.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",r),void 0===i.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(i.startMoving=!0)),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!n.cssMode&&r.cancelable&&r.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&r.stopPropagation(),i.isMoved||(n.loop&&!n.cssMode&&s.loopFix(),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating&&s.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!n.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",r)),s.emit("sliderMove",r),i.isMoved=!0;let m=s.isHorizontal()?h:p;a.diff=m,m*=n.touchRatio,l&&(m=-m),s.swipeDirection=m>0?"prev":"next",i.currentTranslate=m+i.startTranslate;let g=!0,f=n.resistanceRatio;if(n.touchReleaseOnEdges&&(f=0),m>0&&i.currentTranslate>s.minTranslate()?(g=!1,n.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+m)**f)):m<0&&i.currentTranslate<s.maxTranslate()&&(g=!1,n.resistance&&(i.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-i.startTranslate-m)**f)),g&&(r.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),n.threshold>0){if(!(Math.abs(m)>n.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,void(a.diff=s.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&s.freeMode||n.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&n.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function Q(e){const t=this,s=t.touchEventsData,{params:i,touches:n,rtlTranslate:a,slidesGrid:l,enabled:o}=t;if(!o)return;let r=e;if(r.originalEvent&&(r=r.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",r),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&i.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);i.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=M(),d=c-s.touchStartTime;if(t.allowClick){const e=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(e&&e[0]||r.target),t.emit("tap click",r),d<300&&c-s.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(s.lastClickTime=M(),P((()=>{t.destroyed||(t.allowClick=!0)})),!s.isTouched||!s.isMoved||!t.swipeDirection||0===n.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let u;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,u=i.followFinger?a?t.translate:-t.translate:-s.currentTranslate,i.cssMode)return;if(t.params.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:u});let h=0,p=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<i.slidesPerGroupSkip?1:i.slidesPerGroup){const t=e<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[e+t]?u>=l[e]&&u<l[e+t]&&(h=e,p=l[e+t]-l[e]):u>=l[e]&&(h=e,p=l[l.length-1]-l[l.length-2])}let m=null,g=null;i.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));const f=(u-l[h])/p,b=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(f>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?m:h+b):t.slideTo(h)),"prev"===t.swipeDirection&&(f>1-i.longSwipesRatio?t.slideTo(h+b):null!==g&&f<0&&Math.abs(f)>i.longSwipesRatio?t.slideTo(g):t.slideTo(h))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(h+b):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==m?m:h+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:h))}}function J(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:a}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=n,e.allowSlideNext=i,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}function Z(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ee(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:i}=e;if(!i)return;let n;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const a=e.maxTranslate()-e.minTranslate();n=0===a?0:(e.translate-e.minTranslate())/a,n!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let te=!1;function se(){}const ie=(e,t)=>{const s=y(),{params:i,touchEvents:n,el:a,wrapperEl:l,device:o,support:r}=e,c=!!i.nested,d="on"===t?"addEventListener":"removeEventListener",u=t;if(r.touch){const t=!("touchstart"!==n.start||!r.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};a[d](n.start,e.onTouchStart,t),a[d](n.move,e.onTouchMove,r.passiveListener?{passive:!1,capture:c}:c),a[d](n.end,e.onTouchEnd,t),n.cancel&&a[d](n.cancel,e.onTouchEnd,t)}else a[d](n.start,e.onTouchStart,!1),s[d](n.move,e.onTouchMove,c),s[d](n.end,e.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&a[d]("click",e.onClick,!0),i.cssMode&&l[d]("scroll",e.onScroll),i.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",J,!0):e[u]("observerUpdate",J,!0)};const ne={attachEvents:function(){const e=this,t=y(),{params:s,support:i}=e;e.onTouchStart=X.bind(e),e.onTouchMove=K.bind(e),e.onTouchEnd=Q.bind(e),s.cssMode&&(e.onScroll=ee.bind(e)),e.onClick=Z.bind(e),i.touch&&!te&&(t.addEventListener("touchstart",se),te=!0),ie(e,"on")},detachEvents:function(){ie(this,"off")}},ae=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;const le={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:s,loopedSlides:i=0,params:n,$el:a}=e,l=n.breakpoints;if(!l||l&&0===Object.keys(l).length)return;const o=e.getBreakpoint(l,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const r=(o in l?l[o]:void 0)||e.originalParams,c=ae(e,n),d=ae(e,r),u=n.enabled;c&&!d?(a.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&d&&(a.addClass(`${n.containerModifierClass}grid`),(r.grid.fill&&"column"===r.grid.fill||!r.grid.fill&&"column"===n.grid.fill)&&a.addClass(`${n.containerModifierClass}grid-column`),e.emitContainerClasses());const h=r.direction&&r.direction!==n.direction,p=n.loop&&(r.slidesPerView!==n.slidesPerView||h);h&&s&&e.changeDirection(),I(e.params,r);const m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!m?e.disable():!u&&m&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",r),p&&s&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",r)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let i=!1;const n=w(),a="window"===t?n.innerHeight:s.clientHeight,l=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));l.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<l.length;e+=1){const{point:a,value:o}=l[e];"window"===t?n.matchMedia(`(min-width: ${o}px)`).matches&&(i=a):o<=s.clientWidth&&(i=a)}return i||"max"}};const oe={addClasses:function(){const e=this,{classNames:t,params:s,rtl:i,$el:n,device:a,support:l}=e,o=function(e,t){const s=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((i=>{e[i]&&s.push(t+i)})):"string"==typeof e&&s.push(t+e)})),s}(["initialized",s.direction,{"pointer-events":!l.touch},{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...o),n.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};const re={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function ce(e,t){return function(s){void 0===s&&(s={});const i=Object.keys(s)[0],n=s[i];"object"==typeof n&&null!==n?(["navigation","pagination","scrollbar"].indexOf(i)>=0&&!0===e[i]&&(e[i]={auto:!0}),i in e&&"enabled"in n?(!0===e[i]&&(e[i]={enabled:!0}),"object"!=typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),I(t,s)):I(t,s)):I(t,s)}}const de={eventsEmitter:R,update:F,translate:W,transition:{setTransition:function(e,t){const s=this;s.params.cssMode||s.$wrapperEl.transition(e),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),G({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:i}=s;s.animating=!1,i.cssMode||(s.setTransition(0),G({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:U,loop:Y,grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;s.style.cursor="move",s.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:ne,breakpoints:le,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:i}=s;if(i){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:oe,images:{loadImage:function(e,t,s,i,n,a){const l=w();let o;function r(){a&&a()}L(e).parent("picture")[0]||e.complete&&n?r():t?(o=new l.Image,o.onload=r,o.onerror=r,i&&(o.sizes=i),s&&(o.srcset=s),t&&(o.src=t)):r()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let s=0;s<e.imagesToLoad.length;s+=1){const i=e.imagesToLoad[s];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},ue={};class he{constructor(){let e,t;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?t=i[0]:[e,t]=i,t||(t={}),t=I({},t),e&&!t.el&&(t.el=e),t.el&&L(t.el).length>1){const e=[];return L(t.el).each((s=>{const i=I({},t,{el:s});e.push(new he(i))})),e}const a=this;a.__swiper__=!0,a.support=B(),a.device=V({userAgent:t.userAgent}),a.browser=z(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach((e=>{e({swiper:a,extendParams:ce(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const o=I({},re,l);return a.params=I({},o,ue,t),a.originalParams=I({},a.params),a.passedParams=I({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=L,Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:L(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},a.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:M(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),n=(s.maxTranslate()-i)*e+i;s.translateTo(n,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((s=>{const i=e.getSlideClasses(s);t.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:i,slidesGrid:n,slidesSizesGrid:a,size:l,activeIndex:o}=this;let r=1;if(s.centeredSlides){let e,t=i[o].swiperSlideSize;for(let s=o+1;s<i.length;s+=1)i[s]&&!e&&(t+=i[s].swiperSlideSize,r+=1,t>l&&(e=!0));for(let s=o-1;s>=0;s-=1)i[s]&&!e&&(t+=i[s].swiperSlideSize,r+=1,t>l&&(e=!0))}else if("current"===e)for(let e=o+1;e<i.length;e+=1){(t?n[e]+a[e]-n[o]<l:n[e]-n[o]<l)&&(r+=1)}else for(let e=o-1;e>=0;e-=1){n[o]-n[e]<l&&(r+=1)}return r}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let n;s.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):(n=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),n||i()),s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,i=s.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(s.$el.removeClass(`${s.params.containerModifierClass}${i}`).addClass(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),s.emit("changeDirection"),t&&s.update()),s}mount(e){const t=this;if(t.mounted)return!0;const s=L(e||t.params.el);if(!(e=s[0]))return!1;e.swiper=t;const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let n=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=L(e.shadowRoot.querySelector(i()));return t.children=e=>s.children(e),t}return s.children(i())})();if(0===n.length&&t.params.createElements){const e=y().createElement("div");n=L(e),e.className=t.params.wrapperClass,s.append(e),s.children(`.${t.params.slideClass}`).each((e=>{n.append(e)}))}return Object.assign(t,{$el:s,el:e,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:i,$el:n,$wrapperEl:a,slides:l}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),t&&(s.removeClasses(),n.removeAttr("style"),a.removeAttr("style"),l&&l.length&&l.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((e=>{s.off(e)})),!1!==e&&(s.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(s)),s.destroyed=!0),null}static extendDefaults(e){I(ue,e)}static get extendedDefaults(){return ue}static get defaults(){return re}static installModule(e){he.prototype.__modules__||(he.prototype.__modules__=[]);const t=he.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>he.installModule(e))),he):(he.installModule(e),he)}}Object.keys(de).forEach((e=>{Object.keys(de[e]).forEach((t=>{he.prototype[t]=de[e][t]}))})),he.use([function(e){let{swiper:t,on:s,emit:i}=e;const n=w();let a=null,l=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},r=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};s("init",(()=>{t.params.resizeObserver&&void 0!==n.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((e=>{l=n.requestAnimationFrame((()=>{const{width:s,height:i}=t;let n=s,a=i;e.forEach((e=>{let{contentBoxSize:s,contentRect:i,target:l}=e;l&&l!==t.el||(n=i?i.width:(s[0]||s).inlineSize,a=i?i.height:(s[0]||s).blockSize)})),n===s&&a===i||o()}))})),a.observe(t.el)):(n.addEventListener("resize",o),n.addEventListener("orientationchange",r))})),s("destroy",(()=>{l&&n.cancelAnimationFrame(l),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",r)}))},function(e){let{swiper:t,extendParams:s,on:i,emit:n}=e;const a=[],l=w(),o=function(e,t){void 0===t&&(t={});const s=new(l.MutationObserver||l.WebkitMutationObserver)((e=>{if(1===e.length)return void n("observerUpdate",e[0]);const t=function(){n("observerUpdate",e[0])};l.requestAnimationFrame?l.requestAnimationFrame(t):l.setTimeout(t,0)}));s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.push(s)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)o(e[t])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}})),i("destroy",(()=>{a.forEach((e=>{e.disconnect()})),a.splice(0,a.length)}))}]);const pe=he;function me(e){let{swiper:t,extendParams:s,on:i,emit:n}=e;function a(e){let s;return e&&(s=L(e),t.params.uniqueNavElements&&"string"==typeof e&&s.length>1&&1===t.$el.find(e).length&&(s=t.$el.find(e))),s}function l(e,s){const i=t.params.navigation;e&&e.length>0&&(e[s?"addClass":"removeClass"](i.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=s),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](i.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:e,$prevEl:s}=t.navigation;l(s,t.isBeginning&&!t.params.rewind),l(e,t.isEnd&&!t.params.rewind)}function r(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function d(){const e=t.params.navigation;if(t.params.navigation=function(e,t,s,i){const n=y();return e.params.createElements&&Object.keys(i).forEach((a=>{if(!s[a]&&!0===s.auto){let l=e.$el.children(`.${i[a]}`)[0];l||(l=n.createElement("div"),l.className=i[a],e.$el.append(l)),s[a]=l,t[a]=l}})),s}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const s=a(e.nextEl),i=a(e.prevEl);s&&s.length>0&&s.on("click",c),i&&i.length>0&&i.on("click",r),Object.assign(t.navigation,{$nextEl:s,nextEl:s&&s[0],$prevEl:i,prevEl:i&&i[0]}),t.enabled||(s&&s.addClass(e.lockClass),i&&i.addClass(e.lockClass))}function u(){const{$nextEl:e,$prevEl:s}=t.navigation;e&&e.length&&(e.off("click",c),e.removeClass(t.params.navigation.disabledClass)),s&&s.length&&(s.off("click",r),s.removeClass(t.params.navigation.disabledClass))}s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},i("init",(()=>{d(),o()})),i("toEdge fromEdge lock unlock",(()=>{o()})),i("destroy",(()=>{u()})),i("enable disable",(()=>{const{$nextEl:e,$prevEl:s}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),s&&s[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),i("click",((e,s)=>{const{$nextEl:i,$prevEl:a}=t.navigation,l=s.target;if(t.params.navigation.hideOnClick&&!L(l).is(a)&&!L(l).is(i)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===l||t.pagination.el.contains(l)))return;let e;i?e=i.hasClass(t.params.navigation.hiddenClass):a&&(e=a.hasClass(t.params.navigation.hiddenClass)),n(!0===e?"navigationShow":"navigationHide"),i&&i.toggleClass(t.params.navigation.hiddenClass),a&&a.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:o,init:d,destroy:u})}pe.use([function(e){let{swiper:t,extendParams:s,on:i}=e;function n(e,t){const s=function(){let e,t,s;return(i,n)=>{for(t=-1,e=i.length;e-t>1;)s=e+t>>1,i[s]<=n?t=s:e=s;return e}}();let i,n;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=s(this.x,e),i=n-1,(e-this.x[i])*(this.y[n]-this.y[i])/(this.x[n]-this.x[i])+this.y[i]):0},this}function a(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}s({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},i("beforeInit",(()=>{t.controller.control=t.params.controller.control})),i("update",(()=>{a()})),i("resize",(()=>{a()})),i("observerUpdate",(()=>{a()})),i("setTranslate",((e,s,i)=>{t.controller.control&&t.controller.setTranslate(s,i)})),i("setTransition",((e,s,i)=>{t.controller.control&&t.controller.setTransition(s,i)})),Object.assign(t.controller,{setTranslate:function(e,s){const i=t.controller.control;let a,l;const o=t.constructor;function r(e){const s=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline||(t.controller.spline=t.params.loop?new n(t.slidesGrid,e.slidesGrid):new n(t.snapGrid,e.snapGrid))}(e),l=-t.controller.spline.interpolate(-s)),l&&"container"!==t.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),l=(s-t.minTranslate())*a+e.minTranslate()),t.params.controller.inverse&&(l=e.maxTranslate()-l),e.updateProgress(l),e.setTranslate(l,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(i))for(let e=0;e<i.length;e+=1)i[e]!==s&&i[e]instanceof o&&r(i[e]);else i instanceof o&&s!==i&&r(i)},setTransition:function(e,s){const i=t.constructor,n=t.controller.control;let a;function l(s){s.setTransition(e,t),0!==e&&(s.transitionStart(),s.params.autoHeight&&P((()=>{s.updateAutoHeight()})),s.$wrapperEl.transitionEnd((()=>{n&&(s.params.loop&&"slide"===t.params.controller.by&&s.loopFix(),s.transitionEnd())})))}if(Array.isArray(n))for(a=0;a<n.length;a+=1)n[a]!==s&&n[a]instanceof i&&l(n[a]);else n instanceof i&&s!==n&&l(n)}})}]),window.addEventListener("load",(function(e){!function(){let e=new pe(".sliders-tarifs__head-slider",{modules:[me],observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,navigation:{prevEl:".sliders-tarifs__prev",nextEl:".sliders-tarifs__next"},on:{}}),t=new pe(".sliders-tarifs__body-slider",{modules:[me],observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},on:{}});e.controller.control=t,t.controller.control=e}()}));e.watcher=new class{constructor(e){this.config=Object.assign({logging:!0},e),this.observer,!document.documentElement.classList.contains("watcher")&&this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(e){if(e.length){this.scrollWatcherLogging(`Проснулся, слежу за объектами (${e.length})...`),c(Array.from(e).map((function(e){return`${e.dataset.watchRoot?e.dataset.watchRoot:null}|${e.dataset.watchMargin?e.dataset.watchMargin:"0px"}|${e.dataset.watchThreshold?e.dataset.watchThreshold:0}`}))).forEach((t=>{let s=t.split("|"),i={root:s[0],margin:s[1],threshold:s[2]},n=Array.from(e).filter((function(e){let t=e.dataset.watchRoot?e.dataset.watchRoot:null,s=e.dataset.watchMargin?e.dataset.watchMargin:"0px",n=e.dataset.watchThreshold?e.dataset.watchThreshold:0;if(String(t)===i.root&&String(s)===i.margin&&String(n)===i.threshold)return e})),a=this.getScrollWatcherConfig(i);this.scrollWatcherInit(n,a)}))}else this.scrollWatcherLogging("Сплю, нет объектов для слежения. ZzzZZzz")}getScrollWatcherConfig(e){let t={};if(document.querySelector(e.root)?t.root=document.querySelector(e.root):"null"!==e.root&&this.scrollWatcherLogging(`Эмм... родительского объекта ${e.root} нет на странице`),t.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if("prx"===e.threshold){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return t.threshold=e.threshold,t}this.scrollWatcherLogging("Ой ой, настройку data-watch-margin нужно задавать в PX или %")}scrollWatcherCreate(e){this.observer=new IntersectionObserver(((e,t)=>{e.forEach((e=>{this.scrollWatcherCallback(e,t)}))}),e)}scrollWatcherInit(e,t){this.scrollWatcherCreate(t),e.forEach((e=>this.observer.observe(e)))}scrollWatcherIntersecting(e,t){e.isIntersecting?(!t.classList.contains("_watcher-view")&&t.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я вижу ${t.classList}, добавил класс _watcher-view`)):(t.classList.contains("_watcher-view")&&t.classList.remove("_watcher-view"),this.scrollWatcherLogging(`Я не вижу ${t.classList}, убрал класс _watcher-view`))}scrollWatcherOff(e,t){t.unobserve(e),this.scrollWatcherLogging(`Я перестал следить за ${e.classList}`)}scrollWatcherLogging(e){this.config.logging&&r(`[Наблюдатель]: ${e}`)}scrollWatcherCallback(e,t){const s=e.target;this.scrollWatcherIntersecting(e,s),s.hasAttribute("data-watch-once")&&e.isIntersecting&&this.scrollWatcherOff(s,t),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}({});let ge=!1;setTimeout((()=>{if(ge){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const fe=e=>null!=e?e.constructor:null,be=(e,t)=>Boolean(e&&t&&e instanceof t),ye=e=>null==e,ve=e=>fe(e)===Object,we=e=>fe(e)===String,Te=e=>fe(e)===Function,Se=e=>Array.isArray(e),Ce=e=>be(e,NodeList),Ee=e=>ye(e)||(we(e)||Se(e)||Ce(e))&&!e.length||ve(e)&&!Object.keys(e).length,ke=ye,xe=ve,Ae=e=>fe(e)===Number&&!Number.isNaN(e),Le=we,Pe=e=>fe(e)===Boolean,Me=Te,_e=Se,Oe=Ce,$e=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,Ie=e=>be(e,Event),Ne=e=>be(e,KeyboardEvent),De=e=>be(e,TextTrack)||!ye(e)&&we(e.kind),qe=e=>be(e,Promise)&&Te(e.then),He=e=>{if(be(e,window.URL))return!0;if(!we(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!Ee(new URL(t).hostname)}catch(e){return!1}},je=Ee,Be=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},s=Object.keys(t).find((t=>void 0!==e.style[t]));return!!Le(s)&&t[s]})();function Ve(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}const ze={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Re(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function Fe(e={},...t){if(!t.length)return e;const s=t.shift();return xe(s)?(Object.keys(s).forEach((t=>{xe(s[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),Fe(e[t],s[t])):Object.assign(e,{[t]:s[t]})})),Fe(e,...t)):e}function We(e,t){const s=e.length?e:[e];Array.from(s).reverse().forEach(((e,s)=>{const i=s>0?t.cloneNode(!0):t,n=e.parentNode,a=e.nextSibling;i.appendChild(e),a?n.insertBefore(i,a):n.appendChild(i)}))}function Ge(e,t){$e(e)&&!je(t)&&Object.entries(t).filter((([,e])=>!ke(e))).forEach((([t,s])=>e.setAttribute(t,s)))}function Ue(e,t,s){const i=document.createElement(e);return xe(t)&&Ge(i,t),Le(s)&&(i.innerText=s),i}function Ye(e,t,s,i){$e(t)&&t.appendChild(Ue(e,s,i))}function Xe(e){Oe(e)||_e(e)?Array.from(e).forEach(Xe):$e(e)&&$e(e.parentNode)&&e.parentNode.removeChild(e)}function Ke(e){if(!$e(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function Qe(e,t){return $e(t)&&$e(t.parentNode)&&$e(e)?(t.parentNode.replaceChild(e,t),e):null}function Je(e,t){if(!Le(e)||je(e))return{};const s={},i=Fe({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[l]=a,o=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":Le(i.class)?s.class=`${i.class} ${n}`:s.class=n;break;case"#":s.id=t.replace("#","");break;case"[":s[l]=o}})),Fe(i,s)}function Ze(e,t){if(!$e(e))return;let s=t;Pe(s)||(s=!e.hidden),e.hidden=s}function et(e,t,s){if(Oe(e))return Array.from(e).map((e=>et(e,t,s)));if($e(e)){let i="toggle";return void 0!==s&&(i=s?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function tt(e,t){return $e(e)&&e.classList.contains(t)}function st(e,t){const{prototype:s}=Element;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function it(e){return this.elements.container.querySelectorAll(e)}function nt(e){return this.elements.container.querySelector(e)}function at(e=null,t=!1){$e(e)&&(e.focus({preventScroll:!0}),t&&et(e,this.config.classNames.tabFocus))}const lt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ot={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t,s){const i=ze.isIPhone&&s&&ot.playsinline,n=ot[e]||"html5"!==t;return{api:n,ui:n&&ot.rangeInput&&("video"!==e||!ze.isIPhone||i)}},pip:!(ze.isIPhone||!Me(Ue("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Ue("video").disablePictureInPicture)),airplay:Me(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(je(e))return!1;const[t]=e.split("/");let s=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(lt).includes(s)&&(s+=`; codecs="${lt[e]}"`);try{return Boolean(s&&this.media.canPlayType(s).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==Be,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},rt=ot,ct=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function dt(e,t,s,i=!1,n=!0,a=!1){if(!e||!("addEventListener"in e)||je(t)||!Me(s))return;const l=t.split(" ");let o=a;ct&&(o={passive:n,capture:a}),l.forEach((t=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:e,type:t,callback:s,options:o}),e[i?"addEventListener":"removeEventListener"](t,s,o)}))}function ut(e,t="",s,i=!0,n=!1){dt.call(this,e,t,s,!0,i,n)}function ht(e,t="",s,i=!0,n=!1){dt.call(this,e,t,s,!1,i,n)}function pt(e,t="",s,i=!0,n=!1){const a=(...l)=>{ht(e,t,a,i,n),s.apply(this,l)};dt.call(this,e,t,a,!0,i,n)}function mt(e,t="",s=!1,i={}){if(!$e(e)||je(t))return;const n=new CustomEvent(t,{bubbles:s,detail:{...i,plyr:this}});e.dispatchEvent(n)}function gt(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:s,callback:i,options:n}=e;t.removeEventListener(s,i,n)})),this.eventListeners=[])}function ft(){return new Promise((e=>this.ready?setTimeout(e,0):ut.call(this,this.elements.container,"ready",e))).then((()=>{}))}function bt(e){qe(e)&&e.then(null,(()=>{}))}function yt(e){return _e(e)?e.filter(((t,s)=>e.indexOf(t)===s)):e}function vt(e,t){return _e(e)&&e.length?e.reduce(((e,s)=>Math.abs(s-t)<Math.abs(e-t)?s:e)):null}function wt(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Tt=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,s])=>({...e,[t/s]:[t,s]})),{});function St(e){if(!(_e(e)||Le(e)&&e.includes(":")))return!1;return(_e(e)?e:e.split(":")).map(Number).every(Ae)}function Ct(e){if(!_e(e)||!e.every(Ae))return null;const[t,s]=e,i=(e,t)=>0===t?e:i(t,e%t),n=i(t,s);return[t/n,s/n]}function Et(e){const t=e=>St(e)?e.split(":").map(Number):null;let s=t(e);if(null===s&&(s=t(this.config.ratio)),null===s&&!je(this.embed)&&_e(this.embed.ratio)&&({ratio:s}=this.embed),null===s&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;s=[e,t]}return Ct(s)}function kt(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,s=Et.call(this,e);if(!_e(s))return{};const[i,n]=Ct(s),a=100/i*n;if(wt(`aspect-ratio: ${i}/${n}`)?t.style.aspectRatio=`${i}/${n}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),s=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${s}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:s}}function xt(e,t,s=.05){const i=e/t,n=vt(Object.keys(Tt),i);return Math.abs(n-i)<=s?Tt[n]:[e,t]}const At={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!je(t)||rt.mime.call(this,t)}))},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:At.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,je(this.config.ratio)||kt.call(e),Object.defineProperty(e.media,"quality",{get(){const t=At.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Me(e.config.quality.onChange))e.config.quality.onChange(t);else{const s=At.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!s)return;const{currentTime:i,paused:n,preload:a,readyState:l,playbackRate:o}=e.media;e.media.src=s.getAttribute("src"),("none"!==a||l)&&(e.once("loadedmetadata",(()=>{e.speed=o,e.currentTime=i,n||bt(e.play())})),e.media.load())}mt.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Xe(At.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},Lt=At;function Pt(e,...t){return je(e)?e:e.toString().replace(/{(\d+)}/g,((e,s)=>t[s].toString()))}const Mt=(e="",t="",s="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),s.toString()),_t=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function Ot(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=Mt(t,"-"," "),t=Mt(t,"_"," "),t=_t(t),Mt(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function $t(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const It={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Nt={get(e="",t={}){if(je(e)||je(t))return"";let s=Re(t.i18n,e);if(je(s))return Object.keys(It).includes(e)?It[e]:"";const i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((([e,t])=>{s=Mt(s,e,t)})),s}};class Dt{constructor(e){this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}get=e=>{if(!Dt.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(je(t))return null;const s=JSON.parse(t);return Le(e)&&e.length?s[e]:s};set=e=>{if(!Dt.supported||!this.enabled)return;if(!xe(e))return;let t=this.get();je(t)&&(t={}),Fe(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}}}const qt=Dt;function Ht(e,t="text"){return new Promise(((s,i)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if("text"===t)try{s(JSON.parse(i.responseText))}catch(e){s(i.responseText)}else s(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(e){i(e)}}))}function jt(e,t){if(!Le(e))return;const s=Le(t);let i=!1;const n=()=>null!==document.getElementById(t),a=(e,t)=>{e.innerHTML=t,s&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!s||!n()){const n=qt.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),s&&l.setAttribute("id",t),n){const e=window.localStorage.getItem(`cache-${t}`);if(i=null!==e,i){const t=JSON.parse(e);a(l,t.content)}}Ht(e).then((e=>{if(!je(e)){if(n)try{window.localStorage.setItem(`cache-${t}`,JSON.stringify({content:e}))}catch(e){}a(l,e)}})).catch((()=>{}))}}const Bt=e=>Math.trunc(e/60/60%60,10);function Vt(e=0,t=!1,s=!1){if(!Ae(e))return Vt(void 0,t,s);const i=e=>`0${e}`.slice(-2);let n=Bt(e);const a=(e=>Math.trunc(e/60%60,10))(e),l=(e=>Math.trunc(e%60,10))(e);return n=t||n>0?`${n}:`:"",`${s&&e>0?"-":""}${n}${i(a)}:${i(l)}`}var zt,Rt;zt=void 0,Rt=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?s(Object(n),!0).forEach((function(s){t(e,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var n={addCSS:!0,thumbWidth:15,watch:!0};function a(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var l=function(e){return null!=e?e.constructor:null},o=function(e,t){return!!(e&&t&&e instanceof t)},r=function(e){return l(e)===String},c=function(e){return Array.isArray(e)},d=function(e){return o(e,NodeList)},u=r,h=c,p=d,m=function(e){return o(e,Element)},g=function(e){return o(e,Event)},f=function(e){return function(e){return null==e}(e)||(r(e)||c(e)||d(e))&&!e.length||function(e){return l(e)===Object}(e)&&!Object.keys(e).length};return function(){function t(e,s){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),m(e)?this.element=e:u(e)&&(this.element=document.querySelector(e)),m(this.element)&&f(this.element.rangeTouch)&&(this.config=i({},n,{},s),this.init())}return s=t,o=[{key:"setup",value:function(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=null;if(f(e)||u(e)?l=Array.from(document.querySelectorAll(u(e)?e:'input[type="range"]')):m(e)?l=[e]:p(e)?l=Array.from(e):h(e)&&(l=e.filter(m)),f(l))return null;var o=i({},n,{},s);if(u(e)&&o.watch){var r=new MutationObserver((function(s){Array.from(s).forEach((function(s){Array.from(s.addedNodes).forEach((function(s){m(s)&&a(s,e)&&new t(s,o)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return l.map((function(e){return new t(e,s)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],(l=[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,s=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[s](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!g(e))return null;var s,i=e.target,n=e.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,l=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,r=i.getBoundingClientRect(),c=100/r.width*(this.config.thumbWidth/2)/100;return 0>(s=100/r.width*(n.clientX-r.left))?s=0:100<s&&(s=100),50>s?s-=(100-2*s)*c:50<s&&(s+=2*(s-50)*c),a+function(e,t){if(1>t){var s=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(s))}return Math.round(e/t)*t}(s/100*(l-a),o)}},{key:"set",value:function(e){t.enabled&&g(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var s=new Event(t,{bubbles:!0});e.dispatchEvent(s)}}(e.target,"touchend"===e.type?"change":"input"))}}])&&e(s.prototype,l),o&&e(s,o),t;var s,l,o}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=Rt():"function"==typeof define&&define.amd?define("RangeTouch",Rt):(zt=zt||self).RangeTouch=Rt();const Ft={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,s=e.host!==t||ze.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:s}},findElements(){try{return this.elements.controls=nt.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:it.call(this,this.config.selectors.buttons.play),pause:nt.call(this,this.config.selectors.buttons.pause),restart:nt.call(this,this.config.selectors.buttons.restart),rewind:nt.call(this,this.config.selectors.buttons.rewind),fastForward:nt.call(this,this.config.selectors.buttons.fastForward),mute:nt.call(this,this.config.selectors.buttons.mute),pip:nt.call(this,this.config.selectors.buttons.pip),airplay:nt.call(this,this.config.selectors.buttons.airplay),settings:nt.call(this,this.config.selectors.buttons.settings),captions:nt.call(this,this.config.selectors.buttons.captions),fullscreen:nt.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=nt.call(this,this.config.selectors.progress),this.elements.inputs={seek:nt.call(this,this.config.selectors.inputs.seek),volume:nt.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:nt.call(this,this.config.selectors.display.buffer),currentTime:nt.call(this,this.config.selectors.display.currentTime),duration:nt.call(this,this.config.selectors.display.duration)},$e(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const s="http://www.w3.org/2000/svg",i=Ft.getIconUrl.call(this),n=`${i.cors?"":i.url}#${this.config.iconPrefix}`,a=document.createElementNS(s,"svg");Ge(a,Fe(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(s,"use"),o=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",o),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(l),a},createLabel(e,t={}){const s=Nt.get(e,this.config);return Ue("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},s)},createBadge(e){if(je(e))return null;const t=Ue("span",{class:this.config.classNames.menu.value});return t.appendChild(Ue("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const s=Fe({},t);let i=Ot(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(s).includes(e)&&(n[e]=s[e],delete s[e])})),"button"!==n.element||Object.keys(s).includes("type")||(s.type="button"),Object.keys(s).includes("class")?s.class.split(" ").some((e=>e===this.config.classNames.control))||Fe(s,{class:`${s.class} ${this.config.classNames.control}`}):s.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":s.class+=` ${this.config.classNames.control}--overlaid`,i="play",n.label="play",n.icon="play";break;default:je(n.label)&&(n.label=i),je(n.icon)&&(n.icon=e)}const a=Ue(n.element);return n.toggle?(a.appendChild(Ft.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),a.appendChild(Ft.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),a.appendChild(Ft.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),a.appendChild(Ft.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(a.appendChild(Ft.createIcon.call(this,n.icon)),a.appendChild(Ft.createLabel.call(this,n.label))),Fe(s,Je(this.config.selectors.buttons[i],s)),Ge(a,s),"play"===i?(_e(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(a)):this.elements.buttons[i]=a,a},createRange(e,t){const s=Ue("input",Fe(Je(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Nt.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=s,Ft.updateRangeFill.call(this,s),RangeTouch.setup(s),s},createProgress(e,t){const s=Ue("progress",Fe(Je(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){s.appendChild(Ue("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],i=t?Nt.get(t,this.config):"";s.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=s,s},createTime(e,t){const s=Je(this.config.selectors.display[e],t),i=Ue("div",Fe(s,{class:`${s.class?s.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Nt.get(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts(e,t){ut.call(this,e,"keydown keyup",(s=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(s.key))return;if(s.preventDefault(),s.stopPropagation(),"keydown"===s.type)return;const i=st(e,'[role="menuitemradio"]');if(!i&&["Space","ArrowRight"].includes(s.key))Ft.showMenuPanel.call(this,t,!0);else{let t;"Space"!==s.key&&("ArrowDown"===s.key||i&&"ArrowRight"===s.key?(t=e.nextElementSibling,$e(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,$e(t)||(t=e.parentNode.lastElementChild)),at.call(this,t,!0))}}),!1),ut.call(this,e,"keyup",(e=>{"Return"===e.key&&Ft.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:s,title:i,badge:n=null,checked:a=!1}){const l=Je(this.config.selectors.inputs[s]),o=Ue("button",Fe(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":a,value:e})),r=Ue("span");r.innerHTML=i,$e(n)&&r.appendChild(n),o.appendChild(r),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(e){e&&Array.from(o.parentNode.children).filter((e=>st(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),o.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(o,"click keyup",(t=>{if(!Ne(t)||"Space"===t.key){switch(t.preventDefault(),t.stopPropagation(),o.checked=!0,s){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Ft.showMenuPanel.call(this,"home",Ne(t))}}),s,!1),Ft.bindMenuItemShortcuts.call(this,o,s),t.appendChild(o)},formatTime(e=0,t=!1){if(!Ae(e))return e;return Vt(e,Bt(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,s=!1){$e(e)&&Ae(t)&&(e.innerText=Ft.formatTime(t,s))},updateVolume(){this.supported.ui&&($e(this.elements.inputs.volume)&&Ft.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),$e(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){$e(e)&&(e.value=t,Ft.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!Ie(e))return;let t=0;const s=(e,t)=>{const s=Ae(t)?t:0,i=$e(e)?e:this.elements.display.buffer;if($e(i)){i.value=s;const e=i.getElementsByTagName("span")[0];$e(e)&&(e.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":i=this.currentTime,n=this.duration,t=0===i||0===n||Number.isNaN(i)||Number.isNaN(n)?0:(i/n*100).toFixed(2),"timeupdate"===e.type&&Ft.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":s(this.elements.display.buffer,100*this.buffered)}var i,n},updateRangeFill(e){const t=Ie(e)?e.target:e;if($e(t)&&"range"===t.getAttribute("type")){if(st(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Ft.formatTime(this.currentTime),s=Ft.formatTime(this.duration),i=Nt.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",e).replace("{duration}",s))}else if(st(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);ze.isWebkit&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){if(!this.config.tooltips.seek||!$e(this.elements.inputs.seek)||!$e(this.elements.display.seekTooltip)||0===this.duration)return;const t=this.elements.display.seekTooltip,s=`${this.config.classNames.tooltip}--visible`,i=e=>et(t,s,e);if(this.touch)return void i(!1);let n=0;const a=this.elements.progress.getBoundingClientRect();if(Ie(e))n=100/a.width*(e.pageX-a.left);else{if(!tt(t,s))return;n=parseFloat(t.style.left,10)}n<0?n=0:n>100&&(n=100);const l=this.duration/100*n;t.innerText=Ft.formatTime(l);const o=this.config.markers?.points?.find((({time:e})=>e===Math.round(l)));o&&t.insertAdjacentHTML("afterbegin",`${o.label}<br>`),t.style.left=`${n}%`,Ie(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)},timeUpdate(e){const t=!$e(this.elements.display.duration)&&this.config.invertTime;Ft.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ft.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Ze(this.elements.display.currentTime,!0),void Ze(this.elements.progress,!0);$e(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=$e(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ft.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ft.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Ft.setMarkers.call(this),Ft.updateSeekTooltip.call(this)},toggleMenuButton(e,t){Ze(this.elements.settings.buttons[e],!t)},updateSetting(e,t,s){const i=this.elements.settings.panels[e];let n=null,a=t;if("captions"===e)n=this.currentTrack;else{if(n=je(s)?this[e]:s,je(n)&&(n=this.config[e].default),!je(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if($e(a)||(a=i&&i.querySelector('[role="menu"]')),!$e(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ft.getLabel.call(this,e,n);const l=a&&a.querySelector(`[value="${n}"]`);$e(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?Nt.get("normal",this.config):`${t}&times;`;case"quality":if(Ae(t)){const e=Nt.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return _t(t);case"captions":return Xt.getLabel.call(this);default:return null}},setQualityMenu(e){if(!$e(this.elements.settings.panels.quality))return;const t="quality",s=this.elements.settings.panels.quality.querySelector('[role="menu"]');_e(e)&&(this.options.quality=yt(e).filter((e=>this.config.quality.options.includes(e))));const i=!je(this.options.quality)&&this.options.quality.length>1;if(Ft.toggleMenuButton.call(this,t,i),Ke(s),Ft.checkMenu.call(this),!i)return;const n=e=>{const t=Nt.get(`qualityBadge.${e}`,this.config);return t.length?Ft.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const s=this.config.quality.options;return s.indexOf(e)>s.indexOf(t)?1:-1})).forEach((e=>{Ft.createMenuItem.call(this,{value:e,list:s,type:t,title:Ft.getLabel.call(this,"quality",e),badge:n(e)})})),Ft.updateSetting.call(this,t,s)},setCaptionsMenu(){if(!$e(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),s=Xt.getTracks.call(this),i=Boolean(s.length);if(Ft.toggleMenuButton.call(this,e,i),Ke(t),Ft.checkMenu.call(this),!i)return;const n=s.map(((e,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:Xt.getLabel.call(this,e),badge:e.language&&Ft.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:Nt.get("disabled",this.config),list:t,type:"language"}),n.forEach(Ft.createMenuItem.bind(this)),Ft.updateSetting.call(this,e,t)},setSpeedMenu(){if(!$e(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const s=!je(this.options.speed)&&this.options.speed.length>1;Ft.toggleMenuButton.call(this,e,s),Ke(t),Ft.checkMenu.call(this),s&&(this.options.speed.forEach((s=>{Ft.createMenuItem.call(this,{value:s,list:t,type:e,title:Ft.getLabel.call(this,"speed",s)})})),Ft.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!je(e)&&Object.values(e).some((e=>!e.hidden));Ze(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let s=e;$e(s)||(s=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const i=s.querySelector('[role^="menuitem"]');at.call(this,i,t)},toggleMenu(e){const{popup:t}=this.elements.settings,s=this.elements.buttons.settings;if(!$e(t)||!$e(s))return;const{hidden:i}=t;let n=i;if(Pe(e))n=e;else if(Ne(e)&&"Escape"===e.key)n=!1;else if(Ie(e)){const i=Me(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(i);if(a||!a&&e.target!==s&&n)return}s.setAttribute("aria-expanded",n),Ze(t,!n),et(this.elements.container,this.config.classNames.menu.open,n),n&&Ne(e)?Ft.focusFirstMenuItem.call(this,null,!0):n||i||at.call(this,s,Ne(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const s=t.scrollWidth,i=t.scrollHeight;return Xe(t),{width:s,height:i}},showMenuPanel(e="",t=!1){const s=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!$e(s))return;const i=s.parentNode,n=Array.from(i.children).find((e=>!e.hidden));if(rt.transitions&&!rt.reducedMotion){i.style.width=`${n.scrollWidth}px`,i.style.height=`${n.scrollHeight}px`;const e=Ft.getMenuSize.call(this,s),t=e=>{e.target===i&&["width","height"].includes(e.propertyName)&&(i.style.width="",i.style.height="",ht.call(this,i,Be,t))};ut.call(this,i,Be,t),i.style.width=`${e.width}px`,i.style.height=`${e.height}px`}Ze(n,!0),Ze(s,!1),Ft.focusFirstMenuItem.call(this,s,t)},setDownloadUrl(){const e=this.elements.buttons.download;$e(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:s,createProgress:i,createRange:n,createTime:a,setQualityMenu:l,setSpeedMenu:o,showMenuPanel:r}=Ft;this.elements.controls=null,_e(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(s.call(this,"play-large"));const c=Ue("div",Je(this.config.selectors.controls.wrapper));this.elements.controls=c;const d={class:"plyr__controls__item"};return yt(_e(this.config.controls)?this.config.controls:[]).forEach((l=>{if("restart"===l&&c.appendChild(s.call(this,"restart",d)),"rewind"===l&&c.appendChild(s.call(this,"rewind",d)),"play"===l&&c.appendChild(s.call(this,"play",d)),"fast-forward"===l&&c.appendChild(s.call(this,"fast-forward",d)),"progress"===l){const t=Ue("div",{class:`${d.class} plyr__progress__container`}),s=Ue("div",Je(this.config.selectors.progress));if(s.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),s.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const e=Ue("span",{class:this.config.classNames.tooltip},"00:00");s.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=s,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===l&&c.appendChild(a.call(this,"currentTime",d)),"duration"===l&&c.appendChild(a.call(this,"duration",d)),"mute"===l||"volume"===l){let{volume:t}=this.elements;if($e(t)&&c.contains(t)||(t=Ue("div",Fe({},d,{class:`${d.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===l&&t.appendChild(s.call(this,"mute")),"volume"===l&&!ze.isIos){const s={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",Fe(s,{id:`plyr-volume-${e.id}`})))}}if("captions"===l&&c.appendChild(s.call(this,"captions",d)),"settings"===l&&!je(this.config.settings)){const i=Ue("div",Fe({},d,{class:`${d.class} plyr__menu`.trim(),hidden:""}));i.appendChild(s.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=Ue("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=Ue("div"),l=Ue("div",{id:`plyr-settings-${e.id}-home`}),o=Ue("div",{role:"menu"});l.appendChild(o),a.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach((s=>{const i=Ue("button",Fe(Je(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,i,s),ut.call(this,i,"click",(()=>{r.call(this,s,!1)}));const n=Ue("span",null,Nt.get(s,this.config)),l=Ue("span",{class:this.config.classNames.menu.value});l.innerHTML=e[s],n.appendChild(l),i.appendChild(n),o.appendChild(i);const c=Ue("div",{id:`plyr-settings-${e.id}-${s}`,hidden:""}),d=Ue("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});d.appendChild(Ue("span",{"aria-hidden":!0},Nt.get(s,this.config))),d.appendChild(Ue("span",{class:this.config.classNames.hidden},Nt.get("menuBack",this.config))),ut.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),r.call(this,"home",!0))}),!1),ut.call(this,d,"click",(()=>{r.call(this,"home",!1)})),c.appendChild(d),c.appendChild(Ue("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[s]=i,this.elements.settings.panels[s]=c})),n.appendChild(a),i.appendChild(n),c.appendChild(i),this.elements.settings.popup=n,this.elements.settings.menu=i}if("pip"===l&&rt.pip&&c.appendChild(s.call(this,"pip",d)),"airplay"===l&&rt.airplay&&c.appendChild(s.call(this,"airplay",d)),"download"===l){const e=Fe({},d,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!He(t)&&this.isEmbed&&Fe(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(s.call(this,"download",e))}"fullscreen"===l&&c.appendChild(s.call(this,"fullscreen",d))})),this.isHTML5&&l.call(this,Lt.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const e=Ft.getIconUrl.call(this);e.cors&&jt(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let s=!0;Me(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),$e(this.config.controls)||Le(this.config.controls)?e=this.config.controls:(e=Ft.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Xt.getLabel.call(this)}),s=!1);let i;s&&Le(this.config.controls)&&(e=(e=>{let s=e;return Object.entries(t).forEach((([e,t])=>{s=Mt(s,`{${e}}`,t)})),s})(e)),Le(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),$e(i)||(i=this.elements.container);if(i[$e(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),$e(this.elements.controls)||Ft.findElements.call(this),!je(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:()=>tt(e,t),set(s=!1){et(e,t,s)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{_e(t)||Oe(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(ze.isEdge&&Ve(i),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,s=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,i=it.call(this,s);Array.from(i).forEach((e=>{et(e,this.config.classNames.hidden,!1),et(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){if(!this.duration||this.elements.markers)return;const e=this.config.markers?.points?.filter((({time:e})=>e>0&&e<this.duration));if(!e?.length)return;const t=document.createDocumentFragment(),s=document.createDocumentFragment();let i=null;const n=`${this.config.classNames.tooltip}--visible`,a=e=>et(i,n,e);e.forEach((e=>{const t=Ue("span",{class:this.config.classNames.marker},""),n=e.time/this.duration*100+"%";i&&(t.addEventListener("mouseenter",(()=>{e.label||(i.style.left=n,i.innerHTML=e.label,a(!0))})),t.addEventListener("mouseleave",(()=>{a(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=n,s.appendChild(t)})),t.appendChild(s),this.config.tooltips.seek||(i=Ue("span",{class:this.config.classNames.tooltip},""),t.appendChild(i)),this.elements.markers={points:s,tip:i},this.elements.progress.appendChild(t)}},Wt=Ft;function Gt(e,t=!0){let s=e;if(t){const e=document.createElement("a");e.href=s,s=e.href}try{return new URL(s)}catch(e){return null}}function Ut(e){const t=new URLSearchParams;return xe(e)&&Object.entries(e).forEach((([e,s])=>{t.set(e,s)})),t}const Yt={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!rt.textTracks)return void(_e(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this));var e,t;if($e(this.elements.captions)||(this.elements.captions=Ue("div",Je(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,$e(e)&&$e(t)&&t.parentNode.insertBefore(e,t.nextSibling)),ze.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),s=Gt(t);null!==s&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&Ht(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{Xe(e)}))}))}const s=yt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&([i]=s);let n=this.storage.get("captions");if(Pe(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:i,languages:s}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";ut.call(this,this.media.textTracks,e,Yt.update.bind(this))}setTimeout(Yt.update.bind(this),0)},update(){const e=Yt.getTracks.call(this,!0),{active:t,language:s,meta:i,currentTrackNode:n}=this.captions,a=Boolean(e.find((e=>e.language===s)));this.isHTML5&&this.isVideo&&e.filter((e=>!i.get(e))).forEach((e=>{this.debug.log("Track added",e),i.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),ut.call(this,e,"cuechange",(()=>Yt.updateCues.call(this)))})),(a&&this.language!==s||!e.includes(n))&&(Yt.setLanguage.call(this,s),Yt.toggle.call(this,t&&a)),this.elements&&et(this.elements.container,this.config.classNames.captions.enabled,!je(e)),_e(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:s}=this.captions,i=this.config.classNames.captions.active,n=ke(e)?!s:e;if(n!==s){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=Yt.getTracks.call(this),t=Yt.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void Yt.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),et(this.elements.container,i,n),this.captions.toggled=n,Wt.updateSetting.call(this,"captions"),mt.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const s=Yt.getTracks.call(this);if(-1!==e)if(Ae(e))if(e in s){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const i=s[e],{language:n}=i||{};this.captions.currentTrackNode=i,Wt.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),mt.call(this,this.media,"languagechange")}Yt.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Yt.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Yt.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!Le(e))return void this.debug.warn("Invalid language argument",e);const s=e.toLowerCase();this.captions.language=s;const i=Yt.getTracks.call(this),n=Yt.findTrack.call(this,[s]);Yt.set.call(this,i.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const s=Yt.getTracks.call(this),i=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(s).sort(((e,t)=>i(t)-i(e)));let a;return e.every((e=>(a=n.find((t=>t.language===e)),!a))),a||(t?n[0]:void 0)},getCurrentTrack(){return Yt.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!De(t)&&rt.textTracks&&this.captions.toggled&&(t=Yt.getCurrentTrack.call(this)),De(t)?je(t.label)?je(t.language)?Nt.get("enabled",this.config):e.language.toUpperCase():t.label:Nt.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!$e(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!ke(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=Yt.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map($t)}const s=t.map((e=>e.trim())).join("\n");if(s!==this.elements.captions.innerHTML){Ke(this.elements.captions);const e=Ue("span",Je(this.config.selectors.caption));e.innerHTML=s,this.elements.captions.appendChild(e),mt.call(this,this.media,"cuechange")}}},Xt=Yt,Kt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Qt={active:"picture-in-picture",inactive:"inline"},Jt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Zt={audio:"audio",video:"video"};const es=()=>{};class ts{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):es}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):es}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):es}}class ss{constructor(e){this.player=e,this.prefix=ss.prefix,this.property=ss.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:s}=Element;return(s.closest||function(){let e=this;do{if(st.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),ut.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),ut.call(this.player,this.player.elements.container,"dblclick",(e=>{$e(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),ut.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return ss.native&&!this.forceFallback}static get prefix(){if(Me(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!Me(document[`${t}ExitFullscreen`])&&!Me(document[`${t}CancelFullScreen`]))&&(e=t,!0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(ss.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!ss.native||this.forceFallback)return tt(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return ze.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}onChange=()=>{if(!this.enabled)return;const e=this.player.elements.buttons.fullscreen;$e(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;mt.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)};toggleFallback=(e=!1)=>{if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",et(this.target,this.player.config.classNames.fullscreen.fallback,e),ze.isIos){let t=document.head.querySelector('meta[name="viewport"]');const s="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const i=Le(t.content)&&t.content.includes(s);e?(this.cleanupViewport=!i,i||(t.content+=`,${s}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==s)).join(","))}this.onChange()};trapFocus=e=>{if(ze.isIos||!this.active||"Tab"!==e.key)return;const t=document.activeElement,s=it.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[i]=s,n=s[s.length-1];t!==n||e.shiftKey?t===i&&e.shiftKey&&(n.focus(),e.preventDefault()):(i.focus(),e.preventDefault())};update=()=>{if(this.enabled){let e;e=this.forceFallback?"Fallback (forced)":ss.native?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");et(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)};enter=()=>{this.enabled&&(ze.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!ss.native||this.forceFallback?this.toggleFallback(!0):this.prefix?je(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))};exit=()=>{if(this.enabled)if(ze.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),bt(this.player.play());else if(!ss.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!je(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)};toggle=()=>{this.active?this.exit():this.enter()}}const is=ss;function ns(e,t=1){return new Promise(((s,i)=>{const n=new Image,a=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?s:i)(n)};Object.assign(n,{onload:a,onerror:a,src:e})}))}const as={addStyleHook(){et(this.elements.container,this.config.selectors.container.replace(".",""),!0),et(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void as.toggleNativeControls.call(this,!0);$e(this.elements.controls)||(Wt.inject.call(this),this.listeners.controls()),as.toggleNativeControls.call(this),this.isHTML5&&Xt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Wt.updateVolume.call(this),Wt.timeUpdate.call(this),Wt.durationUpdate.call(this),as.checkPlaying.call(this),et(this.elements.container,this.config.classNames.pip.supported,rt.pip&&this.isHTML5&&this.isVideo),et(this.elements.container,this.config.classNames.airplay.supported,rt.airplay&&this.isHTML5),et(this.elements.container,this.config.classNames.isIos,ze.isIos),et(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{mt.call(this,this.media,"ready")}),0),as.setTitle.call(this),this.poster&&as.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Wt.durationUpdate.call(this),this.config.mediaMetadata&&Wt.setMediaMetadata.call(this)},setTitle(){let e=Nt.get("play",this.config);if(Le(this.config.title)&&!je(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=nt.call(this,"iframe");if(!$e(e))return;const t=je(this.config.title)?"video":this.config.title,s=Nt.get("frameTitle",this.config);e.setAttribute("title",s.replace("{title}",t))}},togglePoster(e){et(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),ft.call(this).then((()=>ns(e))).catch((t=>{throw e===this.poster&&as.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),as.togglePoster.call(this,!0),e))))},checkPlaying(e){et(this.elements.container,this.config.classNames.playing,this.playing),et(this.elements.container,this.config.classNames.paused,this.paused),et(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",Nt.get(this.playing?"pause":"play",this.config))})),Ie(e)&&"timeupdate"===e.type||as.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{et(this.elements.container,this.config.classNames.loading,this.loading),as.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const s=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||s))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!je(e)&&Le(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),je(this.media.style)&&this.media.removeAttribute("style")}},ls=as;const os=class{constructor(e){this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:s}=t,{key:i,type:n,altKey:a,ctrlKey:l,metaKey:o,shiftKey:r}=e,c="keydown"===n,d=c&&i===this.lastKey;if(a||l||o||r)return;if(!i)return;if(c){const n=document.activeElement;if($e(n)){const{editable:i}=t.config.selectors,{seek:a}=s.inputs;if(n!==a&&st(n,i))return;if("Space"===e.key&&st(n,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(u=parseInt(i,10),t.currentTime=t.duration/10*u);break;case"Space":case"k":d||bt(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":d||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":d||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var u}toggleMenu(e){Wt.toggleMenu.call(this.player,e)}firstTouch=()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,et(t.container,e.config.classNames.isTouch,!0)};setTabFocus=e=>{const{player:t}=this,{elements:s}=t,{key:i,type:n,timeStamp:a}=e;if(clearTimeout(this.focusTimer),"keydown"===n&&"Tab"!==i)return;"keydown"===n&&(this.lastKeyDown=a);const l=a-this.lastKeyDown<=20;("focus"!==n||l)&&((()=>{const e=t.config.classNames.tabFocus;et(it.call(t,`.${e}`),e,!1)})(),"focusout"!==n&&(this.focusTimer=setTimeout((()=>{const e=document.activeElement;s.container.contains(e)&&et(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))};global=(e=!0)=>{const{player:t}=this;t.config.keyboard.global&&dt.call(t,window,"keydown keyup",this.handleKey,e,!1),dt.call(t,document.body,"click",this.toggleMenu,e),pt.call(t,document.body,"touchstart",this.firstTouch),dt.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)};container=()=>{const{player:e}=this,{config:t,elements:s,timers:i}=e;!t.keyboard.global&&t.keyboard.focused&&ut.call(e,s.container,"keydown keyup",this.handleKey,!1),ut.call(e,s.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:n}=s;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(ls.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((()=>ls.toggleControls.call(e,!1)),a)}));const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=s.wrapper,{active:i}=e.fullscreen,[n,a]=Et.call(e),l=wt(`aspect-ratio: ${n} / ${a}`);if(!i)return void(l?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[o,r]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=o/r>n/a;l?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?r/a*n+"px":null,t.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(i.resized),i.resized=setTimeout(n,50)};ut.call(e,s.container,"enterfullscreen exitfullscreen",(t=>{const{target:i}=e.fullscreen;if(i!==s.container)return;if(!e.isEmbed&&je(e.config.ratio))return;n();("enterfullscreen"===t.type?ut:ht).call(e,window,"resize",a)}))};media=()=>{const{player:e}=this,{elements:t}=e;if(ut.call(e,e.media,"timeupdate seeking seeked",(t=>Wt.timeUpdate.call(e,t))),ut.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Wt.durationUpdate.call(e,t))),ut.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),ut.call(e,e.media,"progress playing seeking seeked",(t=>Wt.updateProgress.call(e,t))),ut.call(e,e.media,"volumechange",(t=>Wt.updateVolume.call(e,t))),ut.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>ls.checkPlaying.call(e,t))),ut.call(e,e.media,"waiting canplay seeked playing",(t=>ls.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const s=nt.call(e,`.${e.config.classNames.video}`);if(!$e(s))return;ut.call(e,t.container,"click",(i=>{([t.container,s].includes(i.target)||s.contains(i.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(i,e.restart,"restart"),this.proxy(i,(()=>{bt(e.play())}),"play")):this.proxy(i,(()=>{bt(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&ut.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),ut.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),ut.call(e,e.media,"ratechange",(()=>{Wt.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),ut.call(e,e.media,"qualitychange",(t=>{Wt.updateSetting.call(e,"quality",null,t.detail.quality)})),ut.call(e,e.media,"ready qualitychange",(()=>{Wt.setDownloadUrl.call(e)}));const s=e.config.events.concat(["keyup","keydown"]).join(" ");ut.call(e,e.media,s,(s=>{let{detail:i={}}=s;"error"===s.type&&(i=e.media.error),mt.call(e,t.container,s.type,!0,i)}))};proxy=(e,t,s)=>{const{player:i}=this,n=i.config.listeners[s];let a=!0;Me(n)&&(a=n.call(i,e)),!1!==a&&Me(t)&&t.call(i,e)};bind=(e,t,s,i,n=!0)=>{const{player:a}=this,l=a.config.listeners[i],o=Me(l);ut.call(a,e,t,(e=>this.proxy(e,s,i)),n&&!o)};controls=()=>{const{player:e}=this,{elements:t}=e,s=ze.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{bt(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{mt.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Wt.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{["Space","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Wt.toggleMenu.call(e,t)):Wt.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Wt.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const s=t.progress.getBoundingClientRect(),i=100/s.width*(e.pageX-s.left);e.currentTarget.setAttribute("seek-value",i)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const s=t.currentTarget,i="play-on-seeked";if(Ne(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const n=s.hasAttribute(i),a=["mouseup","touchend","keyup"].includes(t.type);n&&a?(s.removeAttribute(i),bt(e.play())):!a&&e.playing&&(s.setAttribute(i,""),e.pause())})),ze.isIos){const t=it.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,s,(e=>Ve(e.target)))))}this.bind(t.inputs.seek,s,(t=>{const s=t.currentTarget;let i=s.getAttribute("seek-value");je(i)&&(i=s.value),s.removeAttribute("seek-value"),e.currentTime=i/s.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Wt.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:s}=e;s&&s.loaded&&s.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:s}=e;s&&s.loaded&&s.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:s}=e;s&&s.loaded&&s.endScrubbing(t)})),ze.isWebkit&&Array.from(it.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Wt.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!$e(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Wt.timeUpdate.call(e))})),this.bind(t.inputs.volume,s,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(s=>{t.controls.hover=!e.touch&&"mouseenter"===s.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((s=>{this.bind(s,"mouseenter mouseleave",(s=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===s.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:s,timers:i}=e;et(t.controls,s.classNames.noTransition,!0),ls.toggleControls.call(e,!0),setTimeout((()=>{et(t.controls,s.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout((()=>ls.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const s=t.webkitDirectionInvertedFromDevice,[i,n]=[t.deltaX,-t.deltaY].map((e=>s?-e:e)),a=Math.sign(Math.abs(i)>Math.abs(n)?i:n);e.increaseVolume(a/50);const{volume:l}=e.media;(1===a&&l<1||-1===a&&l>0)&&t.preventDefault()}),"volume",!1)}};function rs(e){return new Promise(((t,s)=>{loadjs(e,{success:t,error:s})}))}function cs(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,mt.call(this,this.media,e?"play":"pause"))}const ds={setup(){const e=this;et(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,kt.call(e),xe(window.Vimeo)?ds.ready.call(e):rs(e.config.urls.vimeo.sdk).then((()=>{ds.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:s,referrerPolicy:i,...n}=t;let a=e.media.getAttribute("src"),l="";je(a)?(a=e.media.getAttribute(e.config.attributes.embed.id),l=e.media.getAttribute(e.config.attributes.embed.hash)):l=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(a);const o=l?{h:l}:{};s&&Object.assign(n,{controls:!1,sidedock:!1});const r=Ut({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...o,...n}),c=je(d=a)?null:Ae(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d;var d;const u=Ue("iframe"),h=Pt(e.config.urls.vimeo.iframe,c,r);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),je(i)||u.setAttribute("referrerPolicy",i),s||!t.customControls)u.setAttribute("data-poster",e.poster),e.media=Qe(u,e.media);else{const t=Ue("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(u),e.media=Qe(t,e.media)}t.customControls||Ht(Pt(e.config.urls.vimeo.api,h)).then((t=>{!je(t)&&t.thumbnail_url&&ls.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(u,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(cs.call(e,!0),e.embed.play()),e.media.pause=()=>(cs.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:p}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>p,set(t){const{embed:s,media:i,paused:n,volume:a}=e,l=n&&!s.hasPlayed;i.seeking=!0,mt.call(e,i,"seeking"),Promise.resolve(l&&s.setVolume(0)).then((()=>s.setCurrentTime(t))).then((()=>l&&s.pause())).then((()=>l&&s.setVolume(a))).catch((()=>{}))}});let m=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>m,set(t){e.embed.setPlaybackRate(t).then((()=>{m=t,mt.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:g}=e.config;Object.defineProperty(e.media,"volume",{get:()=>g,set(t){e.embed.setVolume(t).then((()=>{g=t,mt.call(e,e.media,"volumechange")}))}});let{muted:f}=e.config;Object.defineProperty(e.media,"muted",{get:()=>f,set(t){const s=!!Pe(t)&&t;e.embed.setVolume(s?0:e.config.volume).then((()=>{f=s,mt.call(e,e.media,"volumechange")}))}});let b,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(t){const s=Pe(t)?t:e.config.loop.active;e.embed.setLoop(s).then((()=>{y=s}))}}),e.embed.getVideoUrl().then((t=>{b=t,Wt.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>b}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[s,i]=t;e.embed.ratio=xt(s,i),kt.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,ls.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{p=t,mt.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,mt.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,Xt.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const s=t.map((e=>function(e){const t=document.createDocumentFragment(),s=document.createElement("div");return t.appendChild(s),s.innerHTML=e,t.firstChild.innerText}(e.text)));Xt.updateCues.call(e,s)})),e.embed.on("loaded",(()=>{if(e.embed.getPaused().then((t=>{cs.call(e,!t),t||mt.call(e,e.media,"playing")})),$e(e.embed.element)&&e.supported.ui){e.embed.element.setAttribute("tabindex",-1)}})),e.embed.on("bufferstart",(()=>{mt.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{mt.call(e,e.media,"playing")})),e.embed.on("play",(()=>{cs.call(e,!0),mt.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{cs.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,p=t.seconds,mt.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,mt.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&mt.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,mt.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,mt.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,mt.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,mt.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>ls.build.call(e)),0)}},us=ds;function hs(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,mt.call(this,this.media,e?"play":"pause"))}function ps(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const ms={setup(){if(et(this.elements.wrapper,this.config.classNames.embed,!0),xe(window.YT)&&Me(window.YT.Player))ms.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Me(e)&&e(),ms.ready.call(this)},rs(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){Ht(Pt(this.config.urls.youtube.api,e)).then((e=>{if(xe(e)){const{title:t,height:s,width:i}=e;this.config.title=t,ls.setTitle.call(this),this.embed.ratio=xt(i,s)}kt.call(this)})).catch((()=>{kt.call(this)}))},ready(){const e=this,t=e.config.youtube,s=e.media&&e.media.getAttribute("id");if(!je(s)&&s.startsWith("youtube-"))return;let i=e.media.getAttribute("src");je(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));const n=je(a=i)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a;var a;const l=Ue("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=Qe(l,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;ns(t("maxres"),121).catch((()=>ns(t("sd"),121))).catch((()=>ns(t("hq")))).then((t=>ls.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:n,host:ps(t),playerVars:Fe({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const s=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[s]||"An unknown error occured";e.media.error={code:s,message:i},mt.call(e,e.media,"error")}},onPlaybackRateChange(t){const s=t.target;e.media.playbackRate=s.getPlaybackRate(),mt.call(e,e.media,"ratechange")},onReady(s){if(Me(e.media.play))return;const i=s.target;ms.getTitle.call(e,n),e.media.play=()=>{hs.call(e,!0),i.playVideo()},e.media.pause=()=>{hs.call(e,!1),i.pauseVideo()},e.media.stop=()=>{i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(i.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,mt.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>i.getPlaybackRate(),set(e){i.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,i.setVolume(100*a),mt.call(e,e.media,"volumechange")}});let{muted:l}=e.config;Object.defineProperty(e.media,"muted",{get:()=>l,set(t){const s=Pe(t)?t:l;l=s,i[s?"mute":"unMute"](),i.setVolume(100*a),mt.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>i.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const o=i.getAvailablePlaybackRates();e.options.speed=o.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),mt.call(e,e.media,"timeupdate"),mt.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&mt.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),mt.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>ls.build.call(e)),50)},onStateChange(s){const i=s.target;clearInterval(e.timers.playing);switch(e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,mt.call(e,e.media,"seeked")),s.data){case-1:mt.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),mt.call(e,e.media,"progress");break;case 0:hs.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):mt.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(hs.call(e,!0),mt.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{mt.call(e,e.media,"timeupdate")}),50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),mt.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),hs.call(e,!1);break;case 3:mt.call(e,e.media,"waiting")}mt.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},gs=ms,fs={setup(){this.media?(et(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),et(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&et(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Ue("div",{class:this.config.classNames.video}),We(this.media,this.elements.wrapper),this.elements.poster=Ue("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Lt.setup.call(this):this.isYouTube?gs.setup.call(this):this.isVimeo&&us.setup.call(this)):this.debug.warn("No media element found!")}};const bs=class{constructor(e){this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!je(e.publisherId)||He(e.tagUrl))}load=()=>{this.enabled&&(xe(window.google)&&xe(window.google.ima)?this.ready():rs(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))};ready=()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()};get tagUrl(){const{config:e}=this;if(He(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${Ut({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}setupIMA=()=>{this.elements.container=Ue("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()};requestAds=()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}};pollCountdown=(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Vt(Math.max(this.manager.getRemainingTime(),0)),t=`${Nt.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)};onAdsManagerLoaded=e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")};addCuePoints=()=>{je(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if($e(t)){const s=100/this.player.duration*e,i=Ue("span",{class:this.player.config.classNames.cues});i.style.left=`${s.toString()}%`,t.appendChild(i)}}}))};onAdEvent=e=>{const{container:t}=this.player.elements,s=e.getAd(),i=e.getAdData();switch((e=>{mt.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),s.isLinear()||(s.width=t.offsetWidth,s.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&this.player.debug.warn(`Non-fatal ad error: ${i.adError.getMessage()}`)}};onAdError=e=>{this.cancel(),this.player.debug.warn("Ads error",e)};listeners=()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;je(this.cuePoints)||this.cuePoints.forEach(((s,i)=>{t<s&&s<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(i,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))};play=()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))};resumeContent=()=>{this.elements.container.style.zIndex="",this.playing=!1,bt(this.player.media.play())};pauseContent=()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()};cancel=()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()};loadAds=()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))};trigger=(e,...t)=>{const s=this.events[e];_e(s)&&s.forEach((e=>{Me(e)&&e.apply(this,t)}))};on=(e,t)=>(_e(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this);startSafetyTimer=(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)};clearSafetyTimer=e=>{ke(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}};function ys(e=0,t=0,s=255){return Math.min(Math.max(e,t),s)}const vs=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const s={};e.split(/\r\n|\n|\r/).forEach((e=>{if(Ae(s.startTime)){if(!je(e.trim())&&je(s.text)){const t=e.trim().split("#xywh=");[s.text]=t,t[1]&&([s.x,s.y,s.w,s.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(s.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),s.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),s.text&&t.push(s)})),t},ws=(e,t)=>{const s={};return e>t.width/t.height?(s.width=t.width,s.height=1/e*t.width):(s.height=t.height,s.width=e*t.height),s};const Ts=class{constructor(e){this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}load=()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)}))};getThumbnails=()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(je(t))throw new Error("Missing previewThumbnails.src config attribute");const s=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(Me(t))t((e=>{this.thumbnails=e,s()}));else{const e=(Le(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(s)}}));getThumbnail=e=>new Promise((t=>{Ht(e).then((s=>{const i={frames:vs(s),height:null,urlPrefix:""};i.frames[0].text.startsWith("/")||i.frames[0].text.startsWith("http://")||i.frames[0].text.startsWith("https://")||(i.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{i.height=n.naturalHeight,i.width=n.naturalWidth,this.thumbnails.push(i),t()},n.src=i.urlPrefix+i.frames[0].text}))}));startMove=e=>{if(this.loaded&&Ie(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{const t=this.player.elements.progress.getBoundingClientRect(),s=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Vt(this.seekTime);const i=this.player.config.markers?.points?.find((({time:e})=>e===Math.round(this.seekTime)));i&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${i.label}<br>`)}this.showImageAtCurrentTime()}};endMove=()=>{this.toggleThumbContainer(!1,!0)};startScrubbing=e=>{(ke(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))};endScrubbing=()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):pt.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))};listeners=()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))};render=()=>{this.elements.thumb.container=Ue("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Ue("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=Ue("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Ue("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),$e(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Ue("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)};destroy=()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()};showImageAtCurrentTime=()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let s=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,i)=>{this.loadedImages.includes(t.frames[e].text)&&(s=i)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(s)))};loadImage=(e=0)=>{const t=this.showingThumb,s=this.thumbnails[e],{urlPrefix:i}=s,n=s.frames[t],a=s.frames[t].text,l=i+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,n,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const s=new Image;s.src=l,s.dataset.index=t,s.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),s.onload=()=>this.showImage(s,n,e,t,a,!0),this.loadingImage=s,this.removeOldImages(s)}};showImage=(e,t,s,i,n,a=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${i}. qual: ${s}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(s,e,t,n))};removeOldImages=e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const s=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),s)}}))};preloadNearby=(e,t=!0)=>new Promise((s=>{setTimeout((()=>{const i=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===i){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;n.forEach((e=>{const t=e.text;if(t!==i&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],i=e+t,n=new Image;n.src=i,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),s()}}})),a||s()}}),300)}));getHigherQuality=(e,t,s,i)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=s.h),n<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===i&&(this.player.debug.log(`Showing higher quality thumb for: ${i}`),this.loadImage(e+1))}),300)}};get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=ws(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}toggleThumbContainer=(e=!1,t=!1)=>{const s=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(s,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)};toggleScrubbingContainer=(e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)};determineContainerAutoSizing=()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)};setThumbContainerSizeAndPos=()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()};setThumbContainerPos=()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:s}=this.elements.thumb,i=t.left-e.left+10,n=t.right-e.left-s.clientWidth-10,a=this.mousePosX-e.left-s.clientWidth/2,l=ys(a,i,n);s.style.left=`${l}px`,s.style.setProperty("--preview-arrow-offset",a-l+"px")};setScrubbingContainerSize=()=>{const{width:e,height:t}=ws(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`};setImageSizeAndOffset=(e,t)=>{if(!this.usingSprites)return;const s=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*s+"px",e.style.width=e.naturalWidth*s+"px",e.style.left=`-${t.x*s}px`,e.style.top=`-${t.y*s}px`}},Ss={insertElements(e,t){Le(t)?Ye(e,this.media,{src:t}):_e(t)&&t.forEach((t=>{Ye(e,this.media,t)}))},change(e){Re(e,"sources.length")?(Lt.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],Xe(this.media),this.media=null,$e(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:s}=e,[{provider:i=Jt.html5,src:n}]=t,a="html5"===i?s:"div",l="html5"===i?{}:{src:n};Object.assign(this,{provider:i,type:s,supported:rt.check(s,i,this.config.playsinline),media:Ue(a,l)}),this.elements.container.appendChild(this.media),Pe(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),je(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ls.addStyleHook.call(this),this.isHTML5&&Ss.insertElements.call(this,"source",t),this.config.title=e.title,fs.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&Ss.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ls.build.call(this),this.isHTML5&&this.media.load(),je(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ts(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Cs=Ss;class Es{constructor(e,t){if(this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=rt.touch,this.media=e,Le(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Oe(this.media)||_e(this.media))&&(this.media=this.media[0]),this.config=Fe({},Kt,Es.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ts(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",rt),ke(this.media)||!$e(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!rt.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const i=this.media.tagName.toLowerCase();let n=null,a=null;switch(i){case"div":if(n=this.media.querySelector("iframe"),$e(n)){if(a=Gt(n.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Jt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Jt.vimeo:null}(a.toString()),this.elements.container=this.media,this.media=n,this.elements.container.className="",a.search.length){const e=["1","true"];e.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(je(this.provider)||!Object.values(Jt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Zt.video;break;case"video":case"audio":this.type=i,this.provider=Jt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=rt.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new os(this),this.storage=new qt(this),this.media.plyr=this,$e(this.elements.container)||(this.elements.container=Ue("div",{tabindex:0}),We(this.media,this.elements.container)),ls.migrateStyles.call(this),ls.addStyleHook.call(this),fs.setup.call(this),this.config.debug&&ut.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new is(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ls.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new bs(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>bt(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ts(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Jt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Jt.youtube}get isVimeo(){return this.provider===Jt.vimeo}get isVideo(){return this.type===Zt.video}get isAudio(){return this.type===Zt.audio}play=()=>Me(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>bt(this.media.play()))),this.media.play()):null;pause=()=>this.playing&&Me(this.media.pause)?this.media.pause():null;get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}togglePlay=e=>(Pe(e)?e:!this.playing)?this.play():this.pause();stop=()=>{this.isHTML5?(this.pause(),this.restart()):Me(this.media.stop)&&this.media.stop()};restart=()=>{this.currentTime=0};rewind=e=>{this.currentTime-=Ae(e)?e:this.config.seekTime};forward=e=>{this.currentTime+=Ae(e)?e:this.config.seekTime};set currentTime(e){if(!this.duration)return;const t=Ae(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return Ae(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,s=Ae(t)&&t!==1/0?t:0;return e||s}set volume(e){let t=e;Le(t)&&(t=Number(t)),Ae(t)||(t=this.storage.get("volume")),Ae(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!je(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}increaseVolume=e=>{const t=this.media.muted?0:this.volume;this.volume=t+(Ae(e)?e:0)};decreaseVolume=e=>{this.increaseVolume(-e)};set muted(e){let t=e;Pe(t)||(t=this.storage.get("muted")),Pe(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;Ae(e)&&(t=e),Ae(t)||(t=this.storage.get("speed")),Ae(t)||(t=this.config.speed.selected);const{minimumSpeed:s,maximumSpeed:i}=this;t=ys(t,s,i),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,s=this.options.quality;if(!s.length)return;let i=[!je(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(Ae),n=!0;if(!s.includes(i)){const e=vt(s,i);this.debug.warn(`Unsupported quality option: ${i}, using ${e} instead`),i=e,n=!1}t.selected=i,this.media.quality=i,n&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(e){const t=Pe(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){Cs.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return He(e)?e:this.source}set download(e){He(e)&&(this.config.urls.download=e,Wt.setDownloadUrl.call(this))}set poster(e){this.isVideo?ls.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=Ct(Et.call(this));return _e(e)?e.join(":"):e}set ratio(e){this.isVideo?Le(e)&&St(e)?(this.config.ratio=Ct(e),kt.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=Pe(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){Xt.toggle.call(this,e,!1)}set currentTrack(e){Xt.set.call(this,e,!1),Xt.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){Xt.setLanguage.call(this,e,!1)}get language(){return(Xt.getCurrentTrack.call(this)||{}).language}set pip(e){if(!rt.pip)return;const t=Pe(e)?e:!this.pip;Me(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Qt.active:Qt.inactive),Me(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return rt.pip?je(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Qt.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ts(this))}airplay=()=>{rt.airplay&&this.media.webkitShowPlaybackTargetPicker()};toggleControls=e=>{if(this.supported.ui&&!this.isAudio){const t=tt(this.elements.container,this.config.classNames.hideControls),s=void 0===e?void 0:!e,i=et(this.elements.container,this.config.classNames.hideControls,s);if(i&&_e(this.config.controls)&&this.config.controls.includes("settings")&&!je(this.config.settings)&&Wt.toggleMenu.call(this,!1),i!==t){const e=i?"controlshidden":"controlsshown";mt.call(this,this.media,e)}return!i}return!1};on=(e,t)=>{ut.call(this,this.elements.container,e,t)};once=(e,t)=>{pt.call(this,this.elements.container,e,t)};off=(e,t)=>{ht(this.elements.container,e,t)};destroy=(e,t=!1)=>{if(!this.ready)return;const s=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(Xe(this.elements.buttons.play),Xe(this.elements.captions),Xe(this.elements.controls),Xe(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Me(e)&&e()):(gt.call(this),Lt.cancelRequests.call(this),Qe(this.elements.original,this.elements.container),mt.call(this,this.elements.original,"destroyed",!0),Me(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ls.toggleNativeControls.call(this,!0),s()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&Me(this.embed.destroy)&&this.embed.destroy(),s()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(s),setTimeout(s,200))};supports=e=>rt.mime.call(this,e);static supported(e,t,s){return rt.check(e,t,s)}static loadSprite(e,t){return jt(e,t)}static setup(e,t={}){let s=null;return Le(e)?s=Array.from(document.querySelectorAll(e)):Oe(e)?s=Array.from(e):_e(e)&&(s=e.filter($e)),je(s)?null:s.map((e=>new Es(e,t)))}}var ks;Es.defaults=(ks=Kt,JSON.parse(JSON.stringify(ks)));const xs=new Es("#player",{iconUrl:"../../img/icons/icons.svg",iconPrefix:"svg-plyr",controls:'<button type="button" class="plyr__control plyr__control--overlaid" data-plyr="play"\naria-label="Play"><svg aria-hidden="true" focusable="false">\n   <use xlink:href="../../img/icons/icons.svg#svg-plyr-play-new"></use>\n</svg><span class="plyr__sr-only">Play</span></button>'});var As=document.getElementsByClassName("main__image");new simpleParallax(As,{scale:1.3,orientation:"up",overflow:!0}),document.addEventListener("click",(function(e){const s=e.target;if(s.closest(".item-advantages")){const e=s.closest(".item-advantages");t.any()&&e.classList.toggle("_show")}if(s.classList.contains("item-functions__text")||s.closest(".item-functions__text")){const e=s.closest(".item-functions__wrap");e.classList.contains("_hide")&&e.classList.toggle("_show")}if(s.closest("._success")){const e=s.closest("._success");e.classList.contains("_success")&&e.classList.remove("_success")}s.closest(".plyr")||xs.pause()})),document.addEventListener("mouseover",(function(e){const t=e.target;if(t.classList.contains("menu__link")){t.closest(".menu__list").classList.add("_hover");let e=t.closest(".menu__list").querySelector(".menu__hover"),i=t.offsetWidth;var s=t.offsetLeft;e.style.width=i+"px",e.style.left=s+"px"}if(t.closest(".item-functions")){const e=t.closest(".item-functions"),s=e.querySelector(".item-functions__text");let i=e.querySelector(".item-functions__text p").offsetHeight;if(i>112){let e=155+i;s.style.height=e+"px"}}})),document.addEventListener("mouseout",(function(e){const t=e.target;t.classList.contains("menu__link")&&t.closest("._hover")&&t.closest("._hover").classList.remove("_hover");if(t.closest(".item-functions")){const e=t.closest(".item-functions"),s=e.querySelector(".item-functions__text"),i=e.querySelector(".item-functions__text p");s.offsetHeight,i.offsetHeight;s.style.height="190px"}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){a&&e.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?l(e):o(e)})(),document.documentElement.classList.toggle("menu-open"))})),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const t=Array.from(e).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));t.length&&a(t);let i=d(e,"spollers");function a(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),l(e),e.addEventListener("click",o)):(e.classList.remove("_spoller-init"),l(e,!1),e.removeEventListener("click",o))}))}function l(e,t=!0){let s=e.querySelectorAll("[data-spoller]");s.length&&(s=Array.from(s).filter((t=>t.closest("[data-spollers]")===e)),s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})))}function o(e){const t=e.target;if(t.closest("[data-spoller]")){const s=t.closest("[data-spoller]"),i=s.closest("[data-spollers]"),a=i.hasAttribute("data-one-spoller"),l=i.dataset.spollersSpeed?parseInt(i.dataset.spollersSpeed):500;i.querySelectorAll("._slide").length||(a&&!s.classList.contains("_spoller-active")&&r(i),s.classList.toggle("_spoller-active"),n(s.nextElementSibling,l)),e.preventDefault()}}function r(e){const t=e.querySelector("[data-spoller]._spoller-active"),i=e.dataset.spollersSpeed?parseInt(e.dataset.spollersSpeed):500;t&&!e.querySelectorAll("._slide").length&&(t.classList.remove("_spoller-active"),s(t.nextElementSibling,i))}i&&i.length&&i.forEach((e=>{e.matchMedia.addEventListener("change",(function(){a(e.itemsArray,e.matchMedia)})),a(e.itemsArray,e.matchMedia)}));const c=document.querySelectorAll("[data-spoller-close]");c.length&&document.addEventListener("click",(function(e){e.target.closest("[data-spollers]")||c.forEach((e=>{const t=e.closest("[data-spollers]"),i=t.dataset.spollersSpeed?parseInt(t.dataset.spollersSpeed):500;e.classList.remove("_spoller-active"),s(e.nextElementSibling,i)}))}))}}(),function(e={viewPass:!1}){const t=document.querySelectorAll("input[placeholder],textarea[placeholder]");t.length&&t.forEach((e=>{e.hasAttribute("data-placeholder-nohide")||(e.dataset.placeholder=e.placeholder)})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.hasAttribute("data-no-focus-classes")||(t.classList.add("_form-focus"),t.parentElement.classList.add("_form-focus")),m.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.hasAttribute("data-no-focus-classes")||(t.classList.remove("_form-focus"),t.parentElement.classList.remove("_form-focus")),t.hasAttribute("data-validate")&&m.validateInput(t))})),e.viewPass&&document.addEventListener("click",(function(e){let t=e.target;if(t.closest('[class*="__viewpass"]')){let e=t.classList.contains("_viewpass-active")?"password":"text";t.parentElement.querySelector("input").setAttribute("type",e),t.classList.toggle("_viewpass-active")}}))}({viewPass:!1}),function(t={validate:!0}){const s=document.forms;if(s.length)for(const e of s)e.addEventListener("submit",(function(e){i(e.target,e)})),e.addEventListener("reset",(function(e){const t=e.target;m.formClean(t)}));async function i(e,t){if(0===(e.hasAttribute("data-no-validate")?0:m.getErrors(e))){if(e.hasAttribute("data-ajax")){t.preventDefault();const s=e.getAttribute("action")?e.getAttribute("action").trim():"#",i=e.getAttribute("method")?e.getAttribute("method").trim():"GET",a=new FormData(e);e.classList.add("_sending");const l=await fetch(s,{method:i,body:a});if(l.ok){let t=await l.json();e.classList.remove("_sending"),n(e,t)}else alert("Ошибка"),e.classList.remove("_sending")}else e.hasAttribute("data-dev")&&(t.preventDefault(),n(e))}else{t.preventDefault();const s=e.querySelector("._form-error");s&&e.hasAttribute("data-goto-error")&&p(s,!0,1e3)}}function n(t,s=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:t}})),t.classList.add("_success"),setTimeout((()=>{t.classList.remove("_success")}),2e3),setTimeout((()=>{if(e.popup){const s=t.dataset.popupMessage;s&&e.popup.open(s)}}),0),m.formClean(t),r(`[Формы]: ${"Форма отправлена!"}`)}}(),function(){ge=!0;const e=document.querySelector("header.header"),t=e.hasAttribute("data-scroll-show"),s=e.dataset.scrollShow?e.dataset.scrollShow:500,i=e.dataset.scroll?e.dataset.scroll:1;let n,a=0;document.addEventListener("windowScroll",(function(l){const o=window.scrollY;clearTimeout(n),o>=i?(!e.classList.contains("_header-scroll")&&e.classList.add("_header-scroll"),t&&(o>a?e.classList.contains("_header-show")&&e.classList.remove("_header-show"):!e.classList.contains("_header-show")&&e.classList.add("_header-show"),n=setTimeout((()=>{!e.classList.contains("_header-show")&&e.classList.add("_header-show")}),s))):(e.classList.contains("_header-scroll")&&e.classList.remove("_header-scroll"),t&&e.classList.contains("_header-show")&&e.classList.remove("_header-show")),a=o<=0?0:o}))}()})();